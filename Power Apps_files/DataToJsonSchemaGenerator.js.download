"use strict";
/*!
 * Copyright (C) Microsoft Corporation. All rights reserved.
 */var DataToJsonSchemaGenerator;!function(e){function r(n){if(null===n)return{type:e.TypeNames.null};var t={};if(void 0===n)return t;switch(typeof n){case e.TypeNames.number:return{type:e.TypeNames.number,format:"double"};case e.TypeNames.boolean:return{type:e.TypeNames.boolean};case e.TypeNames.string:return{type:e.TypeNames.string};case e.TypeNames.object:return function(n){if(n instanceof Array)return{type:e.TypeNames.array,items:r(n[0])};return function(n){if(Core.Utility.isNullOrUndefined(n))return{type:e.TypeNames.null};var t={type:e.TypeNames.object,properties:{}};return Object.keys(n).forEach((function(e){var a=r(n[e]);t.properties[e]=a})),t}(n)}(n);default:return t}}function n(r){return r instanceof Array?e.TypeNames.array:null===r?e.TypeNames.null:typeof r}function t(r,a,o){var i=n(r),u=n(a);if(u===e.TypeNames.array&&(i===e.TypeNames.array||Core.Utility.isNullOrUndefined(r)))return function(e,r,n){var a=[];r.forEach((function(e){var r=a[0];a=[t(r,e,n)]}));var o=null==e?void 0:e[0],i=a[0];return[t(o,i,n)]}(r,a,o);if(u===e.TypeNames.object&&(i==e.TypeNames.object||Core.Utility.isNullOrUndefined(r)))return function(e,r,n){var a=__assign({},e);for(var o in r){var i=n.length>0?n+"."+o:o;a[o]=t(null==e?void 0:e[o],r[o],i)}return a}(r,a,o);if(Core.Utility.isNullOrUndefined(r))return a;if(Core.Utility.isNullOrUndefined(a))return r;if(n(r)!==u)throw new Error(Core.Utility.formatString(AppMagic.Strings.DynamicSchemaParsingTypeConflictError,o));return r}e.generateSchemaFromJson=function(e){return r(t(void 0,e,""))}}(DataToJsonSchemaGenerator||(DataToJsonSchemaGenerator={})),function(e){e.TypeNames={object:"object",number:"number",string:"string",array:"array",boolean:"boolean",null:"null"}}(DataToJsonSchemaGenerator||(DataToJsonSchemaGenerator={}));
//# sourceMappingURL=DataToJsonSchemaGenerator.js.map