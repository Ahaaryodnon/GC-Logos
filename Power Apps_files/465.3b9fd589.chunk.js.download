/*! For license information please see 465.3b9fd589.chunk.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[465],{20582:function(e,t,n){"use strict";n.d(t,"a",(function(){return P}));var r=n(20583),a=n(20585),i=n(20619),o=n(20623),c=n(20853),s=n(20733),u=n(20854),l=n(20865),d=n(20871),f=n(20781),p=n(20859),h=n(20862),v=n(20738),m=n(20626),y=n(20864),g=n(20877),b=n(20878),O=n(20879),E=n(20885),_=n(20890),S=n(20891),C=n(20584),w=n(20894),T=n(20889);function j(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function N(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){j(i,r,a,o,c,"next",e)}function c(e){j(i,r,a,o,c,"throw",e)}o(void 0)}))}}class P{static getInstance(e,t){var n=P.getEnvironmentUri(e),r=P._instances[n];return r||(r=new P(e,t),P._instances[n]=r),r}constructor(e,t){this._store=void 0,this._traceManager=void 0,this._EventManager=void 0,this._configuration=void 0,this._userContext=null;var n=P.getEnvironmentUri(e);this._traceManager=new S.a,this._EventManager=new E.a;var r=new O.a(t),a=new g.a,i=new w.a,o=new b.a;this._configuration={baseUri:n,MetadataProvider:r,AuthenticationProvider:a,GarbageCollectionProvider:o,StateProvider:i,useConsistencyStrong:!0,addStateCodeToGridData:!1};var c={DataLayerConfiguration:this._configuration,TraceManager:this._traceManager,EventManager:this._EventManager};this._store=i.initialize(c),r.initialize(this._store,c),a.initialize(c),o.initialize(this._store),y.b.tracer=this._traceManager.getTracer(y.a)}getModernQueryBuilder(e,t){this.setCurrentContext(t);var n="<fetch mapping='logical'>"+"<entity name='".concat(e,"'>")+"</entity></fetch>";return p.a.fromXml(n)}retrieveUserContext(e,t){var n=this;return N((function*(){var a,i,o=[];o.push({name:_.o,value:_.v}),o.push({name:_.p,value:e}),o.push({name:_.a,value:(null==t?void 0:t.contextId)||r.G});var c=null===(a=(i=n._EventManager).getScenarioTracker)||void 0===a?void 0:a.call(i,C.p.Load,_.k,o);try{if(n.setCurrentContext(t),e||!n._userContext){var s=yield n._store.dispatch(Object(l.a)(e));n._userContext=s,o.push({name:_.e,value:!1})}else o.push({name:_.e,value:!0});return null==c||c.complete(o),n._userContext}catch(u){throw n.reportError(u,c,o),u}}))()}retrieveGridData(e,t){var n=this;return N((function*(){var a,i,o=[];o.push({name:_.o,value:_.r}),o.push({name:_.d,value:(null==e?void 0:e.entityLogicalName)||r.G}),o.push({name:_.a,value:(null==t?void 0:t.contextId)||r.G});var c=null===(a=(i=n._EventManager).getScenarioTracker)||void 0===a?void 0:a.call(i,C.p.Load,_.h,o);try{if(e&&e.fetchXml&&e.entityLogicalName){n.setCurrentContext(t);var s=yield n._store.dispatch(Object(u.b)(e,!1));return null==c||c.complete(o),s}throw new v.a("Query is null or missing sufficient data to execute")}catch(l){throw n.reportError(l,c,o),l}}))()}retrieveRecordData(e,t,n){var i=this;return N((function*(){var o,c,s=[];s.push({name:_.o,value:_.u}),s.push({name:_.d,value:(null==e?void 0:e.etn)||r.G}),s.push({name:_.a,value:(null==n?void 0:n.contextId)||r.G});var u=null===(o=(c=i._EventManager).getScenarioTracker)||void 0===o?void 0:o.call(c,C.p.Load,_.j,s);try{if(i.setCurrentContext(n),!e||!e.etn||a.a.isNullOrEmpty(e.id))throw new v.a("Invalid identifier");if(!t||0===t.length)throw new v.a("Invalid column set");var l=yield i._store.dispatch(Object(m.f)(e,t)),d=Object(h.a)(l);return null==u||u.complete(s),d}catch(f){throw i.reportError(f,u,s),f}}))()}retrieveMultipleRecords(e,t,n){var a=this;return N((function*(){var i,o,c=[];c.push({name:_.o,value:_.s}),c.push({name:_.t,value:e.length||r.G}),c.push({name:_.a,value:(null==n?void 0:n.contextId)||r.G});var s=null===(i=(o=a._EventManager).getScenarioTracker)||void 0===i?void 0:i.call(o,C.p.Load,_.i,c);try{if(a.setCurrentContext(n),!e||0===e.length)throw new v.a("Invalid identifiers");if(!t||0===t.length)throw new v.a("Invalid column set");var u=yield a._store.dispatch(Object(m.h)(e,t)),l=[];return u.forEach(e=>{var t=Object(h.a)(e);l.push(t)}),null==s||s.complete(c),l}catch(d){throw a.reportError(d,s,c),d}}))()}retrieveEntity(e,t){var n=this;return N((function*(){var a,i,o=[];o.push({name:_.o,value:_.q}),o.push({name:_.d,value:e}),o.push({name:_.a,value:(null==t?void 0:t.contextId)||r.G});var c=null===(a=(i=n._EventManager).getScenarioTracker)||void 0===a?void 0:a.call(i,C.p.Load,_.g,o);try{n.setCurrentContext(t);var u=yield n._store.dispatch(Object(s.c)(e,!0,[]));return null==c||c.complete(o),u}catch(l){throw n.reportError(l,c,o),l}}))()}saveDataSnapshot(e,t,n){var a=this;return N((function*(){var i,o,c,s=[];s.push({name:_.o,value:_.w}),s.push({name:_.y,value:t}),s.push({name:_.d,value:null==e||null===(i=e.identifier)||void 0===i?void 0:i.etn}),s.push({name:_.a,value:(null==n?void 0:n.contextId)||r.G});var u=null===(o=(c=a._EventManager).getScenarioTracker)||void 0===o?void 0:o.call(c,C.p.Load,_.l,s);try{a.setCurrentContext(n);var l=yield a._store.dispatch(Object(d.b)(e,t));return null==u||u.complete(s),l.id}catch(f){throw a.reportError(f,u,s),f}}))()}saveMultipleDataSnapshots(e,t,n){var a=this;return N((function*(){var i,o,c=[];c.push({name:_.o,value:_.x}),c.push({name:_.n,value:e.length}),c.push({name:_.a,value:(null==n?void 0:n.contextId)||r.G});var s=null===(i=(o=a._EventManager).getScenarioTracker)||void 0===i?void 0:i.call(o,C.p.Load,_.m,c);try{if(a.setCurrentContext(n),!e||0===e.length)throw new v.a("Invalid snapshots");var u=yield a._store.dispatch(Object(d.c)(e,t)),l=[];return u.forEach(e=>{l.push(e.id)}),null==s||s.complete(c),l}catch(f){throw a.reportError(f,s,c),f}}))()}deleteRecords(e,t){var n=this;return N((function*(){var a,i,o=[];o.push({name:_.o,value:_.b}),o.push({name:_.c,value:e?e.length:0}),o.push({name:_.a,value:(null==t?void 0:t.contextId)||r.G});var s=n._traceManager.getTracer("ModelDataProvider"),u=null===(a=(i=n._EventManager).getScenarioTracker)||void 0===a?void 0:a.call(i,C.p.Load,_.f,o);try{if(!e||!e.length)throw new v.a("EntityReferences is null or empty");if(n.setCurrentContext(t),1===e.length)yield n._store.dispatch(Object(c.a)(e[0]));else if(e.length<=5)yield n.executeMultipleDeleteRequestUtil(e);else for(var l=0;l<e.length;){var d=l+5<e.length?l+5:e.length,f=e.slice(l,d);yield n.executeMultipleDeleteRequestUtil(f),o.push({name:"RecordRange",value:l+"->"+d}),s.debug("Completed batch delete successfully for the range "+l+"->"+d,o),l=d}null==u||u.complete(o)}catch(p){throw n.reportError(p,u,o),p}}))()}executeMultipleDeleteRequestUtil(e){var t=this;return N((function*(){var n=e.map(e=>new f.b(i.a.toExternalEntityReference(e))),r=new f.d([n]);yield t._store.dispatch(Object(o.b)(r))}))()}cleanUp(e){var t=this;return N((function*(){e.contextId&&t._configuration.GarbageCollectionProvider.runGarbageCollection(e.contextId)}))()}setCurrentContext(e){null!=e&&e.contextId&&this._configuration.GarbageCollectionProvider.setCurrentPage(e.contextId)}reportError(e,t,n){var r=this._traceManager.getTracer("ModelDataProvider");e&&Object(v.g)(e)||(r.error("Error thrown that is not of type ErrorStatus",n),e=Object(v.c)(e)),null==n||n.push({name:C.b,value:e.errorCode}),null==n||n.push({name:C.k,value:e.message}),null==n||n.push({name:C.m,value:e.stack}),Object(T.b)(e.errorCode,e.message)?null==t||t.failure(n):(null==t||t.complete(n),r.error("Scenario failed with known error",n))}static getEnvironmentUri(e){if(!e.properties.linkedEnvironmentMetadata.instanceUrl)throw Error("Unable to get base URI of CDS org");return e.properties.linkedEnvironmentMetadata.instanceUrl}}P._instances={}},20583:function(e,t,n){"use strict";n.d(t,"y",(function(){return a})),n.d(t,"B",(function(){return i})),n.d(t,"A",(function(){return o})),n.d(t,"z",(function(){return c})),n.d(t,"t",(function(){return s})),n.d(t,"D",(function(){return u})),n.d(t,"n",(function(){return l})),n.d(t,"o",(function(){return d})),n.d(t,"u",(function(){return f})),n.d(t,"v",(function(){return p})),n.d(t,"F",(function(){return h})),n.d(t,"a",(function(){return v})),n.d(t,"s",(function(){return m})),n.d(t,"q",(function(){return y})),n.d(t,"r",(function(){return g})),n.d(t,"i",(function(){return b})),n.d(t,"H",(function(){return O})),n.d(t,"E",(function(){return E})),n.d(t,"c",(function(){return _})),n.d(t,"G",(function(){return S})),n.d(t,"b",(function(){return C})),n.d(t,"f",(function(){return w})),n.d(t,"h",(function(){return T})),n.d(t,"C",(function(){return j})),n.d(t,"g",(function(){return N})),n.d(t,"k",(function(){return P})),n.d(t,"d",(function(){return I})),n.d(t,"e",(function(){return R})),n.d(t,"w",(function(){return M})),n.d(t,"x",(function(){return x})),n.d(t,"m",(function(){return D})),n.d(t,"l",(function(){return A})),n.d(t,"p",(function(){return k})),n.d(t,"j",(function(){return F})),n.d(t,"I",(function(){return L})),n.d(t,"K",(function(){return q})),n.d(t,"J",(function(){return U}));var r=n(20584),a={Create:"Create",Batch:"Batch",Retrieve:"Retrieve",RetrieveMultiple:"RetrieveMultiple",GetClientMetadata:"GetClientMetadata",Update:"Update",Delete:"Delete",Download:"Download",Upload:"Upload",FileDelete:"FileDelete",CountRows:"CountRows",GetFileSasUrl:"GetFileSasUrl"},i={Update:"Update",Associate:"Associate",Create:"Create",Delete:"Delete",Disassociate:"Disassociate",Retrieve:"Retrieve",RetrieveMultipleOther:"RetrieveMultipleOther",CustomQuery:"CustomQuery"},o={Default:"Default",MdlHttpClient:"MdlHttpClient",MdlMetadataClient:"MdlMetadataClient",Upsync:"Upsync"},c={TYPE:r.c.OPERATION_TYPE,SUB_TYPE:r.c.OPERATION_SUB_TYPE,SOURCE:r.c.OPERATION_SOURCE},s={Post:"POST",Get:"GET",Patch:"PATCH",Delete:"DELETE"},u=[a.Create,a.Delete,a.Batch,a.GetClientMetadata,a.Update,a.Retrieve,a.RetrieveMultiple],l=[a.Download,a.Upload,a.FileDelete,a.GetFileSasUrl],d=[a.CountRows],f={Ok:200,Created:201,Accepted:202,NoContent:204,PartialContent:206,BadRequest:400,Unauthorized:401,NotFound:404,Unknown:420,InternalServerError:500,ServiceUnavailable:503},p={[f.Ok]:"OK",[f.Accepted]:"Accepted",[f.NoContent]:"No Content",[f.PartialContent]:"Partial Content",[f.BadRequest]:"Bad Request",[f.Unauthorized]:"Bad Request",[f.NotFound]:"Not Found",[f.Unknown]:"Unknown",[f.InternalServerError]:"Internal Server Error",[f.ServiceUnavailable]:"Service Unavailable"},h=[f.BadRequest,f.InternalServerError,f.NotFound,f.ServiceUnavailable],v={RecordId:"RecordId",PageSize:"PageSize",PageNumber:"PageNumber",MetadataTypes:"MetadataTypes",Top:"Top",Expand:"Expand",NavigationPropertyRelationshipName:"NavigationPropertyRelationshipName",NavigationPropertyEntity:"NavigationPropertyEntity",BaseViewLinkEntities:"BaseViewLinkEntities",LinkEntitiesMap:"LinkEntitiesMap",ODataQuery:"ODataQuery",FetchXmlQuery:"FetchXmlQuery",MaxPageSize:"MaxPageSize"},m={select:"x-ms-mdl-select",pageSize:"x-ms-mdl-pageSize",pageNumber:"x-ms-mdl-pageNumber",distinct:"x-ms-mdl-distinct",filter:"x-ms-mdl-filter",linkEntity:"x-ms-mdl-link",apply:"x-ms-mdl-apply",viewId:"x-ms-mdl-viewId",rawFetch:"x-ms-mdl-rawFetchXml",mergeQuickFind:"x-ms-mdl-mergeQuickFind",contextFilter:"x-ms-mdl-contextFilter",executionStrategy:"x-ms-mdl-execution-hints",search:"x-ms-mdl-search",orderBy:"x-ms-mdl-orderby",MIME_TYPE:"x-ms-mdl-mimeType",FILE_SIZE:"x-ms-mdl-fileSize",FILE_URL:"x-ms-mdl-fileUrl",SUPPRESS_TRIGGERS_HINT:"x-ms-mdl-suppress-triggers",UPSYNC_REQUEST_HINT:"x-ms-mdl-upsync-request",ETN_NAME:"x-ms-mdl-etn-name",OPERATION_INFO:"x-ms-mdl-operation-info"},y={ACCEPT:"Accept",PREFER:"Prefer",AUTO_DISASSOCIATE:"AutoDisassociate",IF_MATCH:"If-match",MSCRM_SUPPRESS_DUPLICATION_DETECTION:"MSCRM.SuppressDuplicateDetection",MSCRM_RETURN_NOTIFICATIONS:"MSCRM.ReturnNotifications",APP_ENTITY:"appmodules",AUTHORIZATION:"Authorization",CONTENT_TYPE:"Content-Type",ODADTA_ENTITY_ID:"OData-EntityId",CONTENT_LENGTH:"Content-Length",CLIENT_REQUEST_ID:"x-ms-client-request-id",SERVER_REQUEST_ID:"x-ms-service-request-id",SESSION_ID:"x-ms-client-session-id",CORRELATION_ID:"x-ms-correlation-id",SOURCE_ID:"x-ms-source-id",USER_AGENT:"x-ms-user-agent",APP_ID:"x-ms-app-id",APP_NAME:"x-ms-app-name",OBJECT_ID:"x-ms-sw-objectid",TENANT_ID:"x-ms-sw-tenantid",CONTENT_ID:"Content-ID",CONTENT_TRANSFER_ENCODING:"Content-Transfer-Encoding",PREFERENCE_APPLIED:"Preference-Applied",LOCATION:"Location",REQ_ID:"REQ_ID",AUTHORIZATION_HEADER:"Authorization",MS_USER_AGENT:"x-ms-user-agent",CLIENT_HOST:"ClientHost",VIEW_ID_HINT:"x-ms-mdl-viewId",PAGESIZE_HINT:"x-ms-mdl-pageSize",PAGE_NUMBER_HINT:"x-ms-mdl-pageNumber",SEARCH_HINT:"x-ms-mdl-search",FILTER_HINT:"x-ms-mdl-filter",ORDERBY_HINT:"x-ms-mdl-orderby",SELECT_HINT:"x-ms-mdl-select",LINK_HINT:"x-ms-mdl-link",EXECUTION_HINT:"x-ms-mdl-execution-hints",CONTEXT_FILTER:"x-ms-mdl-contextFilter",MERGE_QUICKFIND:"x-ms-mdl-mergeQuickFind",OPERATION_INFO:"x-ms-mdl-operation-info",UPSYNC_REQUEST_HINT:"x-ms-mdl-upsync-request",SUPPRESS_TRIGGERS_HINT:"x-ms-mdl-suppress-triggers"},g={APPLICATION_JSON:"application/json",APPLICATION_HTTP:"application/http",BINARY:"binary",ANNOTATIONS:'odata.include-annotations="*"',ANNOTATIONS_NOQUOTES:"odata.include-annotations=*",PREFER_REPRESENTATION:"return=representation"},b={CannotUpdateOnlineRecord:-2147093980,CannotDeleteOnlineRecord:-2147093944,DataSourceOfflineErrorCode:-2147093999,InvalidXml:-2147220991,UnknownUnexpectedGenericError:-2147015414,UnknownBadRequestError:-2147015424,DataStoreKeyNotFoundErrorCode:-2147093987,QueryBuilderNoEntity:-2147217150,NetworkIssue:-2147094268},O="/api/data/v9.0/",E={ErrorCode:"code",Message:"message",StackTrace:"stacktrace",Stack:"stack",InnerError:"innererror"},_="_",S="Unknown",C={local:"local",remote:"remote"},w={ONLINE:"Online",OFFLINE:"Offline"},T={MULTI_VALUE:"MultiValue",SINGLE_VALUE:"SingleValue"},j={skipToken:"$skiptoken",orderBy:"$orderby",top:"$top",select:"$select",expand:"$expand",filter:"$filter",apply:"$apply",oDataNextLink:"@odata.nextLink",getOnlyRelatedEntity:"$getOnlyRelatedEntity",savedQuery:"savedQuery"},N="ExpandProperties",P="fileattachment",I="devicefilepath",R="devicethumbnailpath",M="imagedescriptor",x="imagedescriptorid",D="filename",A="objectid",k={oDataId:"@odata.id",fileAttributeProperty:"FileAttributeName"},F="fetchXml=",L="_NORSYNC_MAIN_LOG_TABLE",q=["businessprocessflowinstance","command","commandoperation"],U="_NORSYNC_LOG_"},20584:function(e,t,n){"use strict";n.d(t,"g",(function(){return r})),n.d(t,"i",(function(){return a})),n.d(t,"f",(function(){return i})),n.d(t,"h",(function(){return o})),n.d(t,"n",(function(){return c})),n.d(t,"k",(function(){return s})),n.d(t,"l",(function(){return u})),n.d(t,"m",(function(){return l})),n.d(t,"o",(function(){return d})),n.d(t,"e",(function(){return f})),n.d(t,"b",(function(){return p})),n.d(t,"j",(function(){return h})),n.d(t,"d",(function(){return v})),n.d(t,"a",(function(){return m})),n.d(t,"c",(function(){return y})),n.d(t,"p",(function(){return g}));var r="ModernDataLayer",a="ComponentSuccess/",i="ComponentFailure/",o="ModernDataLayer.ComponentPerformance/",c="StartTime",s="Message",u="metric",l="StackTrace",d="SuggestedMitigation",f="InnerError",p="ErrorCode",h="ModernDataLayer",v={GetSqlResults:"GetSqlResults",MetadataCache:"MetadataCache",MetadataStateAccessor:"MetadataStateAccessor",MetadataUtil:"MetadataUtil",SQLGenerator:"SQLGenerator",PolicyManager:"PolicyManager",PromiseCache:"PromiseCache",CreateResponseHandler:"CreateResponseHandler",DeleteResponseHandler:"DeleteResponseHandler",FunctionResponseHandler:"FunctionResponseHandler",GetClientMetadataResponseHandler:"GetClientMetadataResponseHandler",UpdateResponseHandler:"UpdateResponseHandler",RetrieveResponseHandler:"RetrieveResponseHandler",BatchResponseHandler:"BatchResponseHandler",BPFResponseHandler:"BPFResponseHandler",RetrieveMultipleResponseHandler:"RetrieveMultipleResponseHandler",GetFileSasUrlResponseHandler:"GetFileSasUrlResponseHandler",FileExecutor:"FileExecutor",FunctionExecutor:"FunctionExecutor",QueryGenerator:"QueryGenerator",ResponseHandler:"ResponseHandler",SQLExecutor:"SQLExecutor",UrlParserHandler:"UrlParserHandler",LocalODataClientManager:"LocalODataClientManager",ODataClientManager:"ODataClientManager",ODataExecutor:"ODataExecutor",DeleteGenerator:"DeleteGenerator",FunctionGenerator:"FunctionGenerator",RetrieveMultipleGenerator:"RetrieveMultipleGenerator",SQLModifier:"SQLModifier",UpdateGenerator:"UpdateGenerator",PolicyRetryInterceptor:"PolicyRetryInterceptor",TimeoutInterceptor:"TimeoutInterceptor",ExecuteRequestInterceptor:"ExecuteRequestInterceptor",RequestResponseInterceptor:"RequestResponseInterceptor",LongRequestInterceptor:"LongRequestInterceptor",FileRequestInterceptor:"FileRequestInterceptor",FunctionRequestInterceptor:"FunctionRequestInterceptor",SQLRequestInterceptor:"SQLRequestInterceptor",HttpExecutorInterceptor:"HttpExecutorInterceptor",PromiseCacheInterceptor:"PromiseCacheInterceptor",GCMGenerator:"GCMGenerator",Common:"Common",BatchRequestParser:"BatchRequestParser",RootFinder:"RootFinder",RootFinderSQL:"RootFinderSQL",MetadataSQLExecutor:"MetadataSQLExecutor",DataSQLExecutor:"DataSQLExecutor",CreateGenerator:"CreateGenerator",BatchGenerator:"BatchGenerator",QuickFindSQLGenerator:"QuickFindSQLGenerator",MergeQuickFindSQLGenerator:"MergeQuickFindSQLGenerator",RetrieveGenerator:"RetrieveGenerator",ApplyFilterSQLGenerator:"ApplyFilterSQLGenerator",ApplyFinalModifiedSQLGenerator:"ApplyFinalModifiedSQLGenerator",ApplySelectSQLGenerator:"ApplySelectSQLGenerator",ApplyOrderBySQLGenerator:"ApplyOrderBySQLGenerator",ApplyLinkEntitySQLGenerator:"ApplyLinkEntitySQLGenerator",ApplyContextFilterSQLGenerator:"ApplyContextFilterSQLGenerator",ApplyAggregationSQLGenerator:"ApplyAggregationSQLGenerator",NavigationPropertyGeneratorPrefix:"NavigationPropertyGenerator",CloneRequest:"CloneRequest",FetchRequest:"FetchRequest",GenerateBaseSQL:"GenerateBaseSQL",DetermineHints:"DetermineHints",ODataQueryParser:"ODataQueryParser",ExpandParser:"ExpandParser",ApplyParser:"ApplyParser",FetchXmlParser:"FetchXmlParser",DateTimeOperators:"DateTimeOperators",Validator:"Validator",GCMCachingUtil:"GCMCachingUtil",MdlHttpClient:"MdlHttpClient",MdlMetadataClient:"MdlMetadataClient",SendHttpAsync:"SendHttpAsync"},m={ODataExecutor:"".concat(r,".").concat(v.ODataExecutor),RemoteODataExecutor:"".concat(r,".RemoteODataExecutor"),LocalODataExecutor:"".concat(r,".LocalODataExecutor"),SQLExecutor:"".concat(r,".").concat(v.SQLExecutor),FileExecutor:"".concat(r,".").concat(v.FileExecutor),FunctionExecutor:"".concat(r,".").concat(v.FunctionExecutor),SQLGenerator:"".concat(r,".").concat(v.QueryGenerator),ResponseHandler:"".concat(r,".").concat(v.ResponseHandler),UrlParserHandler:"".concat(r,".").concat(v.UrlParserHandler),MetadataCache:"".concat(r,".").concat(v.MetadataCache),MdlHttpClient:"".concat(r,".").concat(v.MdlHttpClient),MdlMetadataClient:"".concat(r,".").concat(v.MdlMetadataClient)},y={HTTP_STATUS_CODE:"HTTP-Status-Code",HTTP_RESPONSE_TYPE:"HTTP-Response-Type",HTTP_RESPONSE_STATUS_TEXT:"HTTP-Response-Status-Text",RESPONSE_URL:"Response-Url",RESPONSE_SIZE_IN_BYTES:"Response-Size-In-Bytes",ERROR_CODE:"Error-Code",ERROR_MESSAGE:"Error-Message",ERROR_STACK:"Error-Stack",ERROR_COMPLETE_TEXT:"Error-Complete-Text",CLIENT_TYPE:"Client-Type",CLIENT_TYPE_DEFAULTED:"Client-Type-Defaulted",RESPONSE_TIME:"Response-Time",CLIENT_REQUEST_ID:"Client-Request-Id",SERVER_REQUEST_ID:"Server-Request-Id",OPERATION_TYPE:"Operation-Type",OPERATIONTYPE:"OperationType",OPERATION_SUB_TYPE:"Operation-SubType",OPERATION_SOURCE:"Operation-Source",END_POINT:"EndPoint",METHOD:"Method",EMPTY_STRING:"",SQL_ERROR_CODE:"SqlErrorCode",SQL_ERROR_MESSAGE:"SqlErrorMessage",REQUEST_URL:"Request-Url",REQUEST_DETAILS:"Request-Details",BASE_OFFLINE_SQL:"BaseOfflineSQL",ENTITY_NAME:"Entity-Name",IS_OFFLINE_BY_DEFAULT_REQUEST:"Is-Offline-By-Default-Request",EXECUTION_HINT:"Execution_Hint",SQL_QUERY:"SqlQuery",ERROR_DETAIL:"Error-Detail",METADATA_CACHE_OPERATION:"Metadata-Cache-Operation",STATE_TREE_ACCESS:"State-Tree-Access",METADATACACHE_BEFORESIZE:"MetadataCacheBeforeSize",METADATACACHE_AFTERSIZE:"MetadataCacheAfterSize",IS_CACHED_RESPONSE:"IsCachedResponse",PAGE_SOURCE:"CallingPage",BATCH_SUMMARY:"BatchSummary",REQUEST_METHOD:"Method",ENTITY_LOGICAL_NAME:"EntityLogicalName",IS_FORCED_LOCAL:"Is-Forced-Local"},g=function(e){return e.Create="Create",e.Delete="Delete",e.Load="Load",e.Update="Update",e}({})},20585:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(20584),a=n(20586),i=n(20587),o=/^({?)((\d|[a-fA-F]){8}-(\d|[a-fA-F]){4}-(\d|[a-fA-F]){4}-(\d|[a-fA-F]){4}-(\d|[a-fA-F]){12})(}?)$/,c=/^([a-fA-F\d]{8})([a-fA-F\d]{4})([a-fA-F\d]{4})([a-fA-F\d]{4})([a-fA-F\d]{12})$/;class s{static externalGuid(e){return e&&e.guid?"{"+e.guid.toUpperCase()+"}":s.EMPTYSTRING}static fromExternalGuid(e,t){return typeof e===a.a.String&&e.trim().length>0?new s(e.replace(/[\{\}]/gi,"")):(t&&t.warn("".concat(r.d.Common," Empty string or invalid object used to form GUID. Returning empty GUID.")),s.EMPTY)}static validate(e){return null!=e&&null!==o.exec(e)}static toString(e){return e?e.guid:null}static tryParse(e){return s.tryParseOrNull(e)||s.EMPTY}static tryParseOrNull(e){var t=s._formatGuidString(e);return t?new s(t,!0):null}static parse(e){return new s(e)}static toLegacyGuid(e){return e?i.a.createFromFormattedGuidStringAndSkipParsing(e.guid):null}static fromLegacyGuid(e){if(e){var t=e.toString();if(t)return new s(t,!0)}return null}static equals(e,t){return null==e||null==t?e===t:s.toString(e)===s.toString(t)}static isNullOrEmpty(e){return!e||s.equals(e,s.EMPTY)}static newGuid(){for(var e="",t=0;t<36;t++)if(14===t)e+="4";else if(8===t||13===t||18===t||23===t)e+="-";else if(19===t){var n=Math.floor(16*Math.random());e+="0123456789abcdef".substr(3&n|8,1)}else e+="0123456789abcdef".substr(Math.floor(16*Math.random()),1);return new s(e,!0)}static _formatGuidString(e){if(!e||"string"!=typeof e)return null;e=e.toLowerCase();var t=o.exec(e);if(t)return t[1].length!==t[8].length?null:t[2];var n=c.exec(e);return n?n.filter((e,t)=>t>0).join("-"):null}constructor(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.guid=void 0,t)this.guid=e;else{var n=s._formatGuidString(e);if(!n)throw new Error("".concat(e," is not a valid Guid value."));this.guid=n}Object.freeze(this)}}s.EMPTYGUIDSTRING="00000000-0000-0000-0000-000000000000",s.EMPTY=new s(s.EMPTYGUIDSTRING,!0),s.EMPTYSTRING=""},20586:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return e.Boolean="boolean",e.Unknown="unknown",e.Customer="customer",e.Date="date",e.DateTime="datetime",e.Decimal="decimal",e.Double="double",e.Image="image",e.Integer="integer",e.Lookup="lookup",e.ManagedProperty="managedproperty",e.Memo="memo",e.Money="money",e.Owner="owner",e.PartyList="partylist",e.PickList="picklist",e.State="state",e.Status="status",e.String="string",e.UniqueIdentifier="uniqueidentifier",e.CalendarRules="calendarrules",e.Virtual="virtual",e.BigInt="bigint",e.EntityName="entityname",e.EntityImage="entityimage",e.AliasedValue="aliasedvalue",e.Regarding="regarding",e.MultiSelectPickList="multiselectpicklist",e.File="file",e.NavigationProperty="navigationproperty",e}({})},20587:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(20588),a=n(20586);class i{static get_empty(){return i._empty||(i._empty=new i("00000000000000000000000000000000",!0))}static createFromObjectData(e){return new i(e.rawguid)}static tryCreate(e){var t=i._GetParsedString(e);return Object(r.x)(t)?i.get_empty():new i(t)}static createFromFormattedGuidStringAndSkipParsing(e){return typeof e!==a.a.String||Object(r.x)(e)?i.get_empty():new i(e.replace(i._get_GuidStripperPattern(),""),!0)}static isNullOrEmpty(e){return!(!Object(r.v)(e)&&e.length)||!!new i(e).equals(i._empty)}static _get_BraceAndHyphenGuidVerifierPattern(){return i._braceAndHyphenGuidVerifierPattern||(i._braceAndHyphenGuidVerifierPattern=new RegExp("^{(\\d|[a-f]){8}-(\\d|[a-f]){4}-(\\d|[a-f]){4}-(\\d|[a-f]){4}-(\\d|[a-f]){12}}$"))}static _get_GuidStripperPattern(){return i._guidStripperPattern||(i._guidStripperPattern=new RegExp("{|}|-","g"))}static _get_HyphenGuidVerifierPattern(){return i._hyphenGuidVerifierPattern||(i._hyphenGuidVerifierPattern=new RegExp("^(\\d|[a-f]){8}-(\\d|[a-f]){4}-(\\d|[a-f]){4}-(\\d|[a-f]){4}-(\\d|[a-f]){12}$"))}static _get_ContiguousGuidVerifierPattern(){return i._contiguousGuidVerifierPattern||(i._contiguousGuidVerifierPattern=new RegExp("^(\\d|[a-f]){32}$"))}static _GetParsedString(e){return Object(r.x)(e)?"":(e=e.toLowerCase(),i._get_HyphenGuidVerifierPattern().test(e)||i._get_BraceAndHyphenGuidVerifierPattern().test(e)?e.replace(i._get_GuidStripperPattern(),""):i._get_ContiguousGuidVerifierPattern().test(e)?e:"")}constructor(e,t){if(this._rawGuid=void 0,this._formattedGuid="",t)this._rawGuid=e;else if(this._rawGuid=i._GetParsedString(e),Object(r.x)(this._rawGuid))throw new Error("Not a valid guid")}getObjectData(){return{rawguid:this._rawGuid}}equals(e){if(e instanceof i)return e._rawGuid===this._rawGuid;if("string"==typeof e)try{return new i(e)._rawGuid===this._rawGuid}catch(t){return!1}return!1}toString(){return this._formattedGuid||(this._formattedGuid=this._rawGuid.substring(0,8)+"-"+this._rawGuid.substring(8,12)+"-"+this._rawGuid.substring(12,16)+"-"+this._rawGuid.substring(16,20)+"-"+this._rawGuid.substring(20,32)),this._formattedGuid}}i._empty=void 0,i._guidStripperPattern=void 0,i._hyphenGuidVerifierPattern=void 0,i._braceAndHyphenGuidVerifierPattern=void 0,i._contiguousGuidVerifierPattern=void 0,i.__typeName="Microsoft.Crm.Client.Core.Framework.Guid"},20588:function(e,t,n){"use strict";n.d(t,"E",(function(){return m})),n.d(t,"G",(function(){return y})),n.d(t,"C",(function(){return g})),n.d(t,"d",(function(){return b})),n.d(t,"D",(function(){return O})),n.d(t,"l",(function(){return M})),n.d(t,"o",(function(){return k})),n.d(t,"b",(function(){return F})),n.d(t,"h",(function(){return L})),n.d(t,"s",(function(){return q})),n.d(t,"H",(function(){return U})),n.d(t,"q",(function(){return B})),n.d(t,"n",(function(){return V})),n.d(t,"A",(function(){return H})),n.d(t,"u",(function(){return Q})),n.d(t,"t",(function(){return W})),n.d(t,"m",(function(){return Y})),n.d(t,"z",(function(){return X})),n.d(t,"y",(function(){return K})),n.d(t,"k",(function(){return J})),n.d(t,"c",(function(){return Z})),n.d(t,"j",(function(){return $})),n.d(t,"i",(function(){return E})),n.d(t,"e",(function(){return _})),n.d(t,"F",(function(){return S})),n.d(t,"p",(function(){return w})),n.d(t,"v",(function(){return T})),n.d(t,"x",(function(){return N})),n.d(t,"f",(function(){return I})),n.d(t,"w",(function(){return j})),n.d(t,"r",(function(){return P})),n.d(t,"B",(function(){return R})),n.d(t,"g",(function(){return D}));var r=n(20585),a=n(20586),i=n(20589),o=n(20590),c=n(20591),s=n(20583);n.d(t,"a",(function(){return s.c}));var u=n(20594),l=n(20616),d=n(20592),f=n(20611),p=n(20584);n(20600),n(20612);function h(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function v(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){h(i,r,a,o,c,"next",e)}function c(e){h(i,r,a,o,c,"throw",e)}o(void 0)}))}}function m(e,t){return e?Object.keys(e).reduce((n,r)=>(n[r]=t(e[r]),n),{}):{}}function y(e,t){if(T(e))throw Error("Argument = ".concat(t," can't be null or undefined"))}function g(e){switch(e){case"None":return i.a.None;case"UserLocal":return i.a.UserLocal;case"DateOnly":return i.a.DateOnly;case"TimeZoneIndependent":return i.a.TimeZoneIndependent;default:return i.a.UserLocal}}function b(e){switch(e){case i.a.None:return"None";case i.a.UserLocal:return"UserLocal";case i.a.DateOnly:return"DateOnly";case i.a.TimeZoneIndependent:return"TimeZoneIndependent";default:return"UserLocal"}}function O(e){switch(e){case"None":return o.a.none;case"ApplicationRequired":return o.a.applicationRequired;case"Recommended":return o.a.recommended;case"SystemRequired":return o.a.systemRequired;default:return o.a.unknown}}function E(e){return e}function _(e){return e[0]}function S(e){return C.apply(this,arguments)}function C(){return(C=v((function*(e){return[e]}))).apply(this,arguments)}function w(e,t){if(!e)return null;var n=e.get(t);return n||(n=e.get(t.toLowerCase())),n}function T(e){return null==e}function j(e){return!(e instanceof Promise)&&(T(e)||N(e)||0===Object.keys(e).length)}function N(e){return!!T(e)||typeof e===a.a.String&&""===e.trim()}function P(e){return l.c.savedView+s.c+e}function I(e,t,n,r){var a=n||0,i=e?e.message:"Unknown Error",o=e?e.stack:void 0,s=e?e.name:void 0;return Object(c.a)(a,t,new u.a(i,r,o,s))}function R(e){return!(T(e)||!T(e.MetadataType)||T(e.DependencyDepth)||"usercontext"!==e.DependencyDepth.toLowerCase())}function M(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=s.b.remote;return x(t,e)?s.b.local:(e&&e.additionalHeaders&&e.additionalHeaders[s.s.executionStrategy]&&[s.f.OFFLINE,s.f.ONLINE].includes(e.additionalHeaders[s.s.executionStrategy])?n=e.additionalHeaders[s.s.executionStrategy]===s.f.OFFLINE?s.b.local:s.b.remote:t.find(e=>e.name===p.c.CLIENT_TYPE_DEFAULTED)||t.push({name:p.c.CLIENT_TYPE_DEFAULTED,value:!0}),n)}function x(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=!!window.forceOffline;return!(n&&t&&H(t))&&(n&&e.push({name:p.c.IS_FORCED_LOCAL,value:n}),n)}function D(e){var t=s.G,n=s.i.UnknownUnexpectedGenericError,r=s.G;return T(e)||(A(e)?(t=N(e._message)?t:e._message,n=N(e._errorCode)?n:e._errorCode,r=N(e._stack)?r:e._stack):(t=N(e.message)?t:e.message,r=N(e.stack)?r:e.stack)),new u.a(t,n,r)}function A(e){return!j(e)&&void 0!==e.get_Message}function k(e){return A(e)?e._message?e._message:null:e?e.message?e.message:e:null}var F="|";function L(e){for(var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=[],r=0;r<e.length;r++)switch(e.charAt(r)){case"_":n.push("".concat(F,"_"));break;case"%":n.push("".concat(F,"%"));break;case"*":n.push("%");break;case F:n.push("".concat(F).concat(F));break;default:n.push(e.charAt(r))}return!t||e.length&&e.endsWith("*")||n.push("%"),n.join("")}function q(e){return e.replace("'","''")}function U(e){var t=e;return t?("*"===t[0]&&(t=t.substring(1)),"*"===t[t.length-1]&&(t=t.substring(0,t.length-1)),t):t}function B(e){var t=null,n=new RegExp("odata.maxpagesize=(\\d+)"),r=e.additionalHeaders&&e.additionalHeaders.Prefer?e.additionalHeaders.Prefer.match(n):null;return r&&r.length>=2&&(t=Number(r[1])),t}function V(e,t){return G.apply(this,arguments)}function G(){return(G=v((function*(e,t){var n=yield Object(d.v)(e,f.d),r=n?t.url.split("?")[0].split("/"):t.url.split("/");return n&&r[r.length-2].indexOf("(")>-1?r[r.length-2].split("(")[0]:r[r.length-1].split("(")[0].split("?")[0]}))).apply(this,arguments)}function H(e,t){var n;return"true"===(null===(n=e.additionalHeaders)||void 0===n?void 0:n[s.s.UPSYNC_REQUEST_HINT])}function Q(e,t,n){return z.apply(this,arguments)}function z(){return(z=v((function*(e,t,n){var r=yield V(e,t);return n=n||r.slice(0,-1),H(t)&&(K(n)||X(n))}))).apply(this,arguments)}function W(e){return null==e?void 0:e.startsWith(s.J)}function Y(e){return W(e)?e.substring(s.J.length):e}function X(e){return s.K.indexOf(e)>-1||e===s.I}function K(e){return W(e)||e===s.I}function J(e){return e&&e.additionalHeaders?e.additionalHeaders[s.q.CLIENT_REQUEST_ID]:void 0}function Z(e,t,n){var a=t.clientRequestId;return N(a)&&(a=r.a.toString(r.a.newGuid()),Object.keys(t).length>0&&n.warn("No client request found in executionContext, generated local request id: ".concat(a),t.commonEventParameters),t.clientRequestId=a),e.additionalParameters?e.additionalParameters[s.q.CLIENT_REQUEST_ID]=a:e.additionalParameters={[s.q.CLIENT_REQUEST_ID]:a},e}function $(e,t,n,r){switch(e){case s.y.Create:return{[s.z.TYPE]:s.y.Create,[s.z.SUB_TYPE]:r||s.B.Create,[p.c.ENTITY_NAME]:n,[s.z.SOURCE]:t};case s.y.Update:return{[s.z.TYPE]:s.y.Update,[s.z.SUB_TYPE]:r||s.B.Update,[p.c.ENTITY_NAME]:n,[s.z.SOURCE]:t};case s.y.Delete:return{[s.z.TYPE]:s.y.Delete,[s.z.SUB_TYPE]:r||s.B.Delete,[p.c.ENTITY_NAME]:n,[s.z.SOURCE]:t};case s.y.RetrieveMultiple:return{[s.z.TYPE]:s.y.RetrieveMultiple,[s.z.SUB_TYPE]:r||s.B.RetrieveMultipleOther,[p.c.ENTITY_NAME]:n,[s.z.SOURCE]:t};case s.y.Retrieve:return{[s.z.TYPE]:s.y.Retrieve,[s.z.SUB_TYPE]:r||s.B.Retrieve,[p.c.ENTITY_NAME]:n,[s.z.SOURCE]:t};default:return{}}}},20589:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return e[e.None=0]="None",e[e.UserLocal=1]="UserLocal",e[e.DateOnly=2]="DateOnly",e[e.TimeZoneIndependent=3]="TimeZoneIndependent",e}({})},20590:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return e[e.unknown=-1]="unknown",e[e.none=0]="none",e[e.systemRequired=1]="systemRequired",e[e.applicationRequired=2]="applicationRequired",e[e.recommended=3]="recommended",e}({})},20591:function(e,t,n){"use strict";n.d(t,"f",(function(){return f})),n.d(t,"g",(function(){return p})),n.d(t,"b",(function(){return v})),n.d(t,"a",(function(){return m})),n.d(t,"e",(function(){return b})),n.d(t,"c",(function(){return _})),n.d(t,"d",(function(){return S}));var r=n(20583),a=n(20588),i=n(20584),o=n(20586),c=n(20592),s=n(20601),u=n(20596);function l(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){l(i,r,a,o,c,"next",e)}function c(e){l(i,r,a,o,c,"throw",e)}o(void 0)}))}}function f(e){return!(!(e&&e.additionalHeaders&&e.additionalHeaders.Prefer)||-1===e.additionalHeaders.Prefer.indexOf(r.r.ANNOTATIONS)&&-1===e.additionalHeaders.Prefer.indexOf(r.r.ANNOTATIONS_NOQUOTES))}function p(e){return!!(e&&e.additionalHeaders&&e.additionalHeaders.Prefer&&-1!==e.additionalHeaders.Prefer.indexOf(r.r.PREFER_REPRESENTATION))}function h(e){return e>=200&&e<=299}function v(e,t,n,i){return function(e,t,n){if(!Object(a.v)(n)&&h(n)){if(Object(a.v)(e)||Object(a.v)(t))return;Object(a.v)(e.get(r.q.CONTENT_LENGTH))&&e.set(r.q.CONTENT_LENGTH,"".concat(t.length))}}(n,i,e),{status:e,ok:h(e),statusText:r.v[e]||"",headers:n,url:t,clone(){return Object.assign({},this)},json:()=>Promise.resolve(i?JSON.parse(i):null),text:()=>Promise.resolve(i||"")}}function m(e,t,n,i){var o={},c={};c[r.E.ErrorCode]=n.code?n.code:r.i.DataSourceOfflineErrorCode,c[r.E.Message]=n.message,c[r.E.StackTrace]=n.stack;var s={};s[r.E.ErrorCode]=n.code,s[r.E.Message]=n.message,s[r.E.StackTrace]=n.stack,c[r.E.InnerError]=s,o.error=c;var u=JSON.stringify(o);return Object(a.v)(i)&&(i=new Headers),v(e,t,i,u)}function y(e){return"".concat(e,"@OData.Community.Display.V1.FormattedValue")}function g(e){return"".concat(e,"@OData.Community.Display.V1.AttributeName")}function b(e){if(-1!==e.search("!")){var{attributeName:t,attributeNameProperty:n}=function(e){var t=e.split("!"),n=t[0],r=t[1];return{attributeName:n,attributeNameProperty:r}}(e),r="";return r=-1!==t.search("\\.")?t:"_".concat(t,"_value"),"id"===n?r:"name"===n?y(r):"logicalname"===n?function(e){return"".concat(e,"@Microsoft.Dynamics.CRM.lookuplogicalname")}(r):e}return e}function O(e,t){return e.find(e=>e.Value===t)}function E(e,t){return e.find(e=>e.Tag===t)}function _(e){var t,n=e;if(-1!==e.indexOf("!")){var r=e.split("!");n=r[0],t=r[1]}var a=n.split(s.p.dot);return{aliasedAttribute:n,alias:a[0],attributeName:a[1],attributeNameProperty:t}}function S(e,t,n,r){return C.apply(this,arguments)}function C(){return(C=d((function*(e,t,n,r){var l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},d=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],f=arguments.length>6?arguments[6]:void 0,p=e.TraceManager.getTracer(i.a.ResponseHandler),h=yield Object(c.b)(e,[],n),v=yield Object(c.c)(e,n,[]),m={},S=[];w(n,t,e,h);var C=0;for(var T in t)if(T){var j=t[T];if(!Object(a.v)(j)||f){var N=h[T],P=T,I=v,R=n;if(T.indexOf(s.p.dot)>-1){var M=_(T);if(P=M.attributeName,m[g(M.aliasedAttribute)]=P,l[M.alias]){R=l[M.alias],S.push({name:"EntityLogicalNameForAttribute",value:R}),I=yield Object(c.c)(e,R,[]);var x=yield Object(c.b)(e,[],R);N=x[P]}}if(-1!==T.search("!")){var D=b(T);m[D]=j}else{var A=y(T);switch(N){case o.a.Decimal:case o.a.Integer:case o.a.BigInt:case o.a.DateTime:case o.a.Double:case o.a.Money:m[T]=j;var k,F=null;if(N===o.a.Money&&t["transactioncurrencyid!id"]&&(F=t["transactioncurrencyid!id"]),r&&!Object(a.v)(j))if(e.Formatter)m[A]=e.Formatter.getFormattedvalue(R,P,N,j,F);else null!==(k=e.AdditionalParameters)&&void 0!==k&&k.EnableCanvasOffline||p.error("Formatter is not available when returnAnnotationsFormat = true",d),m[A]=j;break;case o.a.MultiSelectPickList:m[T]=j,!r||Object(a.v)(I[P])||Object(a.v)(I[P].OptionSet)||function(){var e=I[P].OptionSet,t=[];Object(a.v)(j)||j.split(",").forEach(n=>{var r=e.find(e=>String(e.Value)===n.trim());r&&r.Label&&t.push(r.Label)});var n=t.length>0?t.join("; "):void 0;m[A]=n}();break;case o.a.Status:case o.a.State:case o.a.Boolean:case o.a.EntityName:case o.a.PickList:if(Object(a.v)(j)||N!==o.a.Boolean?m[T]=j:m[T]=0!==j,!Object(a.v)(j)&&r&&!Object(a.v)(I[P])&&!Object(a.v)(I[P].OptionSet)){var L=I[P].OptionSet;if(!Object(a.v)(L)&&L.length>0){var q=N===o.a.EntityName?E(L,j):O(L,j);Object(a.v)(q)||(m[A]=q.Label)}}break;case o.a.PartyList:m[T]=j;break;case o.a.String:case o.a.UniqueIdentifier:case o.a.Memo:m[T]=j;break;default:m[T]=j,C+=1,S.push({name:"key".concat(C,", attributeType").concat(C),value:"".concat(T,", ").concat(N)})}}}}return C>0&&p.warn("Default case for formatter values for ".concat(C," keys"),Object(u.b)(d,S)),m}))).apply(this,arguments)}function w(e,t,n,r){return T.apply(this,arguments)}function T(){return(T=d((function*(e,t,n,r){var a,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},u=[];for(var l in t){var d=r[l];if(l.indexOf(s.p.dot)>-1){var f=_(l);if(i[f.alias]){var p=i[f.alias],h=f.attributeName,v=yield Object(c.b)(n,[],p);d=v[h]}}switch(d){case o.a.Decimal:case o.a.Integer:case o.a.BigInt:case o.a.DateTime:case o.a.Double:case o.a.Money:u.push(l)}}yield null===(a=n.Formatter)||void 0===a?void 0:a.ensureMetadataPresent(e,u)}))).apply(this,arguments)}},20592:function(e,t,n){"use strict";n.d(t,"h",(function(){return R})),n.d(t,"i",(function(){return x})),n.d(t,"b",(function(){return A})),n.d(t,"r",(function(){return F})),n.d(t,"u",(function(){return q})),n.d(t,"l",(function(){return B})),n.d(t,"p",(function(){return G})),n.d(t,"q",(function(){return Q})),n.d(t,"v",(function(){return W})),n.d(t,"t",(function(){return X})),n.d(t,"j",(function(){return J})),n.d(t,"c",(function(){return te})),n.d(t,"m",(function(){return ae})),n.d(t,"a",(function(){return Ze})),n.d(t,"e",(function(){return vt})),n.d(t,"d",(function(){return mt})),n.d(t,"s",(function(){return yt})),n.d(t,"f",(function(){return gt})),n.d(t,"g",(function(){return bt})),n.d(t,"k",(function(){return Ot})),n.d(t,"n",(function(){return Et})),n.d(t,"o",(function(){return _t}));var r=n(20593),a=n(20584),i=n(20594),o=n(20595),c=n(20602),s=n(20586),u=n(20589),l=n(20601),d=n(20603),f=n(20585),p=n(20605),h=n(20588),v=n(20596),m=n(20610),y=n(20583),g=n(20611),b=n(20612),O=n(20614),E=n(20613),_=n(20616),S=n(20617),C=n(20618);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function P(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){N(i,r,a,o,c,"next",e)}function c(e){N(i,r,a,o,c,"throw",e)}o(void 0)}))}}var I={views:{},entities:{},attributes:{},userContext:{}};function R(e,t){return M.apply(this,arguments)}function M(){return(M=P((function*(e,t){var n,r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],c=e.TraceManager.getTracer(a.a.MetadataCache);if(null!==(n=e.AdditionalParameters)&&void 0!==n&&n.EnableCanvasOffline&&Object(h.z)(t))return t;if(r=b.f(e,t,o),Object(h.x)(r)){var s=I.entities;if(r=Object(O.c)(s,t,c,o),Object(h.v)(r)&&(s=yield $(e,c,o),r=Object(O.c)(s,t,c,o),Object(h.v)(r))){var u="Entity with entity set name ".concat(t," not found in offline metadata");return c.error("".concat(ht()," ").concat(u),Object(v.b)(o,o)),Promise.reject(new i.a(u,y.i.QueryBuilderNoEntity))}}return r}))).apply(this,arguments)}function x(e,t){return D.apply(this,arguments)}function D(){return(D=P((function*(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=e.TraceManager.getTracer(a.a.MetadataCache),o=b.g(e,t,n);if(Object(h.x)(o)){var c=I.entities;if(o=Object(O.d)(c,t,r,n),Object(h.v)(o)&&(c=yield $(e,r,n),o=Object(O.d)(c,t,r,n),Object(h.v)(o))){var s="Entity with object type code ".concat(t," not found in offline metadata");return r.error("".concat(ht()," ").concat(s),Object(v.b)(n,n)),Promise.reject(new i.a(s,y.i.QueryBuilderNoEntity))}}return o}))).apply(this,arguments)}function A(e,t,n){return k.apply(this,arguments)}function k(){return(k=P((function*(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=yield W(e,g.e),o=new C.a(I,i);o.calculateBefore();var c=e.TraceManager.getTracer(a.a.MetadataCache),s={},u=yield b.b(e,t,n,r);if(null!==u)s=u;else{var l=yield te(e,n,t,r);if(Object(h.v)(l))c.error("".concat(ht()," Retrieved null or undefined attribute metadata"),r);else if(l&&Object.keys(l).length>0)if(t.length>0){for(var d of t)if(l[d]){var f=l[d];s[d]=f.Type}}else{var p=Object.keys(l);for(var v of p)if(l[v]){var m=l[v];s[v]=m.Type}}}return o.calculateAfter(),St(o,r),s}))).apply(this,arguments)}function F(e){return L.apply(this,arguments)}function L(){return(L=P((function*(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];try{var r=yield b.r(e,n);if(null!==r)t=r;else{if(!I.userContext||!I.userContext.userSettings||!I.userContext.userSettings.languageid||Object(h.v)(I.userContext.userSettings.timezoneutcoffsetminutes)||Object(h.v)(I.userContext.userSettings.timezoneadjusters)||Object(h.v)(I.userContext.userSettings.datetimeformatinfo))return Ae(e,n);t=I.userContext.userSettings}}catch(a){return Promise.reject(a)}return t}))).apply(this,arguments)}function q(e){return U.apply(this,arguments)}function U(){return(U=P((function*(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];try{var r=yield b.i(e,n);t=r||(I.userContext&&I.userContext.organizationSettings&&I.userContext.organizationSettings.fullnameconventioncode?I.userContext.organizationSettings.fullnameconventioncode:yield Le(e,n))}catch(a){return Promise.reject(a)}return t}))).apply(this,arguments)}function B(e){return V.apply(this,arguments)}function V(){return(V=P((function*(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];try{var r=yield b.j(e,n);t=r||(I.userContext&&I.userContext.organizationSettings&&I.userContext.organizationSettings.languageCode?I.userContext.organizationSettings.languageCode:yield Ue(e,n))}catch(a){return Promise.reject(a)}return t}))).apply(this,arguments)}function G(e){return H.apply(this,arguments)}function H(){return(H=P((function*(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];try{var r=yield b.p(e,n);t=r?f.a.toString(r):I.userContext&&I.userContext.userid?f.a.toString(I.userContext.userid):yield Ve(e,n)}catch(a){return Promise.reject(a)}return t}))).apply(this,arguments)}function Q(e){return z.apply(this,arguments)}function z(){return(z=P((function*(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];try{var r=yield b.q(e,n);t=r||(I.userContext&&I.userContext.username?I.userContext.username:yield He(e,n))}catch(a){return Promise.reject(a)}return t}))).apply(this,arguments)}function W(e,t){return Y.apply(this,arguments)}function Y(){return(Y=P((function*(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=e.TraceManager.getTracer(a.a.MetadataCache),o=yield b.u(e,t,r);if(null!==o)n=o;else if(I.userContext&&I.userContext.fcbContext&&!Object(h.v)(I.userContext.fcbContext[t])){var c=I.userContext.fcbContext[t];n=void 0===c.value?c:c.value}else n=yield ze(e,t,r);return i.info("".concat(ht()," The fcbContext for ").concat(t," return ").concat(n," value.")),n}))).apply(this,arguments)}function X(e,t,n){return K.apply(this,arguments)}function K(){return(K=P((function*(e,t,n){var r,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];try{var i=yield b.t(e,t,n,a);r=i||(I.views&&I.views[t]?I.views[t]:yield Ye(e,t,a))}catch(o){return Promise.reject(o)}return r}))).apply(this,arguments)}function J(e,t){return Z.apply(this,arguments)}function Z(){return(Z=P((function*(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(Object(h.w)(e)||Object(h.x)(t))throw new i.a("Invalid parameters",y.i.UnknownBadRequestError);var a=yield W(e,g.e),o=new C.a(I,a);o.calculateBefore(),r.push({name:"entity",value:t});try{var c=yield b.h(e,t,r);if(c)n=c;else if(I.entities&&I.entities[t])n=I.entities[t];else{if(n=yield be(e,t,r),!I.entities||!I.entities[t]){var s="Entity metadata is not available";return Promise.reject(new i.a(s,y.i.QueryBuilderNoEntity))}n=I.entities[t]}}catch(u){return Promise.reject(u)}return o.calculateAfter(),St(o,r),n}))).apply(this,arguments)}function $(e,t){return ee.apply(this,arguments)}function ee(){return(ee=P((function*(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=yield Ze(e,n),a=[],c=0,s={sqlStatements:[],sqlParameters:new Array,additionalParameters:{}},u="SELECT id, json FROM [entitymetadata] WHERE [logicalname] = ?";if(!Object(h.v)(r)&&r.length>0){for(c=0;c<r.length;c++){var l=r.item(c),f=l.logicalname,p=[f];s.sqlStatements.push(u),s.sqlParameters.push(p)}a.push({name:"MetadataRequestedForEntityNames",value:s.sqlParameters.toString()}),a.push({name:"NoOfEntityMetadataRequested",value:s.sqlParameters.length});var m=yield Object(o.a)(e,s);if(!m||!m.length){var y="requested entity metadata not found";throw t.error("".concat(ht()," requested entity metadata was not returned from offline DB."),Object(v.b)(n,a)),new Error(y)}var g=[],b=[],O=0;for(c=0;c<m.length;c++){var E=m[c].rows.item(0),_=JSON.parse(E.json),S=d.a.createFromObjectData(_),C=S.getODataObject();if(Ee(e,C,C.LogicalName),Object(h.v)(C.LogicalName)){var w,T;O++;var j=null===(w=s.sqlParameters)||void 0===w||null===(T=w[c])||void 0===T?void 0:T.toString();b.push(j);var N=Object(v.b)(n,a);N.push({name:"ResultIndex",value:c}),N.push({name:"EntityNameRequested",value:j}),N.push({name:"RawDetails",value:C}),t.error("".concat(ht()," Entity LogicalName is null for requested metadata at index"),N)}else g.push(C.LogicalName)}return a.push({name:"NoOfEntityMetadataReturned",value:m.length}),a.push({name:"MetadataReturnedForEntityNames",value:g.toString()}),a.push({name:"ErroredEntityNames",value:b.toString()}),a.push({name:"NoOfErrors",value:O}),t.warn("".concat(ht()," All entity metadata populated."),Object(v.b)(n,a)),I.entities}var P="No entities returned from entity metadata db when populating all entity metadata";return t.error("".concat(ht()," ").concat(P),Object(v.b)(n,a)),Promise.reject(new i.a(P))}))).apply(this,arguments)}function te(e,t,n){return ne.apply(this,arguments)}function ne(){return(ne=P((function*(e,t,n){var r,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];try{var i=yield se(e,t,n,a),o=yield le(e,t,i,a);if(Object(h.w)(o)||(I.attributes[t]=T(T({},I.attributes[t]),o)),r=(yield b.u(e,g.g))?re(e,t,n):I.attributes[t],n&&n.length>0){var c={};n.forEach(e=>{c[e]=r[e]}),r=c}}catch(s){return Promise.reject(s)}return r}))).apply(this,arguments)}function re(e,t,n){var r,i,o,c=null===(r=e.TraceManager)||void 0===r?void 0:r.getTracer(a.a.MetadataCache),s=null===(i=e.ApplicationState)||void 0===i||null===(o=i.metadata)||void 0===o?void 0:o.attributes,u={},l=[];if(!n||!n.length){var d=null!=s&&s[t]?Object(O.b)(s[t]):{};return Object(h.w)(I.attributes[t])?d:T(T({},d),I.attributes[t])}if(n.forEach(e=>{s&&s[t]&&s[t][e]&&s[t][e].Initialized===E.a.Initialized?u[e]=s[t][e]:I.attributes&&I.attributes[t]&&I.attributes[t][e]?u[e]=I.attributes[t][e]:l.push(e)}),l.length>=1){var f=[];f.push({name:"MissingAttributesInStateAndMetadataCache",value:l.join(",")}),c.warn("".concat(ht()," Did not find attribute metadata in neither the injected state nor the metadataCache for entity '").concat(t,"'. Check event context for the missing attributes."),f)}return u}function ae(e,t){return ie.apply(this,arguments)}function ie(){return(ie=P((function*(e,t){var n;try{var r=yield b.l(e,t);if(r)n=r;else if(I.userContext&&I.userContext.offlineProfile&&I.userContext.offlineProfile.offlineAvailableEntities){var a;n=null===(a=I.userContext.offlineProfile)||void 0===a?void 0:a.offlineAvailableEntities}else n=yield oe(e,t)}catch(i){return Promise.reject(i)}return n}))).apply(this,arguments)}function oe(e,t){return ce.apply(this,arguments)}function ce(){return(ce=P((function*(e,t){var n=e.TraceManager.getTracer(a.a.MetadataCache);return yield nt(e,t),Object(h.v)(I.userContext)||Object(h.v)(I.userContext.offlineProfile)||Object(h.v)(I.userContext.offlineProfile.offlineAvailableEntities)?(n.warn("".concat(ht()," No offline available entities are found, return empty list"),t),[]):I.userContext.offlineProfile.offlineAvailableEntities}))).apply(this,arguments)}function se(e,t,n){return ue.apply(this,arguments)}function ue(){return(ue=P((function*(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=[...n],o=e.TraceManager.getTracer(a.a.MetadataCache),c=yield J(e,t),s=c.AttributeNames;if(n&&n.length||(i=s),s&&s.length>0?(s.indexOf("statecode")>=0&&i.indexOf("statecode")<0&&i.push("statecode"),s.indexOf("statuscode")>=0&&i.indexOf("statuscode")<0&&i.push("statuscode")):o.warn("".concat(ht()," No entity attributes are found for entity = ").concat(t,",\n      and requested attributes = ").concat(i.join(","),", return empty list"),r),yield b.u(e,g.g)){var u=b.c(e,t),l=I.attributes&&I.attributes[t]?I.attributes[t]:{};return Object(O.a)(u,l,i)}for(var d=I.attributes&&I.attributes[t]?I.attributes[t]:{},f=[],p=0;p<i.length;p++)d[i[p]]||f.push(i[p]);return f}))).apply(this,arguments)}function le(e,t,n){return de.apply(this,arguments)}function de(){return(de=P((function*(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a={};if(n.length){var i=yield Ke(e,t,n,r);if(i&&Object.keys(i).length>0)for(var o in i)if(i.hasOwnProperty(o)){var c=i[o],s=fe(e,c);a[o]=s}}return a}))).apply(this,arguments)}function fe(e,t){var n=t,r=u.a.None;if(n.DateTimeBehavior)for(var a in n.DateTimeBehavior)if(n.DateTimeBehavior.hasOwnProperty(a))switch(n.DateTimeBehavior[a]){case"None":r=u.a.None;break;case"DateOnly":r=u.a.DateOnly;break;case"TimeZoneIndependent":r=u.a.TimeZoneIndependent;break;case"UserLocal":r=u.a.UserLocal;break;default:r=u.a.None}var i=Object(m.m)(e),o=Object(m.n)(e);return{LogicalName:t.LogicalName,Id:f.a.tryParseOrNull(t.MetadataId),EntityLogicalName:n.EntityLogicalName,Type:ye(t),DisplayName:Object(m.h)(i,o,n.DisplayName),Description:Object(m.h)(i,o,n.Description),IsGlobalFilterEnabled:!!n.IsGlobalFilterEnabled&&n.IsGlobalFilterEnabled.Value,IsSecured:n.IsSecured,IsSortableEnabled:!!n.IsSortableEnabled&&n.IsSortableEnabled.Value,IsEntityReferenceStored:n.IsEntityReferenceStored,IsValidForAdvancedFind:!!n.IsValidForAdvancedFind&&n.IsValidForAdvancedFind.Value,IsValidForCreate:n.IsValidForCreate,IsValidForRead:n.IsValidForRead,IsValidForUpdate:n.IsValidForUpdate,IsRetrievable:Object(m.a)(i,o,n.IsRetrievable),IsCustomAttribute:Object(m.a)(i,o,n.IsCustomAttribute),ColumnNumber:n.ColumnNumber,MaxLength:n.MaxLength,MinValue:n.MinValue,MaxValue:n.MaxValue,Precision:n.Precision,PrecisionSource:n.PrecisionSource,Format:me(n),Behavior:r,DefaultFormValue:n.DefaultFormValue,DefaultValue:"number"==typeof n.DefaultFormValue?n.DefaultFormValue:Object(m.a)(i,o,n.DefaultValue),IsBaseCurrency:Object(m.a)(i,o,n.IsBaseCurrency),Targets:n.Targets,AttributeOf:n.AttributeOf,HasChanged:Object(m.a)(i,o,n.HasChanged),ImeMode:ve(n.ImeMode),OptionSetId:n.OptionSet&&n.OptionSet.MetadataId?n.OptionSet.MetadataId:null,OptionSetName:n.OptionSet&&n.OptionSet.Name?n.OptionSet.Name:null,OptionSetType:n.OptionSet?Object(m.i)(i,o,n.OptionSet.OptionSetType):null,OptionSet:pe(e,n.OptionSet),ParentPicklistLogicalName:n.OptionSet&&n.ParentPicklistLogicalName?n.ParentPicklistLogicalName:null,ChildPicklistLogicalNames:n.OptionSet&&n.ChildPicklistLogicalNames?n.ChildPicklistLogicalNames:null,RequiredLevel:ge(n.RequiredLevel),SourceType:n.SourceType,SourceTypeMask:n.SourceTypeMask,InheritsFrom:n.InheritsFrom,CanBeSecuredForCreate:Object(m.a)(i,o,n.CanBeSecuredForCreate),CanBeSecuredForRead:Object(m.a)(i,o,n.CanBeSecuredForRead),CanBeSecuredForUpdate:Object(m.a)(i,o,n.CanBeSecuredForUpdate)}}function pe(e,t){var n=[];if(t&&(n=[],t.FalseOption&&n.push(he(e,t.FalseOption)),t.TrueOption&&n.push(he(e,t.TrueOption)),t.Options)){var r=t.Options;for(var a of r)n.push(he(e,a))}return n}function he(e,t){var n=Object(m.m)(e),r=Object(m.n)(e),a=t.TransitionData;return{Color:t.Color,Label:Object(m.h)(n,r,t.Label),Value:t.Value,DefaultStatus:t.DefaultStatus,State:t.State,TransitionData:a?[]:null,InvariantName:t.InvariantName,ParentValues:t.ParentValues}}function ve(e){if("string"!=typeof e)return"number"==typeof e?e:null;switch(e){case"Auto":return 0;case"Inactive":return 1;case"Active":return 2;case"Disabled":return 3;default:return null}}function me(e){var t=e,n=t.FormatName?t.FormatName.Value:null;return function(e,t,n){if(t)return t;var r="";if(null==n)r=n;else if(e&&e===s.a.DateTime)switch(n){case l.f.DateOnly:r=s.a.Date;break;case l.f.DateAndTime:r=s.a.DateTime;break;default:r=n.toString()}else r=n.toString();return r}(function(e){switch(e){case p.a.Boolean:return s.a.Boolean;case p.a.Customer:return s.a.Customer;case p.a.DateTime:return s.a.DateTime;case p.a.Decimal:return s.a.Decimal;case p.a.Double:return s.a.Double;case p.a.Integer:return s.a.Integer;case p.a.Lookup:return s.a.Lookup;case p.a.Memo:return s.a.Memo;case p.a.Money:return s.a.Money;case p.a.Owner:return s.a.Owner;case p.a.PartyList:return s.a.PartyList;case p.a.Picklist:return s.a.PickList;case p.a.State:return s.a.State;case p.a.Status:return s.a.Status;case p.a.String:return s.a.String;case p.a.UniqueIdentifier:return s.a.UniqueIdentifier;case p.a.CalendarRules:return s.a.CalendarRules;case p.a.Virtual:return s.a.Virtual;case p.a.BigInt:return s.a.BigInt;case p.a.ManagedProperty:return s.a.ManagedProperty;case p.a.EntityName:return s.a.EntityName;case p.a.AliasedValue:return s.a.AliasedValue;case p.a.EntityImage:return s.a.EntityImage;case p.a.MultiSelectPicklist:return s.a.MultiSelectPickList;case p.a.File:return s.a.File;case p.a.NavigationProperty:return s.a.NavigationProperty;default:return s.a.Unknown}}(t.AttributeType),n,t.Format)}function ye(e){if(!e)return s.a.Unknown;var t=s.a.Unknown;return"AttributeTypeName"in e&&e.AttributeTypeName.Value?t=e.AttributeTypeName.Value.replace(/Type/g,""):"AttributeType"in e&&e.AttributeType&&"string"==typeof e.AttributeType&&(t=e.AttributeType),t?"Float"===t?s.a.Double:t.toLowerCase():s.a.Unknown}function ge(e){if(!Object(h.v)(e)){var t;if("string"==typeof(t=Object(h.v)(e.Value)?e:e.Value))switch(e){case"None":return r.c.None;case"SystemRequired":return r.c.SystemRequired;case"ApplicationRequired":return r.c.ApplicationRequired;case"Recommended":return r.c.Recommended;default:return r.c.Unknown}if("number"==typeof t)return t}return-1}function be(e,t){return Oe.apply(this,arguments)}function Oe(){return(Oe=P((function*(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=yield et(e,t,r);return a&&(n=yield Ee(e,a,t,r)),n}))).apply(this,arguments)}function Ee(e,t,n){return _e.apply(this,arguments)}function _e(){return(_e=P((function*(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=e.TraceManager.getTracer(a.a.MetadataCache),o=Object(m.m)(e),c=Object(m.n)(e),s={Id:f.a.tryParseOrNull(t.Id),EntityLogicalName:t.LogicalName,DisplayName:Object(m.h)(o,c,t.DisplayName),EntitySetName:t.EntitySetName,PrimaryKeyName:t.PrimaryIdAttribute,ObjectTypeCode:t.ObjectTypeCode,PrimaryIdAttribute:t.PrimaryIdAttribute,PrimaryNameAttribute:t.PrimaryNameAttribute,PrimaryImageAttribute:t.PrimaryImageAttribute,EntityColor:Object(m.e)(o,c,t.EntityColor),ActivityTypeMask:t.ActivityTypeMask,AutoRouteToOwnerQueue:Object(m.a)(o,c,t.AutoRouteToOwnerQueue),DisplayCollectionName:Object(m.h)(o,c,t.DisplayCollectionName),CanTriggerWorkflow:Object(m.a)(o,c,t.CanTriggerWorkflow),Description:Object(m.h)(o,c,t.Description),IsDocumentManagementEnabled:Object(m.a)(o,c,t.IsDocumentManagementEnabled),IsOneNoteIntegrationEnabled:Object(m.a)(o,c,t.IsOneNoteIntegrationEnabled),IsMSTeamsIntegrationEnabled:Object(m.a)(o,c,t.IsMSTeamsIntegrationEnabled),IsDocumentRecommendationsEnabled:Object(m.a)(o,c,t.IsDocumentRecommendationsEnabled),IsInteractionCentricEnabled:Object(m.a)(o,c,t.IsInteractionCentricEnabled),IsKnowledgeManagementEnabled:Object(m.a)(o,c,t.IsKnowledgeManagementEnabled),IsActivity:Object(m.a)(o,c,t.IsActivity),IsActivityParty:Object(m.a)(o,c,t.IsActivityParty),IsChildEntity:Object(m.a)(o,c,t.IsChildEntity),IsCollaboration:Fe(t.IsValidForQueue),IsConnectionsEnabled:Fe(t.IsConnectionsEnabled),IsCustomEntity:Object(m.a)(o,c,t.IsCustomEntity),IsBusinessProcessEnabled:Object(m.a)(o,c,t.IsBusinessProcessEnabled),IsCustomizable:Fe(t.IsCustomizable),IsOptimisticConcurrencyEnabled:Object(m.a)(o,c,t.IsOptimisticConcurrencyEnabled),IsImportable:Object(m.a)(o,c,t.IsImportable),IsIntersect:Object(m.a)(o,c,t.IsIntersect),IsMailMergeEnabled:Fe(t.IsMailMergeEnabled),IsEnabledForCharts:Object(m.a)(o,c,t.IsEnabledForCharts),IsValidForAdvancedFind:Object(m.a)(o,c,t.IsValidForAdvancedFind),IsVisibleInMobileClient:Fe(t.IsVisibleInMobileClient),IsReadOnlyInMobileClient:Fe(t.IsReadOnlyInMobileClient),IsOfflineInMobileClient:Fe(t.IsOfflineInMobileClient),IsQuickCreateEnabled:Object(m.a)(o,c,t.IsQuickCreateEnabled),EntityClientSetting:t.EntityClientSetting,OwnershipType:t.OwnershipType,HasChanged:Object(m.a)(o,c,t.HasChanged),HasStateCode:De(t),IsStateModelAware:Object(m.a)(o,c,t.IsStateModelAware),EnforceStateTransitions:Object(m.a)(o,c,t.EnforceStateTransitions),Privileges:t.Privileges||[],IconVectorName:t.IconVectorName,IsBPFEntity:Object(m.a)(o,c,t.IsBPFEntity),DataProviderId:f.a.tryParseOrNull(t.DataProviderId),IsEnabledInUnifiedInterface:!!Object(h.v)(t.IsVisibleInMobileClient)||(t.IsVisibleInMobileClient.Value||t.IsVisibleInMobileClient.CanBeChanged),VersionNumber:t.VersionNumber,OverallVersionNumber:t.OverallVersionNumber,AttributeNames:t.AttributeNames,IsAuditEnabled:t.IsAuditEnabled};return Object(h.v)(s.Id)&&(null==i||i.warn("".concat(ht()," Id was null or undefined for ").concat(s.EntityLogicalName,". Raw value was ").concat(t.Id),r)),t.OneToManyRelationships&&(s.OneToManyRelationships=xe(e,t.OneToManyRelationships,t,!1,Re),s.HasActivities=Se(s.OneToManyRelationships,"activitypointer","regardingobjectid"),s.HasNotes=Se(s.OneToManyRelationships,"annotation","objectid")),t.ManyToOneRelationships&&(s.ManyToOneRelationships=xe(e,t.ManyToOneRelationships,t,!1,Re)),t.ManyToManyRelationships&&(s.ManyToManyRelationships=xe(e,t.ManyToManyRelationships,t,!1,Me)),I.entities[n]=s,s}))).apply(this,arguments)}function Se(e,t,n){if(null===e)return!1;for(var r in e)if(e[r].ReferencingEntity===t&&e[r].ReferencingAttribute===n)return!0;return!1}function Ce(e,t,n){if(Object(h.v)(t))return null;var r=Object(m.m)(e),a=Object(m.n)(e);return{Behavior:n?we(t.Behavior):Object(m.b)(r,a,t.Behavior),Group:n?Te(t.Group):Object(m.c)(r,a,t.Group),Label:Object(m.h)(r,a,t.Label),Order:t.Order,AvailableOffline:mt(r,t.AvailableOffline),Icon:t.Icon,IsCustomizable:vt(r,t.IsCustomizable),MenuId:t.MenuId,QueryApi:t.QueryApi,ViewId:yt(r,f.a.tryParseOrNull(t.ViewId)),ExtensionData:t.ExtensionData}}function we(e){if("string"!=typeof e)return"number"==typeof e?e:0;switch(e){case"UseCollectionName":return 0;case"UseLabel":return 1;case"DoNotDisplay":return 2;default:return 0}}function Te(e){if("string"!=typeof e)return"number"==typeof e?e:0;switch(e){case"Details":return 0;case"Sales":return 1;case"Service":return 2;case"Marketing":return 3;default:return 0}}function je(e){if("string"!=typeof e)return"number"==typeof e?e:0;switch(e){case"NoCascade":return 0;case"Cascade":return 1;case"Active":return 2;case"UserOwned":return 3;case"RemoveLink":return 4;case"Restrict":return 5;default:return 0}}function Ne(e){if("string"!=typeof e)return"number"==typeof e?e:0;switch(e){case"None":return 0;case"Append":return 1;case"ParentChild":return 2;case"Pointer":return 4;case"Inheritance":return 8;default:return 0}}function Pe(e){if("string"!=typeof e)return"number"==typeof e?e:-1;switch(e){case"OneToManyRelationship":return 0;case"ManyToManyRelationship":return 1;default:return-1}}function Ie(e,t,n){var r=Object(m.m)(e),a=Object(m.n)(e);return{IsCustomRelationship:t.IsCustomRelationship,IsCustomizable:Fe(t.IsCustomizable),IsValidForAdvancedFind:t.IsValidForAdvancedFind,SchemaName:t.SchemaName,SecurityTypes:n?Ne(t.SecurityTypes):t.SecurityTypes,IsManaged:Object(m.g)(r,a,t),RelationshipType:n?Pe(t.RelationshipType):_t(r,t.RelationshipType),IntroducedVersion:t.IntroducedVersion}}function Re(e,t,n,r){var a=Ce(e,t.AssociatedMenuConfiguration,r),i=function(e,t,n){var r=Object(m.m)(e),a=Object(m.n)(e);return n?{Assign:je(t.Assign),Delete:je(t.Delete),Merge:je(t.Merge),Reparent:je(t.Reparent),Share:je(t.Share),Unshare:je(t.Unshare),Archive:je(t.Archive),ExtensionData:t.ExtensionData}:{Assign:Object(m.d)(r,a,null==t?void 0:t.Assign),Delete:Object(m.d)(r,a,t.Delete),Merge:Object(m.d)(r,a,t.Merge),Reparent:Object(m.d)(r,a,t.Reparent),Share:Object(m.d)(r,a,t.Share),Unshare:Object(m.d)(r,a,t.Unshare),Archive:t.Archive?Object(m.d)(r,a,t.Archive):null,ExtensionData:t.ExtensionData}}(e,t.CascadeConfiguration,r),o=Object(m.m)(e),c=Object(m.n)(e),s={AssociatedMenuConfiguration:a,CascadeConfiguration:i,ReferencedAttribute:t.ReferencedAttribute,ReferencedEntity:Object(m.j)(o,c,t,n),ReferencingAttribute:t.ReferencingAttribute,ReferencingEntity:Object(m.l)(o,c,t,n),IsHierarchical:Object(m.f)(o,c,t.IsHierarchical),ReferencedEntityNavigationPropertyName:Et(o,t),ReferencingEntityNavigationPropertyName:Object(m.k)(o,c,t)};return s=T(T({},s),Ie(e,t,r))}function Me(e,t,n,r){var a=Object(m.m)(e),i={Entity1AssociatedMenuConfiguration:Ce(e,t.Entity1AssociatedMenuConfiguration,r),Entity2AssociatedMenuConfiguration:Ce(e,t.Entity2AssociatedMenuConfiguration,r),Entity1LogicalName:t.Entity1LogicalName,Entity2LogicalName:t.Entity2LogicalName,IntersectEntityName:Ot(a,t),Entity1IntersectAttribute:t.Entity1IntersectAttribute,Entity2IntersectAttribute:t.Entity2IntersectAttribute,Entity1NavigationPropertyName:gt(a,t),Entity2NavigationPropertyName:bt(a,t)};return i=T(T({},i),Ie(e,t,r))}function xe(e,t,n,r,a){if(!t)return null;var i={};for(var o of t){var c=a(e,o,n,r);i[o.SchemaName]=c}return i}function De(e){if(!e||!e.AttributeNames)return!1;for(var t of e.AttributeNames)if("statecode"===t.toLowerCase())return!0;return!1}function Ae(e){return ke.apply(this,arguments)}function ke(){return(ke=P((function*(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(yield nt(e,t),I.userContext&&I.userContext.userSettings&&I.userContext.userSettings.languageid&&!Object(h.v)(I.userContext.userSettings.timezoneutcoffsetminutes)&&!Object(h.v)(I.userContext.userSettings.timezoneadjusters)&&!Object(h.v)(I.userContext.userSettings.datetimeformatinfo))return I.userContext.userSettings;var n="UserSettings is empty or does not contains all required dependencies";return Promise.reject(new i.a(n))}))).apply(this,arguments)}function Fe(e){return e?e.Value:null}function Le(e){return qe.apply(this,arguments)}function qe(){return(qe=P((function*(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(yield nt(e,t),Object(h.v)(I.userContext.organizationSettings)||Object(h.v)(I.userContext.organizationSettings.fullnameconventioncode)){var n="fullnameconventioncode is empty";return Promise.reject(new i.a(n))}return I.userContext.organizationSettings.fullnameconventioncode}))).apply(this,arguments)}function Ue(e){return Be.apply(this,arguments)}function Be(){return(Be=P((function*(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(yield nt(e,t),Object(h.v)(I.userContext.organizationSettings)||Object(h.v)(I.userContext.organizationSettings.languageCode)){var n="languageCode is empty";return Promise.reject(new i.a(n))}return I.userContext.organizationSettings.languageCode}))).apply(this,arguments)}function Ve(e){return Ge.apply(this,arguments)}function Ge(){return(Ge=P((function*(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(yield nt(e,t),Object(h.v)(I.userContext.userid)){var n="userid is empty";return Promise.reject(new i.a(n))}return f.a.toString(I.userContext.userid)}))).apply(this,arguments)}function He(e){return Qe.apply(this,arguments)}function Qe(){return(Qe=P((function*(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(yield nt(e,t),Object(h.v)(I.userContext.username)){var n="username is empty";return Promise.reject(new i.a(n))}return I.userContext.username}))).apply(this,arguments)}function ze(e,t){return We.apply(this,arguments)}function We(){return(We=P((function*(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(yield nt(e,n),Object(h.v)(I.userContext.fcbContext)||Object(h.v)(I.userContext.fcbContext[t]))return!1;var r=I.userContext.fcbContext[t];return void 0===r.value?r:r.value}))).apply(this,arguments)}function Ye(e,t){return Xe.apply(this,arguments)}function Xe(){return(Xe=P((function*(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=yield at(e,t,n),a={initialized:E.a.Uninitialized,viewId:new f.a(r.ViewId),fetchXML:r.FetchXml,entityLogicalName:r.EntityLogicalName,queryApi:r.QueryApi,columnXML:r.ColumnXml,title:r.Title,idColumName:r.IdColumnName,queryType:r.QueryType,layoutXML:r.LayoutXml,offlineSqlQuery:r.OfflineSqlQuery?r.OfflineSqlQuery:null,versionNumber:r.VersionNumber,OverallVersionNumber:r.OverallVersionNumber,OverallUserVersionNumber:r.OverallUserVersionNumber,isUserView:r.IsUserView};return I.views[t]=a,a}))).apply(this,arguments)}function Ke(e,t,n){return Je.apply(this,arguments)}function Je(){return(Je=P((function*(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=e.TraceManager.getTracer(a.a.MetadataCache),o=yield lt(e,t,n,r);if(!o||!o.length){var s="requested attributes metadata not found for entity = ".concat(t,", attributes = ").concat(n.join());throw new Error(s)}if(o.length>1){var u="Results[] returned from getAttributesSqlResults() has length = ".concat(o.length);i.warn("".concat(ht()," ").concat(u),r)}for(var l={},d=o[0],f=0;f<d.rows.length;f++){var p=d.rows.item(f),h=JSON.parse(p.json);try{var v=c.a.createFromObjectData(h);l[v.get_logicalName()]=v.getODataObject()}catch(m){throw m}}return l}))).apply(this,arguments)}function Ze(e){return $e.apply(this,arguments)}function $e(){return($e=P((function*(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n="select logicalname from entitymetadata",r=[],a=yield Object(o.b)(e,n,r,t);if(!a||!a.length){var i="requested  metadata not found for entity";throw new Error(i)}var c=a[0].rows;return c}))).apply(this,arguments)}function et(e,t){return tt.apply(this,arguments)}function tt(){return(tt=P((function*(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=null==e?void 0:e.TraceManager.getTracer(a.a.MetadataCache),c=yield st(e,t,r);if(!c||!c.length){var s="requested entity metadata not found for entity = ".concat(t);throw new i.a(s,y.i.QueryBuilderNoEntity)}if(c[0].rows&&c[0].rows.length>0){var u=c[0].rows.item(0),l=JSON.parse(u.json),f=d.a.createFromObjectData(l);n=f.getODataObject()}else o.warn("".concat(ht()," Got 0 result rows for entity metadata ").concat(t),r);return n}))).apply(this,arguments)}function nt(e){return rt.apply(this,arguments)}function rt(){return(rt=P((function*(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=yield ft(e,t);if(Object(h.v)(n)||Object(h.v)(n[0])||Object(h.v)(n[0].rows)||Object(h.v)(n[0].rows.item(0))){var r="user context returned from Database is empty";return Promise.reject(new i.a(r))}var a=n[0].rows.item(0),o=JSON.parse(a.json);return I.userContext.userid=new f.a(o.userid.rawguid),I.userContext.username=o.username,I.userContext.fcbContext=o.fcbcontext,I.userContext.userSettings=o.usersettings,I.userContext.organizationSettings=o.organizationsettings?{languageCode:o.organizationsettings.languagecode,fullnameconventioncode:o.organizationsettings.fullnameconventioncode}:o.organizationsettings,I.userContext.offlineProfile=o.offlineprofile?{offlineAvailableEntities:o.offlineprofile.offlineavailableentities,profileId:o.offlineprofile.profileid,profileVersion:o.offlineprofile.profileversion}:o.offlineprofile,o}))).apply(this,arguments)}function at(e,t){return it.apply(this,arguments)}function it(){return(it=P((function*(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=yield ot(e,t,n),a=r&&r.length&&r[0].rows&&r[0].rows.item(0);if(!a){var i="requested view metadata not found, ViewId = ".concat(t);throw new Error(i)}var o=JSON.parse(a.json),c=o.data;return c}))).apply(this,arguments)}function ot(e,t){return ct.apply(this,arguments)}function ct(){return(ct=P((function*(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r="select * from applicationmetadata where id = ?",a=[Object(h.r)(t)],i=yield Object(o.b)(e,r,a,n);return i}))).apply(this,arguments)}function st(e,t){return ut.apply(this,arguments)}function ut(){return(ut=P((function*(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r="SELECT id, json FROM [entitymetadata] WHERE [logicalname] = ?",a=[t],i=yield Object(o.b)(e,r,a,n);return i}))).apply(this,arguments)}function lt(e,t,n){return dt.apply(this,arguments)}function dt(){return(dt=P((function*(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a="select * from attributemetadata where entitylogicalname = ? and logicalname in (",i=0;i<n.length-1;i++)a+="?,";a+="?)";var c=[t,...n],s=yield Object(o.b)(e,a,c,r);return s}))).apply(this,arguments)}function ft(e,t){return pt.apply(this,arguments)}function pt(){return(pt=P((function*(e,t){var n={};return n[S.i.METADATA_TYPE]=[_.c.userContext],yield Object(o.b)(e,"select * from usercontext",[],t,void 0,n)}))).apply(this,arguments)}function ht(e){return"[".concat(e||a.d.MetadataCache,"]")}function vt(e,t){return(!e||!Object(h.v)(t))&&t}function mt(e,t){return!(!e||!Object(h.v)(t))||t}function yt(e,t){return e&&Object(h.v)(t)?f.a.EMPTY:t}function gt(e,t){return e&&Object(h.v)(t.Entity1NavigationPropertyName)?t.SchemaName:t.Entity1NavigationPropertyName}function bt(e,t){return e&&Object(h.v)(t.Entity2NavigationPropertyName)?t.SchemaName:t.Entity2NavigationPropertyName}function Ot(e,t){return e&&Object(h.v)(t.IntersectEntityName)?t.SchemaName:t.IntersectEntityName}function Et(e,t){return e&&Object(h.v)(t.ReferencedEntityNavigationPropertyName)?t.SchemaName:t.ReferencedEntityNavigationPropertyName}function _t(e,t){return e&&Object(h.v)(t)?r.g.OneToManyRelationship:t}function St(e,t){var n=t.find(e=>e.name===a.c.METADATACACHE_BEFORESIZE);Object(h.v)(n)?t.push({name:a.c.METADATACACHE_BEFORESIZE,value:e.getBeforeSize()}):n.value=e.getBeforeSize();var r=t.find(e=>e.name===a.c.METADATACACHE_AFTERSIZE);Object(h.v)(r)?t.push({name:a.c.METADATACACHE_AFTERSIZE,value:e.getAfterSize()}):r.value=e.getAfterSize()}},20593:function(e,t,n){"use strict";n.d(t,"f",(function(){return r})),n.d(t,"e",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"g",(function(){return o})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return u}));var r=function(e){return e[e.Picklist=0]="Picklist",e[e.State=1]="State",e[e.Status=2]="Status",e[e.Boolean=3]="Boolean",e}({}),a=function(e){return e[e.DateOnly=0]="DateOnly",e[e.DateAndTime=1]="DateAndTime",e}({}),i=function(e){return e[e.None=0]="None",e[e.SystemRequired=1]="SystemRequired",e[e.ApplicationRequired=2]="ApplicationRequired",e[e.Recommended=3]="Recommended",e[e.Unknown=-1]="Unknown",e}({}),o=function(e){return e[e.OneToManyRelationship=0]="OneToManyRelationship",e[e.ManyToManyRelationship=1]="ManyToManyRelationship",e[e.ManyToOneRelationship=2]="ManyToOneRelationship",e[e.None=-1]="None",e}({}),c=function(e){return e[e.UseCollectionName=0]="UseCollectionName",e[e.UseLabel=1]="UseLabel",e[e.DoNotDisplay=2]="DoNotDisplay",e}({}),s=function(e){return e[e.Details=0]="Details",e[e.Sales=1]="Sales",e[e.Service=2]="Service",e[e.Marketing=3]="Marketing",e}({}),u=function(e){return e[e.NoCascade=0]="NoCascade",e[e.Cascade=1]="Cascade",e[e.Active=2]="Active",e[e.UserOwned=3]="UserOwned",e[e.RemoveLink=4]="RemoveLink",e[e.Restrict=5]="Restrict",e}({})},20594:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));class r{constructor(e,t,n,r){this.message=void 0,this.code=void 0,this.stack=void 0,this.name=void 0,this.message=e,this.code=t,this.stack=n,this.name=r}}},20595:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return d}));var r=n(20596),a=n(20583),i=n(20588),o=n(20584);function c(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){c(i,r,a,o,s,"next",e)}function s(e){c(i,r,a,o,s,"throw",e)}o(void 0)}))}}function u(e,t,n){return l.apply(this,arguments)}function l(){return(l=s((function*(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},u=arguments.length>6?arguments[6]:void 0,l=e.TraceManager.getTracer(o.a.MetadataCache),d=[...r];l.info("".concat(p()," Starting getSqlResults"),d);var f={sqlStatements:[],sqlParameters:new Array,additionalParameters:s};f.sqlStatements.push(t),f.sqlParameters.push(n),f=Object(i.c)(f,c,l);try{var h,v,m,y,g;!Object(i.x)(u)&&c.performanceControl&&c.performanceControl.startMarker(u);var b=yield null===(h=e.SqlExecutor)||void 0===h?void 0:h.executeSqlStatementsOnMetadataDB(f);return!Object(i.x)(u)&&c.performanceControl&&c.performanceControl.endMarker(u),l.info("".concat(p()," Completed getSqlResults")),(Object(i.w)(b)||b&&(null===(v=b[0])||void 0===v||!v.rows||(null===(m=b[0])||void 0===m?void 0:m.rows.length)<=0))&&d.push({name:"ExecuteSQLQuery",value:f.sqlStatements.toString()}),Object(i.w)(b)?l.warn("".concat(p()," executeSqlStatementOnMetadataDB returned no result in getSqlResults."),d):b&&(null===(y=b[0])||void 0===y||!y.rows||(null===(g=b[0])||void 0===g?void 0:g.rows.length)<=0)&&l.warn("".concat(p()," executeSqlStatementOnMetadataDB returned 0 rows getSqlResults."),d),b}catch(E){var O=Object(i.g)(E);return d.push({name:a.E.Message,value:O.message}),d.push({name:a.E.ErrorCode,value:O.code?O.code:a.G}),d.push({name:a.E.StackTrace,value:O.stack?O.stack:a.G}),l.error("".concat(p()," Exception in getSqlResults. Error message = ").concat(E.message),d),Promise.reject(O)}}))).apply(this,arguments)}function d(e,t){return f.apply(this,arguments)}function f(){return(f=s((function*(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=arguments.length>3?arguments[3]:void 0,s=e.TraceManager.getTracer(o.a.MetadataCache),u=n.commonEventParameters||[],l=[];t=Object(i.c)(t,n,s),l.push({name:"NoOfSQLStatements",value:t&&t.sqlStatements?t.sqlStatements.length:0}),s.info("".concat(p()," Starting getBatchSqlResults. "),Object(r.b)(u,l));try{var d;!Object(i.x)(c)&&n.performanceControl&&n.performanceControl.startMarker(c);var f=yield null===(d=e.SqlExecutor)||void 0===d?void 0:d.executeSqlStatementsOnMetadataDB(t);return!Object(i.x)(c)&&n.performanceControl&&n.performanceControl.endMarker(c),s.info("".concat(p()," Completed getBatchSqlResults"),Object(r.b)(u,l)),Object(i.w)(f)&&s.warn("".concat(p()," getBatchSqlResults return empty result"),Object(r.b)(u,l)),f}catch(v){var h=Object(i.g)(v);return l.push({name:a.E.Message,value:h.message}),l.push({name:a.E.ErrorCode,value:h.code?h.code:a.G}),l.push({name:a.E.StackTrace,value:h.stack?h.stack:a.G}),s.error("".concat(p()," Exception in getBatchSqlResults. Error message = ").concat(v.message),Object(r.b)(u,l)),Promise.reject(h)}}))).apply(this,arguments)}function p(e){return"[".concat(e||o.d.GetSqlResults,"]")}},20596:function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return p})),n.d(t,"a",(function(){return h})),n.d(t,"f",(function(){return v})),n.d(t,"e",(function(){return m})),n.d(t,"i",(function(){return O})),n.d(t,"g",(function(){return E})),n.d(t,"h",(function(){return _}));var r=n(20597),a=n(20599),i=n(20583),o=n(20584),c=n(20600),s=n(20588);function u(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){u(i,r,a,o,c,"next",e)}function c(e){u(i,r,a,o,c,"throw",e)}o(void 0)}))}}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.concat(e)}function f(e,t,n){t.push({name:i.q.CLIENT_REQUEST_ID,value:Object(s.k)(e)||o.c.EMPTY_STRING}),t.push({name:o.c.CLIENT_REQUEST_ID,value:Object(s.k)(e)||o.c.EMPTY_STRING}),t.push({name:o.c.END_POINT,value:e.endpoint||i.G}),t.push({name:o.c.METHOD,value:e.method||i.G}),t.push({name:o.c.REQUEST_URL,value:Object(c.b)(e.url||"")});var r=Object(s.l)(e,t);t.push({name:o.c.CLIENT_TYPE,value:r}),n=n||Object(a.a)(e),t.push({name:o.c.OPERATION_TYPE,value:"".concat(n)})}function p(e,t){var n=e.status||o.c.EMPTY_STRING,r=e.statusText||o.c.EMPTY_STRING,a=Object(c.b)(e.url)||o.c.EMPTY_STRING;if(!Object(s.v)(e.headers)){var u=e.headers,l=Object(s.p)(u,i.q.SERVER_REQUEST_ID)||o.c.EMPTY_STRING;t.push({name:o.c.SERVER_REQUEST_ID,value:l});var d=Object(s.p)(u,i.q.CONTENT_LENGTH)||o.c.EMPTY_STRING;t.push({name:o.c.RESPONSE_SIZE_IN_BYTES,value:d})}t.push({name:o.c.HTTP_STATUS_CODE,value:n}),t.push({name:o.c.HTTP_RESPONSE_STATUS_TEXT,value:r}),t.push({name:o.c.RESPONSE_URL,value:a})}function h(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Object(s.v)(e)||(t.push({name:o.c.ERROR_CODE,value:e[i.E.ErrorCode]||o.c.EMPTY_STRING}),t.push({name:o.c.ERROR_STACK,value:e[i.E.StackTrace]||e[i.E.Stack]||o.c.EMPTY_STRING}),t.push({name:o.c.ERROR_MESSAGE,value:e[i.E.Message]||o.c.EMPTY_STRING}),n&&t.push({name:o.c.ERROR_COMPLETE_TEXT,value:JSON.stringify(e)}))}function v(e,t){if(!Object(s.v)(e)&&!Object(s.v)(e.sqlStatements))for(var n=/'\w+.*?\'/g,r=0;r<e.sqlStatements.length;r++){var a=Object(s.v)(e.sqlStatements[r])?"":e.sqlStatements[r].replace(n,"'X'");t.push({name:o.c.SQL_QUERY+r,value:a})}}function m(e,t,n){return y.apply(this,arguments)}function y(){return(y=l((function*(e,t,n){try{if(n===i.y.Batch){var a=yield Object(r.a)(e);for(var o of a)if(!o.ok){g(o,t),p(e,t);break}}else g(e,t),p(e,t);return t}catch(c){return t}}))).apply(this,arguments)}function g(e,t){return b.apply(this,arguments)}function b(){return(b=l((function*(e,t){var n=yield e.text(),r={},a=!1;try{r=JSON.parse(n).error||{},a=Object(c.a)(e.url)}catch(o){r[i.E.Message]=n}h(r,t,a)}))).apply(this,arguments)}function O(e,t){var n=[];for(var r in t){var a=e.getPerformanceEntry(t[r]);a&&a.performanceMeasure&&a.performanceStatistic&&(1===a.performanceStatistic.count?(n.push({name:"".concat(t[r],"-startTime"),value:a.performanceMeasure.startTime||0}),n.push({name:"".concat(t[r],"-endTime"),value:a.performanceMeasure.endTime||0})):a.performanceStatistic.count>1&&(n.push({name:"".concat(t[r],"-totalDuration"),value:a.performanceStatistic.totalDuration||0}),n.push({name:"".concat(t[r],"-averageDuration"),value:a.performanceStatistic.averageDuration||0}),n.push({name:"".concat(t[r],"-executionCount"),value:a.performanceStatistic.count||0})))}return n}function E(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!Object(s.v)(e)){var n=[o.c.IS_CACHED_RESPONSE],r=t.filter(e=>n.includes(e.name));e.push(...r)}return e}function _(e){var t="";try{if(!Object(s.x)(e)){var n=JSON.parse(e);if(!Object(s.w)(n.results))for(var r of n.results)r.result&&(Array.isArray(r.result)&&r.result.length>0&&!Object(s.x)(r.result[0].message)?t=t+r.result[0].message+";\n":Object(s.x)(r.result.message)||(t=t+r.result.message+";\n"))}}catch(a){t=e}return t}},20597:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(20588),a=n(20598);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){return e.text().then(t=>{var n=[],i="";if(e.headers){var o=Object(r.p)(e.headers,"Content-Type");if(o){var c=o.match(/boundary=(.*)/);i=c?c[1]:""}}else i=t.substr(t.indexOf("batchresponse"),t.indexOf("\r\n")-2);var u=Object(a.b)(i,t);for(var d of u){var f=/^\s*Content-Type: .*boundary=(.*)\r?\n/gi.exec(d);if(f){var p=f[1],h=d.indexOf("--"+p),v=d.slice(h),m=Object(a.b)(p,v).map(s);n.push(...m)}else{var y=s(d);n.push(y)}}if(0===n.length){var g=l(e.status,e.statusText,e.headers,t);n.push(g)}return n})}function s(e){var t=-1!==e.indexOf("\r\n\r\n"),n=e.trim().split(t?"\r\n\r\n":"\n\n"),r=0,a=new d({}),i=null,o="",c="";if(n.length>0){var s=null;n.length>1&&(s=n[1].split(t?"\r\n":"\n"));var f=[];null!=s&&(f=s.slice(1),i=/(HTTP\/\d\.\d) (\d+) (.*)/gi.exec(s[0]));var p=n[0].split(t?"\r\n":"\n");if(null!=p)for(var h of p)0===h.toLowerCase().indexOf("content-id:")&&f.push(h);r=i&&i.length>=3?Number(i[2]):0,a=new d(f.reduce(u,{})),n.length>1&&(c=n[2]),null!=i&&i.length>2&&(o=i[3])}return l(r,o,a,c)}function u(e,t){var n=t.indexOf(":");if(n>=0){var r=t.substring(0,n),a=t.substring(n+1).trim();e[r]=a}return e}function l(e,t,n,r){return{status:e,ok:e>=200&&e<=299,statusText:t,headers:n,clone(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this)},json:()=>Promise.resolve(r?JSON.parse(r):null),text:()=>Promise.resolve(r)}}class d{constructor(e){this._headers=void 0,this._headers=e}append(e,t){this._headers[e]=t}get(e){return this._headers[e]}has(e){return this._headers.hasOwnProperty(e)}delete(e){delete this._headers[e]}set(e,t){this._headers[e]=t}forEach(e){for(var t in this._headers)e(this._headers[t],t,this)}}},20598:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return f}));var r=n(20596),a=n(20588),i=n(20584);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=/--batch_.*/;function l(e,t,n,r){var i=e.body,o=[];if(Object(a.x)(i))return o;var s=i.split(u);for(var l of s){var p=/^\s*Content-Type: .*boundary=(.*)\r?\n/gi.exec(l);if(p){if(p.length<=1||!p[1].trim())throw new Error("Error when parsing batch requests. Expected Changeset boundary is missing.");var h=p[1].trim(),v=l.indexOf("--"+h),m=f(h,l.slice(v));for(var y of m)if(0!==y.trim().length){var g=d(y,t,n);Object(a.v)(g)||o.push(g)}}else{if(0===l.trim().replace(/\0+$/,"").length)continue;var b,O=d(l,t,n);if(!Object(a.v)(O))null!=r&&null!==(b=r.AdditionalParameters)&&void 0!==b&&b.EnableCanvasOffline&&(O.additionalHeaders=c(c({},e.additionalHeaders),O.additionalHeaders)),o.push(O)}}return o}function d(e,t,n){var a,o="",c="",s={},u=e.split(/[\r\n]\s*[\r\n]/g),l=u.length>0?u[0].trim():"",d=u.length>1?u[1].trim():"";a=u.length>2?u[2].trim():"";var f=[...d.split("\n"),...l.split("\n")];for(var p of f)if(0!==p.trim().length&&/\S/.test(p.trim()))if((p=p.trim()).startsWith("GET")||p.startsWith("PUT")||p.startsWith("PATCH")||p.startsWith("POST")||p.startsWith("DELETE")){var h=p.split(/\s+/);o=h[0],c=h[1]}else{var v=p.split(":");if(!v||v.length<2)continue;s[v[0].trim()]=v[1].trim()}if(c&&o)return{url:c,method:o,additionalHeaders:s,body:a};var m,y=[];return y.push({name:"url",value:c}),y.push({name:"method",value:o}),y.push({name:"urlPart",value:d}),t.error("".concat("[".concat(m||i.d.BatchRequestParser,"]")," could not parse an individual request. Skipping"),Object(r.b)(n,y)),null}function f(e,t){if(!t)return[];var n="--"+e+"\r\n";0===t.indexOf(n)||(n="--"+e+"\n");var r=t.split(n);if(r.splice(0,1),r.length>0){var a=r[r.length-1],i=a.indexOf("--"+e);r[r.length-1]=a.substring(0,i)}return r}},20599:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(20583),a=n(20596),i=n(20584),o={};function c(e,t){var n,c,s=t?t.TraceManager.getTracer(i.a.UrlParserHandler):null,u=[];Object(a.c)(e,u,r.G);var l,d="";switch(e.method){case r.t.Post:d=-1!==e.url.indexOf("/$batch")?o[e.method].Batch:-1!==e.url.indexOf("/$ref")?o[e.method].Update:o[e.method].Create;break;case r.t.Get:if(e.url.match("/GetClientMetadata"))d=o[e.method].GetClientMetadata;else if(null!=t&&null!==(n=t.AdditionalParameters)&&void 0!==n&&n.EnableCanvasOffline&&-1!==e.url.indexOf("/RetrieveTotalRecordCount(EntityNames="))d=o[e.method].CountRows;else if(null!=t&&null!==(c=t.AdditionalParameters)&&void 0!==c&&c.EnableCanvasOffline&&-1!==e.url.indexOf("/GetFileSasUrl"))d=o[e.method].GetFileSasUrl;else{var f=e.url.indexOf("("),p=e.url.indexOf("?");-1===f&&-1===p&&(d=o[e.method].RetrieveMultiple);var h=e.url.lastIndexOf("/");d=-1!==f&&-1!==p?f<p?h>f?o[e.method].RetrieveMultiple:o[e.method].Retrieve:o[e.method].RetrieveMultiple:-1===f||h>f?o[e.method].RetrieveMultiple:o[e.method].Retrieve}break;case r.t.Patch:d=e.additionalHeaders&&"application/octet-stream"===e.additionalHeaders["Content-Type"]?o[e.method].Upload:o[e.method].Patch;break;case r.t.Delete:d=e.url.lastIndexOf(")")+1>=e.url.length||e.url.indexOf("$filter")>=0||-1!==e.url.indexOf("/$ref")?o[e.method].Delete:o[e.method].FileDelete;break;default:if(s)throw s.error("".concat("[".concat(l||i.d.UrlParserHandler,"]")," ").concat("Request type is not supported"),u),new Error("Request type is not supported");d=r.G}return d}o[r.t.Post]={Batch:r.y.Batch,Create:r.y.Create,Update:r.y.Update},o[r.t.Get]={GetClientMetadata:r.y.GetClientMetadata,RetrieveMultiple:r.y.RetrieveMultiple,Retrieve:r.y.Retrieve,CountRows:r.y.CountRows,GetFileSasUrl:r.y.GetFileSasUrl},o[r.t.Patch]={Patch:r.y.Update,Upload:r.y.Upload},o[r.t.Delete]={Delete:r.y.Delete,FileDelete:r.y.FileDelete}},20600:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return c}));var r=n(20588),a=n(20601),i=n(20583);function o(e){if(Object(r.x)(e))return e;if(c(e))return e;if(-1!==e.indexOf(i.j)){var t=e.indexOf(i.j),n=decodeURIComponent(e.substring(e.indexOf(i.j)+i.j.length,e.length));return"".concat(e.substring(0,t+i.j.length)).concat(function(e){var t=new DOMParser,n=new XMLSerializer;if(e){var r=t.parseFromString(e,"text/xml");if(r){var a=Array.prototype.slice.call(r.getElementsByTagName("condition"));return a&&a.forEach(e=>{e.getAttribute("value")&&e.setAttribute("value","X"),e.getAttribute("uiname")&&e.setAttribute("uiname","X");var t=Array.prototype.slice.call(e.getElementsByTagName("value"));t&&t.forEach(e=>{e.getAttribute("uiname")&&e.setAttribute("uiname","X"),e.textContent="X"})}),n.serializeToString(r)}return null}return null}(n))}var o=e.indexOf(a.p.question);if(-1===o){var s=e.indexOf(a.p.equal);return-1===s?e:e.substring(0,s)}return e.substring(0,o)}function c(e){return!Object(r.x)(e)&&(-1!==e.indexOf("GetClientMetadata")||-1!==e.indexOf("EntityDefinitions")||-1!==e.indexOf("SyncClientMetadata"))}},20601:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"i",(function(){return a})),n.d(t,"v",(function(){return i})),n.d(t,"f",(function(){return o})),n.d(t,"b",(function(){return c})),n.d(t,"j",(function(){return s})),n.d(t,"n",(function(){return u})),n.d(t,"o",(function(){return l})),n.d(t,"q",(function(){return d})),n.d(t,"r",(function(){return f})),n.d(t,"s",(function(){return p})),n.d(t,"p",(function(){return h})),n.d(t,"l",(function(){return v})),n.d(t,"d",(function(){return m})),n.d(t,"h",(function(){return y})),n.d(t,"g",(function(){return g})),n.d(t,"c",(function(){return b})),n.d(t,"e",(function(){return O})),n.d(t,"w",(function(){return E})),n.d(t,"k",(function(){return _})),n.d(t,"m",(function(){return S})),n.d(t,"x",(function(){return C})),n.d(t,"u",(function(){return w})),n.d(t,"t",(function(){return T}));var r="annotation",a=function(e){return e[e.lastFirst=0]="lastFirst",e[e.firstLast=1]="firstLast",e[e.lastFirstMiddleInitial=2]="lastFirstMiddleInitial",e[e.firstMiddleInitialLast=3]="firstMiddleInitialLast",e[e.lastFirstMiddle=4]="lastFirstMiddle",e[e.firstMiddleLast=5]="firstMiddleLast",e[e.lastSpaceFirst=6]="lastSpaceFirst",e[e.lastNoSpaceFirst=7]="lastNoSpaceFirst",e}({}),i=function(e){return e[e.create=0]="create",e[e.update=1]="update",e[e.delete=3]="delete",e}({}),o=function(e){return e[e.DateOnly=0]="DateOnly",e[e.DateAndTime=1]="DateAndTime",e}({}),c=4406,s=4206,u=4208,l=4209,d=4211,f=4251,p={ASC:"asc",DESC:"desc"},h={dot:".",closeSQBracket:"]",comma:",",doubleQuote:'"',openSQBracket:"[",singleQuote:"'",space:" ",exclamation:"!",equal:"=",question:"?",openParenthesis:"(",closeParenthesis:")",asterisk:"*",dollar:"$",plus:"+",forwardSlash:"/"},v={QUICKFIND_START:"/*QuickFindStart*/",QUICKFIND_END:"/*QuickFindEnd*/",SELECT_START:"/*SelectStart*/",SELECT_END:"/*SelectEnd*/",FROM_START:"/*FromStart*/",FROM_END:"/*FromEnd*/",CTE_START:"/*CTEStart*/",CTE_END:"/*CTEEnd*/",WHERE_START:"/*WhereStart*/",WHERE_END:"/*WhereEnd*/",ORDERBY_START:"/*OrderByStart*/",ORDERBY_END:"/*OrderByEnd*/",JOIN_START:"/*JoinStart*/",JOIN_END:"/*JoinEnd*/"},m={PageSize:"25",PageNumber:"1",EmptyString:""},y={SqlTokensAvailable:"UseOfflineSqlTokens",MdlUsesDependencyInformation:"MDLUsesDependencyInformation",ModernDataLayerMatchServerGCM:"ModernDataLayerMatchServerGCM",ModernDataLayerRMValidations:"ModernDataLayerRMValidations",MDLClientApiGapsAndFeatures:"MDLClientApiGapsAndFeatures",MDLOfflineRetrieveMultipleTotal:"MDLOfflineRetrieveMultipleTotal"},g={primaryIdAttribute:"Entity metadata does not have primary id attribute",referencedId:"Missing ID of the referenced entity record.",invalidParameter:"Invalid parameters",invalidHints:"Invalid hint"},b={insert:"INSERT",select:"SELECT",update:"UPDATE",set:"SET",where:"WHERE",delete:"DELETE",orderBy:"ORDER BY",collateNoCase:"COLLATE NOCASE",limit:"LIMIT",offset:"OFFSET",from:"FROM",as:"AS",in:"IN",and:"AND",into:"INTO",values:"VALUES",placeholder:"?",distinct:"DISTINCT"},O=function(e){return e.on="on",e.onOrAfter="on-or-after",e.onOrBefore="on-or-before",e.yesterday="yesterday",e.today="today",e.tomorrow="tomorrow",e.last7Days="last-seven-days",e.next7Days="next-seven-days",e.lastWeek="last-week",e.thisWeek="this-week",e.nextWeek="next-week",e.lastMonth="last-month",e.thisMonth="this-month",e.nextMonth="next-month",e.lastYear="last-year",e.thisYear="this-year",e.nextYear="next-year",e.lastXDays="last-x-days",e.nextXDays="next-x-days",e.lastXWeeks="last-x-weeks",e.nextXWeeks="next-x-weeks",e.lastXMonths="last-x-months",e.nextXMonths="next-x-months",e.lastXYears="last-x-years",e.nextXYears="next-x-years",e.anyTime="not-null",e.startOfCurrentHourUTC="'!start-of-current-hour-utc!'",e.startOfTodayUTC="'!start-of-today-utc!'",e.startOfWorkWeekUTC="'!start-of-work-week-utc!'",e.startOfMonthUTC="'!start-of-month-utc!'",e.startOfYearUTC="'!start-of-year-utc!'",e.userTimezoneHourOffset="!user-timezone-hour-offset!",e.userTimezoneMinuteOffset="!user-timezone-minute-offset!",e.UTCHourOffset="!utc-hour-offset!",e.UTCMinuteOffset="!utc-minute-offset!",e}({}),E='"!eq-userid!"',_={userLanguage:"@LanguageId0",basedLanguage:"@LanguageId1",columnName0:"@ObjectColumnName0",columnName1:"@ObjectColumnName1"},S=[E,_.userLanguage,_.basedLanguage,_.columnName0,_.columnName1,O.startOfCurrentHourUTC,O.startOfTodayUTC,O.startOfYearUTC,O.startOfMonthUTC,O.startOfWorkWeekUTC,O.userTimezoneHourOffset,O.userTimezoneMinuteOffset,O.UTCHourOffset,O.UTCMinuteOffset],C=new RegExp("\\s+","g"),w="INSERT INTO _NORSYNC_SUPPRESS_TRIGGERS(value) VALUES(1)",T="DELETE FROM _NORSYNC_SUPPRESS_TRIGGERS"},20602:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(20588),a=n(20586),i=n(20603),o=n(20587),c=n(20605),s=n(20606);class u{static extractKey(e){return o.a.createFromObjectData(e.id).toString()}static addValueWrapper(e){var t={};return t.Value=e,t}static removeValueWrapper(e){return e?e.Value:null}static createFromObjectData(e){Object(r.x)(e.MetadataId)||(e=u.createFromODataResponse(e).getObjectData());var t=new u(e.logicalname,o.a.createFromObjectData(e.id),e.entitylogicalname,Object(c.b)(e.type),e.displayname,e.issecured,e.isvalidforcreate,e.isvalidforread,e.isvalidforupdate,e.requiredlevel,e.maxlength,e.minvalue,e.maxvalue,e.precision,e.precisionsource,e.format,e.behavior,e.defaultformvalue,e.defaultvalue,s.a.createFromObjectData(e.optionset),e.isbasecurrency,e.targets,e.attributeof,e.haschanged,e.imemode,e.issortableenabled,e.inheritsfrom,e.sourcetype,e.islocalizable,e.IsCustomAttribute,e.columnNumber);return t._formatName=e.formatName,t._description=e.description,t._sourceTypeMask=e.sourceTypeMask,t._attributeTypeName=e.attributeTypeName,t}static createFromODataResponse(e){var t=e.LogicalName,n=o.a.tryCreate(e.MetadataId),a=e.EntityLogicalName,l=Object(c.b)(e.AttributeType),d=u.removeValueWrapper(e.AttributeTypeName),f=new RegExp("Type","g");if(Object(r.x)(d))throw new Error("Null or empty attribute type name in attribute metadata for entity ".concat(a," attribute type ").concat(l));"float"===(d=d.replace(f,"").toLowerCase())&&(d="double");var p,h=e.SourceType,v=i.a.getLabelString(e.Description),m=i.a.getLabelString(e.DisplayName),y=u.removeValueWrapper(e.RequiredLevel);p="string"==typeof y?Object(r.D)(y):y;var g=e.IsSecured,b=e.IsValidForCreate,O=e.IsValidForUpdate,E=e.IsValidForRead,_=e.ColumnNumber,S=e.SourceTypeMask,C=e.MaxLength,w=e.MinValue,T=e.MaxValue,j=e.Precision,N=e.PrecisionSource,P=e.Format,I=null;Object(r.v)(P)||(I=P.toString());var R=u.removeValueWrapper(e.FormatName),M=u.removeValueWrapper(e.DateTimeBehavior),x=0;Object(r.v)(M)||(x=Object(r.C)(M));var D=e.DefaultFormValue,A=e.DefaultValue,k=e.IsBaseCurrency,F=e.AttributeOf,L=e.HasChanged,q=u.removeValueWrapper(e.IsSortableEnabled),U=e.ImeMode,B=e.InheritsFrom,V=e.IsLocalizable,G=e.IsCustomAttribute,H=null,Q=e.OptionSet;if(!Object(r.v)(Q)){var z=Q.Options;if(Object(r.v)(z)){var W=Q.TrueOption,Y=[Q.FalseOption,W];H=s.a.createFromOData(Y)}else H=s.a.createFromOData(z)}var X=e.Targets,K=new u(t,n,a,l,m,g,b,E,O,p,C,w,T,j,N,I,x,D,A,H,k,X,F,L,U,q,B,h,V,G,_);return K._formatName=R,K._description=v,K._sourceTypeMask=S,K._attributeTypeName=d,K}constructor(e,t,n,i,o,c,s,u,l,d,f,p,h,v,m,y,g,b,O,E,_,S,C,w,T,j,N,P,I,R,M){this._id=void 0,this._logicalName=void 0,this._type=a.a.Boolean,this._sourceType=0,this._entityLogicalName=void 0,this._displayName=void 0,this._formatName="",this._attributeTypeName="",this._description="",this._columnNumber=0,this._sourceTypeMask=0,this._isSecured=!1,this._isValidForCreate=!1,this._isValidForRead=!1,this._isValidForUpdate=!1,this._requiredLevel=0,this._maxLength=0,this._minValue=0,this._maxValue=0,this._precision=0,this._precisionSource=0,this._format=void 0,this._behavior=0,this._defaultFormValue=0,this._defaultValue=!1,this._isBaseCurrency=!1,this._optionSet=void 0,this._targets=void 0,this._attributeOf=void 0,this._hasChanged=!1,this._isSortableEnabled=!1,this._imeMode=0,this._inheritsFrom=void 0,this._isLocalizable=!1,this._isCustomAttribute=!1,Object(r.G)(e,"logicalName"),Object(r.G)(t,"id"),Object(r.G)(i,"type"),Object(r.G)(d,"requiredLevel"),Object(r.G)(c,"isSecured"),Object(r.G)(s,"isValidForCreate"),Object(r.G)(u,"isValidForRead"),Object(r.G)(l,"isValidForUpdate"),this._logicalName=e,this._id=t,this._entityLogicalName=n,this._type=i,this._sourceType=P||0,this._displayName=o,this._isSecured=c,this._isValidForCreate=s,this._isValidForRead=u,this._isValidForUpdate=l,this._requiredLevel=d,this._maxLength=f,this._minValue=p,this._maxValue=h,this._precision=v,this._precisionSource=m,this._format=y,this._behavior=g,this._defaultFormValue=b,this._defaultValue=O,this._optionSet=E,this._targets=S,this._isBaseCurrency=_,this._attributeOf=C,this._hasChanged=w,this._isSortableEnabled=j||!1,this._imeMode=T||0,this._inheritsFrom=N||"",this._isLocalizable=I||!1,this._isCustomAttribute=R||!1,this._columnNumber=M||0}get_id(){return this._id}get_logicalName(){return this._logicalName}get_entityLogicalName(){return this._entityLogicalName}get_type(){return this._type}get_sourceType(){return this._sourceType}get_displayName(){return this._displayName}get_isValidForCreate(){return this._isValidForCreate}get_isSecured(){return this._isSecured}get_isValidForUpdate(){return this._isValidForUpdate}get_isValidForRead(){return this._isValidForRead}get_requiredLevel(){return this._requiredLevel}get_maxLength(){return this._maxLength}get_minValue(){return this._minValue}get_maxValue(){return this._maxValue}get_precision(){return this._precision}get_precisionSource(){return this._precisionSource}get_format(){return this._format}get_formatName(){return this._formatName}get_behavior(){return this._behavior}get_isBaseCurrency(){return this._isBaseCurrency}get_defaultFormValue(){return this._defaultFormValue}get_defaultValue(){return this._defaultValue}get_optionSet(){return this._optionSet}get_targets(){return this._targets}get_attributeOf(){return this._attributeOf}get_hasChanged(){return this._hasChanged}get_isSortableEnabled(){return this._isSortableEnabled}get_imeMode(){return this._imeMode}get_inheritsFrom(){return this._inheritsFrom}get_isLocalizable(){return this._isLocalizable}get_isCustomAttribute(){return this._isCustomAttribute}get_columnNumber(){return this._columnNumber}getObjectData(){return{[u.logicalNamePath]:this._logicalName,id:this._id.getObjectData(),[u.entityLogicalNamePath]:this._entityLogicalName,[u.entityAttributeLogicalNamesPath]:this._entityLogicalName+r.a+this._logicalName,type:Object(c.c)(this._type),sourcetype:this._sourceType,displayname:this._displayName,issecured:this._isSecured,issortableenabled:this._isSortableEnabled,isvalidforcreate:this._isValidForCreate,isvalidforupdate:this._isValidForUpdate,isvalidforread:this._isValidForRead,requiredlevel:this._requiredLevel,maxlength:this._maxLength,minvalue:this._minValue,maxvalue:this._maxValue,precision:this._precision,precisionsource:this._precisionSource,defaultformvalue:this._defaultFormValue,defaultvalue:this._defaultValue,format:this._format,behavior:this._behavior,isbasecurrency:this._isBaseCurrency,attributeof:this._attributeOf,haschanged:this._hasChanged,imemode:this._imeMode,inheritsfrom:this._inheritsFrom,islocalizable:this._isLocalizable,formatName:this._formatName,description:this._description,columnNumber:this._columnNumber,sourceTypeMask:this._sourceTypeMask,attributeTypeName:this._attributeTypeName,IsCustomAttribute:this._isCustomAttribute,optionset:Object(r.v)(this._optionSet)?void 0:this._optionSet.getObjectData(),targets:Object(r.v)(this._targets)?void 0:this._targets}}getODataObject(){return{LogicalName:this._logicalName,MetadataId:this._id.toString(),EntityLogicalName:this._entityLogicalName,EntityAttributeLogicalNames:this._entityLogicalName+r.a+this._logicalName,AttributeType:Object(c.c)(this._type),AttributeTypeName:u.addValueWrapper(("double"===this._attributeTypeName?"Float":this._attributeTypeName)+"Type"),Description:i.a.convertToLabel(this._description),ColumnNumber:this._columnNumber,FormatName:u.addValueWrapper(this._formatName),SourceTypeMask:this._sourceTypeMask,OptionSet:!Object(r.v)(this._optionSet)&&this._optionSet.getODataObject(),SourceType:this._sourceType,DisplayName:i.a.convertToLabel(this._displayName),IsSecured:this._isSecured,IsSortableEnabled:u.addValueWrapper(this._isSortableEnabled),IsValidForCreate:this._isValidForCreate,IsValidForUpdate:this._isValidForUpdate,IsValidForRead:this._isValidForRead,RequiredLevel:u.addValueWrapper(this._requiredLevel),MaxLength:this._maxLength,MinValue:this._minValue,MaxValue:this._maxValue,Precision:this._precision,PrecisionSource:this._precisionSource,DefaultFormValue:this._defaultFormValue,DefaultValue:this._defaultValue,Format:!Object(r.v)(this._format)&&parseInt(this._format,10),DateTimeBehavior:u.addValueWrapper(Object(r.d)(this._behavior)),IsBaseCurrency:this._isBaseCurrency,AttributeOf:this._attributeOf,HasChanged:this._hasChanged,ImeMode:this._imeMode,InheritsFrom:this._inheritsFrom,IsLocalizable:this._isLocalizable,IsCustomAttribute:this._isCustomAttribute,Targets:!Object(r.v)(this._targets)&&this._targets}}}u.entityLogicalNamePath="entitylogicalname",u.logicalNamePath="logicalname",u.entityAttributeLogicalNamesPath="entitylogicalname_logicalname"},20603:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(20588),a=n(20587),i=n(20604);class o{static extractKey(e){return a.a.createFromObjectData(e[o._idPath]).toString()}static createFromObjectData(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Object(r.x)(e.MetadataId)||(e=o.createFromOData(e,t).getObjectData());var n=a.a.createFromObjectData(e[o._idPath]),c=e[o.logicalNamePath],s=e.displayname,u=e.entitysetname,l=e.objecttypecode,d=e.primaryidattribute,f=e.primarynameattribute,p=e.primaryimageattribute,h=e.isreadonlyformobileclient,v=e.isvisibleinmobileclient,m=e.isofflineinmobileclient,y=e.isoptimisticconcurrencyenabled,g=e.haschanged,b=e.isactivity,O=e.ischildentity,E=e.parententitylogicalname,_=e.parententityreferencingattribute,S=e.isvalidforadvancedfind,C=e.ismailmergeenabled,w=e.isconnectionsenabled,T=e.iscustomizable,j=e.isactivityparty,N=e.isimportable,P=e.isenabledforcharts,I=e.iscustomentity,R=e.isstatemodelaware,M=e.enforcestatetransitions,x=e.iscollaboration,D=e.activitytypemask,A=e.ownershiptype,k=e.hassecuredattributes,F=e.hasstatecode,L=e.isbusinessprocessenabled,q=e.isdocumentmanagementenabled,U=e.isonenoteintegrationenabled,B=e.ismsteamsintegrationenabled,V=e.hasactivities,G=e.entitycolor,H=e.isinteractioncentricenabled,Q=e.isQuickCreateEnabled,z=e.entityClientSetting,W=e.isKnowledgeManagementEnabled,Y=e.IsDocumentRecommendationsEnabled,X=e.isIntersect,K=e.hasnotes,J=e.usesBusinessDataLabelTable,Z=e.iconVectorName,$=e.isbpfentity,ee=Object(r.x)(e.dataProviderId)?a.a.get_empty():a.a.tryCreate(e.dataProviderId),te=e.primaryKeyName,ne=e.autoRouteToOwnerQueue,re=e.canTriggerWorkflow,ae=e.displayCollectionName,ie=e.description,oe=e.oneToManyRelationships,ce=e.manyToOneRelationships,se=e.manyToManyRelationships,ue=-1,le=-1;e.VersionNumber&&(ue=e.VersionNumber),e.OverallVersionNumber&&(le=e.OverallVersionNumber);var de=e.AttributeNames,fe=e.Attributes,pe=e.privileges.map(e=>i.a.createFromObjectData(e)),he=new o(n,c,s,u,l,d,f,p,pe,h,v,m,y,g,b,O,E,_,S,C,w,T,j,N,P,I,R,M,x,D,A,k,F,L,q,U,B,V,G,H,Q,z,W,Y,X,K,J,Z,$,ue,le,de,fe);return he._primaryKeyName=te,he._autoRouteToOwnerQueue=ne,he._canTriggerWorkflow=re,he._displayCollectionName=ae,he._description=ie,he._dataProviderId=ee,he._oneToManyRelationships=oe,he._manyToManyRelationships=se,he._manyToOneRelationships=ce,he}static getLabelString(e){return Object(r.v)(e.UserLocalizedLabel)?"":e.UserLocalizedLabel.Label}static convertToLabel(e){var t={UserLocalizedLabel:{}};return t.UserLocalizedLabel.Label=e,t}static createFromOData(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=a.a.tryCreate(e.MetadataId),c=e.LogicalName,s=o.getLabelString(e.DisplayName),u=e.EntitySetName,l=e.ObjectTypeCode,d=e.PrimaryIdAttribute,f=e.IconVectorName,p=e.PrimaryKeyName,h=e.AutoRouteToOwnerQueue,v=e.CanTriggerWorkflow,m=e.PrimaryNameAttribute,y=e.PrimaryImageAttribute,g=e.IsReadOnlyInMobileClient,b=e.IsVisibleInMobileClient,O=e.IsOfflineInMobileClient,E=e.IsOptimisticConcurrencyEnabled,_=e.HasChanged,S=e.IsActivity,C=e.IsChildEntity,w=e.ParentEntityLogicalName,T=e.ParentEntityReferencingAttribute,j=e.IsValidForAdvancedFind,N=e.IsMailMergeEnabled,P=e.IsConnectionsEnabled,I=e.IsCustomizable,R=e.IsActivityParty,M=e.IsImportable,x=e.IsEnabledForCharts,D=e.IsCustomEntity,A=e.IsStateModelAware,k=e.EnforceStateTransitions,F=e.IsValidForQueue,L=e.ActivityTypeMask,q=e.OwnershipType,U=e.IsBusinessProcessEnabled,B=e.IsDocumentManagementEnabled,V=e.IsOneNoteIntegrationEnabled,G=e.IsMSTeamsIntegrationEnabled,H=e.EntityColor,Q=e.IsInteractionCentricEnabled,z=e.IsQuickCreateEnabled,W=e.entityClientSetting,Y=e.IsKnowledgeManagementEnabled,X=e.IsDocumentManagementEnabled,K=e.IsBPFEntity,J=e.OneToManyRelationships,Z=e.ManyToOneRelationships,$=e.ManyToManyRelationships,ee=o.getLabelString(e.DisplayCollectionName),te=o.getLabelString(e.Description),ne=Object(r.x)(e.DataProviderId)?a.a.get_empty():a.a.tryCreate(e.DataProviderId),re=-1,ae=-1;e.VersionNumber&&(re=e.VersionNumber),e.OverallVersionNumber&&(ae=e.OverallVersionNumber);for(var ie,oe=!1,ce=e.AttributeNames,se=0;se<ce.length;se++)if("statecode"===ce[se]){oe=!0;break}t&&(ie=e.Attributes);var ue=e.IsIntersect,le=e.Privileges.map(e=>i.a.createFromOData(e)),de=new o(n,c,s,u,l,d,m,y,le,g,b,O,E,_,S,C,w,T,j,N,P,I,R,M,x,D,A,k,F,L,q,!1,oe,U,B,V,G,!1,H,Q,z,W,Y,X,ue,!1,!1,f,K,re,ae,ce,ie);return de._primaryKeyName=p,de._autoRouteToOwnerQueue=h,de._canTriggerWorkflow=v,de._displayCollectionName=ee,de._description=te,de._dataProviderId=ne,de._oneToManyRelationships=J,de._manyToOneRelationships=Z,de._manyToManyRelationships=$,de}constructor(e,t,n,i,o,c,s,u,l,d,f,p,h,v,m,y,g,b,O,E,_,S,C,w,T,j,N,P,I,R,M,x,D,A,k,F,L,q,U,B,V,G,H,Q,z,W,Y,X,K,J,Z,$,ee){for(var te of(this._id=void 0,this._logicalName=void 0,this._objectTypeCode=0,this._primaryIdAttribute=void 0,this._primaryNameAttribute=void 0,this._primaryImageAttribute=void 0,this._privilegesByType=void 0,this._hasChanged=!1,this._isActivity=!1,this._isReadOnlyForMobileClient=!1,this._isVisibleInMobileClient=!1,this._isOfflineInMobileClient=!1,this._isOptimisticConcurrencyEnabled=!1,this._isChildEntity=!1,this._parentEntityLogicalName=void 0,this._parentEntityReferencingAttribute=void 0,this._displayName=void 0,this._primaryKeyName="",this._autoRouteToOwnerQueue=!1,this._canTriggerWorkflow=!1,this._displayCollectionName="",this._description="",this._entitySetName=void 0,this._isValidForAdvancedFind=!1,this._isMailMergeEnabled=!1,this._isConnectionsEnabled=!1,this._isCustomizable=!1,this._isActivityParty=!1,this._isImportable=!1,this._isEnabledForCharts=!1,this._isCustomEntity=!1,this._isStateModelAware=!1,this._enforceStateTransitions=!1,this._activityTypeMask=0,this._ownershipType=0,this._isCollaboration=!1,this._hasSecuredAttributes=!1,this._hasStateCode=!1,this._isBusinessProcessEnabled=!1,this._isDocumentManagementEnabled=!1,this._isOneNoteIntegrationEnabled=!1,this._isMSTeamsIntegrationEnabled=!1,this._isIntersect=!1,this._hasActivities=!1,this._entityColor=void 0,this._isInteractionCentricEnabled=!1,this._isQuickCreateEnabled=!1,this._entityClientSetting={AllowMainFormDialogForCreate:!1,AllowMainFormDialogForEdit:!1},this._isKnowledgeManagementEnabled=!1,this._isDocumentRecommendationsEnabled=!1,this._hasNotes=!1,this._usesBusinessDataLabelTable=!1,this._isBPFEntity=!1,this._oneToManyRelationships=[],this._manyToOneRelationships=[],this._manyToManyRelationships=[],this._iconVectorName=void 0,this._dataProviderId=a.a.get_empty(),this._versionNumber=0,this._overallVersionNumber=0,this._attributeNames=void 0,this._attributes=void 0,Object(r.G)(e,"id"),Object(r.G)(t,"logicalName"),this._id=e,this._logicalName=t,this._displayName=n,this._entitySetName=i,this._objectTypeCode=o,this._primaryIdAttribute=c,this._primaryNameAttribute=s,this._primaryImageAttribute=u,this._isReadOnlyForMobileClient=d,this._isVisibleInMobileClient=f,this._isOfflineInMobileClient=p,this._isOptimisticConcurrencyEnabled=h,this._hasChanged=v,this._isActivity=m,this._isChildEntity=y,this._parentEntityLogicalName=g,this._parentEntityReferencingAttribute=b,this._isValidForAdvancedFind=O,this._isMailMergeEnabled=E,this._isConnectionsEnabled=_,this._isCustomizable=S,this._isActivityParty=C,this._isImportable=w,this._isEnabledForCharts=T,this._isCustomEntity=j,this._isStateModelAware=N,this._enforceStateTransitions=P,this._isCollaboration=I,this._activityTypeMask=R,this._ownershipType=M,this._hasSecuredAttributes=x,this._hasStateCode=D,this._isBusinessProcessEnabled=A,this._isDocumentManagementEnabled=k,this._isOneNoteIntegrationEnabled=F,this._isMSTeamsIntegrationEnabled=L,this._hasActivities=q,this._entityColor=U,this._isInteractionCentricEnabled=B,this._isQuickCreateEnabled=V,this._entityClientSetting=G,this._isKnowledgeManagementEnabled=H,this._isDocumentRecommendationsEnabled=Q,this._isIntersect=z,this._hasNotes=W,this._usesBusinessDataLabelTable=Y,this._iconVectorName=X,this._isBPFEntity=K,this._versionNumber=J,this._overallVersionNumber=Z,this._attributeNames=$,this._privilegesByType={},this._attributes=ee,l))this._privilegesByType[te.get_privilegeTypeKey()]=te}get_attributeNames(){return this._attributeNames}get_id(){return this._id}get_logicalName(){return this._logicalName}get_displayName(){return this._displayName}set_entitySetName(e){return this._entitySetName=e,e}get_objectTypeCode(){return this._objectTypeCode}get_primaryIdAttribute(){return this._primaryIdAttribute}get_primaryNameAttribute(){return this._primaryNameAttribute}get_isOptimisticConcurrencyEnabled(){return this._isOptimisticConcurrencyEnabled}get_isActivity(){switch(this._logicalName){case"phonecall":case"email":case"task":case"appointment":case"activitypointer":return!0;default:return this._isActivity}}get_isChildEntity(){return this._isChildEntity}get_parentEntityLogicalName(){return this._parentEntityLogicalName}get_parentEntityReferencingAttribute(){return this._parentEntityReferencingAttribute}get_isCustomEntity(){return this._isCustomEntity}get_activityTypeMask(){return this._activityTypeMask}get_ownershipType(){return this._ownershipType}get_hasSecuredAttributes(){return this._hasSecuredAttributes}get_hasStateCode(){return this._hasStateCode}get_isBusinessProcessEnabled(){return this._isBusinessProcessEnabled}get_isIntersect(){return this._isIntersect}get_usesBusinessDataLabelTable(){return this._usesBusinessDataLabelTable}get_isBPFEntity(){return this._isBPFEntity}getEntityCanBeUsedInBusinessProcess(){return this._isBusinessProcessEnabled||this._isBPFEntity}getODataObject(){var e={},t=this._id.toString();for(var n in e.Id=t,e.MetadataId=t,e.LogicalName=this._logicalName,e.DisplayName=o.convertToLabel(this._displayName),e.EntitySetName=this._entitySetName,e.ObjectTypeCode=this._objectTypeCode,e.PrimaryKeyName=this._primaryKeyName,e.AutoRouteToOwnerQueue=this._autoRouteToOwnerQueue,e.CanTriggerWorkflow=this._canTriggerWorkflow,e.Description=o.convertToLabel(this._description),e.DisplayCollectionName=o.convertToLabel(this._displayCollectionName),e.PrimaryIdAttribute=this._primaryIdAttribute,e.PrimaryNameAttribute=this._primaryNameAttribute,e.PrimaryImageAttribute=this._primaryImageAttribute,e.IsReadOnlyInMobileClient=this._isReadOnlyForMobileClient,e.IsVisibleInMobileClient=this._isVisibleInMobileClient,e.IsOfflineInMobileClient=this._isOfflineInMobileClient,e.IsOptimisticConcurrencyEnabled=this._isOptimisticConcurrencyEnabled,e.HasChanged=this._hasChanged,e.IsActivity=this._isActivity,e.IsChildEntity=this._isChildEntity,e.ParentEntityLogicalName=this._parentEntityLogicalName,e.ParentEntityReferencingAttribute=this._parentEntityReferencingAttribute,e.IsValidForAdvancedFind=this._isValidForAdvancedFind,e.IsMailMergeEnabled=this._isMailMergeEnabled,e.IsConnectionsEnabled=this._isConnectionsEnabled,e.IsCustomizable=this._isCustomizable,e.IsActivityParty=this._isActivityParty,e.IsImportable=this._isImportable,e.IsEnabledForCharts=this._isEnabledForCharts,e.IsCustomEntity=this._isCustomEntity,e.IsStateModelAware=this._isStateModelAware,e.EnforceStateTransitions=this._enforceStateTransitions,e.IsValidForQueue=this._isCollaboration,e.ActivityTypeMask=this._activityTypeMask,e.OwnershipType=this._ownershipType,e.HasStateCode=this._hasStateCode,e.IsBusinessProcessEnabled=this._isBusinessProcessEnabled,e.IsDocumentManagementEnabled=this._isDocumentManagementEnabled,e.EntityColor=this._entityColor,e.IsInteractionCentricEnabled=this._isInteractionCentricEnabled,e.isQuickCreateEnabled=this._isQuickCreateEnabled,e.entityClientSetting=this._entityClientSetting,e.IsKnowledgeManagementEnabled=this._isKnowledgeManagementEnabled,e.OneToManyRelationships=this._oneToManyRelationships,e.ManyToOneRelationships=this._manyToOneRelationships,e.ManyToManyRelationships=this._manyToManyRelationships,e.IconVectorName=this._iconVectorName,e.IsBPFEntity=this._isBPFEntity,e.DataProviderId=this._dataProviderId?this._dataProviderId.toString():"",e.IsDocumentRecommendationsEnabled=this._isDocumentRecommendationsEnabled,e.IsIntersect=this._isIntersect,e.IsMSTeamsIntegrationEnabled=this._isMSTeamsIntegrationEnabled,e.VersionNumber=this._versionNumber,e.OverallVersionNumber=this._overallVersionNumber,e.AttributeNames=this._attributeNames,e.Attributes=this._attributes,e.Privileges=[],this._privilegesByType)this._privilegesByType.hasOwnProperty(n)&&e.Privileges.push(this._privilegesByType[n].getODataObject());return e}getObjectData(){var e={};e[o._idPath]=this._id.getObjectData(),e[o.logicalNamePath]=this._logicalName,e.displayname=this._displayName,e.entitysetname=this._entitySetName,e.objecttypecode=this._objectTypeCode,e.primaryidattribute=this._primaryIdAttribute,e.primarykeyname=this._primaryKeyName,e.displayCollectionName=this._displayCollectionName,e.autoRouteToOwnerQueue=this._autoRouteToOwnerQueue,e.canTriggerWorkflow=this._canTriggerWorkflow,e.primarynameattribute=this._primaryNameAttribute,e.primaryimageattribute=this._primaryImageAttribute,e.description=this._description,e.oneToManyRelationships=this._oneToManyRelationships,e.manyToOneRelationships=this._manyToOneRelationships,e.manyToManyRelationships=this._manyToManyRelationships,e.isreadonlyformobileclient=this._isReadOnlyForMobileClient,e.isvisibleinmobileclient=this._isVisibleInMobileClient,e.isofflineinmobileclient=this._isOfflineInMobileClient,e.isoptimisticconcurrencyenabled=this._isOptimisticConcurrencyEnabled,e.haschanged=this._hasChanged,e.isactivity=this._isActivity,e.ischildentity=this._isChildEntity,e.parententitylogicalname=this._parentEntityLogicalName,e.parententityreferencingattribute=this._parentEntityReferencingAttribute,e.isvalidforadvancedfind=this._isValidForAdvancedFind,e.ismailmergeenabled=this._isMailMergeEnabled,e.isconnectionsenabled=this._isConnectionsEnabled,e.iscustomizable=this._isCustomizable,e.isactivityparty=this._isActivityParty,e.isimportable=this._isImportable,e.isenabledforcharts=this._isEnabledForCharts,e.iscustomentity=this._isCustomEntity,e.isstatemodelaware=this._isStateModelAware,e.enforcestatetransitions=this._enforceStateTransitions,e.iscollaboration=this._isCollaboration,e.activitytypemask=this._activityTypeMask,e.ownershiptype=this._ownershipType,e.hassecuredattributes=this._hasSecuredAttributes,e.hasstatecode=this._hasStateCode,e.isbusinessprocessenabled=this._isBusinessProcessEnabled,e.isdocumentmanagementenabled=this._isDocumentManagementEnabled,e.isonenoteintegrationenabled=this._isOneNoteIntegrationEnabled,e.ismsteamsintegrationenabled=this._isMSTeamsIntegrationEnabled,e.hasactivities=this._hasActivities,e.entitycolor=this._entityColor,e.isinteractioncentricenabled=this._isInteractionCentricEnabled,e.isQuickCreateEnabled=this._isQuickCreateEnabled,e.entityClientSetting=this._entityClientSetting,e.isKnowledgeManagementEnabled=this._isKnowledgeManagementEnabled,e.isDocumentRecommendationsEnabled=this._isDocumentRecommendationsEnabled,e.isIntersect=this._isIntersect,e.hasnotes=this._hasNotes,e.iconVectorName=this._iconVectorName,e.usesBusinessDataLabelTable=this._usesBusinessDataLabelTable,e.isbpfentity=this._isBPFEntity,e.dataProviderId=this._dataProviderId?this._dataProviderId.toString():"",e.VersionNumber=this._versionNumber,e.OverallVersionNumber=this._overallVersionNumber,e.AttributeNames=this._attributeNames,e.Attributes=this._attributes;var t=[],n=this._privilegesByType;for(var r in n)if(n.hasOwnProperty(r)){var a={key:r,value:n[r]};t.push(a.value.getObjectData())}return e.privileges=t,e}}o.logicalNamePath="logicalname",o._idPath="id"},20604:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(20588),a=n(20587);class i{static getPrivilegeTypeKey(e){return e.toString()}static createFromObjectData(e){var t=e.name,n=a.a.createFromObjectData(e.privilegeid),r=e.privilegetype,o=e.canbebasic,c=e.canbelocal,s=e.canbedeep,u=e.canbeglobal;return new i(t,n,r,o,c,s,u)}static createFromOData(e){var t=e.Name,n=a.a.tryCreate(e.PrivilegeId),r=e.PrivilegeType,o=e.CanBeBasic,c=e.CanBeLocal,s=e.CanBeDeep,u=e.CanBeGlobal;return new i(t,n,r,o,c,s,u)}constructor(e,t,n,a,i,o,c){this._name=void 0,this._privilegeId=void 0,this._privilegeType=0,this._canBeBasic=!1,this._canBeLocal=!1,this._canBeDeep=!1,this._canBeGlobal=!1,Object(r.G)(e,"name"),Object(r.G)(t,"privilegeId"),this._name=e,this._privilegeId=t,this._privilegeType=n,this._canBeBasic=a,this._canBeLocal=i,this._canBeDeep=o,this._canBeGlobal=c}get_privilegeId(){return this._privilegeId}get_privilegeType(){return this._privilegeType}get_privilegeTypeKey(){return i.getPrivilegeTypeKey(this.get_privilegeType())}get_canBeGlobal(){return this._canBeGlobal}getObjectData(){var e={};return e.name=this._name,e.privilegeid=this._privilegeId.getObjectData(),e.privilegetype=this._privilegeType,e.canbebasic=this._canBeBasic,e.canbelocal=this._canBeLocal,e.canbedeep=this._canBeDeep,e.canbeglobal=this.get_canBeGlobal(),e}getODataObject(){var e={};return e.Name=this._name,e.PrivilegeId=this._privilegeId.toString(),e.PrivilegeType=this._privilegeType,e.CanBeBasic=this._canBeBasic,e.CanBeLocal=this._canBeLocal,e.CanBeDeep=this._canBeDeep,e.CanBeGlobal=this.get_canBeGlobal(),e}}},20605:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o}));n(20588);var r=n(20586),a=function(e){return e[e.Unknown=-1]="Unknown",e[e.Boolean=0]="Boolean",e[e.Customer=1]="Customer",e[e.DateTime=2]="DateTime",e[e.Decimal=3]="Decimal",e[e.Double=4]="Double",e[e.Integer=5]="Integer",e[e.Lookup=6]="Lookup",e[e.Memo=7]="Memo",e[e.Money=8]="Money",e[e.Owner=9]="Owner",e[e.PartyList=10]="PartyList",e[e.Picklist=11]="Picklist",e[e.State=12]="State",e[e.Status=13]="Status",e[e.String=14]="String",e[e.UniqueIdentifier=15]="UniqueIdentifier",e[e.CalendarRules=16]="CalendarRules",e[e.Virtual=17]="Virtual",e[e.BigInt=18]="BigInt",e[e.ManagedProperty=19]="ManagedProperty",e[e.EntityName=20]="EntityName",e[e.AliasedValue=21]="AliasedValue",e[e.EntityImage=23]="EntityImage",e[e.MultiSelectPicklist=24]="MultiSelectPicklist",e[e.File=25]="File",e[e.NavigationProperty=26]="NavigationProperty",e}({});function i(e){switch(e){case a.Boolean:return r.a.Boolean;case a.Customer:return r.a.Customer;case a.DateTime:return r.a.DateTime;case a.Decimal:return r.a.Decimal;case a.Double:return r.a.Double;case a.Integer:return r.a.Integer;case a.Lookup:return r.a.Lookup;case a.Memo:return r.a.Memo;case a.Money:return r.a.Money;case a.Owner:return r.a.Owner;case a.PartyList:return r.a.PartyList;case a.Picklist:return r.a.PickList;case a.State:return r.a.State;case a.Status:return r.a.Status;case a.String:return r.a.String;case a.UniqueIdentifier:return r.a.UniqueIdentifier;case a.CalendarRules:return r.a.CalendarRules;case a.Virtual:return r.a.Virtual;case a.BigInt:return r.a.BigInt;case a.ManagedProperty:return r.a.ManagedProperty;case a.EntityName:return r.a.EntityName;case a.AliasedValue:return r.a.AliasedValue;case a.EntityImage:return r.a.EntityImage;case a.MultiSelectPicklist:return r.a.MultiSelectPickList;case a.File:return r.a.File;case a.NavigationProperty:return r.a.NavigationProperty;default:return r.a.Unknown}}function o(e){switch(e){case r.a.Boolean:return a.Boolean;case r.a.Customer:return a.Customer;case r.a.DateTime:return a.DateTime;case r.a.Decimal:return a.Decimal;case r.a.Double:return a.Double;case r.a.Integer:return a.Integer;case r.a.Lookup:return a.Lookup;case r.a.Memo:return a.Memo;case r.a.Money:return a.Money;case r.a.Owner:return a.Owner;case r.a.PartyList:return a.PartyList;case r.a.PickList:return a.Picklist;case r.a.State:return a.State;case r.a.Status:return a.Status;case r.a.String:return a.String;case r.a.UniqueIdentifier:return a.UniqueIdentifier;case r.a.CalendarRules:return a.CalendarRules;case r.a.Virtual:return a.Virtual;case r.a.BigInt:return a.BigInt;case r.a.ManagedProperty:return a.ManagedProperty;case r.a.EntityName:return a.EntityName;case r.a.AliasedValue:return a.AliasedValue;case r.a.EntityImage:return a.EntityImage;case r.a.MultiSelectPickList:return a.MultiSelectPicklist;case r.a.File:return a.File;case r.a.NavigationProperty:return a.NavigationProperty;default:return a.Unknown}}},20606:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(20588),a=n(20607);class i{static createFromObjectData(e){var t=e&&e.optionsindisplayorder?e.optionsindisplayorder:{};return new i(Object(r.E)(t,e=>a.a.createFromObjectData(e)))}static createFromOData(e){for(var t={},n=0;n<e.length;++n){var r=a.a.createFromOData(e[n]);t[n.toString()]=r}return new i(t)}static _CreateDictionaryFromOptionsInDisplayOrder(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r={key:n,value:e[n]}.value;t[r.get_ValueString()]=r}return t}constructor(e){this._options=void 0,this._optionsInDisplayOrder=void 0,this._optionsInDisplayOrder=e,this._options=i._CreateDictionaryFromOptionsInDisplayOrder(e)}get_options(){return this._options}get_optionsInDisplayOrder(){return this._optionsInDisplayOrder}getObjectData(){return Object(r.v)(this._optionsInDisplayOrder)?{}:{optionsindisplayorder:Object(r.E)(this._optionsInDisplayOrder,e=>e.getObjectData())}}getODataObject(){if(Object(r.v)(this.get_optionsInDisplayOrder()))return{};var e={},t=[],n=this.get_optionsInDisplayOrder();for(var a in n)if(n.hasOwnProperty(a)){var i={key:a,value:n[a]};t.push(i.value.getODataObject())}return e.Options=t,e}}},20607:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(20608);class a{static createFromPicklistItem(e){if(e instanceof a)return e;var t=e.get_Label(),n=Number(e.get_ValueString());return new a(t,n,-1,-1,[],"","")}static createFromObjectData(e){var t=e.label,n=e.value,r="state"in e?e.state:-1,i="defaultstatus"in e?e.defaultstatus:-1,o="allowedstatustransitions"in e?e.allowedstatustransitions:[],c="color"in e?e.color:"",s=e.invariantname;return new a(t,n,r,i,o,c,s)}static createFromOData(e){var t=e.Label,n=e.Value,r="State"in e?e.State:-1,i="DefaultStatus"in e?e.DefaultStatus:-1,o="TransitionData"in e?e.TransitionData:[],c="Color"in e?e.Color:"",s=e.Description;return new a(t,n,r,i,o,c,s)}constructor(e,t,n,r,a,i,o){this._label=void 0,this._val=0,this._state=0,this._defaultStatus=0,this._allowedStatusTransitions=void 0,this._color=void 0,this._invariantName=void 0,this._label=e,this._val=t,this._state=n,this._defaultStatus=r,this._allowedStatusTransitions=a,this._color=i,this._invariantName=o}get_Label(){return this._label}set_Label(e){return this._label=e,e}get_ValueString(){return this._val.toString()}get_allowedStatusTransitions(){return this._allowedStatusTransitions}get_color(){return this._color}get_value(){return this._val}get_state(){return this._state}get_defaultStatus(){return this._defaultStatus}get_invariantName(){return this._invariantName}getObjectData(){return{label:this._label,value:this._val,state:this._state,defaultstatus:this._defaultStatus,allowedstatustransitions:this._allowedStatusTransitions,color:this._color,invariantname:this._invariantName}}getODataObject(){return{Value:this._val,Color:this._color,Label:this._label,DefaultStatus:this._defaultStatus,State:this._state,TransitionData:this._allowedStatusTransitions,InvariantName:this._invariantName}}getValue(e){if(e===r.d||"label"===e)return this.get_Label();if(e===r.f||"value"===e)return this.get_value();if(e===r.e||"state"===e)return this.get_state();if(e===r.c||"defaultstatus"===e)return this._defaultStatus;if(e===r.a||"allowedstatustransitions"===e)return this.get_allowedStatusTransitions();if(e===r.b||"color"===e)return this.get_color();throw new Error("fieldName = ${fieldName} is out of range")}}a.__typeName="Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.OptionMetadata"},20608:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"f",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return u}));var r=n(20609),a=l(r.a.Label),i=l(r.a.Value),o=l(r.a.State),c=l(r.a.DefaultStatus),s=l(r.a.AllowedStatusTransitions),u=l(r.a.Color);function l(e){return"!"+r.a[e]}},20609:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return e[e.Raw=0]="Raw",e[e.Numeric=1]="Numeric",e[e.Label=2]="Label",e[e.Value=3]="Value",e[e.State=4]="State",e[e.Id=5]="Id",e[e.Name=6]="Name",e[e.LogicalName=7]="LogicalName",e[e.AllowedStatusTransitions=8]="AllowedStatusTransitions",e[e.DefaultStatus=9]="DefaultStatus",e[e.Color=10]="Color",e}({})},20610:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return u})),n.d(t,"g",(function(){return l})),n.d(t,"j",(function(){return d})),n.d(t,"l",(function(){return f})),n.d(t,"k",(function(){return p})),n.d(t,"f",(function(){return h})),n.d(t,"h",(function(){return v})),n.d(t,"i",(function(){return m})),n.d(t,"m",(function(){return y})),n.d(t,"n",(function(){return g}));var r=n(20593),a=n(20588);function i(e,t,n){return n}function o(e,t,n){return e&&t&&Object(a.v)(n)?r.a.DoNotDisplay:n}function c(e,t,n){return e&&t&&Object(a.v)(n)?r.b.Details:n}function s(e,t,n){return e&&t&&Object(a.v)(n)?"":n}function u(e,t,n){return e&&t&&Object(a.v)(n)?r.d.NoCascade:n}function l(e,t,n){return!!(e&&t&&Object(a.v)(n.IsManaged))||n.IsManaged}function d(e,t,n,r){return e&&t&&Object(a.v)(n.ReferencedEntity)?r.LogicalName:n.ReferencedEntity}function f(e,t,n,r){return e&&t&&Object(a.v)(n.ReferencingEntity)?r.LogicalName:n.ReferencingEntity}function p(e,t,n){return e&&t&&Object(a.v)(n.ReferencingEntityNavigationPropertyName)?n.ReferencingAttribute:n.ReferencingEntityNavigationPropertyName}function h(e,t,n){return!(e&&t&&Object(a.v)(n))&&n}function v(e,t,n){var r;return n&&n.UserLocalizedLabel?e&&t&&Object(a.v)(n.UserLocalizedLabel.Label)?"":null!==(r=n.UserLocalizedLabel.Label)&&void 0!==r?r:null:null}function m(e,t,n){return e&&t&&Object(a.v)(n)?r.f.Picklist:n}function y(e){return e&&e.AdditionalParameters&&e.AdditionalParameters.isEntityPayloadReductionRequested}function g(e){return e&&e.AdditionalParameters&&e.AdditionalParameters.isSecondPhasePayloadReductionEnabled}},20611:function(e,t,n){"use strict";n.d(t,"g",(function(){return r})),n.d(t,"j",(function(){return a})),n.d(t,"h",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return c})),n.d(t,"c",(function(){return s})),n.d(t,"f",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"i",(function(){return d})),n.d(t,"a",(function(){return f}));var r="MDLUseStateOverMetadataCache",a="RetryMdlCacheTimeout",i="MDLUseStateOverMetadataCachePhase2",o="MDLClientApiGapsAndFeatures",c="MDLMetadataCachePerfSizeCapture",s="MDLCacheGcmSqlResponses",u="MDLStopRMProcessingOnFirstError",l="DisableOptimizeExpandSqlQuery",d="MdlResponseCache",f="DisableMdlLexerImprovementsCanvasOffline"},20612:function(e,t,n){"use strict";n.d(t,"f",(function(){return f})),n.d(t,"c",(function(){return z})),n.d(t,"b",(function(){return p})),n.d(t,"g",(function(){return Q})),n.d(t,"h",(function(){return B})),n.d(t,"i",(function(){return _})),n.d(t,"j",(function(){return C})),n.d(t,"d",(function(){return T})),n.d(t,"e",(function(){return R})),n.d(t,"a",(function(){return I})),n.d(t,"k",(function(){return N})),n.d(t,"o",(function(){return P})),n.d(t,"l",(function(){return G})),n.d(t,"n",(function(){return b})),n.d(t,"m",(function(){return O})),n.d(t,"p",(function(){return M})),n.d(t,"q",(function(){return D})),n.d(t,"r",(function(){return v})),n.d(t,"s",(function(){return g})),n.d(t,"t",(function(){return q})),n.d(t,"u",(function(){return k}));var r=n(20613),a=n(20611),i=n(20588),o=n(20584),c=n(20585),s=n(20614),u=n(20615);function l(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){l(i,r,a,o,c,"next",e)}function c(e){l(i,r,a,o,c,"throw",e)}o(void 0)}))}}function f(e,t){var n,r,i,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(!L(e.ApplicationState,a.g))return null;var u=null===(n=e.TraceManager)||void 0===n?void 0:n.getTracer(o.a.MetadataCache),l=null===(r=e.ApplicationState)||void 0===r||null===(i=r.metadata)||void 0===i?void 0:i.entities;if(l){var d=Object(s.c)(l,t,u,c);if(d)return d}return u.info("".concat(ee()," entity metadata not found on state")),null}function p(e,t,n){return h.apply(this,arguments)}function h(){return(h=d((function*(e,t,n){var r,c,s,u,l,d,f,p,h,v,m=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];if(!L(e.ApplicationState,a.g))return null;var y=null===(r=e.TraceManager)||void 0===r?void 0:r.getTracer(o.a.MetadataCache),g=null===(c=e.ApplicationState)||void 0===c||null===(s=c.metadata)||void 0===s||null===(u=s.attributes)||void 0===u?void 0:u[n];if(Object(i.v)(g)&&(yield X(e,n,t,m)),g=null===(l=te(e))||void 0===l||null===(d=l.metadata)||void 0===d||null===(f=d.attributes)||void 0===f?void 0:f[n],Object(i.v)(g))return y.warn("".concat(ee()," state does not contain entity metadata even after refresh ").concat(n)),null;var b=Object.keys(g),O={};if(0===t.length){for(var E of b)O[E]=g[E].Type;return O}if(!t.every(e=>b.includes(e))){var _=t.filter(e=>b.indexOf(e)<0);m.push({name:"MissingAttributesInState",value:_.join(",")}),y.warn("".concat(ee()," Not all attributes requested have metadata present in the injected state."),m),yield X(e,n,t,m)}if(g=null===(p=te(e))||void 0===p||null===(h=p.metadata)||void 0===h||null===(v=h.attributes)||void 0===v?void 0:v[n],Object(i.v)(g))return y.warn("".concat(ee()," state does not contain entity metadata even after refresh ").concat(n)),null;for(var S of t)g[S]&&(O[S]=g[S].Type);return O}))).apply(this,arguments)}function v(e){return m.apply(this,arguments)}function m(){return(m=d((function*(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!L(e.ApplicationState,a.g))return null;var n=y(e);return n||(yield W(e,t),y(e))}))).apply(this,arguments)}function y(e){var t,n,r,a,o,c,s,u,l=te(e);if(l&&null!==(t=l.user)&&void 0!==t&&null!==(n=t.userSettings)&&void 0!==n&&n.languageId&&!Object(i.v)(null===(r=l.user)||void 0===r||null===(a=r.userSettings)||void 0===a?void 0:a.timeZoneUtcOffsetMinutes)&&!Object(i.v)(null===(o=l.user)||void 0===o||null===(c=o.userSettings)||void 0===c?void 0:c.timeZoneAdjusters)&&!Object(i.v)(null===(s=l.user)||void 0===s||null===(u=s.userSettings)||void 0===u?void 0:u.dateFormatInfo)){var d,f=l.user.userSettings,p={timezoneutcoffsetminutes:f.timeZoneUtcOffsetMinutes,timezoneadjusters:[],datetimeformatinfo:f.dateFormatInfo,languageid:f.languageId};return p.timezoneadjusters=null===(d=f.timeZoneAdjusters)||void 0===d?void 0:d.map(e=>({dateend:e.dateEnd,datestart:e.dateStart,daylightend:{day:e.daylightEnd.day,dayofweek:e.daylightEnd.dayOfWeek,month:e.daylightEnd.month,week:e.daylightEnd.week,timeofday:e.daylightEnd.timeOfDay,isfixeddaterule:e.daylightEnd.isFixedDateRule},daylightstart:{day:e.daylightStart.day,dayofweek:e.daylightStart.dayOfWeek,month:e.daylightStart.month,week:e.daylightStart.week,timeofday:e.daylightStart.timeOfDay,isfixeddaterule:e.daylightStart.isFixedDateRule},delta:e.delta})),p}return null}function g(e){var t,n;if(!L(e.ApplicationState,a.g))return null;var r=null===(t=e.ApplicationState)||void 0===t||null===(n=t.user)||void 0===n?void 0:n.userSettings;return r||null}function b(e){var t,n;if(!L(e.ApplicationState,a.g))return null;var r=null===(t=te(e))||void 0===t||null===(n=t.organization)||void 0===n?void 0:n.organizationSettings;return r||null}function O(e){return E.apply(this,arguments)}function E(){return(E=d((function*(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!L(e.ApplicationState,a.g))return null;var n=b(e,t);if(n&&n.fullNameConventionCode&&n.languageCode){var r={fullnameconventioncode:n.fullNameConventionCode,languageCode:n.languageCode};return r}if(yield W(e,t),(n=b(e,t))&&n.fullNameConventionCode&&n.languageCode){var i={fullnameconventioncode:n.fullNameConventionCode,languageCode:n.languageCode};return i}return null}))).apply(this,arguments)}function _(e){return S.apply(this,arguments)}function S(){return(S=d((function*(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!L(e.ApplicationState,a.g))return null;var n=yield O(e,t);return n&&!Object(i.v)(n.fullnameconventioncode)?n.fullnameconventioncode:null}))).apply(this,arguments)}function C(e){return w.apply(this,arguments)}function w(){return(w=d((function*(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!L(e.ApplicationState,a.g))return null;var n=yield O(e,t);return n&&!Object(i.v)(n.languageCode)?n.languageCode:null}))).apply(this,arguments)}function T(e){return j.apply(this,arguments)}function j(){return(j=d((function*(e){var t,n;if(!L(e.ApplicationState,a.g))return null;var r=yield null===(t=e.DataLayerConfiguration)||void 0===t||null===(n=t.AuthenticationProvider)||void 0===n?void 0:n.getAuthToken();return Object(i.v)(r)?null:r}))).apply(this,arguments)}function N(e){var t,n;if(!L(e.ApplicationState,a.g))return null;var r=null===(t=e.DataLayerConfiguration)||void 0===t||null===(n=t.AuthenticationProvider)||void 0===n?void 0:n.getUserObjectId();return Object(i.v)(r)?null:r}function P(e){var t,n;if(!L(e.ApplicationState,a.g))return null;var r=null===(t=e.DataLayerConfiguration)||void 0===t||null===(n=t.AuthenticationProvider)||void 0===n?void 0:n.getTenantId();return Object(i.v)(r)?null:r}function I(e){var t,n,r;if(!L(e.ApplicationState,a.g))return null;var o=null===(t=e.ApplicationState)||void 0===t||null===(n=t.metadata)||void 0===n||null===(r=n.appContext)||void 0===r?void 0:r.app;return Object(i.v)(o)?null:o}function R(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!L(e.ApplicationState,a.g))return null;var r=null===(t=I(e,n))||void 0===t?void 0:t.appId;return Object(i.v)(r)?null:r}function M(e){return x.apply(this,arguments)}function x(){return(x=d((function*(e){var t,n,r,o,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!L(e.ApplicationState,a.g))return null;var s=null===(t=e.ApplicationState)||void 0===t||null===(n=t.user)||void 0===n?void 0:n.userId;return Object(i.v)(s)?(yield W(e,c),s=null===(r=te(e))||void 0===r||null===(o=r.user)||void 0===o?void 0:o.userId,Object(i.v)(s)?null:s):s}))).apply(this,arguments)}function D(e){return A.apply(this,arguments)}function A(){return(A=d((function*(e){var t,n,r,o,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!L(e.ApplicationState,a.g))return null;var s=null===(t=e.ApplicationState)||void 0===t||null===(n=t.user)||void 0===n?void 0:n.userDisplayName;return Object(i.v)(s)?(yield W(e,c),s=null===(r=te(e))||void 0===r||null===(o=r.user)||void 0===o?void 0:o.userDisplayName,Object(i.v)(s)?null:s):s}))).apply(this,arguments)}function k(e,t){return F.apply(this,arguments)}function F(){return(F=d((function*(e,t){var n,r,i,o,c,s,u,l,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(!L(e.ApplicationState,a.g))return null;var f=null===(n=e.ApplicationState)||void 0===n||null===(r=n.fcbs)||void 0===r?void 0:r.clientFCBs,p=null===(i=e.ApplicationState)||void 0===i||null===(o=i.fcbs)||void 0===o?void 0:o.nativeFCBContext;return f&&void 0!==f[t]?f[t]:p&&void 0!==p[t]?p[t]:(yield W(e,d),f=null===(c=te(e))||void 0===c||null===(s=c.fcbs)||void 0===s?void 0:s.clientFCBs,p=null===(u=te(e))||void 0===u||null===(l=u.fcbs)||void 0===l?void 0:l.nativeFCBContext,f&&void 0!==f[t]?f[t]:p&&void 0!==p[t]?p[t]:null)}))).apply(this,arguments)}function L(e,t){var n=e?e.fcbs:void 0;if(n){var r=n.clientFCBs;if(r)return t in r&&(r[t]||function(e,t){var n=e?e.fcbs:void 0;if(n){var r=n.nativeFCBContext;if(r&&t in r)return r[t]}return!1}(e,t))}return!1}function q(e,t,n){return U.apply(this,arguments)}function U(){return(U=d((function*(e,t,n){var i,o,c,s,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];if(!L(e.ApplicationState,a.g))return null;var l=null===(i=e.ApplicationState)||void 0===i||null===(o=i.metadata)||void 0===o?void 0:o.views;return l&&l[t]&&l[t].initialized===r.a.Initialized&&$(l[t])?l[t]:(yield J(e,n,t,u),(l=null===(c=te(e))||void 0===c||null===(s=c.metadata)||void 0===s?void 0:s.views)&&l[t]&&l[t].initialized===r.a.Initialized?l[t]:null)}))).apply(this,arguments)}function B(e,t){return V.apply(this,arguments)}function V(){return(V=d((function*(e,t){var n,i,o,c,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(!L(e.ApplicationState,a.g))return null;var u=null===(n=e.ApplicationState)||void 0===n||null===(i=n.metadata)||void 0===i?void 0:i.entities;return u&&u[t]&&u[t].Initialized===r.a.Initialized?u[t]:(yield X(e,t,[],s),(u=null===(o=te(e))||void 0===o||null===(c=o.metadata)||void 0===c?void 0:c.entities)&&u[t]&&u[t].Initialized===r.a.Initialized?u[t]:null)}))).apply(this,arguments)}function G(e){return H.apply(this,arguments)}function H(){return(H=d((function*(e){var t,n,r,o,c,s,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!L(e.ApplicationState,a.g))return null;var l=null===(t=e.ApplicationState)||void 0===t||null===(n=t.user)||void 0===n||null===(r=n.userSettings)||void 0===r?void 0:r.offlineProfileAvailableEntities;return Object(i.v)(l)?(yield W(e,u),l=null===(o=te(e))||void 0===o||null===(c=o.user)||void 0===c||null===(s=c.userSettings)||void 0===s?void 0:s.offlineProfileAvailableEntities,Object(i.v)(l)?null:l):l}))).apply(this,arguments)}function Q(e,t){var n,r;if(!L(e.ApplicationState,a.g))return null;var i=null===(n=e.ApplicationState)||void 0===n||null===(r=n.metadata)||void 0===r?void 0:r.entitiesByTypeCode;return i&&i[t]?i[t]:null}function z(e,t){var n,r,a=null===(n=e.ApplicationState)||void 0===n||null===(r=n.metadata)||void 0===r?void 0:r.attributes;return a&&a[t]?a[t]:{}}function W(e){return Y.apply(this,arguments)}function Y(){return(Y=d((function*(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=null===(t=e.TraceManager)||void 0===t?void 0:t.getTracer(o.a.MetadataCache);if(L(e.ApplicationState,a.h)){var i,c,s=null===(i=e.StateProvider)||void 0===i?void 0:i.getStore(),u=null===(c=e.StateProvider)||void 0===c?void 0:c.getActions().retrieveUserContext;s&&u?yield s.dispatch(u()):null==r||r.warn("".concat(ee()," Unable to refresh user context metadata, no store or retrieve user context action"),n)}}))).apply(this,arguments)}function X(e,t,n){return K.apply(this,arguments)}function K(){return(K=d((function*(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],c=null===(r=e.TraceManager)||void 0===r?void 0:r.getTracer(o.a.MetadataCache);if(L(e.ApplicationState,a.h)){var s,u,l=null===(s=e.StateProvider)||void 0===s?void 0:s.getStore(),d=null===(u=e.StateProvider)||void 0===u?void 0:u.getActions().retrieveEntity;l&&d?yield l.dispatch(d(t,!n||0===n.length,n)):c.warn("".concat(ee()," Unable to refresh entity metadata, no store or retrieve entity action"),i)}}))).apply(this,arguments)}function J(e,t,n){return Z.apply(this,arguments)}function Z(){return(Z=d((function*(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],s=null===(r=e.TraceManager)||void 0===r?void 0:r.getTracer(o.a.MetadataCache),u=c.a.tryParseOrNull(n);if(L(e.ApplicationState,a.h)&&t&&u){var l,d,f=null===(l=e.StateProvider)||void 0===l?void 0:l.getStore(),p=null===(d=e.StateProvider)||void 0===d?void 0:d.getActions().retrieveView;f&&p?yield f.dispatch(p(t,void 0,void 0,u)):s.warn("".concat(ee()," Unable to view descriptor metadata, no store or retrieve view action"),i)}}))).apply(this,arguments)}function $(e){return!(!Object(i.v)(e.queryType)&&-1!==[u.a.MAIN_APPLICATION_VIEW,u.a.ADVANCED_SEARCH,u.a.SUB_GRID,u.a.LOOKUP_VIEW].indexOf(e.queryType))||!Object(i.x)(e.offlineSqlQuery)}function ee(){return"[".concat(o.d.MetadataStateAccessor,"]")}function te(e){var t;return L(e.ApplicationState,a.h)?null===(t=e.StateProvider)||void 0===t?void 0:t.getStore().getState():e.ApplicationState}},20613:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized",e[e.Refreshing=3]="Refreshing",e[e.Error=4]="Error",e[e.Partial=5]="Partial",e}(r||{})},20614:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return c})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return u}));var r=n(20613),a=n(20588),i=n(20584);function o(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];if(!Object(a.v)(e))for(var i in e)if(i){var o=e[i];if(o&&o.EntitySetName===t){var c=o.EntityLogicalName;return Object(a.v)(c)&&n.error("".concat(l()," entity set name ").concat(t," exists in the state but its entityLogicalName is null or undefined."),r),c}}return null}function c(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];if(!Object(a.v)(e))for(var i in e)if(i){var o=e[i];if(o&&o.ObjectTypeCode===t){var c=o.EntityLogicalName;return Object(a.v)(c)&&n.error("".concat(l()," entity with object type code ").concat(t," exits in the state but its entityLogicalName is null or undefined."),r),c}}return null}function s(e,t,n){for(var a=[],i=0;i<n.length;i++)t[n[i]]||e[n[i]]&&e[n[i]].Initialized===r.a.Initialized||a.push(n[i]);return a}function u(e){var t={};for(var n of Object.keys(e))e[n].Initialized===r.a.Initialized&&(t[n]=e[n]);return t}function l(){return"[".concat(i.d.MetadataUtil,"]")}},20615:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return e[e.MAIN_APPLICATION_VIEW=0]="MAIN_APPLICATION_VIEW",e[e.ADVANCED_SEARCH=1]="ADVANCED_SEARCH",e[e.SUB_GRID=2]="SUB_GRID",e[e.QUICKFIND_SEARCH=4]="QUICKFIND_SEARCH",e[e.REPORTING=8]="REPORTING",e[e.OFFLINE_FILTERS=16]="OFFLINE_FILTERS",e[e.MA_SEARCH=32]="MA_SEARCH",e[e.LOOKUP_VIEW=64]="LOOKUP_VIEW",e[e.SM_APPOINTMENTBOOK_VIEW=128]="SM_APPOINTMENTBOOK_VIEW",e[e.OUTLOOK_FILTERS=256]="OUTLOOK_FILTERS",e[e.ADDRESSBOOK_FILTERS=512]="ADDRESSBOOK_FILTERS",e[e.SAVEDQUERYTYPE_OTHER=2048]="SAVEDQUERYTYPE_OTHER",e[e.INTERACTIVE_WORKFLOW_VIEW=4096]="INTERACTIVE_WORKFLOW_VIEW",e[e.OFFLINE_TEMPLATE=8192]="OFFLINE_TEMPLATE",e[e.OUTLOOK_TEMPLATE=131072]="OUTLOOK_TEMPLATE",e[e.CUSTOM_DEFINED_VIEW=16384]="CUSTOM_DEFINED_VIEW",e}({})},20616:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return i}));var r=function(e){return e[e.all=0]="all",e[e.systemApplicationMetadata=1]="systemApplicationMetadata",e[e.userApplicationMetadata=2]="userApplicationMetadata",e}(r||{}),a=function(e){return e[e.none=0]="none",e[e.workspace=1]="workspace",e[e.form=2]="form",e[e.component=3]="component",e[e.entityCard=4]="entityCard",e[e.quickCreateForm=5]="quickCreateForm",e[e.customization=6]="customization",e[e.listQuery=7]="listQuery",e[e.grid=8]="grid",e[e.command=9]="command",e[e.siteMap=10]="siteMap",e[e.list=11]="list",e[e.dialog=12]="dialog",e[e.gridForm=13]="gridForm",e[e.inlineCreateForm=14]="inlineCreateForm",e[e.processControl=15]="processControl",e[e.fetchXml=16]="fetchXml",e[e.chartDrilldownForm=17]="chartDrilldownForm",e[e.entity=18]="entity",e[e.attribute=19]="attribute",e[e.webResource=20]="webResource",e[e.applicationMetadata=21]="applicationMetadata",e[e.mainFormDialog=22]="mainFormDialog",e[e.chart=23]="chart",e[e.uiStrings=24]="uiStrings",e[e.businessLogic=25]="businessLogic",e[e.searchPage=26]="searchPage",e[e.globalApplicationMetadata=27]="globalApplicationMetadata",e[e.applicationMetadataUserContext=28]="applicationMetadataUserContext",e[e.staticJSFile=29]="staticJSFile",e[e.layoutXml=30]="layoutXml",e[e.draftsPage=31]="draftsPage",e[e.duplicateRecordsPage=32]="duplicateRecordsPage",e[e.applicationMetadataSettings=33]="applicationMetadataSettings",e[e.senderFormPage=34]="senderFormPage",e[e.setRegarding=35]="setRegarding",e[e.senderCreateFormPage=36]="senderCreateFormPage",e[e.interactionCentricWorkspace=37]="interactionCentricWorkspace",e[e.taskBasedFlowGlobalMenu=38]="taskBasedFlowGlobalMenu",e[e.taskBasedFlow=39]="taskBasedFlow",e[e.interactionCentricForm=40]="interactionCentricForm",e[e.cardForm=41]="cardForm",e[e.controlConfiguration=42]="controlConfiguration",e[e.commandXaml=43]="commandXaml",e[e.documentTemplate=44]="documentTemplate",e[e.viewSelector=45]="viewSelector",e[e.customControl=46]="customControl",e[e.formSelector=47]="formSelector",e[e.resourceString=48]="resourceString",e[e.savedQueryVisualization=49]="savedQueryVisualization",e[e.label=50]="label",e[e.userView=51]="userView",e[e.savedView=52]="savedView",e[e.viewDefault=53]="viewDefault",e[e.homePageConfiguration=54]="homePageConfiguration",e[e.optionSet=56]="optionSet",e[e.quickCreateMenu=57]="quickCreateMenu",e[e.userContext=58]="userContext",e[e.businessProcessFlow=59]="businessProcessFlow",e[e.searchConfiguration=60]="searchConfiguration",e[e.userQueryVisualization=61]="userQueryVisualization",e[e.visualizationSelector=62]="visualizationSelector",e[e.dashboardSelector=63]="dashboardSelector",e[e.overallMetadataVersion=64]="overallMetadataVersion",e[e.appModule=65]="appModule",e[e.complexControl=66]="complexControl",e[e.displayString=67]="displayString",e[e.webResourceDescriptor=68]="webResourceDescriptor",e[e.isActivityFlags=69]="isActivityFlags",e[e.appModuleOfflineMetadata=70]="appModuleOfflineMetadata",e[e.appModuleSelector=71]="appModuleSelector",e[e.bpfSelector=72]="bpfSelector",e[e.dependencies=73]="dependencies",e}(a||{}),i=function(e){return e.entity="entity",e.savedView="savedview",e.form="form",e.workspace="workspace",e.systemWorkspace="systemworkspace",e.userWorkspace="userworkspace",e.savedVisualization="savedvisualization",e.dialog="dialog",e.taskBasedFlow="taskbasedflow",e.customControl="customcontrol",e.complexControl="complexcontrol",e.formSelector="formselector",e.viewSelector="viewselector",e.ribbon="ribbon",e}(i||{}),o=function(e){return e[e.none=0]="none",e[e.main=1]="main",e[e.appointment=2]="appointment",e[e.hardcoded=3]="hardcoded",e[e.miniCampaignBO=4]="miniCampaignBO",e[e.preview=5]="preview",e[e.dashboard=6]="dashboard",e[e.quick=7]="quick",e[e.quickCreate=8]="quickCreate",e[e.mobile=9]="mobile",e[e.read=10]="read",e[e.card=11]="card",e[e.dialog=12]="dialog",e[e.taskBased=14]="taskBased",e[e.interactionCentricDashboard=15]="interactionCentricDashboard",e[e.advancedSearch=16]="advancedSearch",e[e.subGrid=17]="subGrid",e[e.quickFindSearch=18]="quickFindSearch",e[e.reporting=19]="reporting",e[e.offlineFilters=20]="offlineFilters",e[e.maSearch=21]="maSearch",e[e.lookup=22]="lookup",e[e.smAppointmentBook=23]="smAppointmentBook",e[e.outlookFilters=24]="outlookFilters",e[e.addressbookFilters=25]="addressbookFilters",e[e.savedQueryTypeOther=26]="savedQueryTypeOther",e[e.interactiveWorkFlow=27]="interactiveWorkFlow",e[e.offlineTemplate=28]="offlineTemplate",e[e.outlookTemplate=29]="outlookTemplate",e[e.customDefined=30]="customDefined",e[e.jScript=31]="jScript",e[e.css=32]="css",e[e.png=33]="png",e[e.jpg=34]="jpg",e[e.gif=35]="gif",e[e.advancedFind=36]="advancedFind",e}(o||{})},20617:function(e,t,n){"use strict";n.d(t,"h",(function(){return a})),n.d(t,"g",(function(){return i})),n.d(t,"f",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"i",(function(){return s})),n.d(t,"b",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"d",(function(){return h})),n.d(t,"a",(function(){return l})),n.d(t,"k",(function(){return f})),n.d(t,"j",(function(){return p}));var r=n(20616),a={};a.form=[{metadataType:r.c.formSelector,uniqueKey:"Id",payloadKey:"FormSelectors"},{metadataType:r.c.form,uniqueKey:"FormId",payloadKey:"Forms"}],a.savedview=[{metadataType:r.c.viewSelector,uniqueKey:"ViewId",payloadKey:"ViewSelectors"},{metadataType:r.c.savedView,uniqueKey:"ViewId",payloadKey:"Views"}],a.workspace=[{metadataType:r.c.dashboardSelector,uniqueKey:"Id",payloadKey:"DashboardSelectors"},{metadataType:r.c.form,uniqueKey:"FormId",payloadKey:"Forms"},{metadataType:r.c.workspace,uniqueKey:"FormId",payloadKey:"Dashboards"},{metadataType:r.c.interactionCentricWorkspace,uniqueKey:"FormId",payloadKey:"Dashboards"}],a.systemworkspace=[{metadataType:r.c.dashboardSelector,uniqueKey:"Id",payloadKey:"DashboardSelectors"},{metadataType:r.c.form,uniqueKey:"FormId",payloadKey:"Forms"},{metadataType:r.c.workspace,uniqueKey:"FormId",payloadKey:"Dashboards"},{metadataType:r.c.interactionCentricWorkspace,uniqueKey:"FormId",payloadKey:"Dashboards"}],a.userworkspace=[{metadataType:r.c.dashboardSelector,uniqueKey:"Id",payloadKey:"DashboardSelectors"},{metadataType:r.c.form,uniqueKey:"FormId",payloadKey:"Forms"},{metadataType:r.c.workspace,uniqueKey:"FormId",payloadKey:"Dashboards"},{metadataType:r.c.interactionCentricWorkspace,uniqueKey:"FormId",payloadKey:"Dashboards"}],a.savedvisualization=[{metadataType:r.c.visualizationSelector,uniqueKey:"Id",payloadKey:"VisualizationSelectors"},{metadataType:r.c.savedQueryVisualization,uniqueKey:"Id",payloadKey:"SavedQueryVisualizations"}];var i=function(e){return e[e.Unknown=0]="Unknown",e[e.OnDemandWithContext=1]="OnDemandWithContext",e[e.OnDemandWithoutContext=2]="OnDemandWithoutContext",e[e.OnDemandContextOnly=3]="OnDemandContextOnly",e[e.Offline=4]="Offline",e[e.Mobile=5]="Mobile",e[e.UserContext=6]="UserContext",e}(i||{}),o=function(e){return e[e.None=0]="None",e[e.Slate=1]="Slate",e[e.Phone=2]="Phone",e[e.Desktop=3]="Desktop",e[e.MailApp=4]="MailApp",e}(o||{}),c="applicationmetadataversionstamp",s=function(e){return e.METADATA_TYPE="metadatatype",e.SOURCE_ID="sourceid",e.ASSOCIATED_ENTITY_LOGICAL_NAME="associatedentitylogicalname",e.METADATA_SUBTYPE="metadatasubtype",e.DISPLAY_NAME="displayname",e.JSON="json",e}(s||{}),u="applicationmetadata",l="metadatadependency",d="entitymetadata",f="usercontext",p="contextkey",h="entitydefinitionstype"},20618:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));class r{constructor(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._object=void 0,this._before=void 0,this._after=void 0,this._isEnabled=void 0,this._object=e,this._before=-1,this._after=-1,this._isEnabled=t}calculateBefore(){this._isEnabled&&null!==this._object&&void 0!==this._object&&(this._before=this.calcObjectSize(this._object))}calculateAfter(){this._isEnabled&&null!==this._object&&void 0!==this._object&&(this._after=this.calcObjectSize(this._object))}getBeforeSize(){if(this._isEnabled){if(-1===this._before)throw new Error("You have not called 'calculateBefore()'.");return this._before}return-1}getAfterSize(){if(this._isEnabled){if(-1===this._before)throw new Error("You have not called 'calculateAfter()'.");return this._after}return-1}calcObjectSize(e){for(var t=[e],n=0;t.length;){var r=t.pop();if(null!=r)switch(typeof e){case"number":n+=8;break;case"string":n+=2*r.length;break;case"boolean":n+=4;break;case"object":var a=Object.prototype.toString.call(r).slice(8,-1);if("Object"===a||"Array"===a)for(var i in r)r.hasOwnProperty(i)&&t.push(r[i]);else n+=2*r.toString().length;break;default:n+=0}}return n}}},20619:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(20585),a=n(20620);class i{constructor(e,t,n){this.etn=void 0,this.id=void 0,this.name=void 0,this.etn=e,this.id=t||r.a.EMPTY,this.name=n,Object.freeze(this)}static toString(e){return"".concat(e.etn,":").concat(r.a.toString(e.id))}static equals(e,t){var n=i.equalsIgnoreName(e,t);return e&&t?(e.name&&t.name&&(n=n&&e.name===t.name),n):n}static equalsIgnoreName(e,t){return!e&&!t||!(!e||!t)&&(e.etn===t.etn&&r.a.equals(e.id,t.id))}static toLegacyEntityReference(e){return new a.a(e.etn,r.a.toLegacyGuid(e.id),e.name)}static fromLegacyEntityReference(e){return new i(e.LogicalName,r.a.fromLegacyGuid(e.Id),e.Name)}static fromExternalEntityReference(e){return new i(e.entityType,r.a.fromExternalGuid(e.id))}static legacyToExternalEntityReference(e){return{id:r.a.externalGuid(r.a.fromLegacyGuid(e.Id)),entityType:e.LogicalName}}static toExternalEntityReference(e){return{id:r.a.externalGuid(e.id),entityType:e.etn}}}i.EMPTY=new i("")},20620:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(20621),a=n(20622),i=n(20587);class o{constructor(e,t,n,i){this.Id=void 0,this.LogicalName=void 0,this.Name=void 0,this.TypeCode=0,this.TypeDisplayName=void 0,this.TypeName=void 0,this.__RowVersion=void 0,Object(r.a)(e,"logicalName"),Object(r.a)(t,"id"),this.LogicalName=e,t&&(this.Id=t),Object(a.a)(n)||(this.Name=n),Object(a.a)(i)||this.set_rowVersion(i),this.TypeName=e,this.TypeDisplayName=e}get_key(){return this.Id.toString()}get_identifier(){return this.Id.toString()}get_modelType(){return this.LogicalName}get_rowVersion(){return this.__RowVersion}set_rowVersion(e){return this.__RowVersion=e,e}getObjectData(){return{logicalname:this.LogicalName,id:this.Id.getObjectData(),name:this.Name,rowversion:!Object(a.a)(this.get_rowVersion())&&this.get_rowVersion()}}equals(e){if(e instanceof o){var t=e;return t.LogicalName===this.LogicalName&&this.Id.equals(t.Id)&&this.Name===t.Name}return!1}toString(){return this.LogicalName+this.Id.toString()}getValue(e){return this[o._UppercaseFirstCharacter(e)]}setValue(e,t){this[o._UppercaseFirstCharacter(e)]=t}static get_empty(){return o._empty||(o._empty=new o("",i.a.get_empty(),""))}static createFromObjectData(e){var t=e.logicalname,n=i.a.createFromObjectData(e.id),r=e.name;if(e.rowversion){var a=e.rowversion;return new o(t,n,r,a)}return new o(t,n,r)}static _UppercaseFirstCharacter(e){return e.substr(0,1).toUpperCase()+e.substr(1)}}o._empty=void 0},20621:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(20622);function a(e,t){if(Object(r.a)(e))throw Error(t+"Argument can't be null or undefined")}},20622:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));function r(e){return null==e}function a(e){return!!r(e)||"string"==typeof e&&""===e.trim()}},20623:function(e,t,n){"use strict";n.d(t,"b",(function(){return v})),n.d(t,"c",(function(){return m})),n.d(t,"a",(function(){return y}));var r=n(20584),a=n(20585),i=n(20624),o=n(20626),c=n(20754),s=n(20793),u=n(20792),l=n(20738),d=n(20763),f=n(20733);function p(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function h(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){p(i,r,a,o,c,"next",e)}function c(e){p(i,r,a,o,c,"throw",e)}o(void 0)}))}}function v(e,t){var n=[];return{type:"executeOData.execute",execute:c=>h((function*(){var{dispatch:s}=c,u=new i.a(a.a.newGuid().guid);return n.push({name:r.c.CLIENT_REQUEST_ID,value:u.RequestId()}),t&&t.push({name:r.c.CLIENT_REQUEST_ID,value:u.RequestId()}),s(Object(o.c)(e,n))}))(),getFailureParameters:()=>n}}function m(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return{type:"executeOData.requestAdditionalMetadata.async",execute:(e,n)=>h((function*(){var{dispatch:n,getState:r}=e;if(t){var a=t.reduce(g,{});yield n(Object(f.b)(a))}}))()}}function y(e,t,n){e.hasOwnProperty(t)?e[t]&&(e[t]=n?Array.from(new Set(e[t].concat(n))):null):e[t]=n}function g(e,t){if(Object(d.c)(t))return t.reduce(g,{});if(Object(d.d)(t)){var n=null;if(!t||"function"!=typeof t.getMetadata||!(n=t.getMetadata()))return e;if("ExecuteMultiple"===n.operationName)return t.requests.reduce(g,{});if("Create"===n.operationName){var r=t,a=Object(s.d)(r.payload);y(e,r.etn,a)}else if("Update"===n.operationName){var i=t,o=Object(s.d)(i.payload);y(e,i.etn,o)}else if("Retrieve"===n.operationName){var f=t;y(e,f.entityReference.entityType,f.columns)}else if("Delete"===n.operationName){y(e,t.entityReference.entityType,[])}else if("RetrieveWithUrlParams"===n.operationName){y(e,t.etn,[])}else if("DeleteWithUrlParams"===n.operationName){y(e,t.etn,[])}else{var p=function e(t){var n=null,r=null;if(!t||"function"!=typeof t.getMetadata||!(n=t.getMetadata())||!(r=n.parameterTypes))return[];var a=new Set;for(var i of Object.keys(t)){var o=t[i];if(null!=o)if(n.boundParameter===i)r[i].structuralProperty===c.b.Collection?a.add(o):a.add(o.entityType);else if(r[i])switch(r[i].structuralProperty){case c.b.Collection:if(o&&o.length)if(o[0].getMetadata){var s=o;for(var l of s)e(l).forEach(e=>a.add(e))}else if(-1===u.a.indexOf(r[i].typeName)){var d=o;for(var f of d)"object"==typeof f&&"entityType"in f&&"id"in f&&a.add(f.entityType)}break;case c.b.EntityType:"object"==typeof o&&"entityType"in o&&"id"in o&&a.add(o.entityType);break;case c.b.ComplexType:e(o).forEach(e=>a.add(e))}}return Array.from(a)}(t);for(var h of p)y(e,h,[])}return e}throw new l.a("unsupported request")}},20624:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(20625);class a extends r.a{constructor(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];super(e),this._isPreloadCall=!1,this.requestId=e,this._isPreloadCall=t}RequestId(){return this.requestId}IsPreloadCall(){return this._isPreloadCall}toString(){return"["+this.RequestId()+"]"}}},20625:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(20622);class a{constructor(e,t,n){this.requestId=void 0,this._callerName=void 0,this._callerPriority=0,this._stack=void 0,this._callerName=Object(r.b)(t)?a.unknown:t,this._callerPriority=n}get_callerName(){return this._callerName}get_Stack(){return this._stack}AppendCallStack(e){Object(r.a)(e)||(Object(r.a)(this._stack)?this._stack=e:this._stack=this._stack+":"+e)}get_callerPriority(){return this._callerPriority}IsPreloadCall(){return!1}}a.unknown="unknown"},20626:function(e,t,n){"use strict";n.d(t,"d",(function(){return W})),n.d(t,"a",(function(){return Y})),n.d(t,"c",(function(){return X})),n.d(t,"g",(function(){return J})),n.d(t,"f",(function(){return Z})),n.d(t,"h",(function(){return $})),n.d(t,"b",(function(){return re})),n.d(t,"e",(function(){return be}));var r=n(20583),a=n(20584),i=n(20599),o=n(20627),c=n(20623),s=n(20733),u=n(20760),l=n(20762),d=n(20835),f=n(20782),p=n(20836),h=n(20785),v=n(20793),m=n(20823),y=n(20738),g=n(20846),b=n(20784),O=n(20824),E=n(20751),_=n(20792),S=n(20763),C=n(20750),w=n(20740),T=n(20741),j=n(20822),N=n(20757),P=n(20819),I=n(20749),R=n(20806),M=n(20759),x=n(20758),D=n(20588),A=n(20801),k=n(20780),F=n(20802),L=(n(20851),n(20826)),q=n(20827),U=n(20811);function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){G(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function G(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function Q(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){H(i,r,a,o,c,"next",e)}function c(e){H(i,r,a,o,c,"throw",e)}o(void 0)}))}}var z;function W(){return z}var Y={CRM_ERROR_CODE:"Crm-Error-Code",CRM_ERROR_MESSAGE:"Crm-Error-Message",CRM_CALL_STACK:"Crm-Call-Stack",IS_BATCH_REQUEST:"IsBatchRequest",IS_EXPRESSION_RUNTIME_REQUEST:"IS_EXPRESSION_RUNTIME_REQUEST",IS_ERROR_IN_OFFLINE:"ErrorInOffline",ODATA_ERROR_RESPONSE_IS_HTML_TYPE:"Odata-Error-Response-Is-Html-Type"};function X(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;return{type:"modernDataSource.execute.odata.async",execute:(r,a)=>Q((function*(){var{getState:i,dispatch:o}=r,s=a.TraceManager.getTracer(E.d.ModernDataSource);s.info("".concat(Ee()," Execute legacy request.")),yield o(Object(c.c)(e));var u=yield o(Object(l.d)(e));if(z&&Object(M.a)(i(),x.g)){s.info("".concat(Ee()," Using common promise cache"),t);var d=Object(U.c)(u),f=Object(L.b)(u);if(f){var p=K(u,t,n),h=Object(q.b)(d.type,d.source);return yield o(Object(q.a)(!0,z,()=>f,p,h,s,t,n))}s.error("".concat(Ee()," Cannot generate key for common promise cache"),t)}return re(u,i,s,C.a.Default,a)}))()}}function K(e,t,n){return{type:"modernDataSource.executeInternal.odata.async",execute:(t,n)=>Q((function*(){var{getState:r,dispatch:a}=t,i=n.TraceManager.getTracer(E.d.ModernDataSource);return i.info("".concat(Ee()," Execute legacy request.")),re(e,r,i,C.a.Default,n)}))()}}function J(e){return{type:"moderndatasource.retrievemultiple.async",execute:(t,n)=>Q((function*(){var{getState:r,dispatch:a}=t,i=n.TraceManager.getTracer(E.d.ModernDataSource);i.info("".concat(Ee()," Retrieve multiple is executing"));var o=Object(g.i)(null==e?void 0:e.fetchXml);yield a(Object(s.b)(o));var c=yield a(Object(l.e)(e)),u=Object(p.b)(null==e?void 0:e.fetchXml),d=yield re(c,r,i,C.a.Default,n),f=yield be(d,i);return Object(p.a)(r(),e,u,f,n)}))()}}function Z(e,t){return{type:"moderndatasource.retrieve.async",execute:(n,r)=>Q((function*(){var{getState:a,dispatch:i}=n,o=r.TraceManager.getTracer(E.d.ModernDataSource);o.info("".concat(Ee()," Retrieve is executing")),yield i(Object(s.c)(e.etn,!0));var c=yield i(Object(l.d)(Object(h.a)(a(),e,t))),u=yield re(c,a,o,C.a.Default,r),d=yield be(u,o);return yield i(Object(v.c)(d,e.etn,t,void 0,void 0,void 0,o))}))()}}function $(e,t){return{type:"moderndatasource.retrieve.records.async",execute:(n,r)=>Q((function*(){var{getState:a,dispatch:i}=n,o=r.TraceManager.getTracer(E.d.ModernDataSource);if(o.info("".concat(Ee()," Retrieve records is executing")),!e||0===e.length)throw new y.a("Invalid identifiers");yield i(Object(s.c)(e[0].etn,!0));var c=[];for(var u of e){var l=Object(h.a)(a(),u,t);c.push(l)}for(var d=yield i(Object(S.b)(c)),f=[],p=0;p<d.length;p++){var m=yield be(d[p],o),g=yield i(Object(v.c)(m,e[p].etn,t,void 0,void 0,void 0,o));f.push(g)}return f}))()}}function ee(e){var t,n,r,a,i=null===(t=e.StateProvider)||void 0===t||null===(n=t.getStore)||void 0===n?void 0:n.call(t).getState();return{DataLayerConfiguration:e.DataLayerConfiguration,TraceManager:e.TraceManager,EventManager:e.EventManager,SqlExecutor:null!==(r=e.AdditionalParameters)&&void 0!==r&&r.EnableCanvasOffline?e.SqlExecutor:{},ApplicationState:null!==(a=e.AdditionalParameters)&&void 0!==a&&a.EnableCanvasOffline?i:{},StateProvider:e.StateProvider,AdditionalParameters:e.AdditionalParameters}}function te(e,t,n){return ne.apply(this,arguments)}function ne(){return(ne=Q((function*(e,t,n){var r=ee(n),a=ge(e);null==t||t.info("".concat(Ee()," Execute the request in Modern Data Layer Component"));var i=new o.a({},r);return yield i.execute(a)}))).apply(this,arguments)}function re(e,t,n){return ae.apply(this,arguments)}function ae(){return(ae=Q((function*(e,t,n){var r,i,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:C.a.Default,c=arguments.length>4?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]&&arguments[5],u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],d=arguments.length>7&&void 0!==arguments[7]&&arguments[7],f=performance.now(),p=null===(r=(i=c.EventManager).getScenarioTracker)||void 0===r?void 0:r.call(i,a.p.Load,"Storage:ModernDataLayer");ie(t(),e,o,s,c);var h=Object(M.a)(t(),x.o);if(h&&e.expressionRuntimeSupportedRequest){var v=[];he(e,v);var m=void 0;if(m)return fe(t,m,e,o,f,c,n,!0,p,v);n.warn("".concat(Ee()," No Data Component handled this request - Response is Null"),v)}var y=e;(d=d||ue(e)||se(t,e))&&(u.push({name:"isConvertToBatchRequestNeeded",value:d}),y=Object(l.b)(c,e)),he(e,u);var g=yield te(y,n,c);return d&&(g=yield le(g,n,u)),fe(t,g,e,o,f,c,n,!1,p,u)}))).apply(this,arguments)}function ie(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:C.a.Default,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4?arguments[4]:void 0;try{var o;if(t.additionalHeaders||(t.additionalHeaders={}),e&&e.serverStatus)switch(n){case C.a.Local:if(!a&&!ce(e,t)){var c=oe(e);throw w.a.fromErrorCodeAndMessage(T.a.DataSourceOfflineErrorCode,"Can't execute 'Offline' request as ".concat(c))}o=u.b.OFFLINE;break;case C.a.Remote:if(!a&&!Object(j.a)(e))throw w.a.FromMessage("Can't execute 'Online' request as server is NOT available");o=u.b.ONLINE;break;case C.a.Default:if(t.additionalHeaders[u.c.EXECUTION_HINT])return;if(Object(N.c)(e)&&Object(j.a)(e)&&ce(e,t)){t.additionalHeaders.clientType=r.b.local;var s={[P.e]:!0};t.additionalParameters=t.additionalParameters?V(V({},t.additionalParameters),s):s,o=u.b.OFFLINE}else if(Object(j.a)(e))o=u.b.ONLINE;else{if(!ce(e,t)){var l=oe(e);throw w.a.fromErrorCodeAndMessage(T.a.DataSourceOfflineErrorCode,"Can't execute 'Default' request as the server is NOT available and ".concat(l))}o=u.b.OFFLINE}break;default:throw w.a.FromMessage("Currently MDL does not support the strategy: "+n)}else o=n===C.a.Local?u.b.OFFLINE:u.b.ONLINE;t.additionalHeaders[u.c.EXECUTION_HINT]=o}catch(p){var d=[];he(t,d);var f=y.a.toLegacyErrorStatus(Object(y.c)(p));throw Object(I.a)(i,d,f,e,E.d.ModernDataSource),p}}function oe(e){return Object(R.a)(e)?Object(R.c)(e)?"related entity is not enabled for offline":"offline is not yet available":"the app is not offline enabled"}function ce(e,t){return Object(R.a)(e)&&Object(R.c)(e)&&Object(l.g)(e,t)}function se(e,t){return Object(M.a)(e(),x.a)&&"GET"===t.method&&"remote"===Object(D.l)(ge(t))&&t.additionalParameters&&t.additionalParameters[k.a.TYPE]===k.c.RETRIEVE_MULTIPLE&&Object(A.a)(e())===F.a.MobileApplication&&Object(_.c)(t.urlParameters).length>1500}function ue(e){return"GET"===e.method&&Object(_.c)(e.urlParameters).length>16300}function le(e,t,n){return de.apply(this,arguments)}function de(){return(de=Q((function*(e,t,n){var r=yield Object(f.b)(e);return r&&r.length>0?r[0]:(t.warn("".concat(Ee()," Invalid response list returned from parseBatchResponse"),n),e)}))).apply(this,arguments)}function fe(e,t,n){return pe.apply(this,arguments)}function pe(){return(pe=Q((function*(e,t,n){arguments.length>3&&void 0!==arguments[3]||C.a.Default;var r=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0,o=arguments.length>6?arguments[6]:void 0,c=arguments.length>7?arguments[7]:void 0,s=arguments.length>8?arguments[8]:void 0,u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[],d=performance.now()-r;if(u.push({name:a.c.RESPONSE_TIME,value:d}),ve(t,u,c,"$batch"===n.urlParameters),t.ok)return null==s||s.complete(u),i.EventManager.ReportComponentSuccess("Storage:ModernDataLayer",u),t;if(401!==t.status){if(t.url&&-1!==t.url.indexOf("$batch")||n&&n.urlParameters&&-1!==n.urlParameters.indexOf("$batch")){var p=yield Object(f.b)(t);if(p.length>0){var h=p.find(e=>!e.ok);if(h)return me(h,i,u,o,s)}return o&&o.error("Batch response parsing has failed",u),me(t,i,u,o,s)}return null==o||o.error("".concat(Ee()," Modern Data Layer component returns Error Response - Convert error to CRM Error."),u),me(t,i,u,o,s)}null==o||o.error("".concat(Ee()," Modern Data Layer : 401 response from server."),u);var v=i.DataLayerConfiguration.RemoteRetryHandler;try{return v?(yield v.handleAuthError(n),null==o||o.error("".concat(Ee()," Modern Data Layer : 401 response from server, handleAuthError() was successful, retrying the request."),u),yield Object(l.a)(e,n),te(n,e,i)):me(t,i,u,o,s)}catch(m){throw o&&o.error("".concat(Ee()," Error in 401 error handling"),u),m}}))).apply(this,arguments)}function he(e,t){t.push({name:a.c.CLIENT_REQUEST_ID,value:_e(e)}),t.push({name:a.c.CLIENT_TYPE,value:"remote"});var n=Object(i.a)(ge(e));t.push({name:a.c.OPERATION_TYPE,value:n})}function ve(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=e.headers?Object(b.a)(e.headers,u.c.SERVER_REQUEST_ID):r.G,c=e.status?e.status:null,s=e.type?e.type:null,l=e.statusText?e.statusText:r.G,d=e.url?Object(m.b)(e.url):r.G,f=e.headers?Object(b.a)(e.headers,u.c.CONTENT_LENGTH):r.G;Object(m.a)(e.url)&&t.push({name:a.c.RESPONSE_URL,value:d}),t.push({name:a.c.HTTP_STATUS_CODE,value:c}),t.push({name:a.c.HTTP_RESPONSE_TYPE,value:s}),t.push({name:a.c.HTTP_RESPONSE_STATUS_TEXT,value:l}),t.push({name:a.c.SERVER_REQUEST_ID,value:o||r.G}),t.push({name:a.c.RESPONSE_SIZE_IN_BYTES,value:f||r.G}),t.push({name:Y.IS_BATCH_REQUEST,value:i}),t.push({name:Y.IS_EXPRESSION_RUNTIME_REQUEST,value:n})}function me(e,t,n,r,a){return ye.apply(this,arguments)}function ye(){return(ye=Q((function*(e,t,n,a,i){var o;try{var c=yield e.text();o=Object(d.a)(c,e,n,a),Object(m.a)(e.url)&&(n.push({name:"Odata-Error-Response-Complete-text",value:c}),n.push({name:"Crm-Error-Response-From-OdataResponse",value:JSON.stringify(o)}));var s=o.message||"Request Failure";n.push({name:Y.CRM_ERROR_CODE,value:o.errorCode}),o.stack&&n.push({name:Y.CRM_CALL_STACK,value:o.stack}),n.push({name:Y.CRM_ERROR_MESSAGE,value:s});var u=e?e.status:null;if([400,404,500,503].indexOf(u)>-1&&!Object(O.b)(o.errorCode)){var l=new y.a(s,o.errorCode,void 0,null,null,null,null,n,null,null,null,!1,-1,null,u,o.clientRequestId,o.serverResponseId);null==i||i.failure(n),t.EventManager.ReportComponentFailure("Storage:ModernDataLayer",l,void 0,n)}else null==a||a.error(s,n)}catch(l){null==a||a.error("".concat(Ee()," Modern Data Layer component : Exception occurred while creating error response."),n);var f=O.a.unknownInternalServerError;throw new y.a(r.G,f)}throw o}))).apply(this,arguments)}function ge(e){return{url:e.urlParameters,method:e.method,additionalHeaders:e.additionalHeaders,body:e.body}}function be(e,t,n){return Oe.apply(this,arguments)}function Oe(){return(Oe=Q((function*(e,t,n){if(null==n||n.AppendCallStack("WebAPIService.parseJsonResponse"),e){var r=Object(b.a)(e.headers,u.c.CONTENT_TYPE);return r&&r.indexOf("text/html")>-1?(null==n||n.AppendCallStack("WebAPIService.response.text"),e.text().then(n=>{throw Object(d.a)(n,e,[],t)})):(null==n||n.AppendCallStack("WebAPIService.response.json"),e.json())}throw new y.a("Null response from server")}))).apply(this,arguments)}function Ee(e){return"[".concat(e||E.g.ModernDataSource,"]")}function _e(e){var t;return(null==e||null===(t=e.additionalHeaders)||void 0===t?void 0:t[u.c.CLIENT_REQUEST_ID])||r.G}},20627:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(20583),a=n(20596),i=n(20588),o=n(20628),c=n(20584),s=n(20599),u=n(20629);function l(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}class d{constructor(e,t){this._oDataClientManager=void 0,this._applicationContext=void 0,this._applicationContext=t,this._oDataClientManager=new u.a(e||{},this._applicationContext)}execute(e,t){var n,u=this;return(n=function*(){var n=new o.a;n.startMarker(c.d.ODataExecutor);var l=u._applicationContext.TraceManager.getTracer(c.a.ODataExecutor),d=[];Object(a.c)(e,d);try{var f,p,h=u._oDataClientManager.getODataClient(e),v=Object(s.a)(e,u._applicationContext),m={requestType:v,commonEventParameters:d,performanceControl:n,clientRequestId:Object(i.k)(e)||""},y=yield h.execute(e,m);null!==(f=u._applicationContext.AdditionalParameters)&&void 0!==f&&f.EnableCanvasOffline&&y.value&&(y=yield y.value),n.startMarker(c.d.CloneRequest);var g=y.clone();if(n.endMarker(c.d.CloneRequest),n.endMarker(c.d.ODataExecutor),y.ok){var b;Object(a.d)(g,d);var O=Object(i.l)(e,d),E=[c.d.ODataExecutor,c.d.ResponseHandler,c.d.CloneRequest];O===r.b.local?E=E.concat([c.d.SQLGenerator,c.d.MetadataSQLExecutor,c.d.DataSQLExecutor,c.d.RootFinderSQL]):E.push(c.d.FetchRequest);var _=Object(a.i)(n,E);!Object(i.w)(_)&&t&&(t.eventParameters=Object(a.b)(t.eventParameters,_)),!Object(i.w)(d)&&t&&(t.eventParameters=Object(a.g)(t.eventParameters,d)),null!==(b=u._applicationContext.AdditionalParameters)&&void 0!==b&&b.EnabledODataExecutorTrace&&u._applicationContext.EventManager.ReportComponentSuccess(c.a.ODataExecutor,Object(a.b)(d,_))}else if(null!==(p=u._applicationContext.AdditionalParameters)&&void 0!==p&&p.EnabledODataExecutorTrace){d=yield Object(a.e)(g,d,v);var S=y.status;if(l.warn("[".concat(c.d.ODataExecutor,"] Request returns Error Response with status code: ").concat(S),d),r.F.includes(S)){for(var C="Request Failed",w=0;w<d.length;w++)if(d[w].name===c.c.ERROR_MESSAGE&&d[w].value!==c.c.EMPTY_STRING){C=d[w].value;break}l.warn("[".concat(c.d.ODataExecutor,"] ").concat(C),d)}}return y}catch(N){var T,j=N&&N.message?N.message:"OData Request Failed";return N&&(N.message=j),null!==(T=u._applicationContext.AdditionalParameters)&&void 0!==T&&T.EnabledODataExecutorTrace&&(Object(a.a)(N,d),l.error("[".concat(c.d.ODataExecutor,"] ").concat(j),d)),Object(i.f)(N,e.url)}},function(){var e=this,t=arguments;return new Promise((function(r,a){var i=n.apply(e,t);function o(e){l(i,r,a,o,c,"next",e)}function c(e){l(i,r,a,o,c,"throw",e)}o(void 0)}))})()}}},20628:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));class r{constructor(){this._startMarker=void 0,this._perfMeasure=void 0,this._perfStatistic=void 0,this._startMarker=new Map,this._perfMeasure=new Map,this._perfStatistic=new Map}startMarker(e){this._startMarker.set(e,this.getTimeNow())}endMarker(e){var t=this.getTimeNow(),n=0;try{this._startMarker.has(e)&&(n=this._startMarker.get(e)||n);var r=t-n,a={name:e,startTime:n,endTime:t,duration:r};this.updatedStatistic(e,r),this._perfMeasure.set(e,a)}catch(i){return}}getTimeNow(){return performance.now()}getPerformanceEntry(e){try{if(this._perfMeasure.has(e)&&this._perfStatistic.has(e)){var t=this._perfMeasure.get(e),n=this._perfStatistic.get(e);if(t&&n)return{name:e,performanceMeasure:t,performanceStatistic:n}}}catch(r){return null}return null}updatedStatistic(e,t){var n=t,r=1,a=t,i={};try{if(this._perfStatistic.has(e)){var o=this._perfStatistic.get(e);r=o?o.count+r:r,a=(n=o?o.totalDuration+t:t)/r}i={name:e,count:r,totalDuration:n,averageDuration:a},this._perfStatistic.set(e,i)}catch(c){return}}}},20629:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(20583),a=n(20596),i=n(20588),o=n(20584),c=n(20630),s=n(20729);class u{constructor(e,t){this._remoteODataClient=void 0,this._localODataClient=void 0,this._remoteODataClient=new s.a(e,t),this._localODataClient=new c.a(e,t)}getODataClient(e){var t=[];return Object(a.c)(e,t),Object(i.l)(e,t)===r.b.local?this._localODataClient.getLocalODataClient(e,t):this._remoteODataClient.getRemoteODataClient(e)}getODataClientManagerPrefix(e){return"[".concat(e||o.d.ODataClientManager,"]")}}},20630:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(20583),a=n(20584),i=n(20599),o=n(20631),c=n(20725),s=n(20728);class u{constructor(e,t){this._sqlLocalODataClient=void 0,this._fileLocalODataClient=void 0,this._functionLocalODataClient=void 0,this._applicationContext=void 0,this._applicationContext=t,this._sqlLocalODataClient=new s.a(e,t),this._fileLocalODataClient=new c.a(e,t),this._functionLocalODataClient=new o.a(e,t)}getLocalODataClient(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=this._applicationContext.TraceManager.getTracer(a.a.ODataExecutor);if(t=Object(i.a)(e,this._applicationContext),o.info("".concat(l()," URL Parser Handler returns ").concat(t," request type")),r.D.indexOf(t)>-1)return o.info("".concat(l()," Local OData Client Manager called SQL Local Client")),this._sqlLocalODataClient;if(r.n.indexOf(t)>-1)return o.info("".concat(l()," Local OData Client Manager called File Local Client")),this._fileLocalODataClient;if(r.o.indexOf(t)>-1)return o.info("".concat(l()," Local OData Client Manager called Function Local Client")),this._functionLocalODataClient;var c="No LocalODataClient type matched with request";throw o.error("".concat(l()," ").concat(c),n),new Error(c)}}function l(e){return"[".concat(e||a.d.LocalODataClientManager,"]")}},20631:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(20632),a=n(20641);class i extends r.a{constructor(e,t){super(e,t),this.setExecuteRequestInterceptor(new a.a(this.applicationContext)).build()}}},20632:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(20633),a=n(20634),i=n(20635),o=n(20636),c=n(20637),s=n(20639),u=n(20640);class l{constructor(e,t){this.applicationContext=void 0,this.interceptors=void 0,this.executeRequestInterceptor=void 0,this._retryCount=void 0,this._promiseCache=void 0,this._policyManager=void 0,this._timeout=void 0,this._customizedInterceptors=void 0,this.applicationContext=t,this._timeout=e&&e.timeout||3e5,this._policyManager=e&&e.PolicyManager||this.getDefaultPolicyManager(this.applicationContext),this._retryCount=e&&e.RetryCount||3,this._promiseCache=new i.a(this.applicationContext),this._customizedInterceptors=[],this.interceptors=[]}getDefaultPolicyManager(e){var t=new a.a(e);return t.addRetryPolicy(Object(r.a)()),t}build(){return this.applicationContext&&this.applicationContext.AdditionalParameters&&this.applicationContext.AdditionalParameters.SingletonExecutor||(this.interceptors.push(new s.a(this._promiseCache,this.applicationContext)),this.interceptors.push(new u.a(this._timeout,this.applicationContext)),this.interceptors=this.interceptors.concat(this._customizedInterceptors),this.interceptors.push(new c.a(this._policyManager,this._retryCount,this.applicationContext))),this.interceptors.push(this.executeRequestInterceptor),this}describe(){var e=[];return this.interceptors.forEach(t=>{e.push(t.constructor.name)}),e}setExecuteRequestInterceptor(e){return this.executeRequestInterceptor=e,this}addInterceptor(e){return this._customizedInterceptors.push(e),this}execute(e,t){return new o.a(this.applicationContext,this.interceptors,e,0,t).proceed()}}},20633:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(20588);function a(){return{name:"ConnectivityRetry",condition:(e,t)=>function(e,t){return"GET"===e.method&&"remote"===Object(r.l)(e)&&0===t.status}(e,t),retryCount:1}}},20634:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(20584);function a(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}class i{constructor(e,t){this._tracer=void 0,this._policyByName={},t&&this.addRetryPolicies(t),this._tracer=e.TraceManager.getTracer(r.a.ODataExecutor)}addRetryPolicy(e){e.name in this._policyByName&&this._tracer.warn("".concat(o()," Same retry policy name: ").concat(e.name," is provided again. Ignore adding this repeated policy name to retry policy list.")),e.action||(e.action=function(){var e,t=(e=function*(e){return e},function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function c(e){a(o,r,i,c,s,"next",e)}function s(e){a(o,r,i,c,s,"throw",e)}c(void 0)}))});return function(e){return t.apply(this,arguments)}}()),this._policyByName[e.name]=e}addRetryPolicies(e){e&&e.length>0&&e.forEach(e=>{this.addRetryPolicy(e)})}getRetryPolicy(e,t){for(var n in this._policyByName)if(Object.prototype.hasOwnProperty.call(this._policyByName,n)){var r=this._policyByName[n];if(r.condition(e,t))return this._tracer.info("".concat(o()," Fit Policy ").concat(r.name)),r}return null}}function o(e){return"[".concat(e||r.d.PolicyManager,"]")}},20635:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(20584);class a{constructor(e){this._promiseCache=void 0,this._tracer=void 0,this._promiseCache={},this._tracer=e.TraceManager.getTracer(r.a.ODataExecutor)}contains(e){return this._promiseCache[e]?(this._tracer.info("".concat(i()," Promise in cache")),!0):(this._tracer.info("".concat(i()," Promise not in cache")),!1)}get(e){return this._tracer.info("".concat(i()," --- Get Promise Key")),this._promiseCache[e]}put(e,t){this._tracer.info("".concat(i()," --- Put Promise key")),this._promiseCache[e]=t}remove(e){this._tracer.info("".concat(i()," --- Remove Promise key")),delete this._promiseCache[e]}}function i(e){return"[".concat(e||r.d.PromiseCache,"]")}},20636:function(e,t,n){"use strict";function r(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}n.d(t,"a",(function(){return a}));class a{constructor(e,t,n,r,a){this.request=void 0,this.executionContext=void 0,this._call=void 0,this._index=void 0,this._interceptors=void 0,this._applicationContext=void 0,this._applicationContext=e,this._interceptors=t,this._index=r||0,this._call=0,this.request=n,this.executionContext=a||{}}proceed(e){var t,n=this;return(t=function*(){if(n._index<n._interceptors.length){e||(e=n.request),n._call+=1;var t=new a(n._applicationContext,n._interceptors,e,n._index+1,n.executionContext),r=n._interceptors[n._index],i=yield r.intercept(t);return 1!==t._call&&n._index+1!==n._interceptors.length?Promise.reject(new Error("interceptor "+r.constructor.name+" must call proceed() at least once")):i}return Promise.reject(new Error("Interceptor out of range"))},function(){var e=this,n=arguments;return new Promise((function(a,i){var o=t.apply(e,n);function c(e){r(o,a,i,c,s,"next",e)}function s(e){r(o,a,i,c,s,"throw",e)}c(void 0)}))})()}clone(e){return new a(this._applicationContext,this._interceptors,e||this.request,this._index,this.executionContext)}terminate(){this._call+=1}}},20637:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(20588),a=n(20584),i=n(20638);function o(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function c(e){o(i,r,a,c,s,"next",e)}function s(e){o(i,r,a,c,s,"throw",e)}c(void 0)}))}}class s extends i.a{constructor(e,t,n){super(n),this._retryCount=void 0,this._policyManager=void 0,this._retryCount=t,this._policyManager=e}intercept(e){var t=this;return c((function*(){return yield t.executeWithPolicy(e)}))()}executeWithPolicy(e){var t=this;return c((function*(){for(var n=e,a=0,i=0,o={},c=t._retryCount,s=e.executionContext?e.executionContext.commonEventParameters:[];;){yield t.timeout(i);var u=n.request;try{var l=yield n.proceed(),d=t._policyManager.getRetryPolicy(u,l);if(null===d)return l;var f=d.name;if(f&&f in o?c=o[d.name]:(o[f]=d.retryCount,c=d.retryCount),!(a<t._retryCount&&c>0))return t.tracer.warn("".concat(t.getPolicyRetryInterceptorPrefix()," Retry the request for ").concat(a," time(s). Failed to retry with policy ").concat(f,"."),s),l;var p=d.action?yield d.action(u):u;n=e.clone(p),a++,o[f]=o[f]-1,i=d.delay||0,t.tracer.warn("".concat(t.getPolicyRetryInterceptorPrefix()," Retry the request with retry policy: ").concat(f," and current retry count is: ").concat(a,"."),s)}catch(v){var h="Retry with count "+a+" failed";return v.message=v&&v.message?"".concat(v.message,".").concat(h):h,t.tracer.warn("".concat(t.getPolicyRetryInterceptorPrefix()," ").concat(h),s),Object(r.f)(v,u.url)}}}))()}getPolicyRetryInterceptorPrefix(e){return"[".concat(e||a.d.PolicyRetryInterceptor,"]")}timeout(e){return c((function*(){return new Promise(t=>{setTimeout(()=>{t()},e)})}))()}}},20638:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(20584);class a{constructor(e){this.tracer=void 0,this.applicationContext=void 0,this.applicationContext=e,this.tracer=e.TraceManager.getTracer(r.a.ODataExecutor)}}},20639:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(20638);function a(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}class i extends r.a{constructor(e,t){super(t),this._promiseCache=void 0,this._promiseCache=e}intercept(e){var t,n=this;return(t=function*(){var t=e.request;if(n.shouldSkipPromiseCacheCheck(t.method))return e.proceed();if(n._promiseCache.contains(t.url))return e.terminate(),n._promiseCache.get(t.url);var r=e.proceed();return n._promiseCache.put(t.url,r),r.then(()=>{n._promiseCache.remove(t.url)},()=>{n._promiseCache.remove(t.url)}),r},function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function c(e){a(o,r,i,c,s,"next",e)}function s(e){a(o,r,i,c,s,"throw",e)}c(void 0)}))})()}shouldSkipPromiseCacheCheck(e){var t;return!(null===(t=this.applicationContext.AdditionalParameters)||void 0===t||!t.EnableCanvasOffline||"POST"!==e)}}},20640:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(20611),a=n(20584),i=n(20612),o=n(20638);class c extends o.a{constructor(e,t){super(t),this._t=void 0,this._timeoutBuffer=void 0,this._timeout=void 0,this._eventParameters=void 0,this._t=e,this._timeout=0,this._eventParameters=[],this._timeoutBuffer=5e3}intercept(e){this._eventParameters=e.executionContext?e.executionContext.commonEventParameters:this._eventParameters;var t=Promise.race([this.timeOut(),e.proceed()]);return t.then(()=>{clearTimeout(this._timeout)},()=>{clearTimeout(this._timeout)}),t}timeOut(){return new Promise((e,t)=>{this.tracer.info("".concat(this.getTimeoutInterceptorPrefix()," Set time out with time ").concat(this._t));var n=Date.now();this._timeout=window.setTimeout(()=>{var e=Date.now();Object(i.u)(this.applicationContext,r.j)&&e-n>this._t+this._timeoutBuffer?(this.tracer.warn("".concat(this.getTimeoutInterceptorPrefix()," Retrying timeout to see if request can be completed"),this._eventParameters),clearTimeout(this._timeout),this._timeout=window.setTimeout(()=>{this._logErrorAndRejectPromise(t)},this._t)):this._logErrorAndRejectPromise(t)},this._t)})}_logErrorAndRejectPromise(e){this.tracer.error("".concat(this.getTimeoutInterceptorPrefix()," Timeout with time ").concat(this._t),this._eventParameters),e(new Error("request failed with timeout"))}getTimeoutInterceptorPrefix(e){return"[".concat(e||a.d.TimeoutInterceptor,"]")}setExtraTimeout(e){this._timeoutBuffer=e}}},20641:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(20584),a=n(20599),i=n(20638),o=n(20642),c=n(20644),s=n(20661);function u(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}class l extends i.a{intercept(e){var t,n=this;return(t=function*(){var t,i=[],u=e.executionContext||{},l=e.request,f=u.requestType||Object(a.a)(l,n.applicationContext),p=n.applicationContext.TraceManager.getTracer(r.a.FunctionExecutor),h=u.commonEventParameters||[],v=yield Object(c.a)(l,n.applicationContext,u);p.info("".concat(d()," Function Executor is processing"));try{i=yield Object(o.a)(l,f,v,n.applicationContext,u)}catch(g){var m=g,y={name:m.name?m.name:"Function Executor",message:m.message?m.message:JSON.stringify(m)};return t=yield Object(s.b)(l,f,n.applicationContext,i,y,void 0,u),p.error("".concat(d()," Function Local OData Client return back error response \n status code: ").concat(t.status,"\n error message: ").concat(t.statusText),h),t}return p.info("".concat(d()," Response Handler is processing")),t=yield Object(s.b)(l,f,n.applicationContext,i,void 0,void 0,u),p.info("".concat(d()," Function Local OData Client return back response\n status code: ").concat(t.status,"\n url: ").concat(t.url)),t},function(){var e=this,n=arguments;return new Promise((function(r,a){var i=t.apply(e,n);function o(e){u(i,r,a,o,c,"next",e)}function c(e){u(i,r,a,o,c,"throw",e)}o(void 0)}))})()}}function d(e){return"[".concat(e||r.d.FunctionRequestInterceptor,"]")}},20642:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(20584),a=n(20588),i=n(20643),o=n(20583);function c(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){c(i,r,a,o,s,"next",e)}function s(e){c(i,r,a,o,s,"throw",e)}o(void 0)}))}}function u(e,t,n,r){return l.apply(this,arguments)}function l(){return(l=s((function*(e,t,n,a){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},c=a.TraceManager.getTracer(r.a.FunctionExecutor),s=i.commonEventParameters||[];if(!e.url)throw c.error("".concat(p()," url is invalid"),s),new Error("Empty url is not valid");if(!e.additionalHeaders)throw c.error("".concat(p()," additionalHeaders is invalid"),s),new Error("additionalHeaders not valid");switch(t){case o.y.CountRows:return yield d(n,a,i);default:throw new Error("Request type for Function is not supported")}}))).apply(this,arguments)}function d(e,t){return f.apply(this,arguments)}function f(){return(f=s((function*(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=t.TraceManager.getTracer(r.a.FunctionExecutor);c.info("".concat(p()," ExecuteCountRowsRequest - Function Executor Started"));var s,u=n.commonEventParameters||[];try{s=yield Object(i.a)(e,t,o.y.CountRows,n)}catch(d){var l=Object(a.g)(d);throw c.error("Function (countRows) execution failed",u),l}return s}))).apply(this,arguments)}function p(e){return"[".concat(e||r.d.FunctionExecutor,"]")}},20643:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(20583),a=n(20596),i=n(20588),o=n(20584),c=n(20601);function s(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){s(i,r,a,o,c,"next",e)}function c(e){s(i,r,a,o,c,"throw",e)}o(void 0)}))}}function l(e,t,n){return d.apply(this,arguments)}function d(){return(d=u((function*(e,t,n){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u=arguments.length>4&&void 0!==arguments[4]&&arguments[4],l=t.TraceManager.getTracer(o.a.SQLExecutor),d=s.commonEventParameters||[],p=[];e=Object(i.c)(e,s,l),p.push({name:"NoOfSQLStatements",value:e&&e.sqlStatements?e.sqlStatements.length:0}),l.info("".concat(f()," ExecuteSQLBatch - starting ExecuteSQLBatch"),Object(a.b)(d,p));try{var h,v,m,y;if(n===r.y.GetClientMetadata)s.performanceControl&&s.performanceControl.startMarker(o.d.MetadataSQLExecutor),v=yield null===(m=t.SqlExecutor)||void 0===m?void 0:m.executeSqlStatementsOnMetadataDB(e);else s.performanceControl&&s.performanceControl.startMarker(o.d.DataSQLExecutor),u&&(e.sqlStatements.unshift(c.u),e.sqlParameters.unshift([]),e.sqlStatements.push(c.t),e.sqlParameters.push([])),v=yield null===(y=t.SqlExecutor)||void 0===y?void 0:y.executeSqlStatementsOnOfflineDB(e);return(Object(i.w)(v)||0===(null===(h=v)||void 0===h?void 0:h.length))&&(p.push({name:o.c.SQL_QUERY,value:e.sqlStatements.toString()}),l.warn("".concat(f()," ExecuteSQLBatch did not return a result"),Object(a.b)(d,p))),l.info("".concat(f()," SQL Executor successfully completed"),Object(a.b)(d,p)),s.performanceControl&&(n===r.y.GetClientMetadata?s.performanceControl.endMarker(o.d.MetadataSQLExecutor):s.performanceControl.endMarker(o.d.DataSQLExecutor)),Promise.resolve(v)}catch(O){var g=Object(i.g)(O),b=g.message;return g.message=Object(a.h)(b),Object(a.a)(O,p),p.push({name:o.c.SQL_ERROR_CODE,value:g.code||r.i.UnknownUnexpectedGenericError}),p.push({name:o.c.SQL_ERROR_MESSAGE,value:b}),Object(a.f)(e,p),l.error("".concat(f()," Error on SQL Executor rejecting with data source offline error code"),Object(a.b)(d,p)),Promise.reject(g)}}))).apply(this,arguments)}function f(e){return"[".concat(e||o.d.SQLExecutor,"]")}},20644:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(20645);function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object(r.a)(e,t,n)}},20645:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n(20583),a=n(20584),i=n(20599),o=n(20646),c=n(20692),s=n(20693),u=n(20694),l=n(20655),d=n(20647),f=n(20710),p=n(20724);function h(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function v(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){h(i,r,a,o,c,"next",e)}function c(e){h(i,r,a,o,c,"throw",e)}o(void 0)}))}}function m(e,t){return y.apply(this,arguments)}function y(){return(y=v((function*(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},h=t.TraceManager.getTracer(a.a.SQLGenerator),v=n.commonEventParameters||[];h.info("".concat(g()," Query Generator start processing."),v);var m=Object(i.a)(e,t);switch(m){case r.y.Create:return Object(s.a)(e,t,h,n);case r.y.RetrieveMultiple:return Object(f.a)(e,t,h,n);case r.y.Update:return Object(p.a)(e,t,h,n);case r.y.Delete:return Object(u.a)(e,t,h,n);case r.y.GetClientMetadata:return Object(l.b)(e,t,h,n);case r.y.Retrieve:return Object(d.a)(e,t,h,n);case r.y.Batch:return Object(o.a)(e,t,h,n);case r.y.CountRows:return Object(c.a)(e,m,t,h,n);default:var y="Query Generator Failed with Unsupported request type";throw new Error(y)}}))).apply(this,arguments)}function g(e){return"[".concat(e||a.d.SQLGenerator,"]")}},20646:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(20583),a=n(20584),i=n(20599),o=n(20598),c=n(20647),s=n(20645);function u(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){u(i,r,a,o,c,"next",e)}function c(e){u(i,r,a,o,c,"throw",e)}o(void 0)}))}}function d(e,t,n){return f.apply(this,arguments)}function f(){return(f=l((function*(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=Object(o.a)(e,n,r.commonEventParameters,t);return p(a,t)?(n.info("".concat(g," found batch retrieve request")),[yield h(a,n,t,r)]):yield m(a,n,t,r)}))).apply(this,arguments)}function p(e,t){for(var n of e){if(Object(i.a)(n,t)===r.y.Retrieve)return!0}return!1}function h(e,t,n,r){return v.apply(this,arguments)}function v(){return(v=l((function*(e,t,n,r){var a=e&&e.length>0?e[0]:void 0,i=e&&e.length>1?e[1]:void 0;if(!a)throw t.error("".concat(g," Unsupported Retrieve request. MDL offline only supports retrieve+bpf request")),new Error("Unsupported offline batch request");return Object(c.a)(a,n,t,r,i)}))).apply(this,arguments)}function m(e,t,n,r){return y.apply(this,arguments)}function y(){return(y=l((function*(e,t,n,r){for(var a=[],i=0;i<e.length;i++){var o={requestType:r.requestType,commonEventParameters:r.commonEventParameters,performanceControl:r.performanceControl,internalRequest:r.internalRequest,clientRequestId:r.clientRequestId||""};a.push(Object(s.a)(e[i],n,o))}return Promise.all(a)}))).apply(this,arguments)}function g(e){return"[".concat(e||a.d.BatchGenerator,"]")}},20647:function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return x}));var r=n(20588),a=n(20584),i=n(20586),o=n(20592),c=n(20648),s=n(20601),u=n(20650),l=n(20688),d=n(20691),f=n(20583);function p(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function h(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){p(i,r,a,o,c,"next",e)}function c(e){p(i,r,a,o,c,"throw",e)}o(void 0)}))}}function v(e,t,n){return m.apply(this,arguments)}function m(){return(m=h((function*(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4?arguments[4]:void 0,s=a.commonEventParameters||[],u=yield Object(c.p)(e,t,n,s),f=Object(c.o)(e.url,n,s);if(Object(r.v)(f)){var p=new Error("Retrieve Generator was unable to extract GUID from url");throw n.error("".concat(D()," ").concat(p.message),s),p}var h=yield Object(o.j)(t,u),v=yield Object(o.b)(t,[],u,s),m=yield Object(d.b)(e.url,v,n,s);yield y(h,m);var b=null;Object(r.v)(i)||(b=yield Object(l.a)(u,m,i,h,t,n,a));var O=yield R(u,h,f,m,n,s,t);Object(r.v)(b)||(O=yield T(b,O)),h.IsActivity&&(O=yield N(f,v,O,n,a));var E=yield Object(d.a)(e.url,n,s);return Object.keys(E).length>0&&(O=yield g(f,h,E,O,n,s,t)),O}))).apply(this,arguments)}function y(e,t){if(Object(r.v)(t)||0===t.length)return t;var n=[e.PrimaryIdAttribute,e.PrimaryNameAttribute];for(var a of n)Object(r.v)(a)||-1!==t.indexOf(a)||t.push(a);return t}function g(e,t,n,r,a,i,o){return b.apply(this,arguments)}function b(){return(b=h((function*(e,t,n,a,i,o,c){if(Object.keys(n).length>0)for(var s in Object(r.v)(a.additionalParameters)&&(a.additionalParameters={}),a.additionalParameters[f.g]=[],i.info("".concat(D()," Requested for expansions"),o),n)a=yield O(e,s,n[s],t,a,c);return a}))).apply(this,arguments)}function O(e,t,n,r,a,i){return E.apply(this,arguments)}function E(){return(E=h((function*(e,t,n,a,i,o){Object(r.v)(i.additionalParameters)&&(i.additionalParameters={});var c=!1;if(a.OneToManyRelationships)for(var s in a.OneToManyRelationships){var u=a.OneToManyRelationships[s];u.ReferencedEntityNavigationPropertyName===t&&(c=!0,yield _(u,e,t,n,a,i,o))}if(!c&&a.ManyToOneRelationships)for(var l in a.ManyToOneRelationships){var d=a.ManyToOneRelationships[l];d.ReferencingEntityNavigationPropertyName===t&&(yield C(d,e,t,n,a,i,o))}return i}))).apply(this,arguments)}function _(e,t,n,r,a,i,o){return S.apply(this,arguments)}function S(){return(S=h((function*(e,t,n,a,i,o,u){Object(r.v)(o.additionalParameters)&&(o.additionalParameters={}),Object(r.v)(o.additionalParameters[f.g])&&(o.additionalParameters[f.g]=[]);var{referencedAttribute:l,referencingEntityAttributeTypes:d,referencingAttributeColumn:p,expandProperty:h}=yield Object(c.d)(e,n,o.sqlStatements,u),v=h.ReferencedOrReferencingEntityName;if(o.additionalParameters[f.g].push(h),a.clause===s.c.select){var m=yield Object(c.f)(a.values,v,d,u);o.sqlStatements.push("SELECT ".concat(m," FROM [").concat(v,"] WHERE [").concat(p,"] = (SELECT [").concat(l,"] FROM [").concat(i.EntityLogicalName,"] WHERE [").concat(i.PrimaryIdAttribute,"]=?)")),o.sqlParameters.push([t.guid])}else if(a.clause===s.c.in){var y="?,".repeat(a.values.length);y=y.substring(0,y.length-1),o.sqlStatements.push("SELECT * FROM [".concat(v,"] WHERE [").concat(a.propertyName,"] IN (").concat(y,") AND [").concat(p,"]=(SELECT [").concat(l,"] FROM [").concat(i.EntityLogicalName,"] WHERE [").concat(i.PrimaryIdAttribute,"]=?)")),o.sqlParameters.push([...a.values,t.guid])}}))).apply(this,arguments)}function C(e,t,n,r,a,i,o){return w.apply(this,arguments)}function w(){return(w=h((function*(e,t,n,a,i,o,u){Object(r.v)(o.additionalParameters)&&(o.additionalParameters={}),Object(r.v)(o.additionalParameters[f.g])&&(o.additionalParameters[f.g]=[]);var{referencingAttribute:l,referencedEntityAttributeTypes:d,referencedAttributeColumn:p,referencingAttributeColumn:h,expandProperty:v}=yield Object(c.c)(e,n,o.sqlStatements,u),m=v.ReferencedOrReferencingEntityName;if(o.additionalParameters[f.g].push(v),a.clause===s.c.select){var y=yield Object(c.e)(a.values,m,d,u);m===f.w?o.sqlStatements.push("SELECT ".concat(y," FROM [").concat(m,"] LEFT JOIN [").concat(f.k,"] on ").concat(f.w,".").concat(f.x," = ").concat(f.k,".[objectid!id] WHERE [").concat(p,"] = (SELECT [").concat(l,"] FROM [").concat(i.EntityLogicalName,"] WHERE [").concat(i.PrimaryIdAttribute,"]=?)")):o.sqlStatements.push("SELECT ".concat(y," FROM [").concat(m,"] WHERE [").concat(p,"] = (SELECT [").concat(h,"] FROM [").concat(i.EntityLogicalName,"] WHERE [").concat(i.PrimaryIdAttribute,"]=?)")),o.sqlParameters.push([t.guid])}else if(a.clause===s.c.in){var g="?,".repeat(a.values.length);g=g.substring(0,g.length-1),o.sqlStatements.push("SELECT * FROM [".concat(m,"] WHERE [").concat(p,"] = (SELECT [").concat(h,"] FROM [").concat(i.EntityLogicalName,"] WHERE [").concat(i.PrimaryIdAttribute,"]=?) AND [").concat(a.propertyName,"] IN (").concat(g,")")),o.sqlParameters.push([t.guid,...a.values])}}))).apply(this,arguments)}function T(e,t){return j.apply(this,arguments)}function j(){return(j=h((function*(e,t){if(!Object(r.x)(e.entityLogicalName)){var n="".concat(s.c.select," ").concat(s.p.asterisk," ").concat(s.c.from," [").concat(e.entityLogicalName,"] ").concat(s.c.where," [").concat(e.primaryIdAttribute,"]").concat(s.p.equal).concat(s.c.placeholder);t.sqlStatements.push(n),t.sqlParameters.push([e.primaryIdValue.guid]),Object(r.v)(t.additionalParameters)&&(t.additionalParameters={}),t.additionalParameters.BPFEntityLogicalName=e.entityLogicalName,t.additionalParameters.BPFQueryIndex=t.sqlStatements.length-1}return t}))).apply(this,arguments)}function N(e,t,n,r,a){return P.apply(this,arguments)}function P(){return(P=h((function*(e,t,n,r,a){var o=!1,c={};for(var l in t)t[l]===i.a.PartyList&&(c[u.B[l]]=l,o=!0);return o?(r.info("".concat(D()," Attempting to retrieve ").concat(c.length," activity parties"),a.commonEventParameters),I(e,[u.z,u.a+s.p.exclamation+u.n,u.a+s.p.exclamation+u.v,u.a+s.p.exclamation+u.r,u.c,u.C+s.p.exclamation+u.n,u.C+s.p.exclamation+u.v,u.C+s.p.exclamation+u.r,u.o,u.D,u.e],c,n,r,a)):(r.warn("".concat(D()," Activity entity does not have party type attributes"),a.commonEventParameters),n)}))).apply(this,arguments)}function I(e,t,n,a,i,o){if(Object(r.v)(t)||0===t.length)return i.error("".concat(D()," Empty list of columns received. Not generating activity party query"),o.commonEventParameters),a;for(var c="",l=0;l<t.length;l++)c+=s.p.openSQBracket+t[l]+s.p.closeSQBracket+s.p.comma;c=c.substr(0,c.length-1);var d="".concat(s.c.placeholder).concat(s.p.comma).repeat(Object.keys(n).length);d=d.substr(0,d.length-1);var f=s.p.openSQBracket+u.a+u.f+u.n+s.p.closeSQBracket+s.p.equal+s.p.question+s.p.space+s.c.and+s.p.space+s.p.openSQBracket+u.z+s.p.closeSQBracket+s.p.space+s.c.in+s.p.space+s.p.openParenthesis+d+s.p.closeParenthesis,p=s.c.select+s.p.space+c+s.p.space+s.c.from+s.p.space+s.p.openSQBracket+u.b+s.p.closeSQBracket+s.p.space+s.c.where+s.p.space+f+s.c.collateNoCase+s.p.space+s.c.orderBy+s.p.space+s.p.openSQBracket+u.z+s.p.closeSQBracket;return a.sqlStatements.push(p),a.sqlParameters.push([e.guid.toString(),...Object.keys(n)]),Object(r.v)(a.additionalParameters)&&(a.additionalParameters={}),a.additionalParameters.ContainsActivityPartyQuery=!0,a.additionalParameters.ParticipationMasks=n,a.additionalParameters.ActivityPartyQueryIndex=a.sqlStatements.length-1,a}function R(e,t,n,r,a,i,o){return M.apply(this,arguments)}function M(){return(M=h((function*(e,t,n,a,i,u,l){var d={sqlStatements:[],sqlParameters:new Array,additionalParameters:{}},f=t.PrimaryIdAttribute,p=yield Object(o.b)(l,[],e,u);if(Object(r.x)(f))throw i.error("".concat(D()," Invalid parameters when generating RETRIEVE query"),u),new Error("Invalid primary id attribute");var h="";return h=Object(r.v)(a)||0===a.length?s.p.asterisk:a.map(e=>"[".concat(Object(c.m)(p,e),"]")).join("".concat(s.p.comma).concat(s.p.space)),d.sqlStatements.push(s.c.select+s.p.space+h+s.p.space+s.c.from+s.p.space+s.p.openSQBracket+e+s.p.closeSQBracket+s.p.space+s.c.where+s.p.space+s.p.openSQBracket+f+s.p.closeSQBracket+s.p.equal+s.p.space+s.p.question+s.p.space+s.c.collateNoCase),d.sqlParameters.push([n.guid]),d}))).apply(this,arguments)}function x(e,t,n,r,a,i){var o={sqlStatements:[],sqlParameters:new Array(e),additionalParameters:{}};try{var c=[n,r];o.sqlStatements.push(function(e,t,n,r){for(var a="",i="",o=0;o<t.length;o++){var c=o>0?s.p.comma:"";a+="".concat(c,"[").concat(t[o],"]")}for(var u=0;u<e;u++){i+="".concat(u>0?" OR":"","[").concat(r,"] = ? COLLATE NOCASE")}return"SELECT ".concat(a," FROM ").concat(n," WHERE ").concat(i)}(e.length,c,t,n))}catch(u){a.warn("".concat(D()," Unable to retrieve lookup data with error ").concat(u," for entity ").concat(t," with ids: \n ").concat(e),i)}return o}function D(e){return"[".concat(e||a.d.RetrieveGenerator,"]")}},20648:function(e,t,n){"use strict";n.d(t,"k",(function(){return T})),n.d(t,"t",(function(){return $})),n.d(t,"r",(function(){return te})),n.d(t,"l",(function(){return re})),n.d(t,"a",(function(){return ie})),n.d(t,"g",(function(){return oe})),n.d(t,"h",(function(){return _})),n.d(t,"j",(function(){return U})),n.d(t,"p",(function(){return B})),n.d(t,"o",(function(){return G})),n.d(t,"n",(function(){return H})),n.d(t,"b",(function(){return X})),n.d(t,"q",(function(){return K})),n.d(t,"w",(function(){return C})),n.d(t,"v",(function(){return x})),n.d(t,"m",(function(){return ce})),n.d(t,"d",(function(){return se})),n.d(t,"c",(function(){return le})),n.d(t,"e",(function(){return he})),n.d(t,"f",(function(){return fe})),n.d(t,"u",(function(){return me})),n.d(t,"s",(function(){return ye})),n.d(t,"i",(function(){return ge}));var r=n(20583),a=n(20588),i=n(20594),o=n(20584),c=n(20586),s=n(20585),u=n(20592),l=n(20649),d=n(20643),f=n(20650),p=n(20601),h=n(20651),v=n(20682),m=n(20683),y=n(20684),g=n(20685),b=n(20687);function O(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function E(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){O(i,r,a,o,c,"next",e)}function c(e){O(i,r,a,o,c,"throw",e)}o(void 0)}))}}function _(e,t,n,r,a,i){return S.apply(this,arguments)}function S(){return(S=E((function*(e,t,n,r,i,o){var c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},l=yield Object(u.b)(r,[],e,o),d=yield j(e,[],r,o),h={id:s.a.EMPTY,entityLogicalName:e,attributeTypes:l,values:d};h=yield C(h,t,l,n,r,i,o,c);var v=yield Object(u.j)(r,e);if(h=yield x(r,h,v,n,o,c),e===p.a&&n===p.v.create&&Object.keys(h.values).indexOf(f.w)>=0){var m=h.values[f.w];Object(a.v)(m)||(h.values[f.x]=m)}if(h.values[f.I]="0",n===p.v.create){if(!v.PrimaryIdAttribute){var y="entity metadata does not have primary id attribute";throw i.error("".concat(Z()," ").concat(y),o),new Error(y)}v.PrimaryIdAttribute in h.values||(h.values[v.PrimaryIdAttribute]=s.a.newGuid().guid),h.id=new s.a(h.values[v.PrimaryIdAttribute]),!Object(a.v)(v)&&v.IsActivity&&(Object(a.v)(h.activityParties)&&(h.activityParties=[]),h.activityParties.push({partyId:yield Object(u.p)(r,o),partyName:yield Object(u.q)(r,o),partyLogicalName:f.H,participationType:f.B.owner}))}return h}))).apply(this,arguments)}function C(e,t,n,r,a,i,o){return w.apply(this,arguments)}function w(){return(w=E((function*(e,t,n,s,l,d,v){var y=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{};null==v||v.push({name:o.c.ENTITY_NAME,value:null==e?void 0:e.entityLogicalName});for(var g=0;g<t.columnNames.length;g++){var b=T(t.columnNames[g]);if(n[b]===c.a.PartyList){Object(a.v)(e.activityParties)&&(e.activityParties=[]);var O=t.columnValues[g].match(/(\w+)\(([0-9a-fA-F]{8}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{12})\)/);if(null===O){var E="Parsing a party list attribute ".concat(t.columnNames[g]," failed: ").concat(t.columnValues[g]);throw d.error("".concat(Z()," ").concat(E),v),new i.a(E,r.i.UnknownBadRequestError)}var _=yield Object(u.h)(l,O[1],v);e.activityParties.push({partyId:O[2],partyName:yield Object(h.a)(l,_,O[2],d,y),partyLogicalName:_,participationType:f.B[b]})}else if(n[b]===c.a.Owner||n[b]===c.a.Lookup||n[b]===c.a.Customer)if(!t.columnValues[g]||"string"==typeof t.columnValues[g]&&""===t.columnValues[g].trim())Object(m.a)(e,b+f.f+f.n,null,c.a.UniqueIdentifier),Object(m.a)(e,b+f.f+f.r,null,c.a.String),Object(m.a)(e,b+f.f+f.v,null,c.a.String);else{var S=null;if("string"==typeof t.columnValues[g]&&(S=t.columnValues[g].match(/(\w+)\(([0-9a-fA-F]{8}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{12})\)(\/(.*)):?/)),Object(a.v)(S)){var C="Error identified in Payload provided by the user for Entity : ".concat(null==e?void 0:e.entityLogicalName,", Parsing a lookup or customer reference attribute ").concat(JSON.stringify(t.columnNames[g])," failed: ").concat(JSON.stringify(t.columnValues[g]));throw d.error("".concat(Z()," ").concat(C),v),new i.a(C,r.i.UnknownBadRequestError)}var w=q(c.a.UniqueIdentifier,S[2]);Object(m.a)(e,b+f.f+f.n,w,c.a.UniqueIdentifier);var j=yield Object(u.h)(l,S[1],v);Object(m.a)(e,b+f.f+f.r,j,c.a.String);var N=p.d.EmptyString;N=5!==S.length||Object(a.x)(S[4])?yield Object(h.a)(l,j,w,d):S[4],Object(m.a)(e,b+f.f+f.v,N,c.a.String)}else Object(m.a)(e,b,q(n[b],t.columnValues[g]),n[b])}return e}))).apply(this,arguments)}function T(e){var t=e;return e.startsWith("_")&&e.endsWith("_value")&&(t=e.substr(1,e.length-7)),t}function j(e,t,n){return N.apply(this,arguments)}function N(){return(N=E((function*(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i={},o=yield Object(u.c)(n,e,t,r);for(var s in o)if(!Object(a.v)(o[s])){var l=o[s];if(l.Type!==c.a.Boolean||Object(a.v)(l.DefaultValue)){if(l.Type===c.a.PickList&&!Object(a.v)(l.DefaultFormValue)){var d=l.DefaultFormValue;-1!==d&&(i[l.LogicalName]=d)}}else l.DefaultValue?i[l.LogicalName]=1:i[l.LogicalName]=0}return i}))).apply(this,arguments)}function P(e,t,n,r){return I.apply(this,arguments)}function I(){return(I=E((function*(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=[];if(t===p.v.create){var d=[...f.j];d.push(...f.E);var h=d.indexOf(f.y);for(var y of(h>=0&&!Object(a.v)(n)&&!Object(a.v)(n.OwnershipType)&&n.OwnershipType.valueOf()===l.a.OrganizationOwned&&d.splice(h,1),d))e.values[y]||s.push(y);!Object(a.v)(n)&&n.IsActivity&&(e.values[f.d]||Object(m.a)(e,f.d,n.EntityLogicalName,c.a.String),e.values[f.p]||Object(m.a)(e,f.p,L(n.ObjectTypeCode,n.ActivityTypeMask)?"1":"0",c.a.Boolean))}if(t===p.v.create||t===p.v.update){for(var g of f.i)e.values[g]||-1!==s.indexOf(g)||(s[s.length]=g);var b=yield Object(u.c)(r,e.entityLogicalName,[],i);if(!Object(a.v)(b)&&F(b,f.l))for(var O in e.values)if(f.m.indexOf(O)>=0&&!e.values[f.l]){var E={};t===p.v.update&&(E=yield R(r,e,n,o,i)),E[f.k]=Object(a.x)(e.values[f.k])?E[f.k]:e.values[f.k],E[f.s]=Object(a.x)(e.values[f.s])?E[f.s]:e.values[f.s],E[f.q]=Object(a.x)(e.values[f.q])?E[f.q]:e.values[f.q],Object(m.a)(e,f.l,Object(v.a)(yield Object(u.u)(r,i),E[f.k],E[f.s],E[f.q]),c.a.String);break}if(t===p.v.create){var _=Object.keys(b);for(var S of _)if(b[S]){var C=b[S];(!Object(a.v)(C.DefaultValue)||!Object(a.v)(C.DefaultFormValue))&&Object(a.v)(e.values[C.LogicalName])&&s.indexOf(C.LogicalName)<0&&(s[s.length]=C.LogicalName)}}return s}return s}))).apply(this,arguments)}function R(e,t,n){return M.apply(this,arguments)}function M(){return(M=E((function*(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],c=e.TraceManager.getTracer(o.a.SQLGenerator),s={sqlStatements:[p.c.select+p.p.space+f.k+p.p.comma+f.s+p.p.comma+f.q+p.p.space+p.c.from+p.p.space+t.entityLogicalName+p.p.space+p.c.where+p.p.space+n.PrimaryIdAttribute+p.p.equal+p.c.placeholder],sqlParameters:[[t.id.guid]]};try{var u=yield Object(d.a)(s,e,void 0,r);if(!Object(a.v)(u)&&1===u.length)return u[0].rows.item(0)}catch(l){c.error("".concat(Z()," Unable to get name parts for ").concat(t.entityLogicalName," from DB. Error: ").concat(l.errorMessage),i)}return{}}))).apply(this,arguments)}function x(e,t,n,r){return D.apply(this,arguments)}function D(){return(D=E((function*(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=yield P(t,r,n,e,a,i);return t=yield A(t,o,n,e,a)}))).apply(this,arguments)}function A(e,t,n,r){return k.apply(this,arguments)}function k(){return(k=E((function*(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],o=yield Object(u.c)(r,e.entityLogicalName,t,i);for(var s in o)if(!Object(a.v)(o[s])){var d=o[s];if(!Object(a.v)(d))switch(d.LogicalName){case f.F:n.HasStateCode&&Object(m.a)(e,d.LogicalName,Object(a.v)(d.DefaultFormValue)?0:d.DefaultFormValue,c.a.State),-1===t.indexOf(f.G)||Object(a.v)(e.values[f.F])||function(){var t=e.values[f.F],n=0;if(d&&d.OptionSet&&Object.keys(d.OptionSet).length>0){var r=d.OptionSet.find(e=>e.Value===t);n=r?r.DefaultStatus:0}Object(m.a)(e,f.G,n,c.a.Status)}();break;case f.G:break;case f.h:case f.u:Object(m.a)(e,d.LogicalName,new Date(Date.now()),c.a.DateTime);break;case f.g:case f.t:case f.y:if(d.LogicalName!==f.y||!Object(a.v)(n.OwnershipType)&&n.OwnershipType.valueOf()===l.a.UserOwned&&(Object(a.v)(e.values[d.LogicalName+f.f+f.n])||Object(a.v)(e.values[d.LogicalName+f.f+f.v]))){var p=yield Object(u.p)(r,i),h=yield Object(u.q)(r,i);if(Object(a.w)(p))throw new Error("User ID fetched from metadata cache was empty");if(Object(a.w)(h))throw new Error("User Name fetched from metadata cache was empty");Object(m.a)(e,d.LogicalName+f.f+f.n,Object(a.w)(p)?null:p,c.a.UniqueIdentifier),Object(m.a)(e,d.LogicalName+f.f+f.r,f.H,c.a.String),Object(m.a)(e,d.LogicalName+f.f+f.v,Object(a.w)(h)?null:h,c.a.String)}break;default:d.Type!==c.a.PickList||Object(a.v)(d.DefaultFormValue)||Object(m.a)(e,d.LogicalName,d.DefaultFormValue,d.Type),d.Type||!d.DefaultFormValue&&!d.DefaultValue||Object(m.a)(e,d.LogicalName,Object(a.v)(d.DefaultFormValue)?d.DefaultValue?1:0:d.DefaultFormValue,d.Type)}}return e}))).apply(this,arguments)}function F(e,t){return!!e[t]}function L(e,t){switch(e){case p.n:case p.o:case p.q:case p.j:case p.b:case p.r:return!1;default:return!!t}}function q(e,t){switch(e){case c.a.UniqueIdentifier:return s.a.parse(t).guid;case c.a.PickList:case c.a.State:case c.a.Status:return t;case c.a.Boolean:return!0===t?"1":"0";case c.a.DateTime:return t;case c.a.PartyList:throw Error("No SQL representation for party list");case c.a.Owner:case c.a.Lookup:case c.a.Customer:throw Error("No SQL representation for complex types");default:return t}}function U(e){return Object(a.x)(e)?[]:e.split(",").map(e=>e.trim()).filter(e=>!Object(a.x)(e))}function B(e,t,n){return V.apply(this,arguments)}function V(){return(V=E((function*(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if(!e.url)throw n.error("".concat(Z()," Error when attempting to extract entity name from URL"),r),new Error("Empty url is not valid");var o=yield Object(a.n)(t,e),c=yield Object(a.u)(t,e,o.substring(0,o.length-1));return c?(i.internalRequest=!0,o.substring(0,o.length-1)):(i.internalRequest=!1,yield Object(u.h)(t,o,r))}))).apply(this,arguments)}function G(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(!e)throw t.error("".concat(Z()," Error when attempting to extract entity name from URL"),n),new Error("Empty url is not valid");var r=e.split("/"),i=r[r.length-1].split("(")[1];if(Object(a.x)(i))return null;var o=i.split(")")[0];return s.a.parse(o)}function H(e,t,n,r,a){return Q.apply(this,arguments)}function Q(){return(Q=E((function*(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[];if(Object(a.v)(e)||Object(a.w)(t)){var c="Invalid request. Empty request body";throw i.error("".concat(Z()," ").concat(c),o),new Error(c)}var s=[],l=[],d=yield Object(u.j)(r,n);for(var f in e)if(f.indexOf("@odata.bind")>0)Y(f,e,d,t,s,l,i,o);else if(f.indexOf("activity_parties")>0)W(f,e,s,l,i,o);else if(-1===f.toLowerCase().indexOf("@odata")){s.push(f);var p=T(f);if(!t[p]){var h="Unknown attribute ".concat(p);i.warn("".concat(Z()," ").concat(h),o)}l.push(Object(a.v)(e[f])?z(t[p],p,i):e[f])}return{columnNames:s,columnValues:l}}))).apply(this,arguments)}function z(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];switch(e){case c.a.PickList:case c.a.State:case c.a.Status:case c.a.Lookup:case c.a.Owner:case c.a.Customer:case c.a.BigInt:case c.a.Decimal:case c.a.Double:case c.a.Integer:case c.a.Money:return n.warn("".concat(Z()," Column value cleared, setting default value to null for attribute type ")+t,r),null;default:return n.warn("".concat(Z()," Column value cleared, setting default value to empty string for attribute type ")+t,r),p.d.EmptyString}}function W(e,t,n,r,a,i){var o=t[e];for(var c of(a.info("".concat(Z," Found ").concat(o.length," activity parties"),i),o))for(var s in c)s.indexOf("@odata.bind")>0?r.push(c[s]):"participationtypemask"===s&&n.push(f.A[c[s]])}function Y(e,t,n,o,c,s,u,l){var d=e.split("@odata.bind")[0],f=Object(a.x)(t[e])?t[e]:t[e]+"/"+(t[d+"@OData.Community.Display.V1.FormattedValue"]||p.d.EmptyString),h=!1;if(n&&n.ManyToOneRelationships)for(var v in n.ManyToOneRelationships){var m=n.ManyToOneRelationships[v],y=d;if(n.IsActivity&&d.startsWith("regardingobjectid")&&!d.endsWith("_".concat(n.EntityLogicalName))&&(y="".concat(d,"_").concat(n.EntityLogicalName)),m.ReferencingEntityNavigationPropertyName===y&&m.ReferencingAttribute){c.push(m.ReferencingAttribute),s.push(f),h=!0;break}}if(!h){var g=new i.a("".concat(Z()," No navigation properties found for attribute ").concat(d," in entity ").concat(n.EntityLogicalName),r.i.UnknownBadRequestError,(new Error).stack);throw u.error(g.message,l),g}}function X(e,t,n,i,c){var u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],l=e.TraceManager.getTracer(o.a.SQLGenerator);if(Object(a.x)(c)||s.a.equals(i,s.a.EMPTY))return l.error("".concat(Z()," Invalid parameters when creating query for ").concat(r.r.PREFER_REPRESENTATION),u),t;var d="select * from ".concat(n," where ").concat(c,"=?");t.sqlStatements.push(d);var f=[];return f.push(i.guid.toString()),t.sqlParameters.push(f),t}function K(e,t,n){return J.apply(this,arguments)}function J(){return(J=E((function*(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];if(!Object(a.v)(t.activityParties)){var i=yield Object(u.c)(e,f.b,[f.o],r),o=Object(a.v)(i)||Object(a.v)(i[f.o])?"0":i[f.o].DefaultValue?"1":"0";for(var c of t.activityParties)n.sqlStatements.push(p.c.insert+p.p.space+p.c.into+p.p.space+p.p.openSQBracket+f.b+p.p.closeSQBracket+p.p.space+p.p.openParenthesis+p.p.openSQBracket+f.c+p.p.closeSQBracket+p.p.comma+p.p.openSQBracket+f.a+p.p.exclamation+f.n+p.p.closeSQBracket+p.p.comma+p.p.openSQBracket+f.a+p.p.exclamation+f.v+p.p.closeSQBracket+p.p.comma+p.p.openSQBracket+f.a+p.p.exclamation+f.r+p.p.closeSQBracket+p.p.comma+p.p.openSQBracket+f.z+p.p.closeSQBracket+p.p.comma+p.p.openSQBracket+f.C+p.p.exclamation+f.n+p.p.closeSQBracket+p.p.comma+p.p.openSQBracket+f.C+p.p.exclamation+f.v+p.p.closeSQBracket+p.p.comma+p.p.openSQBracket+f.C+p.p.exclamation+f.r+p.p.closeSQBracket+p.p.comma+p.p.openSQBracket+f.o+p.p.closeSQBracket+p.p.closeParenthesis+p.p.space+p.c.values+p.p.space+p.p.openParenthesis+p.p.question+p.p.comma+p.p.question+p.p.comma+p.p.question+p.p.comma+p.p.question+p.p.comma+p.p.question+p.p.comma+p.p.question+p.p.comma+p.p.question+p.p.comma+p.p.question+p.p.comma+p.p.question+p.p.closeParenthesis),n.sqlParameters.push([s.a.newGuid().guid,t.id.guid,Object(a.x)(t.values[f.v])?"":t.values[f.v],t.entityLogicalName,c.participationType,c.partyId,c.partyName,c.partyLogicalName,o])}return n}))).apply(this,arguments)}function Z(e){return"[".concat(e||o.d.Common,"]")}function $(e,t,n,r){return ee.apply(this,arguments)}function ee(){return(ee=E((function*(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],o=yield Object(u.c)(e,t,[],i);if(Object(a.w)(o)){var s="Unable to get attribute metadata descriptor that associated to entity: ".concat(t);return r.warn("".concat(Z()," ").concat(s),i),Promise.reject(s)}return!(!o[n]||o[n].Type!==c.a.Lookup&&o[n].Type!==c.a.Customer&&o[n].Type!==c.a.Owner)}))).apply(this,arguments)}function te(e,t,n,r,a){return ne.apply(this,arguments)}function ne(){return(ne=E((function*(e,t,n,r,i){if(i.internalRequest)return e;var o=yield Object(u.c)(n,t,[],i.commonEventParameters);if(Object(a.w)(o)||Object(a.w)(o[e])){var s="Unable to get attribute metadata descriptor that associated to entity: ".concat(t,". Return the given attributeName: ").concat(e);r.warn("".concat(Z()," ").concat(s),i.commonEventParameters)}else{var l=o[e];if(l.Type===c.a.Lookup||l.Type===c.a.Customer||l.Type===c.a.Owner)e="[".concat(e).concat(p.p.exclamation,"id]");else if(l.AttributeOf){var d=o[l.AttributeOf];Object(a.w)(d)||d.Type!==c.a.Lookup&&d.Type!==c.a.Customer&&d.Type!==c.a.Owner||(e=l.Type===c.a.EntityName?"[".concat(l.AttributeOf).concat(p.p.exclamation,"logicalname]"):"[".concat(l.AttributeOf).concat(p.p.exclamation,"name]"))}}return e.endsWith("]")&&e.startsWith("[")&&(e=e.substring(1,e.length-1)),e}))).apply(this,arguments)}function re(e,t,n,r){return ae.apply(this,arguments)}function ae(){return(ae=E((function*(e,t,n,r){var a=yield Object(u.c)(n,t,[],r);if(a&&a[e]){var i=a[e];if(i.AttributeOf){var o=a[i.AttributeOf];switch(o.Type){case c.a.Boolean:case c.a.PickList:case c.a.State:case c.a.Status:return o}}}return null}))).apply(this,arguments)}function ie(e,t,n){var r=e.OptionSet;if(r&&0!==r.length){t.push("case [".concat(n,"].[").concat(e.LogicalName,"]"));for(var a=0;a<r.length;a++)t.push(" when ".concat(r[a].Value," then '").concat(r[a].Label,"'"));t.push(" else null"),t.push(" end ")}else t.push(" null ")}function oe(e){switch(e.toLowerCase()){case y.a.equal:case y.a.equalsUserId:return"=";case y.a.notEqual:case y.a.notEqualsUserId:return"!=";case y.a.greaterThan:return">";case y.a.greaterThanEqual:return">=";case y.a.lessThan:return"<";case y.a.lessThanEqual:return"<=";case y.a.like:case y.a.beginsWith:case y.a.endsWith:return"like";case y.a.notLike:case y.a.notBeginWith:case y.a.notEndWith:return"not like";case y.a.in:case y.a.equalsUserTeams:case y.a.equalsUserOrUserTeams:return"in";case y.a.notIn:return"not in";case y.a.between:return"between";case y.a.notBetween:return"not between";case y.a.notNull:return"is not null";case y.a.null:return"is null";default:var t="Invalid condition operator type ".concat(e);throw new i.a(t)}}function ce(e,t){var n=T(t),r=e[n];return r===c.a.Owner||r===c.a.Lookup||r===c.a.Customer?"".concat(n).concat(f.f).concat(f.n):n}function se(e,t,n,r){return ue.apply(this,arguments)}function ue(){return(ue=E((function*(e,t,n,a){var i=e.ReferencedAttribute,o=e.ReferencingAttribute,c=e.ReferencingEntity,s=yield Object(u.b)(a,[],c);return{referencedAttribute:i,referencingEntityAttributeTypes:s,referencingAttributeColumn:ce(s,o),expandProperty:{ExpandValueType:r.h.MULTI_VALUE,ExpandPropertyName:t,ExpandQueryIndex:n.length,ReferencedOrReferencingEntityName:c}}}))).apply(this,arguments)}function le(e,t,n,r){return de.apply(this,arguments)}function de(){return(de=E((function*(e,t,n,a){var i=e.ReferencedAttribute,o=e.ReferencingAttribute,c=e.ReferencedEntity,s=e.ReferencingEntity,l=yield Object(u.b)(a,[],c),d=yield Object(u.b)(a,[],s);return{referencingAttribute:o,referencedEntityAttributeTypes:l,referencedAttributeColumn:ce(l,i),referencingAttributeColumn:ce(d,o),expandProperty:{ExpandValueType:r.h.SINGLE_VALUE,ExpandPropertyName:t,ExpandQueryIndex:n.length,ReferencedOrReferencingEntityName:c}}}))).apply(this,arguments)}function fe(e,t,n,r){return pe.apply(this,arguments)}function pe(){return(pe=E((function*(e,t,n,a){var i="*";if(e.length>0){var o=(yield Object(u.j)(a,t)).PrimaryIdAttribute;o&&e.push(o),t===r.k&&e.push(r.d),i=e.map(e=>"[".concat(ce(n,e),"]")).join(",")}return i}))).apply(this,arguments)}function he(e,t,n,r){return ve.apply(this,arguments)}function ve(){return(ve=E((function*(e,t,n,a){var i="*";if(e.length>0){var o=(yield Object(u.j)(a,t)).PrimaryIdAttribute;o&&e.push(o),t===r.w?(e.push(r.d),e.push(r.e),i=e.map(e=>"".concat(r.w,".[").concat(ce(n,e),"]")).join(","),i="".concat(i,",").concat(r.k,".[").concat(r.m,"]")):i=e.map(e=>"[".concat(ce(n,e),"]")).join(",")}return i}))).apply(this,arguments)}function me(e,t,n){var r=e.trim().split(p.p.space,6);if(6!==r.length){throw new i.a("Incorrect link entity format")}return{entityLogicalName:r[0],entityAlias:r[1],relationshipName:r[2],roleOrdinal:Object(b.b)(r[3]),alias:r[4],joinType:function(e,t,n){switch(e){case y.d[y.d.inner]:return y.e.inner;case y.d[y.d.outer]:return y.e.leftouter;default:var r="Invalid join operator type ".concat(e);throw t.error("".concat(Z()," ").concat(r),n),new i.a(r)}}(r[5],t,n)}}function ye(e,t,n,r,a){var o,c,s,u="",l="",d="";if(null!==(o=e.OneToManyRelationships)&&void 0!==o&&o[t])d=e.OneToManyRelationships[t].ReferencingEntity,u=e.OneToManyRelationships[t].ReferencingAttribute,l=e.OneToManyRelationships[t].ReferencedAttribute;else if(null!==(c=e.ManyToOneRelationships)&&void 0!==c&&c[t])d=e.ManyToOneRelationships[t].ReferencedEntity,u=e.ManyToOneRelationships[t].ReferencedAttribute,l=e.ManyToOneRelationships[t].ReferencingAttribute;else{if(null===(s=e.ManyToManyRelationships)||void 0===s||!s[t]){var f="Relationship name not found: ".concat(t,".");throw new i.a(f)}n===g.a.Referencing?e.EntityLogicalName===e.ManyToManyRelationships[t].Entity1LogicalName?(d=e.ManyToManyRelationships[t].Entity1LogicalName,u=e.ManyToManyRelationships[t].Entity1IntersectAttribute,l=e.ManyToManyRelationships[t].Entity1IntersectAttribute):(d=e.ManyToManyRelationships[t].IntersectEntityName,u=e.ManyToManyRelationships[t].Entity2IntersectAttribute,l=e.ManyToManyRelationships[t].Entity2IntersectAttribute):e.EntityLogicalName===e.ManyToManyRelationships[t].Entity1LogicalName?(d=e.ManyToManyRelationships[t].IntersectEntityName,u=e.ManyToManyRelationships[t].Entity1IntersectAttribute,l=e.ManyToManyRelationships[t].Entity1IntersectAttribute):(d=e.ManyToManyRelationships[t].Entity2LogicalName,u=e.ManyToManyRelationships[t].Entity2IntersectAttribute,l=e.ManyToManyRelationships[t].Entity2IntersectAttribute)}return{linkEntityName:d,from:u,to:l}}function ge(e,t,n){return be.apply(this,arguments)}function be(){return(be=E((function*(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i={};if(!Object(a.x)(e)){var o=e.split(";").map(e=>e.trim());if(o)for(var c of o)try{var s=me(c,n,r),l=yield Object(u.j)(t,s.entityLogicalName),{linkEntityName:d}=ye(l,s.relationshipName,s.roleOrdinal);i[s.alias]=d}catch(f){n.warn("Link entities map cannot be built from the link entities hint",r)}}return i}))).apply(this,arguments)}},20649:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return e[e.None=0]="None",e[e.UserOwned=1]="UserOwned",e[e.TeamOwned=2]="TeamOwned",e[e.BusinessOwned=4]="BusinessOwned",e[e.OrganizationOwned=8]="OrganizationOwned",e[e.BusinessParented=16]="BusinessParented",e}({})},20650:function(e,t,n){"use strict";n.d(t,"f",(function(){return r})),n.d(t,"H",(function(){return a})),n.d(t,"u",(function(){return i})),n.d(t,"t",(function(){return o})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return u})),n.d(t,"C",(function(){return l})),n.d(t,"I",(function(){return d})),n.d(t,"F",(function(){return f})),n.d(t,"G",(function(){return p})),n.d(t,"h",(function(){return h})),n.d(t,"g",(function(){return v})),n.d(t,"y",(function(){return m})),n.d(t,"k",(function(){return y})),n.d(t,"q",(function(){return g})),n.d(t,"s",(function(){return b})),n.d(t,"l",(function(){return O})),n.d(t,"m",(function(){return E})),n.d(t,"n",(function(){return _})),n.d(t,"r",(function(){return S})),n.d(t,"v",(function(){return C})),n.d(t,"w",(function(){return w})),n.d(t,"x",(function(){return T})),n.d(t,"o",(function(){return j})),n.d(t,"D",(function(){return N})),n.d(t,"e",(function(){return P})),n.d(t,"b",(function(){return I})),n.d(t,"p",(function(){return R})),n.d(t,"z",(function(){return M})),n.d(t,"B",(function(){return x})),n.d(t,"A",(function(){return D})),n.d(t,"j",(function(){return A})),n.d(t,"E",(function(){return k})),n.d(t,"i",(function(){return F}));var r="!",a="systemuser",i="modifiedon",o="modifiedby",c="activityid",s="activitytypecode",u="activitypartyid",l="partyid",d="versionnumber",f="statecode",p="statuscode",h="createdon",v="createdby",m="ownerid",y="firstname",g="lastname",b="middlename",O="fullname",E=[y,b,g],_="id",S="logicalname",C="name",w="objectid",T="objecttypecode",j="ispartydeleted",N="partyobjecttypecode",P="addressused",I="activityparty",R="isregularactivity",M="participationtypemask",x={from:"1",to:"2",cc:"3",bcc:"4",requiredattendees:"5",optionalattendees:"6",organizer:"7",regarding:"8",owner:"9",resources:"10",customer:"11",partner:"12",related:"13"},D={1:"from",2:"to",3:"cc",4:"bcc",5:"requiredattendees",6:"optionalattendees",7:"organizer",8:"regarding",9:"owner",10:"resources",11:"customer",12:"partner",13:"related"},A=[h,v,m,i,o],k=[f,p],F=[i,o]},20651:function(e,t,n){"use strict";n.d(t,"b",(function(){return g})),n.d(t,"d",(function(){return O})),n.d(t,"c",(function(){return _})),n.d(t,"f",(function(){return C})),n.d(t,"e",(function(){return T})),n.d(t,"a",(function(){return m}));var r=n(20583),a=n(20588),i=n(20584),o=n(20595),c=n(20592),s=n(20643),u=n(20652),l=n(20601),d=n(20617),f=n(20660);function p(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function h(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){p(i,r,a,o,c,"next",e)}function c(e){p(i,r,a,o,c,"throw",e)}o(void 0)}))}}function v(e,t,n){var r="SELECT ".concat(d.i.METADATA_TYPE,", ").concat(d.i.JSON," from ").concat(d.b," where ").concat(t," = ?");e.sqlStatements.push(r),e.sqlParameters.push([n])}function m(e,t,n,r){return y.apply(this,arguments)}function y(){return(y=h((function*(e,t,n,a){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=yield Object(c.j)(e,t),u=o.PrimaryNameAttribute,d=o.PrimaryIdAttribute;if(!u||!d)return"";var f={sqlStatements:["SELECT ".concat(u," FROM ").concat(t," WHERE ").concat(d," = ?")],sqlParameters:[[n]]};try{var p=yield Object(s.a)(f,e,r.y.Retrieve,i);if(!p||p.length<=0||!p[0].rows||!p[0].rows.item||p[0].rows.item.length<=0||!u)return"";var h=p[0].rows.item(0)[u];return h}catch(v){return a.error("".concat(P()," error when retrieving activity party name. Setting as empty ").concat(v),i.commonEventParameters),l.d.EmptyString}}))).apply(this,arguments)}function g(e,t){return b.apply(this,arguments)}function b(){return(b=h((function*(e,t){var n,a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o={sqlStatements:[],sqlParameters:[]};o.sqlStatements.push("SELECT ".concat(d.i.METADATA_TYPE," FROM ").concat(t," LIMIT 1")),o.sqlParameters.push([]);var c=yield Object(s.a)(o,e,r.y.GetClientMetadata,i);return c&&(null===(n=c[0])||void 0===n||null===(a=n.rows)||void 0===a?void 0:a.length)>0}))).apply(this,arguments)}function O(e,t,n){return E.apply(this,arguments)}function E(){return(E=h((function*(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o={sqlStatements:[],sqlParameters:[]},c=[],u=Object(a.x)(n)?f.a.get_id().get_path():n;for(var l of t)v(o,u,l);var p=yield Object(s.a)(o,e,r.y.GetClientMetadata,i);if(p)for(var h of(N(e,p),p))h.rows.length>0&&c.push(JSON.parse(h.rows.item(0)[d.i.JSON]));return c}))).apply(this,arguments)}function _(e,t,n){return S.apply(this,arguments)}function S(){return(S=h((function*(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c="SELECT ".concat(d.i.METADATA_TYPE,", ").concat(d.i.JSON," FROM ").concat(d.b," WHERE ").concat(Object(a.x)(n)?f.a.get_id().get_path():n," = ?"),s=yield Object(o.b)(e,c,[t],r.commonEventParameters,r,void 0,i.d.RootFinderSQL);for(var u of(N(e,s),s))if(u.rows.length>0)return JSON.parse(u.rows.item(0)[d.i.JSON]);return{}}))).apply(this,arguments)}function C(e,t,n){return w.apply(this,arguments)}function w(){return(w=h((function*(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c={sqlStatements:[],sqlParameters:[]},s=r.commonEventParameters||[];v(c,t.get_keyPath().get_path(),t.get_keyValue().toString());var u=yield Object(o.a)(e,c,r,i.d.RootFinderSQL);(Object(a.v)(u)||u.length<1)&&n.warn("".concat(P()," result returned form getBatchSQLResult is empty in retrieveMultipleApplicationMetadataByQuery}"),s),N(e,u);for(var l=[],f=0;f<u.length;f++)if(u[f].rows.length>0)for(var p=0;p<u[f].rows.length;p++){var h=JSON.parse(u[f].rows.item(p)[d.i.JSON]);t.checkApplicationMetadata(h)&&l.push(h)}return l}))).apply(this,arguments)}function T(e,t,n,r){return j.apply(this,arguments)}function j(){return(j=h((function*(e,t,n,r){for(var c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},s=c.commonEventParameters||[],u=[],l="",f=0;f<n.length;f++)l+=" ?,";l.length>0&&(l=l.substr(0,l.length-1));var p={sqlStatements:[],sqlParameters:[]},h="SELECT ".concat(d.i.JSON," FROM ").concat(d.b," WHERE ").concat(t.get_path()," IN (").concat(l,")");p.sqlStatements.push(h),p.sqlParameters.push([...n]);var v=yield Object(o.a)(e,p,c,i.d.RootFinderSQL);if(N(e,v),!Object(a.v)(v)&&v.length>0)for(var m=0;m<v[0].rows.length;m++){var y=JSON.parse(v[0].rows.item(m)[d.i.JSON]);u.push(y)}else r.warn("".concat(P()," result returned form getBatchSQLResult is empty in retrieveMultipleApplicationMetadataByKeys}"),s);return u}))).apply(this,arguments)}function N(e,t){Object(u.b)(e)&&!Object(a.v)(t)&&Array.isArray(t)&&t.length>0&&(Object(a.v)(e.AdditionalParameters)&&(e.AdditionalParameters={}),!Object(a.v)(e.AdditionalParameters.response)&&Array.isArray(e.AdditionalParameters.response)?e.AdditionalParameters.response=e.AdditionalParameters.response.push(...t):e.AdditionalParameters.response=t)}function P(e){return"[".concat(e||i.d.DataSQLExecutor,"]")}},20652:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return S}));var r=n(20583),a=n(20596),i=n(20588),o=n(20594),c=n(20616),s=n(20584),u=n(20599),l=n(20598),d=n(20653),f=n(20655),p=n(20638),h=n(20644),v=n(20661),m=n(20643);function y(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){y(i,r,a,o,c,"next",e)}function c(e){y(i,r,a,o,c,"throw",e)}o(void 0)}))}}class b extends p.a{intercept(e){var t=this;return g((function*(){var n,c,l,d=e.executionContext||{},p=e.request,m=d.requestType||Object(u.a)(p,t.applicationContext),y=t.applicationContext.TraceManager.getTracer(s.a.LocalODataExecutor),g=[],b="Query Generator",_="",S=d.commonEventParameters||[],T=[];try{if(d.performanceControl&&d.performanceControl.startMarker(s.d.SQLGenerator),n=yield Object(h.a)(p,t.applicationContext,d),d.performanceControl&&d.performanceControl.endMarker(s.d.SQLGenerator),n){if(Array.isArray(n)){var j=n;if(0===j.length)return Object(v.a)(p,m,t.applicationContext,d);b="SQL Executor",y.info("".concat(O()," Query Generator Completed. SQL Executor is processing"),Object(a.b)(S,T)),g=yield function(e,t,n,r,a,i){return w.apply(this,arguments)}(p,j,d,t.applicationContext,y,Object(a.b)(S,T)),l=function(e){for(var t=[],n=0;n<e.length;n++){var r,a=e[n];(r=a.additionalParameters)?t.push(r):t.push(void 0)}return t}(j)}else{var N=n,P=!1;if(m===r.y.GetClientMetadata){var I,R=Object(f.a)(p,y,t.applicationContext,T);P=(yield E(t.applicationContext,m,R,y,T))&&!Object(i.v)(null===(I=t.applicationContext.AdditionalParameters)||void 0===I?void 0:I.response)}if(!(P||N.sqlStatements&&0!==N.sqlStatements.length))return Object(v.a)(p,m,t.applicationContext,d);b="SQL Executor",y.info("".concat(O()," Query Generator Completed. SQL Executor is processing"),Object(a.b)(S,T)),l=N.additionalParameters,g=yield function(e,t,n,r,a,i,o){return C.apply(this,arguments)}(p,m,N,d,t.applicationContext,y,Object(a.b)(S,T))}g?(b="Response Handler",y.info("".concat(O()," SQL Executor Completed.Response Handler is processing"),T),c=yield Object(v.b)(p,m,t.applicationContext,g,void 0,l,d)):(_="ExecuteSQLBatch returned empty sql response",y.warn("".concat(O()," ").concat(_),Object(a.b)(S,T)),c=yield Object(v.b)(p,m,t.applicationContext,void 0,void 0,void 0,d))}else y.warn("".concat(O()," ExecuteOfflineSqlGenerator returned empty query, So will return empty response"),Object(a.b)(S,T)),c=yield Object(v.b)(p,m,t.applicationContext,void 0,void 0,void 0,d)}catch(x){_=x&&x.message?x.message:"Unknown";var M=x.code;T.push({name:"OperationStep",value:b}),Object(a.a)(x,T),y.error("".concat(O()," Exception in SQLRequestInterceptor at OperationStep['").concat(b,"'] - ").concat(_),Object(a.b)(S,T)),c=yield Object(v.b)(p,m,t.applicationContext,void 0,new o.a(_,M,x.stack,b),void 0,d)}return y.info("".concat(O()," Exiting SQLRequestInterceptor and returning local OData response"),Object(a.b)(S,T)),c}))()}}function O(e){return"[".concat(e||s.d.SQLRequestInterceptor,"]")}function E(e,t,n,r,a){return _.apply(this,arguments)}function _(){return(_=g((function*(e,t,n,a,o){if(Object(i.v)(n)||Object(i.x)(n.MetadataType)||Object(i.w)(e)||Object(i.x)(t))return!1;var s=c.d[n.MetadataType],u=[c.d.customControl,c.d.complexControl,c.d.formSelector,c.d.viewSelector,c.d.ribbon];return t===r.y.GetClientMetadata&&S(e)&&!Object(i.v)(e.AdditionalParameters)&&e.AdditionalParameters.response&&((yield Object(d.b)(e,n,o))||-1!==u.indexOf(s))}))).apply(this,arguments)}function S(e){return!Object(i.v)(e.AdditionalParameters)&&!0!==e.AdditionalParameters.EnableOptimizedDependency}function C(){return(C=g((function*(e,t,n,a,o,c,u){var l,d,p,h;t===r.y.GetClientMetadata&&(d=(h=Object(f.a)(e,c,o,u)).MetadataType,u.push({name:"MetadataType",value:d}));var v,y="true"===(null===(l=e.additionalHeaders)||void 0===l?void 0:l[r.s.SUPPRESS_TRIGGERS_HINT]);!(yield E(o,t,h,c,u))||Object(i.v)(o.AdditionalParameters)||Object(i.v)(o.AdditionalParameters.response)?(p=yield Object(m.a)(n,o,t,a,y),y&&p.length>n.sqlStatements.length&&(p.shift(),p.pop())):(c.info("".concat(O()," ").concat(t," returning cached response"),u),null==a||null===(v=a.commonEventParameters)||void 0===v||v.push({name:s.c.IS_CACHED_RESPONSE,value:!0}),p=o.AdditionalParameters.response);return p}))).apply(this,arguments)}function w(){return(w=g((function*(e,t,n,i,o,c){var s,d=Object(l.a)(e,o,c,i),f="true"===(null===(s=e.additionalHeaders)||void 0===s?void 0:s[r.s.SUPPRESS_TRIGGERS_HINT]),p=n.commonEventParameters||[];if(f){for(var h={sqlStatements:[],sqlParameters:[]},v=0;v<t.length;v++){for(var y=t[v].sqlParameters,g=t[v].sqlParameters.length;g<t[v].sqlStatements.length;g++)y.push([]);h.sqlStatements.push(...t[v].sqlStatements),h.sqlParameters.push(...y)}var b=yield Object(m.a)(h,i,"CRUD",n,!0),E=[];if(b)for(var _=1,S=0;S<t.length;S++){E.push([]);for(var C=0;C<t[S].sqlStatements.length;C++)b[_]?E[S].push(b[_]):o.error("".concat(O()," No SQL results response for child query ").concat(Object(u.a)(d[S])," of batch"),Object(a.b)(p,c)),_++}return E}for(var w=[],T=0;T<t.length;T++){var j=t[T],N=d[T],P=Object(u.a)(N);if(j&&j.sqlStatements&&0!==j.sqlStatements.length){var I=Object(m.a)(j,i,P,n);I?w.push(I):o.error("".concat(O()," No SQL results response for child query ").concat(Object(u.a)(N)," of batch"),Object(a.b)(p,c))}else o.error("".concat(O()," No SQL queries generated for child query ").concat(P," of batch"),Object(a.b)(p,c)),w.push(Promise.resolve([]))}return yield Promise.all(w)}))).apply(this,arguments)}},20653:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return h}));var r=n(20611),a=n(20588),i=n(20616),o=n(20584),c=n(20592),s=n(20617),u=n(20654);function l(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){l(i,r,a,o,c,"next",e)}function c(e){l(i,r,a,o,c,"throw",e)}o(void 0)}))}}function f(e,t){var n,r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(!e)return t.warn("".concat(m()," attempted to convert undefined metadata to SQL result set"),a),{insertId:0,rowsAffected:0,columnNames:["metadatatype","json"],rows:{length:0,item:e=>({})}};Object(u.c)(e)?(r=i.c.userContext,n=e):Object(u.b)(e)?(r=e.metadatatype,n=e):(r=i.c.entity,n=e.getODataObject());var o={insertId:0,rowsAffected:1,columnNames:["metadatatype","json"],rows:{length:1,item:e=>({metadatatype:r,json:n})}};return o}function p(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=[],i=null===(n=e.AdditionalParameters)||void 0===n?void 0:n.rootNodes;if(!i)return t.warn("".concat(m()," attempted to convert undefined metadata response to SQL response"),r),a;for(var o of i)if(Array.isArray(o))for(var c of o)a.push(f(c,t,r));else a.push(f(o,t,r));return a}function h(e,t){return v.apply(this,arguments)}function v(){return(v=d((function*(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3?arguments[3]:void 0;try{var o;return!Object(a.v)(t)&&s.g[t.DependencyDepth]!==s.g.UserContext&&!0!==(null===(o=e.AdditionalParameters)||void 0===o?void 0:o.EnableOptimizedDependency)&&(yield Object(c.v)(e,r.c,n))}catch(u){return null==i||i.error("".concat(m()," error when checking for metadata response cache"),n),!1}}))).apply(this,arguments)}function m(e){return"[".concat(e||o.d.GCMCachingUtil,"]")}},20654:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return s}));var r=n(20588),a=n(20616),i=n(20617);function o(e,t,n,o,c,s){var u="";e=Object(r.v)(e)?"":e,n=Object(r.v)(n)?"":n,o=Object(r.v)(o)?"":o,s=Object(r.v)(s)?"":s;var l=Object(r.v)(c)?"":c.toString();switch(t){case a.c.overallMetadataVersion:u="".concat(i.c);break;case a.c.quickCreateMenu:u="".concat(t,"_quickcreatemenu_").concat(s);break;case a.c.searchConfiguration:u="".concat(t,"_searchconfiguration");break;case a.c.taskBasedFlowGlobalMenu:u="".concat(t,"_taskbasedflowglobalmenu");break;case a.c.siteMap:u="".concat(t,"_sitemap_").concat(s);break;case a.c.appModule:u="".concat(t,"_appmodules_").concat(s);break;case a.c.appModuleOfflineMetadata:u="".concat(t,"_appmoduleofflinemetadata");break;case a.c.taskBasedFlow:case a.c.customControl:case a.c.resourceString:case a.c.complexControl:u="".concat(t,"_").concat(o);break;case a.c.dialog:u="".concat(t,"_").concat(o.toLowerCase());break;case a.c.label:u="".concat(t,"_").concat(n,"_").concat(o);break;case a.c.homePageConfiguration:u="".concat(t,"_").concat(e);break;case a.c.optionSet:u="".concat(t,"_").concat(Object(r.x)(n)?o:n);break;case a.c.appModuleSelector:u="".concat(t,"_").concat(l);break;case a.c.viewSelector:case a.c.formSelector:case a.c.dashboardSelector:case a.c.visualizationSelector:u="".concat(t,"_").concat(e,"_").concat(l,"_").concat(s);break;case a.c.bpfSelector:u="".concat(t,"_").concat(e,"_").concat(s);break;case a.c.command:u="".concat(t,"_").concat(o,"_").concat(e);break;case a.c.isActivityFlags:case a.c.webResource:case a.c.webResourceDescriptor:u="".concat(t,"_").concat(o);break;case a.c.businessProcessFlow:case a.c.form:case a.c.savedQueryVisualization:case a.c.displayString:default:u="".concat(t,"_").concat(n)}return u}function c(e){return Object.keys(e).indexOf("metadatatype")>=0}function s(e){return Object.keys(e).indexOf("userid")>=0}},20655:function(e,t,n){"use strict";n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return O}));var r=n(20611),a=n(20596),i=n(20588),o=n(20616),c=n(20584),s=n(20650),u=n(20653),l=n(20617),d=n(20651),f=n(20656),p=n(20654);function h(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function v(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){h(i,r,a,o,c,"next",e)}function c(e){h(i,r,a,o,c,"throw",e)}o(void 0)}))}}var m=!0,y=[o.d.form.toString()];function g(e,t,n){return b.apply(this,arguments)}function b(){return(b=v((function*(e,t,n){var o,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=c.commonEventParameters||[],p=[],h=O(e,n,t,s),v=yield Object(f.a)(t,n,h,c);if(n.info("".concat(j()," found root nodes ").concat(Object.keys(v)," for ").concat(h.MetadataType)),m=m&&t.AdditionalParameters&&t.AdditionalParameters.EnableOptimizedDependency,(yield Object(u.b)(t,h,s))&&!Object(i.v)(null===(o=t.AdditionalParameters)||void 0===o?void 0:o.response))return p.push({name:r.c,value:!0}),n.info("".concat(j()," cached a response for ").concat(h.MetadataType," and skipped query generation"),Object(a.b)(s,p)),{sqlStatements:[],sqlParameters:[]};if(-1!==y.indexOf(h.MetadataType)){if(m)try{var g=yield Object(d.b)(t,l.a,c);g||(m=!1,n.warn("".concat(j()," Dependency view is empty, continuing without optimizing dependencies")))}catch(b){m=!1,n.warn("".concat(j()," Error validating the dependency view, continuing without optimizing dependencies: ").concat(Object(i.o)(b)))}if(m&&S(v))try{yield E(t,v,h.EntityLogicalName,n,c)}catch(b){m=!1,n.warn("".concat(j()," Error retrieving dependencies, continuing without optimizing dependencies: ").concat(Object(i.o)(b)))}}return Object(i.w)(v)?{sqlStatements:[],sqlParameters:[]}:yield C(v,n,s,m&&-1!==y.indexOf(h.MetadataType))}))).apply(this,arguments)}function O(e,t,n){var r,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],c=[],s=null!==(r=n.AdditionalParameters)&&void 0!==r&&r.EnableCanvasOffline?e.url.match(/@ClientMetadataQuery=(.*%7D)/i):e.url.match(/@ClientMetadataQuery=(.*\})/i);if(c.push({name:"url",value:e.url}),Object(i.v)(s)){var u="URL does not have a ClientMetadataQuery param";throw t.error("".concat(j()," ").concat(u),Object(a.b)(o,c)),new Error(u)}var l=JSON.parse(decodeURIComponent(s[1]));return l}function E(e,t,n,r){return _.apply(this,arguments)}function _(){return(_=v((function*(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},c=Object.keys(t).filter(e=>!t[e].dependenciesFetched),s=c.map(e=>Object(p.a)(n,o.c.dependencies,t[e].sourceId,"")),u=yield Object(d.d)(e,s,void 0,a);if(u.length<s.length){var l=u.map(e=>e.id),f=s.filter(e=>-1===l.indexOf(e));r.warn("".concat(j()," Requested ").concat(s.length," dependency records, found ").concat(u.length," dependency records: ").concat(f))}for(var h of c)t[h].dependenciesFetched=!0;for(var v in u)if(!Object(i.w)(u[v])&&!Object(i.w)(u[v].data)){var m=u[v];for(var y of m.data.children)t.hasOwnProperty(y)||(t[y]={dependenciesFetched:!0,queryGenerated:!1,sourceId:y,metadataType:o.c.none})}}))).apply(this,arguments)}function S(e){return Object.keys(e).some(t=>!e[t].dependenciesFetched)}function C(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3?arguments[3]:void 0,a={sqlStatements:[],sqlParameters:[]},o=[];if(r)T(e,a,t,n);else for(var c in e)if(!Object(i.v)(e[c])){var s=e[c];w(s,a,o,t,n)}return t.info("".concat(j()," Returning ").concat(a.sqlStatements.length," queries")),Object(i.v)(a.additionalParameters)&&(a.additionalParameters={}),a.additionalParameters[l.i.METADATA_TYPE]=o,a}function w(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];e.metadataType===o.c.userContext?(n.push(e.metadataType),t.sqlStatements.push("SELECT ".concat(l.i.JSON," FROM ").concat(l.k," WHERE ").concat(s.n," = ?")),t.sqlParameters.push([e.id?e.id:l.j])):e.metadataType===o.c.entity?Object(i.x)(e.id)?r.warn("".concat(j()," No ID found for candidate of type entity metadata. Skipping query generation"),a):(n.push(e.metadataType),t.sqlStatements.push("SELECT ".concat(s.n,", ").concat(l.i.JSON," FROM [").concat(l.e,"] WHERE [").concat(s.r,"] = ?")),t.sqlParameters.push([e.id])):Object(i.x)(e.id)?r.warn("".concat(j()," Invalid candidate - no ID found for candidate ").concat(e.metadataType,". Skipping query generation"),a):(n.push(e.metadataType),t.sqlStatements.push("SELECT ".concat(l.i.METADATA_TYPE,", ").concat(l.i.JSON," FROM ").concat(l.b," WHERE ").concat(s.n," = ?")),t.sqlParameters.push([e.id]))}function T(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a="SELECT ".concat(l.i.METADATA_TYPE,", ").concat(l.i.JSON," FROM ").concat(l.a," WHERE ").concat(s.n," IN ("),c=")",u=new Set;for(var d in e)if(!Object(i.v)(e[d])){var f=e[d];f.metadataType===o.c.userContext?(t.sqlStatements.push("SELECT ".concat(l.i.JSON," FROM ").concat(l.k," WHERE ").concat(s.n," = ?")),t.sqlParameters.push([f.id?f.id:l.j])):Object(i.x)(f.sourceId)?Object(i.x)(f.id)?n.error("".concat(j()," Invalid candidate - no ID or source ID for candidate ").concat(f.metadataType,". Skipping query generation"),r):(a+=u.size>0?",?":"?",u.add(f.id)):(a+=u.size>0?",?":"?",u.add(f.sourceId))}u.size>0&&(a+=c,t.sqlStatements.push(a),t.sqlParameters.push([...u]))}function j(e){return"[".concat(e||c.d.GCMGenerator,"]")}},20656:function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var r=n(20583),a=n(20596),i=n(20588),o=n(20594),c=n(20616),s=n(20584),u=n(20603),l=n(20595),d=n(20585),f=n(20587),p=n(20592),h=n(20601),v=n(20653),m=n(20617),y=n(20651),g=n(20657),b=n(20658),O=n(20660),E=n(20654);function _(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function S(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){_(i,r,a,o,c,"next",e)}function c(e){_(i,r,a,o,c,"throw",e)}o(void 0)}))}}function C(e,t,n){return w.apply(this,arguments)}function w(){return(w=S((function*(e,t,n){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=c.commonEventParameters||[],u=[];if(u.push({name:"ClientMetadataQuery",value:n?JSON.stringify(n):"{}"}),Object(i.w)(n)||Object(i.w)(e)||Object(i.v)(t))throw u.push({name:"ApplicationContext",value:!!e}),u.push({name:"Tracer",value:!!t}),new o.a("A required parameter was missing in findRootNodes",r.i.UnknownBadRequestError);try{var l=yield N(e,t,n,c);if(yield Object(v.b)(e,n,u,t)){Object(i.v)(e.AdditionalParameters)&&(e.AdditionalParameters={}),e.AdditionalParameters.rootNodes=l;var d=Object(v.a)(e,t);if(d)return e.AdditionalParameters.response=d,{};t.warn("".concat(me()," Something went wrong in converting metadata to SQL response. Skipping caching"),u)}return T(t,l,n,s)}catch(f){if(Object(a.a)(f,u),t.error("".concat(me()," Error when attempting to find root nodes."),Object(a.b)(s,u)),(yield Object(p.v)(e,h.h.ModernDataLayerMatchServerGCM))&&!Object(i.v)(f.code))throw f}return{}}))).apply(this,arguments)}function T(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a={};for(var i of t)if(Array.isArray(i))for(var o of i)j(e,o,a,r);else j(e,i,a,r);return e.info("".concat(me()," found ").concat(Object.keys(a).length," root nodes for ").concat(n.MetadataType,":").concat(n.MetadataSubtype)),a}function j(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a="",o="",s=c.c.none,u=!0;if(Object(E.b)(t))s=(t=t).metadatatype,o=t.id,Object(i.x)(t.sourceid)||(u=!1,a=t.sourceid);else if(Object(E.c)(t))o=m.j,s=c.c.userContext;else{if(!(t=t).get_id||Object(i.v)(t.get_id()))return void e.error("".concat(me()," Entity Descriptor with missing ID found"),r);o=t.get_logicalName&&!Object(i.v)(t.get_logicalName())?t.get_logicalName():"",s=c.c.entity}n[o]={dependenciesFetched:u,queryGenerated:!1,sourceId:a,id:o,metadataType:s}}function N(e,t,n,r){return P.apply(this,arguments)}function P(){return(P=S((function*(e,t,n,r){var a=Object(g.a)(n.MetadataType,n.MetadataSubtype),o=a.subtype,s=a.type,u="";return n.MetadataId&&(u=n.MetadataId.toString()),n.MetadataType===c.d.entity?M(e,n,t,r):n.MetadataType===c.d.savedView||n.MetadataType===c.d.form||n.MetadataType===c.d.workspace||n.MetadataType===c.d.systemWorkspace||n.MetadataType===c.d.userWorkspace||n.MetadataType===c.d.savedVisualization?oe(e,t,n,r):n.MetadataType===c.d.dialog||n.MetadataType===c.d.taskBasedFlow?I(e,s,n,t,r):(s===c.c.resourceString||s===c.c.label)&&n.MetadataNames&&n.MetadataNames.length>0?L(e,s,n,t,r):(s===c.c.optionSet||s===c.c.webResource||s===c.c.webResourceDescriptor||s===c.c.complexControl)&&n.MetadataNames&&n.MetadataNames.length>0?V(e,s,n,t,r):s===c.c.command&&n.MetadataNames&&n.MetadataNames.length>0?H(e,n,t,r):s!==c.c.appModule||Object(i.x)(u)?s===c.c.appModuleOfflineMetadata?U(e,t,r):!Object(i.x)(u)||s!==c.c.resourceString&&n.MetadataNames&&n.MetadataNames.length>0||s===c.c.taskBasedFlowGlobalMenu||s===c.c.quickCreateMenu||s===c.c.searchConfiguration||s===c.c.siteMap?K(e,s,n,t,r):s===c.c.isActivityFlags?Y(e,t,r):s===c.c.viewSelector?Z(e,s,o,n,t,r):s===c.c.homePageConfiguration?ne(e,n,t,r):s===c.c.none&&!Array.isArray(o)&&o===c.b.none&&Object(i.x)(n.EntityLogicalName)&&m.g[n.DependencyDepth]===m.g.UserContext?[{userid:d.a.EMPTY}]:ae(e,s,o,n,t,r):z(e,n,t,r)}))).apply(this,arguments)}function I(e,t,n,r,a){return R.apply(this,arguments)}function R(){return(R=S((function*(e,t,n,r,o){var s=o.commonEventParameters||[],u=[],l=[];if(!Object(i.v)(n.MetadataNames)&&n.MetadataNames.length>0)for(var d=n.MetadataNames,f=0;f<d.length;++f){var p=Object(E.a)("",t,"",d[f]),h=yield Object(y.c)(e,p,void 0,o);if((l=[]).push({name:"MetadataType",value:c.c[t]}),l.push({name:"DialogKey",value:p}),h){u.push(h);var v=h.data.FormId,m=Object(E.a)("",c.c.form,v,""),g=yield Object(y.c)(e,m,void 0,o);g?u.push(g):(l.push({name:"FormKey",value:m}),r.warn("".concat(me()," Unable to find dependent form metadata for dialog: ").concat(p," form: ").concat(m," for type ").concat(c.c[t]),Object(a.b)(s,l)))}else r.error("".concat(me()," Unable to find the dialog root ").concat(p," for type ").concat(c.c[t]),Object(a.b)(s,l))}else r.error("".concat(me()," Dialog metadata requested without MetadataNames"),Object(a.b)(s,l));return u}))).apply(this,arguments)}function M(e,t,n,r){return x.apply(this,arguments)}function x(){return(x=S((function*(e,t,n,r){var o=r.commonEventParameters||[],c=[],s=t.MetadataSubtype.replace(/\\\"/g,'"'),u=JSON.parse(s),l=[],d=Object.keys(u);for(var f of(c.push({name:"Entities",value:null==d?void 0:d.join(",")}),d))l.push(D(e,f,n,r));for(var p=[],h={},v=0;v<(null==d?void 0:d.length);v++)try{var m=yield l[v];if(void 0===m)throw new Error;p.push(m)}catch(y){h[d.push[v]]=Object(i.o)(y)}return Object.keys(h).length>0&&(c.push({name:"MissingEntities",value:JSON.stringify(h)}),n.warn("".concat(me()," Could not fetch metadata for ").concat(Object.keys(h).length," entities. Other entities in the query may return results"),Object(a.b)(o,c))),p}))).apply(this,arguments)}function D(e,t,n,r){return A.apply(this,arguments)}function A(){return(A=S((function*(e,t,n,r){var a,i=yield k(e,t,r);if(!i||!i.length){var o="requested entity metadata not found for entity = ".concat(t);throw new Error(o)}if(i[0].rows&&i[0].rows.length>0){var c=i[0].rows.item(0),s=JSON.parse(c.json);a=u.a.createFromObjectData(s,!0)}else{var l=r.commonEventParameters||[];n.warn("".concat(me()," Got 0 result rows for entity metadata ").concat(t),l)}return a}))).apply(this,arguments)}function k(e,t,n){return F.apply(this,arguments)}function F(){return(F=S((function*(e,t,n){var r=[t];return yield Object(l.b)(e,"SELECT id, json FROM [entitymetadata] WHERE [logicalname] = ?",r,n.commonEventParameters,n,void 0,s.d.RootFinderSQL)}))).apply(this,arguments)}function L(e,t,n,r,a){return q.apply(this,arguments)}function q(){return(q=S((function*(e,t,n,r,i){var o=i.commonEventParameters||[],s=[];n.MetadataNames=se(n.MetadataNames);var u=[];for(var l of n.MetadataNames)if(s=[],t===c.c.label){var d=l.split(":");d&&2===d.length?u.push(Object(E.a)("",t,d[0],d[1])):(s.push({name:"MetadataName",value:l}),r.error("".concat(me()," Invalid label name ").concat(l),Object(a.b)(o,s)))}else u.push(Object(E.a)("",t,"",l));var f=t===c.c.resourceString;if(0===u.length)return[];var p=yield Object(y.e)(e,O.a.get_id(),u,r,i);if(f&&p.length!==u.length){var h=ue(n,p);s.push({name:"MissingKeys",value:h}),r.info("".concat(me()," Not able to find ").concat(u.length-p.length," keys out of ").concat(u.length," of type ").concat(c.c[t],", Missing Keys ").concat(h),Object(a.b)(o,s))}return p}))).apply(this,arguments)}function U(e,t,n){return B.apply(this,arguments)}function B(){return(B=S((function*(e,t,n){var r=n.commonEventParameters||[],a=Object(E.a)("",c.c.appModuleOfflineMetadata,"","",0);try{var i=yield Object(y.c)(e,a,void 0,n);return i?[i]:[]}catch(o){throw t.error("".concat(me()," Error when attempting to retrieve application metadata for type ").concat(c.c[c.c.appModuleOfflineMetadata]," ").concat(a," ").concat(o.message),r),o}}))).apply(this,arguments)}function V(e,t,n,r,a){return G.apply(this,arguments)}function G(){return(G=S((function*(e,t,n,r,o){var s=o.commonEventParameters||[],u=[];for(var l of n.MetadataNames){var d=Object(E.a)(n.EntityLogicalName,t,"",l),f=[];f.push({name:"MetadataIdString",value:d});try{var p=yield Object(y.c)(e,d,void 0,o);f.push({name:"MetadataType",value:c.c[t]}),Object(i.w)(p)?r.error("".concat(me()," Not able to find some of the keys for type ").concat(c.c[t]," ").concat(d),Object(a.b)(s,f)):u.push(p)}catch(h){throw r.error("".concat(me()," ").concat(h.message||"Failed to Retrieve resource metadata"),Object(a.b)(s,f)),h}}return u}))).apply(this,arguments)}function H(e,t,n,r){return Q.apply(this,arguments)}function Q(){return(Q=S((function*(e,t,n,r){var o=r.commonEventParameters||[],s=Object(E.a)(t.EntityLogicalName,c.c.command,"",t.MetadataNames[0]),u=[];u.push({name:"MetadataIdString",value:s});try{var l=yield Object(y.c)(e,s,void 0,r);return Object(i.w)(l)?(n.error("".concat(me()," Not able to find the key ").concat(s," for type ").concat(c.c[c.c.command]),Object(a.b)(o,u)),[]):[l]}catch(d){throw n.error("".concat(me()," Error when retrieving command metadata ").concat(t.MetadataNames[0]),Object(a.b)(o,u)),d}}))).apply(this,arguments)}function z(e,t,n,r){return W.apply(this,arguments)}function W(){return(W=S((function*(e,t,n,r){var o=r.commonEventParameters||[],s=t.AppId&&t.AppId!==f.a.get_empty().toString()?t.AppId.toString():t.MetadataId.toString(),u=Object(E.a)(t.EntityLogicalName,c.c.appModule,Object(i.x)(t.MetadataId)?"":t.MetadataId.toString(),Object(i.v)(t.MetadataNames)?"":t.MetadataNames[0],0,s),l=[];l.push({name:"MetadataIdString",value:u});try{var d=yield Object(y.c)(e,u,void 0,r);return Object(i.w)(d)?(n.error("".concat(me()," Not able to find the key ").concat(u," for type ").concat(c.c[c.c.appModule]),Object(a.b)(o,l)),[]):[d]}catch(p){throw n.error("".concat(me()," Error when retrieving app module metadata for appID: ").concat(s,". ").concat(p.message),Object(a.b)(o,l)),p}}))).apply(this,arguments)}function Y(e,t,n){return X.apply(this,arguments)}function X(){return(X=S((function*(e,t,n){var r=n.commonEventParameters||[],o=Object(E.a)("",c.c.isActivityFlags,"",m.d),s=[];s.push({name:"MetadataIdString",value:o});try{var u=yield Object(y.c)(e,o,void 0,n);if(Object(i.w)(u)){var l="GetClientMetadata: Not able to find the key ".concat(o," for type ").concat(c.c[c.c.isActivityFlags]);throw t.error("".concat(me()," ").concat(l),Object(a.b)(r,s)),new Error(l)}return[u]}catch(d){throw t.error("".concat(me()," Error when retrieving activity flag metadata. ").concat(d.message),Object(a.b)(r,s)),d}}))).apply(this,arguments)}function K(e,t,n,r,a){return J.apply(this,arguments)}function J(){return(J=S((function*(e,t,n,s,u){var l=u.commonEventParameters||[],d="",p=[];n.MetadataId&&(d=n.MetadataId.toString());var h=n.AppId&&n.AppId!==f.a.get_empty().toString()?n.AppId.toString():void 0;d=Object(E.a)(n.EntityLogicalName,t,d,Object(i.v)(n.MetadataNames)?"":n.MetadataNames[0],0,h),p.push({name:"MetadataIdString",value:d}),p.push({name:"AppId",value:h||""});try{var v=yield Object(y.c)(e,d,void 0,u);if(Object(i.w)(v)){var m=new o.a("Not able to find the key ".concat(d," for type ").concat(c.c[t]),r.i.DataStoreKeyNotFoundErrorCode);return s.error("".concat(me()," ").concat(m.message),Object(a.b)(l,p)),[]}return[v]}catch(m){throw s.error("".concat(me()," Error when attempting to retrieve application metadata for type ").concat(c.c[t]," ").concat(d," ").concat(m.message),Object(a.b)(l,p)),m}}))).apply(this,arguments)}function Z(e,t,n,r,a,i){return $.apply(this,arguments)}function $(){return($=S((function*(e,t,n,r,a,i){var o=[],c=r.AppId&&r.AppId!==f.a.get_empty().toString()?r.AppId.toString():r.MetadataId?r.MetadataId.toString():void 0,s=[];for(var u of n){var l=yield ee(e,t,u,r,c,a,i,o);l&&s.push(l)}return s}))).apply(this,arguments)}function ee(e,t,n,r,a,i,o,c){return te.apply(this,arguments)}function te(){return(te=S((function*(e,t,n,r,o,s,u,l){var d=u.commonEventParameters||[],f=Object(E.a)(r.EntityLogicalName,c.c.viewSelector,"","",n,o);l.push({name:"MetadataIdString",value:f}),l.push({name:"AppId",value:o||""});try{var p=yield Object(y.c)(e,f,void 0,u);return Object(i.w)(p)?void s.error("".concat(me()," Not able to find the key ").concat(f," for type ").concat(c.c[t]),Object(a.b)(d,l)):p}catch(h){throw s.error("".concat(me()," Error when retrieving view selector metadata for entity ").concat(r.EntityLogicalName," and appid ").concat(o,". ").concat(h.message),Object(a.b)(d,l)),h}}))).apply(this,arguments)}function ne(e,t,n,r){return re.apply(this,arguments)}function re(){return(re=S((function*(e,t,n,r){var o=r.commonEventParameters||[],s=Object(E.a)(t.EntityLogicalName,c.c.homePageConfiguration,"","",0,""),u=[];u.push({name:"MetadataIdString",value:s});try{var l=yield Object(y.c)(e,s,void 0,r);return Object(i.w)(l)?(n.error("".concat(me()," Not able to find the key ").concat(s," for type ").concat(c.c[c.c.homePageConfiguration]),Object(a.b)(o,u)),[]):[l]}catch(d){throw n.error("".concat(me()," Error when retrieving home page configuration metadata. ").concat(d.message),Object(a.b)(o,u)),d}}))).apply(this,arguments)}function ae(e,t,n,r,a,i){return ie.apply(this,arguments)}function ie(){return(ie=S((function*(e,t,n,r,a,i){var o=i.commonEventParameters||[],s="";r.MetadataId&&(s=r.MetadataId.toString());var u=new b.a(t,m.f.Desktop,r.EntityLogicalName,0,r.GetDefault,s,n,void 0);try{var l=yield Object(y.f)(e,u,a,i);return l&&l.length?l:(a.warn("".concat(me()," Not able to find the key ").concat(s," for type ").concat(c.c[t]),o),[])}catch(d){throw a.error("".concat(me()," error retrieving metadata by query for ").concat(s,". ").concat(d.message),o),d}}))).apply(this,arguments)}function oe(e,t,n,r){return ce.apply(this,arguments)}function ce(){return(ce=S((function*(e,t,n,r){var a=r.commonEventParameters||[],o=m.h[n.MetadataType];if(!Object(i.v)(n.MetadataId)||n.MetadataNames&&n.MetadataNames.length){if(m.g[n.DependencyDepth]===m.g.OnDemandWithContext){var s=yield Promise.all(le(e,t,n,o,r));return yield he(e,t,s,o,a)}var u=o.slice(1,o.length),l=fe(e,n,u,t,r),d=yield Promise.all(l);return yield he(e,t,d,u,a)}if(Object(i.v)(n.GetDefault)||!n.GetDefault)throw new Error("A query with empty MetadataId and non-true GetDefault parameters is considered invalid.");if(Object(i.v)(n.EntityLogicalName)&&n.MetadataType!==c.d.workspace&&n.MetadataType!==c.d.systemWorkspace&&n.MetadataType!==c.d.userWorkspace)throw new Error("This query requests defaults and/or selectors, but does not specify the context. This query is considered invalid.");return Promise.all(le(e,t,n,o,r)).then(e=>{if(Object(i.v)(e)||e.length<2)throw new Error("The local store does not contain metadata fragments or selectors for the specified query.");var t=e[0][0],r=o[0],a=pe(t);if(Object(i.v)(a))throw new Error("The default selector item cannot be found.");for(var c=[],s=1;s<e.length;++s)for(var u=e[s],l=o[s],d=0;d<u.length;d++){var f=u[d];a[r.uniqueKey]===f.data[l.uniqueKey]&&c.push(f)}return m.g[n.DependencyDepth]===m.g.OnDemandWithContext&&c.push(t),c})}))).apply(this,arguments)}function se(e){e.sort();var t=[],n="";for(var r of e)r!==n&&(n=r,t.push(r));return t}function ue(e,t){var n=t.filter(e=>e).map(e=>e.data.Key),r="";for(var a of e.MetadataNames){var o=!1;for(var c of n)if(a===c){o=!0;break}o||(r=Object(i.x)(r)?a:r+", "+a)}return r}function le(e,t,n,r,a){var o=Object(g.b)(n.MetadataType,n.MetadataSubtype),s=r[0],u=[];if(Object(i.v)(n.EntityLogicalName)&&n.MetadataType!==c.d.workspace&&n.MetadataType!==c.d.systemWorkspace&&n.MetadataType!==c.d.userWorkspace){var l=new b.a(s.metadataType,m.f.Desktop,"",0,!1,"",o),d=Object(y.f)(e,l,t,a);u.push(d)}else{var p=Object(E.a)(n.EntityLogicalName,s.metadataType,"","",o,n.AppId&&n.AppId!==f.a.get_empty().toString()?n.AppId.toString():void 0);u.push(function(e,t,n,r,a){return de.apply(this,arguments)}(e,t,p,s.metadataType,a))}return u=fe(e,n,r.slice(1,r.length),t,a,u)}function de(){return(de=S((function*(e,t,n,r,a){var o=a.commonEventParameters||[];try{var s=yield Object(y.c)(e,n,void 0,a);return Object(i.w)(s)?(t.error("".concat(me()," Not able to find the key ").concat(n," for type ").concat(c.c[r]),o),[]):[s]}catch(u){throw t.error("".concat(me()," Error when retrieving application metadata for id ").concat(n,". ").concat(u.message),o),u}}))).apply(this,arguments)}function fe(e,t,n,r,a,o){Object(i.v)(o)&&(o=[]);for(var c=Object(g.b)(t.MetadataType,t.MetadataSubtype),s=0;s<n.length;++s){var u=n[s].metadataType,l=t.MetadataId?new b.a(u,m.f.Desktop,t.EntityLogicalName,0,!1,t.MetadataId.toString()):new b.a(u,m.f.Desktop,t.EntityLogicalName,0,!1,void 0,c);o.push(Object(y.f)(e,l,r,a))}return o}function pe(e){var t=e.data.SelectorItems;if(!Object(i.v)(t)&&t.length>0){for(var n=0;n<t.length;n++){var r=t[n];if(r.IsDefault)return r}return t[0]}return{}}function he(e,t,n,r){return ve.apply(this,arguments)}function ve(){return(ve=S((function*(e,t,n,c){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],u=[];if(Object(i.v)(n)||!n.length){var l=new o.a("The local store does not contain metadata fragments or selectors for the specified query.",r.i.DataStoreKeyNotFoundErrorCode);if(t.error("".concat(me()," ").concat(l.message),Object(a.b)(s,u)),yield Object(p.v)(e,h.h.ModernDataLayerMatchServerGCM))throw l;return[]}for(var d=[],f=[],v=0;v<n.length;++v)for(var m=n[v],y=c[v],g=0;g<m.length;g++){var b=m[g];d.push(b),f.push(y.payloadKey)}for(var O=0;O<c.length;++O){var E=c[O];if((u=[]).push({name:"PayLoadKey",value:E.payloadKey}),-1===f.indexOf(E.payloadKey)){var _=new o.a("The local store does not contain ".concat(E.payloadKey," requested metadata."),r.i.DataStoreKeyNotFoundErrorCode);if(t.warn("".concat(me()," ").concat(_.message),Object(a.b)(s,u)),yield Object(p.v)(e,h.h.ModernDataLayerMatchServerGCM))return t.info("".concat(me()," Returning empty array to match server response for selectable metadata"),Object(a.b)(s,u)),[];throw _}}return d}))).apply(this,arguments)}function me(e){return"[".concat(e||s.d.RootFinder,"]")}},20657:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var r=n(20588),a=n(20616);function i(e,t){switch(e){case"form":return{type:a.c.form,subtype:o("form",t)};case"workspace":case"systemworkspace":case"userworkspace":return{type:a.c.workspace,subtype:o(e,"dashboard")};case"formselector":return{type:a.c.formSelector,subtype:o(e,t)};case"bpfselector":return{type:a.c.bpfSelector,subtype:a.b.none};case"dashboardselector":return{type:a.c.dashboardSelector,subtype:o(e,"dashboard")};case"search":return{type:a.c.searchConfiguration,subtype:a.b.none};case"customcontrol":return{type:a.c.customControl,subtype:a.b.none};case"resourcestring":return{type:a.c.resourceString,subtype:a.b.none};case"visualizationselector":return{type:a.c.visualizationSelector,subtype:a.b.none};case"savedvisualization":return{type:a.c.savedQueryVisualization,subtype:a.b.none};case"uservisualization":return{type:a.c.userQueryVisualization,subtype:a.b.none};case"label":return{type:a.c.label,subtype:a.b.none};case"displaystring":return{type:a.c.displayString,subtype:a.b.none};case"webresource":return{type:a.c.webResource,subtype:o(e,t)};case"webresourcedescriptor":return{type:a.c.webResourceDescriptor,subtype:a.b.none};case"customcontroldefaultconfig":return{type:a.c.homePageConfiguration,subtype:a.b.none};case"optionset":return{type:a.c.optionSet,subtype:a.b.none};case"quickcreatemenu":return{type:a.c.quickCreateMenu,subtype:a.b.none};case"businessprocessflow":return{type:a.c.businessProcessFlow,subtype:a.b.none};case"dialog":return{type:a.c.dialog,subtype:a.b.none};case"taskbasedflow":return{type:a.c.taskBasedFlow,subtype:a.b.none};case"taskbasedflowglobalmenu":return{type:a.c.taskBasedFlowGlobalMenu,subtype:a.b.none};case"sitemap":return{type:a.c.siteMap,subtype:a.b.none};case"viewselector":return{type:a.c.viewSelector,subtype:o(e,t)};case"savedview":return{type:a.c.savedView,subtype:o(e,t)};case"userview":return{type:a.c.userView,subtype:o(e,t)};case"ribbon":return{type:a.c.command,subtype:a.b.none};case"appmodules":return{type:a.c.appModule,subtype:a.b.none};case"appmoduleselector":return{type:a.c.appModuleSelector,subtype:a.b.none};case"metadataversion":return{type:a.c.overallMetadataVersion,subtype:a.b.none};case"complexcontrol":return{type:a.c.complexControl,subtype:a.b.none};case"isactivityflags":return{type:a.c.isActivityFlags,subtype:a.b.none};case"appmoduleofflinemetadata":return{type:a.c.appModuleOfflineMetadata,subtype:a.b.none};case"dependencies":return{type:a.c.dependencies,subtype:a.b.none};default:return{type:a.c.none,subtype:a.b.none}}}function o(e,t){var n;switch(e){case"form":case"formselector":case"dashboardselector":n=function(e){var t=a.b.none;if(!Object(r.v)(e))switch(e.toLowerCase()){case"appointmentbook":t=a.b.appointment;break;case"hardcoded":t=a.b.hardcoded;break;case"main":t=a.b.main;break;case"minicampaignbo":t=a.b.miniCampaignBO;break;case"preview":t=a.b.preview;break;case"dashboard":t=a.b.dashboard;break;case"quick":t=a.b.quick;break;case"mobile":t=a.b.mobile;break;case"read":t=a.b.read;break;case"quickcreate":t=a.b.quickCreate;break;case"dialog":t=a.b.dialog;break;case"card":t=a.b.card;break;case"taskbasedform":t=a.b.taskBased;break;case"interactioncentricdashboard":t=a.b.interactionCentricDashboard;break;default:t=a.b.none}return t}(t);break;case"viewselector":n=function(e){if(Object(r.v)(e))return[a.b.none];var t=e.trim().split(":");if(1===t.length)return[c(e)];var n=0;"HASDISTINCTNEEDED"===t[0]&&(n=1);for(var i=[],o=n;o<t.length;o++)i.push(c(t[o]));return i}(t);break;case"savedview":case"userview":n=c(t);break;case"workspace":case"systemworkspace":case"userworkspace":n=a.b.dashboard;break;case"webresource":n=function(e){var t=0;if(!Object(r.v)(e))switch(e.toUpperCase()){case"HTML":t=10;break;case"CSS":t=6;break;case"JSCRIPT":t=5;break;case"XML":t=11;break;case"PNG":t=7;break;case"JPG":t=8;break;case"RESX":t=12;break;case"GIF":case"SILVERLIGHT":case"XSL":case"ICO":default:t=0}return t}(t);break;default:n=a.b.none}return n}function c(e){var t=a.b.none;if(!Object(r.v)(e))switch(e.toUpperCase()){case"MAIN_APPLICATION_VIEW":t=a.b.main;break;case"ADVANCED_SEARCH":t=a.b.advancedSearch;break;case"SUB_GRID":t=a.b.subGrid;break;case"QUICKFIND_SEARCH":t=a.b.quickFindSearch;break;case"REPORTING":t=a.b.reporting;break;case"OFFLINE_FILTERS":t=a.b.offlineFilters;break;case"MA_SEARCH":t=a.b.maSearch;break;case"LOOKUP_VIEW":t=a.b.lookup;break;case"SM_APPOINTMENTBOOK_VIEW":t=a.b.smAppointmentBook;break;case"OUTLOOK_FILTERS":t=a.b.outlookFilters;break;case"ADDRESSBOOK_FILTERS":t=a.b.addressbookFilters;break;case"SAVEDQUERYTYPE_OTHER":t=a.b.savedQueryTypeOther;break;case"INTERACTIVE_WORKFLOW_VIEW":t=a.b.interactiveWorkFlow;break;case"OFFLINE_TEMPLATE":t=a.b.offlineTemplate;break;case"OUTLOOK_TEMPLATE":t=a.b.outlookTemplate;break;case"CUSTOM_DEFINED_VIEW":t=a.b.customDefined;break;default:t=a.b.none}return t}},20658:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(20588),a=n(20616),i=n(20659);class o{constructor(e,t,n,i,o,c,s,u){if(this._metadataType=0,this._metadataSubtype=0,this._formFactor=0,this._associatedEntityLogicalName=void 0,this._isDefault=!1,this._sourceId=void 0,this._normalizedDisplayName=void 0,this._applicationMetadataType=0,this._isDefaultSpecified=!1,!e)throw new Error("Invalid application metadata type");this._metadataType=e,this._formFactor=t,this._associatedEntityLogicalName=n,this._applicationMetadataType=Object(r.v)(i)?a.a.systemApplicationMetadata:i,this._isDefaultSpecified=!Object(r.v)(o),this._isDefault=!!this._isDefaultSpecified&&o,this._sourceId=c||"",this._metadataSubtype=s||0,this._normalizedDisplayName=u||""}checkApplicationMetadata(e){return(!this.get_metadataType()||e.metadatatype===this.get_metadataType())&&(!(!Object(r.v)(this.get_metadataSubtype())&&this.get_metadataSubtype()!==a.b.none&&e.metadatasubtype!==this.get_metadataSubtype())&&(!(!Object(r.x)(this.get_sourceId())&&e.sourceid!==this.get_sourceId())&&(!(!Object(r.x)(this.get_associatedEntityLogicalName())&&e.associatedentitylogicalname!==this.get_associatedEntityLogicalName())&&(!(this.get_formFactor()>0&&e.formfactor!==this.get_formFactor())&&(!(this._isDefaultSpecified&&this._isDefault&&Object(r.v)(e.isdefault||!e.isdefault))&&(!(this._applicationMetadataType===a.a.userApplicationMetadata&&!e.isuserrecord)&&!(!Object(r.x)(this.get_normalizedDisplayName())&&this.get_normalizedDisplayName()!==e.displayname.toUpperCase())))))))}get_keyPath(){return Object(r.x)(this.get_sourceId())?Object(r.x)(this.get_normalizedDisplayName())?Object(r.x)(this.get_associatedEntityLogicalName())||Object(r.v)(this.get_metadataSubtype())?Object(r.x)(this.get_associatedEntityLogicalName())?i.b:i.a:i.c:i.d:i.e}get_keyValue(){var e=this.get_metadataType().toString(),t=this.get_keyPath();if(t===i.e)return e+r.a+this.get_sourceId();if(t===i.a)return e+r.a+this.get_associatedEntityLogicalName();if(t===i.c){var n=this.get_metadataSubtype().toString();return e+r.a+n+r.a+this.get_associatedEntityLogicalName()}return t===i.d?e+r.a+this.get_normalizedDisplayName():this.get_metadataType()}get_metadataType(){return this._metadataType}get_metadataSubtype(){return this._metadataSubtype}get_formFactor(){return this._formFactor}get_associatedEntityLogicalName(){return this._associatedEntityLogicalName}get_sourceId(){return this._sourceId}get_normalizedDisplayName(){return this._normalizedDisplayName}}},20659:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"e",(function(){return c})),n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return u}));var r=n(20588),a=n(20617),i=n(20660),o=new i.a(a.i.METADATA_TYPE),c=(new i.a(a.i.SOURCE_ID),new i.a(a.i.METADATA_TYPE+r.a+a.i.SOURCE_ID)),s=new i.a(a.i.METADATA_TYPE+r.a+a.i.ASSOCIATED_ENTITY_LOGICAL_NAME),u=new i.a(a.i.METADATA_TYPE+r.a+a.i.METADATA_SUBTYPE+r.a+a.i.ASSOCIATED_ENTITY_LOGICAL_NAME),l=new i.a(a.i.METADATA_TYPE+r.a+a.i.DISPLAY_NAME)},20660:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(20588);class a{static get_id(){return a._id}constructor(e){if(this._path=void 0,Object(r.x)(e))throw new Error("Undefined path parameter to KeyPath");this._path=e}get_path(){return this._path}}a._id=new a("id")},20661:function(e,t,n){"use strict";n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return O}));var r=n(20583),a=n(20584),i=n(20662),o=n(20666),c=n(20667),s=n(20672),u=n(20673),l=n(20591),d=n(20674),f=n(20665),p=n(20679),h=n(20680),v=n(20681);function m(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function y(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){m(i,r,a,o,c,"next",e)}function c(e){m(i,r,a,o,c,"throw",e)}o(void 0)}))}}function g(e,t,n,r,a,i){return b.apply(this,arguments)}function b(){return(b=y((function*(e,t,n,m,y,g){var b,O=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{};O.performanceControl&&O.performanceControl.startMarker(a.d.ResponseHandler);var E=n.TraceManager.getTracer(a.a.ResponseHandler),S=O.commonEventParameters||[];if(y)E.info("".concat(_()," Executing error response handler"),S),b=Object(l.a)(r.u.InternalServerError,e.url,y);else switch(t){case r.y.Create:b=yield Object(c.a)(e,n,E,m,g,S);break;case r.y.Batch:b=yield Object(i.a)(e,n,E,m,S,g,O);break;case r.y.Update:b=Object(p.a)(e,n,E,m,S);break;case r.y.Retrieve:b=yield Object(f.b)(e,n,E,m,S,g);break;case r.y.RetrieveMultiple:b=yield Object(d.a)(e,n,E,m,g,O);break;case r.y.GetClientMetadata:b=yield Object(u.a)(e,n,E,m,S,g);break;case r.y.Delete:case r.y.FileDelete:b=Object(s.a)(e,n,E,m,S);break;case r.y.CountRows:b=Object(o.a)(e,t,n,E,m,S);break;case r.y.Upload:b=Object(h.a)(e,n,E,m);break;case r.y.GetFileSasUrl:b=yield Object(v.a)(e,n,E,m,y,S);break;default:b=Object(l.b)(r.u.BadRequest,e.url)}return O.performanceControl&&O.performanceControl.endMarker(a.d.ResponseHandler),b}))).apply(this,arguments)}function O(e,t,n,r){return E.apply(this,arguments)}function E(){return(E=y((function*(e,t,n,r){return yield g(e,t,n,void 0,void 0,void 0,r)}))).apply(this,arguments)}function _(e){return"[".concat(e||a.d.ResponseHandler,"]")}},20662:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n(20583),a=n(20661),i=n(20591),o=n(20599),c=n(20663),s=n(20664),u=n(20665),l=n(20598),d=n(20584),f=n(20596);function p(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function h(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){p(i,r,a,o,c,"next",e)}function c(e){p(i,r,a,o,c,"throw",e)}o(void 0)}))}}function v(e,t,n,r){return m.apply(this,arguments)}function m(){return(m=h((function*(e,t,n,a){var o,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],s=arguments.length>5?arguments[5]:void 0,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},d=e.url,p=[];try{var h=Object(l.a)(e,n,c,t);a?E(h,t)?!a||a.length<1?(p.push({name:"BatchResponseStatus",value:"Batch retrieve request returning empty response"}),o=Object(i.b)(r.u.NoContent,d)):(p.push({name:"BatchResponseStatus",value:"Batch retrieve request returning proper response"}),o=yield b(h,t,n,a[0],c,s&&s.length>=1?s[0]:[])):(p.push({name:"BatchResponseStatus",value:"Generating valid batch response"}),o=yield y(d,h,t,a,s,u)):(p.push({name:"BatchResponseStatus",value:"RawResponse is null or empty"}),o=Object(i.b)(r.u.NoContent,d))}catch(m){var v=m&&m.message?m.message:"Unknown";throw Object(f.a)(m,p),n.error("".concat(_()," Exception in batchResponseHandler - ").concat(v),Object(f.b)(c,p)),m}return o}))).apply(this,arguments)}function y(e,t,n,r,a){return g.apply(this,arguments)}function g(){return(g=h((function*(e,t,n,s,u){var l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};if(!s||!t)return Object(i.b)(r.u.NoContent,e);for(var d=[],f=0;f<t.length;f++){var p=t[f],h=s.length>f&&s[f]?s[f]:null,v=u?u[f]:[];if(h){var m=Object(o.a)(p);m?d.push(yield Object(a.b)(p,m,n,h,void 0,v,l)):d.push(Object(i.b)(r.u.BadRequest,p.url))}else d.push(Object(i.b)(r.u.InternalServerError,p.url))}return yield Object(c.a)(d)}))).apply(this,arguments)}function b(e,t,n,r){return O.apply(this,arguments)}function O(){return(O=h((function*(e,t,n,r){var a,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],o=arguments.length>5?arguments[5]:void 0,l=e&&e.length>0?e[0]:void 0;if(o&&o.BPFEntityLogicalName){var d=o&&o.BPFQueryIndex?o.BPFQueryIndex:1;a=e&&e.length>1?e[d]:void 0}if(!l)throw new Error("Unsupported offline batch request");var f=yield Object(u.a)(l,t,n,r,i,o),p=yield Object(u.b)(l,t,n,r,i,o);if(a){var h=o&&o.BPFQueryIndex?o.BPFQueryIndex:1,v=yield Object(s.a)(a,t,n,r&&r.length>h?r.slice(h,h+1):[],f,i,o);return yield Object(c.a)([p,v])}return yield Object(c.a)([p])}))).apply(this,arguments)}function E(e,t){for(var n of e){if(Object(o.a)(n,t)===r.y.Retrieve)return!0}return!1}function _(e){return"[".concat(e||d.d.BatchResponseHandler,"]")}},20663:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(20583);function a(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function c(e){a(o,r,i,c,s,"next",e)}function s(e){a(o,r,i,c,s,"throw",e)}c(void 0)}))}}function o(e,t){return c.apply(this,arguments)}function c(){return(c=i((function*(e,t){var n="";t||(t="batch_".concat((new Date).getTime()));for(var a=0;a<e.length;a++){var i=e[a];n+="--"+t+"\n";var o="";if(Array.isArray(i)){var c=i,u="changeset_".concat(t,"-").concat(a);o=yield s(u,c),n+="".concat(r.q.CONTENT_TYPE,": multipart/mixed;boundary=").concat(u,"\n")}else{var d=i;o=yield l(d),n+="".concat(r.q.CONTENT_TYPE,": ").concat(r.r.APPLICATION_HTTP,"\n").concat(r.q.CONTENT_TRANSFER_ENCODING,": ").concat(r.r.BINARY,"\n")}n+="\n",n+=o,n+="\n"}var p="--".concat(t,"--\r\n\0");return n.endsWith(p+"\n")?n=n.substr(0,n.length-1):n+=p,f(e,n,t)}))).apply(this,arguments)}function s(e,t){return u.apply(this,arguments)}function u(){return(u=i((function*(e,t){var n="",a=1;for(var i of t)n+="--"+e+"\n",n+="".concat(r.q.CONTENT_TYPE,": ").concat(r.r.APPLICATION_HTTP,"\n").concat(r.q.CONTENT_TRANSFER_ENCODING,": ").concat(r.r.BINARY,"\n"),i.ok?n+="".concat(r.q.CONTENT_ID,": ").concat(a,"\n"):n+="".concat(r.q.CONTENT_ID,": ").concat(i.headers.get(r.q.CONTENT_ID)),a++,n+="\n",n+=(yield l(i)),n+="\n";return n+="--"+e+"--\n"}))).apply(this,arguments)}function l(e){return d.apply(this,arguments)}function d(){return(d=i((function*(e){var t="HTTP/1.1 ".concat(e.status," ").concat(e.statusText,"\n");if([r.q.REQ_ID,r.q.CONTENT_TYPE,r.q.PREFERENCE_APPLIED,r.q.ODADTA_ENTITY_ID,r.q.LOCATION].forEach(n=>{e.headers.has(n)&&(t+="".concat(n,": ").concat(e.headers.get(n),"\n"))}),e.headers.get(r.q.CONTENT_TYPE)===r.r.APPLICATION_JSON){var n=yield e.json();t+="\n"+JSON.stringify(n)}return t}))).apply(this,arguments)}function f(e,t,n){var a=!0,i=200,o="OK";for(var c of e)if(Array.isArray(c)){var s=c.filter(e=>!e.ok);if(s.length>0){a=!1,i=s[0].status,o=s[0].statusText;break}}else if(!c.ok){a=!1,i=c.status,o=c.statusText;break}return{ok:a,status:i,statusText:o,clone(){return Object.assign({},this)},json:()=>Promise.resolve(t||{}),text:()=>Promise.resolve(t||""),headers:new Headers({[r.q.CONTENT_TYPE]:"multipart/mixed;boundary=".concat(n)}),url:"$batch"}}},20664:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(20583),a=n(20596),i=n(20588),o=n(20594),c=n(20584),s=n(20591);function u(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){u(i,r,a,o,c,"next",e)}function c(e){u(i,r,a,o,c,"throw",e)}o(void 0)}))}}function d(e,t,n,r,a){return f.apply(this,arguments)}function f(){return(f=l((function*(e,t,n,a,c){var u,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],d=arguments.length>6?arguments[6]:void 0,f=new Headers;n.info("".concat(v()," Processing the retrieve response"),l),f.set(r.q.CONTENT_TYPE,r.r.APPLICATION_JSON);var h=a;if(h&&h.length>0){var m=yield p(e,t,n,h,c,l,d);Object(i.x)(m)?(n.error("".concat(v()," No response retrieved from offline DB for this request"),l),u=Object(s.a)(r.u.Unknown,e.url,new o.a("No response retrieved from offline DB for this request"),f)):u=Object(s.b)(r.u.Ok,e.url,f,m)}else n.error("".concat(v()," No response retrieved from offline DB for this request"),l),u=Object(s.a)(r.u.Unknown,e.url,new o.a("No response retrieved from offline DB for this request"),f);return u}))).apply(this,arguments)}function p(e,t,n,r,a){return h.apply(this,arguments)}function h(){return(h=l((function*(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],c=arguments.length>6?arguments[6]:void 0,u="",l={},d=[],f=c?c.BPFEntityLogicalName:"";if(!f||0===f.length)return"";d.push({name:"EntityLogicalName",value:f});var p=r[0].rows.item(0);if(p){var h=!1;Object(s.f)(e)&&(h=!0),l=yield Object(s.d)(t,p,f,h),t.EventManager.ReportComponentSuccess(v(),Object(a.b)(o,d));var m={};l["@odata.type"]=f,m.GlobalNavigationData=l,i&&(m.Entity=i),m["@odata.context"]=e.url,u=JSON.stringify(m)}return u}))).apply(this,arguments)}function v(e){return"[".concat(e||c.d.BPFResponseHandler,"]")}},20665:function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return m}));var r=n(20583),a=n(20596),i=n(20594),o=n(20584),c=n(20648),s=n(20650),u=n(20591);function l(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){l(i,r,a,o,c,"next",e)}function c(e){l(i,r,a,o,c,"throw",e)}o(void 0)}))}}function f(e,t,n,r){return p.apply(this,arguments)}function p(){return(p=d((function*(e,t,n,a){var o,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],s=arguments.length>5?arguments[5]:void 0,l=new Headers;l.set(r.q.CONTENT_TYPE,r.r.APPLICATION_JSON),n.info("".concat(_()," Processing the retrieve response"),c);var d,f,p,v=a;if(v&&v.length>0)if(null!==(d=v[0])&&void 0!==d&&d.rows&&0!==(null===(f=v[0])||void 0===f||null===(p=f.rows)||void 0===p?void 0:p.length)){var m=yield h(e,t,n,v,c,s);o=Object(u.b)(r.u.Ok,e.url,l,m)}else n.error("".concat(_()," No records retrieved from offline DB for this request"),c),o=Object(u.a)(r.u.NotFound,e.url,new i.a("Requested record does not exist in offline DB",r.i.DataStoreKeyNotFoundErrorCode),l);else n.error("".concat(_()," No SQL response retrieved from offline DB for this request"),c),o=Object(u.a)(r.u.Unknown,e.url,new i.a("No response retrieved from offline DB for this request",r.i.DataStoreKeyNotFoundErrorCode));return o}))).apply(this,arguments)}function h(e,t,n,r){return v.apply(this,arguments)}function v(){return(v=d((function*(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],i=arguments.length>5?arguments[5]:void 0,o=yield m(e,t,n,r,a,i);return o["@odata.context"]=e.url,JSON.stringify(o)}))).apply(this,arguments)}function m(e,t,n,r){return y.apply(this,arguments)}function y(){return(y=d((function*(e,t,n,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],s=arguments.length>5?arguments[5]:void 0,l={},d=[],f=yield Object(c.p)(e,t,n,o);d.push({name:"EntityLogicalName",value:f});var p=i[0].rows.item(0);if(p){var h=!1;Object(u.f)(e)&&(h=!0),(l=yield Object(u.d)(t,p,f,h))["@odata.type"]=f,s&&s.ContainsActivityPartyQuery&&O(l,i[s.ActivityPartyQueryIndex].rows,s.ParticipationMasks,h,t),s&&s[r.g]&&(yield g(l,i,h,t,s,n)),t.EventManager.ReportComponentSuccess(_(),Object(a.b)(o,d))}else n.error("".concat(_()," No response retrieved from offline DB for this request"),o);return l}))).apply(this,arguments)}function g(e,t,n,r,a,i){return b.apply(this,arguments)}function b(){return(b=d((function*(e,t,n,a,i,o){for(var c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],s=0;s<i[r.g].length;){var l=i[r.g][s],d=l.ExpandPropertyName,f=l.ExpandValueType,p=l.ExpandQueryIndex,h=l.ReferencedOrReferencingEntityName,v=t[p].rows;if(v)if(f===r.h.MULTI_VALUE){for(var m=0,y=[];m<v.length;){var g=v.item(m),b=yield Object(u.d)(a,g,h,n);y.push(b),m++}e[d]=y}else{var O=v.item(0);if(O){var E=yield Object(u.d)(a,O,h,n);e[d]=E}else o.warn("".concat(_()," data for expand property ").concat(d," is null."),c)}s++}}))).apply(this,arguments)}function O(e,t,n,r,a){return E.apply(this,arguments)}function E(){return(E=d((function*(e,t,n,r,a){if(t.length>0){for(var i={},o=0;o<t.length;o++){var c=yield Object(u.d)(a,t.item(o),s.b,r);i[c[s.z]]?i[c[s.z]].push(c):i[c[s.z]]=[c]}for(var l in i)if(i[l]&&n[+l]){var d=i[l];e[n[+l]]={entities:d,morerecords:!1,totalrecordcount:d.length,totalRecordCountLimitExceeded:!1}}}return e}))).apply(this,arguments)}function _(e){return"[".concat(e||o.d.BPFResponseHandler,"]")}},20666:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(20583),a=n(20596),i=n(20594),o=n(20584),c=n(20591),s="The entity doesn't exist in the offline database";function u(e,t,n,a,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[];switch(t){case r.y.CountRows:return l(e,n,a,i,o);default:throw new Error("Request type for Function is not supported")}}function l(e,t,n,o){var u,l,f=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],p=[],h=null===(u=t.AdditionalParameters)||void 0===u?void 0:u.entityLogicalName,v=o;if(v&&v.length>0){var m,y,g;if(null!==(m=v[0])&&void 0!==m&&m.rows&&0!==(null===(y=v[0])||void 0===y||null===(g=y.rows)||void 0===g?void 0:g.length)){var b=v[0].rows.item(0).RowsCount,O=JSON.stringify({EntityRecordCountCollection:{Count:1,IsReadOnly:!1,Keys:[h],Values:[b]}});l=Object(c.b)(r.u.Ok,e.url,new Headers,O)}else n.error("".concat(d()," No records retrieved from offline DB for this countRows request"),f),l=Object(c.a)(r.u.NotFound,e.url,new i.a("Requested record does not exist in offline DB",r.i.DataStoreKeyNotFoundErrorCode),new Headers)}else{var E=new i.a(s,r.i.DataSourceOfflineErrorCode);Object(a.a)(E,p),n.error("".concat(d()," ").concat(s),Object(a.b)(f,p)),l=Object(c.a)(r.u.BadRequest,e.url,E)}return l}function d(e){return"[".concat(e||o.d.FunctionResponseHandler,"]")}},20667:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(20583),a=n(20594),i=n(20584),o=n(20648),c=n(20668),s=n(20611),u=n(20592),l=n(20591);function d(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){d(i,r,a,o,c,"next",e)}function c(e){d(i,r,a,o,c,"throw",e)}o(void 0)}))}}function p(e,t,n,r,a){return h.apply(this,arguments)}function h(){return(h=f((function*(e,t,n,i,o){var c,d=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],f=e.url,p="",h=null;o&&o[r.a.RecordId]&&(h=o[r.a.RecordId]);var m=new Headers;if(null!=h){var g=e.url+"("+h+")";m.append(r.q.ODADTA_ENTITY_ID,g),n.info("".concat(y()," Processing the create response")),p=yield v(e,t,n,i,d);var b=r.u.NoContent;(yield Object(u.v)(t,s.d,d))&&Object(l.g)(e)&&(b=r.u.Created),c=Object(l.b)(b,f,m,p)}else n.error("".concat(y()," Guid returned from sql executor is null"),d),c=Object(l.a)(r.u.Unknown,f,new a.a("Guid returned from sql executor is null"));return c}))).apply(this,arguments)}function v(e,t,n,r){return m.apply(this,arguments)}function m(){return(m=f((function*(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],i="",s=r,u={},d=yield Object(c.c)(t),f=null!=s&&s.length&&d?s.length-1:1;if(Object(l.g)(e)&&s&&s.length>1&&s[f].rows.length>0){var p=s[f].rows.item(0);if(p){var h=yield Object(o.p)(e,t,n,a),v=!1;Object(l.f)(e)&&(v=!0),u=yield Object(l.d)(t,p,h,v),i=JSON.stringify(u)}}return i}))).apply(this,arguments)}function y(e){return"[".concat(e||i.d.CreateResponseHandler,"]")}},20668:function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return h}));var r=n(20592),a=n(20601),i=n(20669),o=n(20670),c=n(20671);function s(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){s(i,r,a,o,c,"next",e)}function c(e){s(i,r,a,o,c,"throw",e)}o(void 0)}))}}function l(e){return d.apply(this,arguments)}function d(){return(d=u((function*(e){return yield Object(r.v)(e,a.h.MDLClientApiGapsAndFeatures)}))).apply(this,arguments)}function f(e,t,n){return p.apply(this,arguments)}function p(){return(p=u((function*(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],c=[],s=[],u=yield Object(r.j)(n,t,a),l=m(t,e,u);l.IsRootRecord=!0;var d=new o.a(l);for(c.push(d),s.push(d);s.length>0;){var f=s.pop(),p=f.Value,h=Object.keys(p.Data);for(var y of h){var g=p.getLookupRelationshipMetadata(y),b=p.getOneToManyRelationshipMetadata(y);if(g){var O=g.ReferencedEntity,E=yield Object(r.j)(n,O,a),_=m(O,p.Data[y],E);_.DependentRecordLinks.push({DataRecord:p,LookupNavPropName:v(p.EntityMetadata,g.ReferencingEntityNavigationPropertyName,_.EntityLogicalName)});var S=new o.a(_);f.addPrerequisite(S),s.push(S),c.push(S)}else if(b){if(!Array.isArray(p.Data[y]))throw Error("Collection valued navigation property must be represented as a JSON array.");var C=b.ReferencingEntity,w=yield Object(r.j)(n,C,a);for(var T of p.Data[y]){var j=m(C,T,w);p.DependentRecordLinks.push({DataRecord:j,LookupNavPropName:v(j.EntityMetadata,b.ReferencingEntityNavigationPropertyName,p.EntityLogicalName)});var N=new o.a(j);N.addPrerequisite(f),s.push(N),c.push(N)}}}}return new i.a(c)}))).apply(this,arguments)}function h(e){for(var t of e){for(var n in t.Data)y(t,n)||(t.FlatData[n]=t.Data[n]);if(t.DependentRecordLinks.length>0)for(var r of t.DependentRecordLinks){var a="".concat(r.LookupNavPropName,"@odata.bind");r.DataRecord.FlatData[a]="/".concat(t.EntityPluralName,"(").concat(t.PrimaryId.guid,")")}}return e}function v(e,t,n){if(e.IsActivity&&t.startsWith("regardingobjectid"))for(var r in e.ManyToOneRelationships)if(e.ManyToOneRelationships.hasOwnProperty(r)&&e.ManyToOneRelationships[r].ReferencedEntity===n)return"regardingobjectid_".concat(n);return t}function m(e,t,n){var r=new c.a(e,t,n);if(r.ManyToManyNavAttributes.length>0)throw Error("Deep insert of Many-To-Many related entities is not supported.");return r}function y(e,t){return e.LookupAttributes.includes(t)||e.OneToManyNavAttributes.includes(t)}},20669:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));class r{constructor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this._nodes=void 0,this._hasCircularDependency=void 0,this._inDegreeMap=void 0,this._nodeMap=void 0,this._resolved=void 0,this._resolvedOrder=void 0,this._nodes=e,this._hasCircularDependency=!1,this._inDegreeMap={},this._nodeMap={},this._resolved=!1,this._resolvedOrder=[],this.initializeMaps()}get HasCircularDependency(){return this._hasCircularDependency}get Nodes(){return this._nodes}addNode(e){if(null==e)throw Error("Node cannot be null or undefined.");this._nodes.push(e)}addDependency(e,t){var n=this._nodes.find(t=>t.Id===e),r=this._nodes.find(e=>e.Id===t);if(void 0===n||void 0===r)throw Error("Non existent node id.");n.addPrerequisite(r)}ResolveDependencies(){if(this._resolved)return this._resolvedOrder;var e=[];if(1===this._nodes.length)return e.push(this._nodes[0]),e.map(e=>e.Value);var t=this.initializeQueueWithZeroIndegreeNodes();if(0===t.length)return this._hasCircularDependency=!0,[];for(;t.length>0;){var n=t.shift();for(var r of n.IsPrerequisiteOf)this._inDegreeMap[r.Id]--,0===this._inDegreeMap[r.Id]&&t.push(r);e.push(n)}for(var a in this._inDegreeMap)if(this._inDegreeMap[a]>0)return this._hasCircularDependency=!0,[];return this._resolvedOrder=e.map(e=>e.Value),this._resolved=!0,this._resolvedOrder}initializeQueueWithZeroIndegreeNodes(){var e=[];for(var t of this._nodes)0===this._inDegreeMap[t.Id]&&e.push(t);return e}initializeMaps(){this._nodeMap={},this._inDegreeMap={},this._nodes.forEach(e=>{this._nodeMap[e.Id]=e,this._inDegreeMap[e.Id]=e.Prerequisites.length})}}},20670:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(20585);class a{constructor(e){this._prerequisites=void 0,this._isPrerequisiteOf=void 0,this._nodeId=void 0,this.Value=void 0,this.Value=e,this._nodeId=r.a.newGuid().guid,this._prerequisites=[],this._isPrerequisiteOf=[]}get IsPrerequisiteOf(){return this._isPrerequisiteOf}get Prerequisites(){return this._prerequisites}get Id(){return this._nodeId}addPrerequisite(e){if(null==e)throw Error("Node cannot be null or undefined.");if(e.Id===this.Id)throw Error("Cannot add self as dependency.");-1===this._prerequisites.findIndex(t=>t.Id===e.Id)&&(this._prerequisites.push(e),e.addPrerequisiteOf(this))}addPrerequisiteOf(e){if(null==e)throw Error("Node cannot be null or undefined.");if(e.Id===this.Id)throw Error("Cannot add self as dependent.");-1===this._isPrerequisiteOf.findIndex(t=>t.Id===e.Id)&&(this._isPrerequisiteOf.push(e),e.addPrerequisite(this))}removePrerequisite(e){if(null==e)throw Error("Node cannot be null or undefined.");var t=this._prerequisites.findIndex(t=>t.Id===e.Id);-1!==t&&this._prerequisites.splice(t,1)[0].removeIsPrerequisiteOf(this)}removeIsPrerequisiteOf(e){if(null==e)throw Error("Node cannot be null or undefined.");var t=this._isPrerequisiteOf.findIndex(t=>t.Id===e.Id);-1!==t&&this._isPrerequisiteOf.splice(t,1)[0].removePrerequisite(this)}}},20671:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(20585);class a{get Data(){return this._data}get EntityLogicalName(){return this._entityLogicalName}get EntityPluralName(){return this._entityPluralName}get PrimaryId(){return this._primaryId}get EntityMetadata(){return this._entityDescriptor}get LookupAttributes(){return Object.keys(this._lookupAttributesMetadataMap)}get OneToManyNavAttributes(){return Object.keys(this._oneToManyNavMetadataMap)}get ManyToManyNavAttributes(){return Object.keys(this._manyToManyNavMetadataMap)}get FlatData(){return this._flatData}getLookupRelationshipMetadata(e){var t;return null!==(t=this._lookupAttributesMetadataMap[e])&&void 0!==t?t:null}getOneToManyRelationshipMetadata(e){var t;return null!==(t=this._oneToManyNavMetadataMap[e])&&void 0!==t?t:null}constructor(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this._flatData=void 0,this._data=void 0,this._entityLogicalName=void 0,this._entityPluralName=void 0,this._entityDescriptor=void 0,this._primaryId=r.a.EMPTY,this._lookupAttributesMetadataMap=void 0,this._oneToManyNavMetadataMap=void 0,this._manyToManyNavMetadataMap=void 0,this.IsRootRecord=void 0,this.DependentRecordLinks=void 0,this._data=t,this._flatData={},this._entityDescriptor=n,this._entityLogicalName=e,this._entityPluralName="",this.DependentRecordLinks=[],this._lookupAttributesMetadataMap={},this._oneToManyNavMetadataMap={},this._manyToManyNavMetadataMap={},this.IsRootRecord=a,this.populatePluralName(),this.populatePrimaryId(),this.populateNavPropAttributes()}populatePrimaryId(){if(void 0===this._entityDescriptor.PrimaryIdAttribute)throw Error("Entity descriptor does not contain PrimaryIdAttribute.");var e=this._entityDescriptor.PrimaryIdAttribute;this._data[e]?this._primaryId=new r.a(this._data[e]):(this._primaryId=r.a.newGuid(),this._data[e]=this._primaryId.guid)}populatePluralName(){if(void 0===this._entityDescriptor.EntitySetName)throw Error("Entity descriptor does not contain EntitySetName info.");this._entityPluralName=this._entityDescriptor.EntitySetName}populateNavPropAttributes(){if(!this._entityDescriptor.ManyToOneRelationships)throw Error("ManyToOneRelationshipMetadata node is undefined.");if(!this._entityDescriptor.OneToManyRelationships)throw Error("OneToManyRelationshipMetadata node is undefined.");if(!this._entityDescriptor.ManyToManyRelationships)throw Error("ManyToManyRelationshipMetadata node is undefined.");var e={};for(var t in this._entityDescriptor.ManyToOneRelationships){if(this._entityDescriptor.ManyToOneRelationships.hasOwnProperty(t))if(this._entityDescriptor.IsActivity&&"regardingobjectid"===this._entityDescriptor.ManyToOneRelationships[t].ReferencingAttribute)e["regardingobjectid_".concat(this._entityDescriptor.ManyToOneRelationships[t].ReferencedEntity)]=this._entityDescriptor.ManyToOneRelationships[t];else e[this._entityDescriptor.ManyToOneRelationships[t].ReferencingEntityNavigationPropertyName]=this._entityDescriptor.ManyToOneRelationships[t]}var n=Object.keys(this._entityDescriptor.OneToManyRelationships),r=Object.keys(this._entityDescriptor.ManyToManyRelationships);for(var a in this._data)this._data.hasOwnProperty(a)&&(!Object.keys(e).includes(a)||this._entityDescriptor.IsActivity&&a===this._entityDescriptor.PrimaryIdAttribute||(this._lookupAttributesMetadataMap[a]=e[a]),n.includes(a)&&(this._oneToManyNavMetadataMap[a]=this._entityDescriptor.OneToManyRelationships[a]),r.includes(a)&&(this._manyToManyNavMetadataMap[a]=this._entityDescriptor.ManyToManyRelationships[a]))}}},20672:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(20583),a=n(20596),i=n(20588),o=n(20594),c=n(20584),s=n(20591),u="You cannot delete this record because it doesn't exist in the offline mode";function l(e,t,n,c){var l,f=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],p=e.url,h=[];if(Object(i.A)(e)||Object(i.v)(c)||!Object(i.v)(c[0])&&c[0].rows.length)l=Object(s.b)(r.u.NoContent,p,new Headers);else{var v=new o.a(u,r.i.CannotDeleteOnlineRecord);Object(a.a)(v,h),n.error("".concat(d()," ").concat(u),Object(a.b)(f,h)),l=Object(s.a)(r.u.BadRequest,e.url,v)}return l}function d(e){return"[".concat(e||c.d.DeleteResponseHandler,"]")}},20673:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(20583),a=n(20596),i=n(20588),o=n(20616),c=n(20584),s=n(20653),u=n(20617),l=n(20655),d=n(20591);function f(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){f(i,r,a,o,c,"next",e)}function c(e){f(i,r,a,o,c,"throw",e)}o(void 0)}))}}function h(e,t,n,r){return v.apply(this,arguments)}function v(){return(v=p((function*(e,t,n,a){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],o=arguments.length>5?arguments[5]:void 0,c=e.url;n.info("".concat(_()," Executing getClientMetadataResponseHandler."));var s=yield b(t,e,n,a,i,o),u=Object(d.b)(r.u.Ok,c,new Headers,s);return u}))).apply(this,arguments)}function m(e,t){var n;if(Object(i.B)(t))n="UserContext";else switch(e){case o.c.none:n="none";break;case o.c.workspace:n="Dashboards";break;case o.c.form:n="Forms";break;case o.c.component:n="Component";break;case o.c.entityCard:n="EntityCard";break;case o.c.quickCreateForm:n="QuickCreateForm";break;case o.c.customization:n="Customization";break;case o.c.listQuery:n="ListQuery";break;case o.c.grid:n="Grid";break;case o.c.command:n="Ribbons";break;case o.c.siteMap:n="Sitemap";break;case o.c.list:n="List";break;case o.c.dialog:n="Dialogs";break;case o.c.gridForm:n="GridForm";break;case o.c.inlineCreateForm:n="InlineCreateForm";break;case o.c.processControl:n="ProcessControl";break;case o.c.fetchXml:n="FetchXml";break;case o.c.chartDrilldownForm:n="ChartDrilldownForm";break;case o.c.entity:n="Entities";break;case o.c.attribute:n="Attributes";break;case o.c.webResource:n="WebResourcesContent";break;case o.c.applicationMetadata:n="ApplicationMetadata";break;case o.c.mainFormDialog:n="QuickEditForm";break;case o.c.chart:n="Chart";break;case o.c.uiStrings:n="UIStrings";break;case o.c.businessLogic:n="BusinessLogic";break;case o.c.searchPage:n="SearchPage";break;case o.c.globalApplicationMetadata:n="GlobalApplicationMetadata";break;case o.c.applicationMetadataUserContext:n="ApplicationMetadataUserContext";break;case o.c.staticJSFile:n="StaticJSFile";break;case o.c.layoutXml:n="LayoutXml";break;case o.c.draftsPage:n="DraftsPage";break;case o.c.duplicateRecordsPage:n="DuplicateRecordsPage";break;case o.c.applicationMetadataSettings:n="ApplicationMetadataSettings";break;case o.c.senderFormPage:n="SenderFormPage";break;case o.c.setRegarding:n="SetRegarding";break;case o.c.senderCreateFormPage:n="SenderCreateFormPage";break;case o.c.interactionCentricWorkspace:n="Dashboards";break;case o.c.taskBasedFlowGlobalMenu:n="TaskBasedFlowGlobalMenu";break;case o.c.taskBasedFlow:n="TaskBasedFlows";break;case o.c.interactionCentricForm:n="InteractionCentricForm";break;case o.c.cardForm:n="CardForm";break;case o.c.controlConfiguration:n="ControlConfiguration";break;case o.c.commandXaml:n="CommandXaml";break;case o.c.documentTemplate:n="DocumentTemplate";break;case o.c.viewSelector:n="ViewSelectors";break;case o.c.customControl:n="CustomControls";break;case o.c.formSelector:n="FormSelectors";break;case o.c.resourceString:n="ResourceStrings";break;case o.c.savedQueryVisualization:n="SavedQueryVisualizations";break;case o.c.label:n="Labels";break;case o.c.userView:case o.c.savedView:n="Views";break;case o.c.viewDefault:n="ViewDefault";break;case o.c.homePageConfiguration:n="CustomControlConfigurations";break;case o.c.optionSet:n="OptionSets";break;case o.c.quickCreateMenu:n="QuickCreateMenu";break;case o.c.userContext:n="UserContext";break;case o.c.businessProcessFlow:n="BusinessProcessFlowMetadata";break;case o.c.searchConfiguration:n="Search";break;case o.c.userQueryVisualization:n="UserQueryVisualizations";break;case o.c.visualizationSelector:n="VisualizationSelectors";break;case o.c.dashboardSelector:n="DashboardSelectors";break;case o.c.overallMetadataVersion:n="MetadataVersion";break;case o.c.appModule:n="AppModulePublished";break;case o.c.complexControl:n="ComplexControls";break;case o.c.displayString:n="DisplayStrings";break;case o.c.webResourceDescriptor:n="WebResources";break;case o.c.isActivityFlags:n="IsActivityFlags";break;case o.c.appModuleOfflineMetadata:n="AppModules";break;case o.c.appModuleSelector:n="AppModuleSelector";break;case o.c.bpfSelector:n="BPFSelectors";break;case o.c.dependencies:n="dependencies"}return n}function y(e,t,n,r,a,c){var s;c&&r.info("".concat(_()," Using cached response"),a),a.push({name:"UsingCachedResponse",value:!!c});var u=c||JSON.parse(e);if(Object(i.B)(n))s=u;else switch(t){case o.c.attribute:case o.c.entity:s=u;break;case o.c.searchConfiguration:s=u.data.Search;break;case o.c.quickCreateMenu:s=u.data.QuickCreateMenu;break;default:s=u.data}return s}function g(e){switch(e){case o.c.quickCreateMenu:case o.c.searchConfiguration:return!0;default:return!1}}function b(e,t,n,r){return O.apply(this,arguments)}function O(){return(O=p((function*(e,t,n,r){var c,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],d=arguments.length>5?arguments[5]:void 0,f=r,p={},h={},v=[],b=Object(l.a)(t,n,e);v.push({name:"RequestUrl",value:t.url}),v.push({name:"MetadataType",value:b.MetadataType}),v.push({name:"DependencyDepth",value:b.DependencyDepth}),v.push({name:"MetadataSubtype",value:b.MetadataSubtype}),n.info("".concat(_()," Executing getGCMOperationResponseData"),Object(a.b)(u,v));var O=(yield Object(s.b)(e,b,u))&&!Object(i.v)(null===(c=e.AdditionalParameters)||void 0===c?void 0:c.response);if(f&&f.length>0)for(var S=0;S<f.length;S++)if((v=[]).push({name:"NoOfResponsesReturnedFromDb",value:f.length}),v.push({name:"Index",value:S}),v.push({name:"RequestUrl",value:t.url}),f[S]&&f[S].rows.length>0)for(var C=0;C<f[S].rows.length;C++){var w=f[S].rows.item(C);if(w&&w.json){var T=w.json,j=O?T:JSON.parse(T),N=void 0,P=E(w,j,S,d);if(N=m(P,b),v.push({name:"MetadataType",value:P}),Object(i.v)(N))n.error("".concat(_()," MetadataTypeKey evaluated to be null or empty"),Object(a.b)(u,v));else{v.push({name:"MetadataTypeKey",value:N});var I=y(T,P,b,n,v,O?j:void 0);if(g(P))n.info("".concat(_()," Creating response node for current MetaDataType.")+N+". Taking response as it is as the response is already in required format",Object(a.b)(u,v)),h[N]=I;else if(h[N]){if(P===o.c.resourceString){var R=h[N][0];R.push(I),h[N]=[R]}else h[N].push(I);v.push({name:"NoOfMetadataForThisMetadataTypeKey",value:h[N].length}),n.info("".concat(_()," Adding response for current MetaDataType.")+N,Object(a.b)(u,v))}else h[N]=[I],P===o.c.resourceString&&(h[N]=[h[N]]),v.push({name:"NoOfMetadataForThisMetadataTypeKey",value:1}),n.info("".concat(_()," Creating new response node for current MetaDataType.")+N,Object(a.b)(u,v))}}else n.warn("".concat(_()," Response returned from offline db has empty json."),Object(a.b)(u,v))}else n.warn("".concat(_()," Response returned from offline db is empty at current index."),Object(a.b)(u,v));else n.warn("".concat(_()," Response returned from offline db is empty"),Object(a.b)(u,v));return p.Metadata=JSON.stringify(h),JSON.stringify(p)}))).apply(this,arguments)}function E(e,t,n,r){o.c.none;return e.metadatatype?e.metadatatype:t.metadatatype?t.metadatatype:r&&r[u.i.METADATA_TYPE]&&Array.isArray(r[u.i.METADATA_TYPE])&&n<r[u.i.METADATA_TYPE].length?r[u.i.METADATA_TYPE][n]:o.c.entity}function _(e){return"[".concat(e||c.d.GetClientMetadataResponseHandler,"]")}},20674:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n(20583),a=n(20596),i=n(20584),o=n(20648),c=n(20601),s=n(20588),u=n(20592),l=n(20675),d=n(20591),f=n(20677),p=n(20678);function h(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function v(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){h(i,r,a,o,c,"next",e)}function c(e){h(i,r,a,o,c,"throw",e)}o(void 0)}))}}function m(e,t,n,r,a){return y.apply(this,arguments)}function y(){return(y=v((function*(e,t,n,i,l){var f,h=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},v=h.commonEventParameters||[],m=e.url,y=[],b="",O=yield Object(u.v)(t,c.h.MDLClientApiGapsAndFeatures);f=O&&l&&l[r.a.NavigationPropertyEntity]?l[r.a.NavigationPropertyEntity]:yield Object(o.p)(e,t,n,v,h);var E=!1;if(h.internalRequest&&(Object(s.t)(f)&&(f=Object(s.m)(f),E=!0),Object(s.z)(f)))return _(e,t,i,v);var N=0,P=0,I=!1,R=!1,M=Number(c.d.PageNumber),x=-1,D=[],A=0,k=i,F={},L=[];if(k&&k.length>0){var q=yield Object(u.j)(t,f),U=q&&q.PrimaryIdAttribute?q.PrimaryIdAttribute:"".concat(f,"id");l&&!Object(s.v)(l[r.a.PageSize])?N=Number(l[r.a.PageSize]):n.warn("".concat(j()," Paging size is not passed in additional parameters"),Object(a.b)(v,y)),l&&l[r.a.PageNumber]&&(M=Number(l[r.a.PageNumber])),l&&l[r.a.Expand]&&(D=l[r.a.Expand]),l&&l[r.a.Top]&&(x=l[r.a.Top]),k[0].rows.length>N?(I=!0,R=!0,P=N):P=k[0].rows.length;var B=yield Object(u.v)(t,c.h.MDLOfflineRetrieveMultipleTotal);A=B&&k[0].rows.length<=N&&M>1?(M-1)*N+k[0].rows.length:P,C(e)&&x>0&&N<x&&x-N*M<0&&(P=x-(M-1)*N);for(var V=[],G=0;G<P;G++)V.push(k[0].rows.item(G));var H={};l&&l[r.a.LinkEntitiesMap]&&(H=l[r.a.LinkEntitiesMap]),yield Object(p.a)(V,f,H,P,t,n,j(),h);var Q,z=!1;Object(d.f)(e)&&(z=!0),O&&!Object(s.v)(D)&&D.length>0&&(Q=yield g(t,D,k,z));for(var W=0;W<P;W++){var Y=V[W],X={};Y&&(X=yield Object(d.d)(t,Y,f,z,H,[],E),!Object(s.v)(D)&&D.length>0&&T(X,D,f,U,Q),L.push(X))}}return F["@Microsoft.Dynamics.CRM.totalrecordcount"]=A,F["@Microsoft.Dynamics.CRM.totalrecordcountlimitexceeded"]=R,F["@Microsoft.Dynamics.CRM.morerecords"]=I,F.value=L,l&&S(e,l)&&I&&w(e,F,f,N,M,x,l,n,v,Object(s.A)(e)),b=JSON.stringify(F),y.push({name:"NoOfRecordsReturned",value:P}),y.push({name:"TotalRecordCountLimitExceeded",value:R}),y.push({name:"MoreRecords",value:I}),y.push({name:"PageSize",value:N}),t.EventManager.ReportComponentSuccess(j(),Object(a.b)(v,y)),Object(d.b)(r.u.Ok,m,new Headers,b)}))).apply(this,arguments)}function g(e,t,n,r){return b.apply(this,arguments)}function b(){return(b=v((function*(e,t,n,a){for(var i={},o=0;o<t.length;o++){var c=t[o].expandValueType,s=c===r.h.SINGLE_VALUE?t[o].referencedAttributeColumn:t[o].referencingAttributeColumn;if(n[o]&&s&&(i[t[o].navigationProperty]={},n[o+1]))for(var u=t[o].navigationProperty,l=0;l<n[o+1].rows.length;l++){var f=n[o+1].rows.item(l)[s];i[u][f]||c!==r.h.MULTI_VALUE||(i[u][f]=[]);var p=yield Object(d.d)(e,n[o+1].rows.item(l),t[o].relatedEntityName||"",a);c===r.h.MULTI_VALUE?i[u][f].push(p):i[u][f]=p}}return i}))).apply(this,arguments)}function O(e,t,n,r){return E.apply(this,arguments)}function E(){return(E=v((function*(e,t,n,a){if(e.navigationProperty&&a[e.navigationProperty]){var i,o,c;if(e.expandValueType===r.h.SINGLE_VALUE)i=Object(d.e)(null!==(o=e.referencingAttributeColumn)&&void 0!==o?o:"");else i=n;i&&(c=t[i]),c&&a[e.navigationProperty][c]&&(t[e.navigationProperty]=a[e.navigationProperty][c])}}))).apply(this,arguments)}function _(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=e.url,c=[],s="",u=0,l=n,f=[],p={};if(l&&l.length>0){u=l[0].rows.length;for(var h=0;h<u;h++)f.push(l[0].rows.item(h))}return p["@Microsoft.Dynamics.CRM.totalrecordcount"]=u,p.value=f,s=JSON.stringify(p),c.push({name:"NoOfRecordsReturned",value:u}),t.EventManager.ReportComponentSuccess(j(),Object(a.b)(i,c)),Object(d.b)(r.u.Ok,o,new Headers,s)}function S(e,t){return!(!C(e)||!t[r.a.ODataQuery])}function C(e){return!(!e.additionalHeaders||e.additionalHeaders[r.s.viewId])}function w(e,t,n,a,i,o,u,l){var d=arguments.length>8&&void 0!==arguments[8]?arguments[8]:[],p=arguments.length>9?arguments[9]:void 0;if(u[r.a.MaxPageSize]){var h=u[r.a.ODataQuery];if(o<0||i*a<o){var v;if(-1===h.indexOf(r.C.skipToken))v="".concat(h,"&").concat(r.C.skipToken,"=").concat(i+1);else{var m=Object(f.b)(h,l,d,p);for(var y in m)Object(s.x)(v)?v=c.p.question:v+="&",y===r.C.skipToken&&(m[y]=i+1),v+="".concat(y,"=").concat(m[y])}var g=e.url.substring(0,e.url.indexOf("?"));t[r.C.oDataNextLink]="".concat(g).concat(v)}}}function T(e,t,n,a,i){if(!Object(s.v)(t)&&t.length>0)for(var o=0;o<t.length;o++)e["".concat(t[o].navigationProperty).concat(r.C.oDataNextLink)]={API:"{Xrm.Mobile.offline}.{retrieveRecord}",id:e["".concat(a)].toString(),entityType:n,option:"?$select=".concat(a,"&$expand=").concat(Object(l.c)(t[o]),"&$getOnlyRelatedEntity=true")},e[t[o].navigationProperty]={},i&&O(t[o],e,a,i)}function j(e){return"[".concat(e||i.d.RetrieveMultipleResponseHandler,"]")}},20675:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return S}));var r=n(20676),a=n(20588),i=n(20601),o=n(20677),c=n(20648),s=n(20584),u=n(20592),l=n(20611),d=n(20583);function f(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){f(i,r,a,o,c,"next",e)}function c(e){f(i,r,a,o,c,"throw",e)}o(void 0)}))}}var h=function(e){return e[e.unknown=0]="unknown",e[e.end=1]="end",e[e.equal=2]="equal",e[e.openParenthesis=3]="openParenthesis",e[e.closeParenthesis=4]="closeParenthesis",e[e.comma=5]="comma",e[e.question=6]="question",e[e.identifier=7]="identifier",e[e.stringLiteral=8]="stringLiteral",e[e.slash=9]="slash",e}({});class v{constructor(e){this.lexer=void 0,this.lexer=e}parseTerm(){var e=this.lexer.getToken().text;return this.lexer.nextToken(),e}}function m(e,t){return y.apply(this,arguments)}function y(){return(y=p((function*(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,o=[],c=new r.a(e);if(c.nextToken(),c.getToken().kind===h.end){var s="'Invalid Expand Expression passed";throw new Error(s)}for(o.push(yield E(c,t,n,a,i));c.getToken().kind===h.comma&&(c.nextToken(),c.getToken().kind!==h.end);)o.push(yield E(c,t,n,a,i));if(c.getToken().kind!==h.end){var u="Improper Expand string provided";throw new Error(u)}return o}))).apply(this,arguments)}function g(e,t,n){return b.apply(this,arguments)}function b(){return(b=p((function*(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],s=arguments.length>4?arguments[4]:void 0,f=arguments.length>5?arguments[5]:void 0;Object(a.x)(t)||(t=(t=O(t=t.replace(i.x,""))).startsWith(i.p.question)?t:"".concat(i.p.question).concat(t));var p=Object(o.b)(t,n,r,s),h={navigationProperty:e};for(var v in p)if(v===d.C.select)h.selectOption=Object(c.j)(p[d.C.select]);else{var m="Query option ".concat(p[v]," is not supported within $expand of Client API OData Query request");if(n.error("".concat(C()," ").concat(m),r),yield Object(u.v)(f,l.f))throw new Error(m)}return h}))).apply(this,arguments)}function O(e){var t=e.startsWith("("),n=e.endsWith(")");return t&&(e=e.substring(1,e.length)),n&&(e=e.substring(0,e.length-1)),e.trim()}function E(e,t){return _.apply(this,arguments)}function _(){return(_=p((function*(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,o=new v(e),c=o.parseTerm();if(Object(a.w)(c)){var s="property ".concat(c," with value Relationship name is undefined");throw t.error("".concat(C()," ").concat(s),n),new Error(s)}var u=null;return e.getToken().kind===h.openParenthesis&&(u=e.advanceThroughBalancedParentheticalExpression(),e.nextToken()),yield g(c,u,t,n,r,i)}))).apply(this,arguments)}function S(e){var t=e.navigationProperty;return e.selectOption&&!Object(a.w)(e.selectOption)&&(t+="($select=".concat(e.selectOption.join(","),")")),t}function C(e){return"[".concat(e||s.d.ExpandParser,"]")}},20676:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(20588),a=n(20675),i=n(20601);class o{constructor(e,t){this.text=void 0,this.textLength=void 0,this.currentchar=void 0,this.textPosition=void 0,this.token=void 0,this.alphaNumericRegex=void 0,this.whiteSpaceRegex=void 0,this.identifierSpecialCharsRegex=void 0,this.useLexerImprovements=void 0,this.useLexerImprovements=t||!1,this.alphaNumericRegex=this.useLexerImprovements?new RegExp("[a-zA-Z0-9]","g"):new RegExp("[a-zA-Z1-9]","g"),this.whiteSpaceRegex=i.x,this.identifierSpecialCharsRegex=new RegExp("[:\\./-]","g"),this.text=e,this.textLength=e.length,this.textPosition=0,this.currentchar=this.textPosition<this.textLength?this.text.charAt(this.textPosition):"\0",this.token={text:"",position:0,kind:0}}nextToken(){return this.NextTokenImplementation()}NextTokenImplementation(){this.skipWhiteSpace();var e=this.textPosition;return this.token.kind=this.getExpressionTokenKind(),this.token.text=this.text.substr(e,this.textPosition-e),this.token.position=e,this.token}isValidWhiteSpace(){var e=this.currentchar.toString().match(this.whiteSpaceRegex);return!("\0"===this.currentchar||!e||e.length<0)}getPosition(){return this.token.position}getToken(){return this.token}isValidCharForIdentifier(){var e,t=this.currentchar.toString().match(this.alphaNumericRegex);return"\0"!==this.currentchar&&(!Object(r.x)(t)&&1===t.length||"_"===this.currentchar||"$"===this.currentchar||this.useLexerImprovements&&1===(null===(e=this.currentchar.match(this.identifierSpecialCharsRegex))||void 0===e?void 0:e.length))}skipWhiteSpace(){for(;this.isValidWhiteSpace();)this.nextChar()}getExpressionTokenKind(){var e=0;switch(this.currentchar){case i.p.openParenthesis:this.nextChar(),e=a.a.openParenthesis;break;case i.p.closeParenthesis:this.nextChar(),e=a.a.closeParenthesis;break;case i.p.comma:this.nextChar(),e=a.a.comma;break;case i.p.forwardSlash:if(this.useLexerImprovements){this.nextChar(),e=a.a.slash;break}case i.p.singleQuote:if(this.useLexerImprovements){var t=this.currentchar;do{if(this.advanceToNextOccurenceOf(t),this.textPosition===this.textLength){var n="There is an unterminated string literal at position ".concat(this.textPosition," in ").concat(this.textLength);throw new Error(n)}this.nextChar()}while(this.currentchar&&this.currentchar===t);e=a.a.stringLiteral;break}default:if(this.isValidWhiteSpace()){this.skipWhiteSpace(),e=0;break}if(this.isValidCharForIdentifier()){this.parseIdentifier(),e=a.a.identifier;break}if(this.textPosition===this.textLength){e=a.a.end;break}throw new Error("Unknown CharacterType Received")}return e}nextChar(){this.textPosition<this.textLength&&this.textPosition++,this.currentchar=this.textPosition===this.textLength?this.useLexerImprovements?"":"\0":this.text.charAt(this.textPosition)}parseIdentifier(){do{this.nextChar()}while(this.isValidCharForIdentifier())}advanceToNextOccurenceOf(e){for(this.nextChar();this.currentchar&&this.currentchar!==e;)this.nextChar()}advanceThroughBalancedParentheticalExpression(){var e=this.getPosition();return this.advanceThroughBalancedExpression(i.p.openParenthesis,i.p.closeParenthesis),this.text.substr(e,this.textPosition-e)}advanceThroughBalancedExpression(e,t){for(var n=1;n>0;)this.currentchar===e?n++:this.currentchar===t&&n--,this.nextChar()}}},20677:function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return p}));var r=n(20588),a=n(20584),i=n(20675),o=n(20648),c=n(20583),s=n(20611),u=n(20592);function l(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){l(i,r,a,o,c,"next",e)}function c(e){l(i,r,a,o,c,"throw",e)}o(void 0)}))}}function f(e,t,n,a){var i={};if(Object(r.x)(e)){return t.warn("".concat(v()," ").concat("Unable to process OData query to hint with undefined or empty query"),n),i}for(var o,c,s=1;s<e.length;){if(-1===(o=a?e.indexOf("&$",s):e.indexOf("&",s))&&(o=e.length),(c=e.indexOf("=",s))>o&&(c=-1),-1!==c&&c<o){var u=e.substr(s,c-s),l=e.substr(c+1,o-c-1);u in i?t.warn("".concat(v()," Multiple occurrence of ").concat(u," option found in uri input, therefore skip adding duplication key"),n):i[u]=l}s=o+1}return i}function p(e,t,n,r,a){return h.apply(this,arguments)}function h(){return(h=d((function*(e,t,n,r,a){var l=f(e,t,n,r),d={};if(l){var p,h=yield Object(u.v)(a,s.a);if(null!==(p=a.AdditionalParameters)&&void 0!==p&&p.EnableCanvasOffline&&!h&&l[c.C.apply])return d.apply=l[c.C.apply],d;l[c.C.expand]&&(d.expand=yield Object(i.b)(l[c.C.expand],t,n,r,a)),l[c.C.select]&&(d.select=Object(o.j)(l[c.C.select]).join(",")),l[c.C.orderBy]&&(d.orderBy=Object(o.j)(l[c.C.orderBy]).join(",")),l[c.C.top]&&(d.top=l[c.C.top]),l[c.C.filter]&&(d.filter=l[c.C.filter]),l[c.C.skipToken]&&(d.pageNumber=l[c.C.skipToken]),l[c.C.savedQuery]&&(d.viewId=l[c.C.savedQuery])}else{t.warn("".concat(v()," ").concat("No odata query tokens passed via ODataURI"),n)}return d.select||(d.select="*"),d}))).apply(this,arguments)}function v(e){return"[".concat(e||a.d.ODataQueryParser,"]")}},20678:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(20583),a=n(20601),i=n(20588),o=n(20592),c=n(20586),s=n(20650),u=n(20647),l=n(20643),d=n(20591);function f(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){f(i,r,a,o,c,"next",e)}function c(e){f(i,r,a,o,c,"throw",e)}o(void 0)}))}}function h(e,t,n,r,a,i,o,c){return v.apply(this,arguments)}function v(){return(v=p((function*(e,t,n,r,c,u,l,d){var f=d.commonEventParameters||[];if(!(r<=0)){var p={},h=[];try{for(var v=function*(r){var a=m(e[r],t,n);if(Object(i.w)(a))return"continue";var s={},u=function*(e){var r=void 0;r=e===t?t:n[e];var i={};r&&(i=yield Object(o.b)(c,Object.keys(a[e]),r,f)),e===t?Object.keys(i).forEach(e=>s[e]=i[e]):Object.keys(i).forEach(t=>s["".concat(e,".").concat(t)]=i[t])};for(var l of Object.keys(a))yield*u(l);yield y(c,t,h,p,s,a,f)},g=0;g<r;g++)yield*v(g);if(0===h.length)return;var O={},E={};yield b(p,O,E,c,u,d);var _={};for(var S in O)for(var C=O[S],w=0;w<C[0].rows.length;w++){var T=C[0].rows.item(w),j=Object.keys(T);T&&E[S]&&j.includes(E[S].id)&&j.includes(E[S].name)&&(_[T[E[S].id].toUpperCase()]=T[E[S].name])}if(Object(i.w)(_))return void u.warn("".concat(l," Unable to map refresh lookup data to the existing record. Skip refreshing lookup data."),f);for(var N=0;N<r;N++){var P=e[N],I=Object.keys(P);for(var R of h){var M="".concat(R).concat(a.p.exclamation).concat(s.n);I.includes(M)&&P[M]&&!Object(i.w)(_[P[M].toUpperCase()])&&(e[N]["".concat(R).concat(a.p.exclamation).concat(s.v)]=_[P[M].toUpperCase()])}}}catch(x){u.warn("".concat(l," Failed to refreshRetrieveMultipleLookupData with ").concat(x),f)}}}))).apply(this,arguments)}function m(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={},o=Object.keys(e);for(var c of o){var u=c.split(s.f),l=Object(i.v)(u[0])?"":u[0],f=t,p=l;if(l.indexOf(a.p.dot)>-1){var h=Object(d.c)(l);if(!n[f=h.alias])continue;p=h.attributeName}2===u.length&&u[1]&&[s.n,s.r,s.v].includes(u[1])&&(r[f]||(r[f]={}),r[f][p]?r[f][p][u[1]]=e[c]:r[f][p]={["".concat(u[1])]:e[c]})}return r}function y(e,t,n,r,a,i){return g.apply(this,arguments)}function g(){return(g=p((function*(e,t,n,r,s,u){var l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],f=yield Object(o.m)(e,l);for(var p in s){var h=s[p];if(h===c.a.Lookup||h===c.a.Customer||h===c.a.Owner&&p in u){var v=t,m=p;if(p.indexOf(a.p.dot)>-1){var y=Object(d.c)(p);v=y.alias,m=y.attributeName}var g=u[v][m];if(Object(i.w)(g))continue;if(f.includes(g.logicalname)){n.indexOf(p)<0&&n.push(p);var b=g.logicalname in r?r[g.logicalname]:[];b.indexOf(g.id.toUpperCase())<0&&(b.push(g.id.toUpperCase()),r[g.logicalname]=b)}}}}))).apply(this,arguments)}function b(e,t,n,r,a,i){return O.apply(this,arguments)}function O(){return(O=p((function*(e,t,n,a,i,c){var d=c.commonEventParameters||[];for(var f in e){var p,h,v=yield Object(o.j)(a,f),m=v&&v.PrimaryIdAttribute?v.PrimaryIdAttribute:"".concat(f).concat(s.n),y=v&&v.PrimaryNameAttribute?v.PrimaryNameAttribute:s.v,g=yield Object(u.b)(e[f],f,m,y,i,d),b=[];g.sqlStatements&&g.sqlStatements.length>0&&(b=yield Object(l.a)(g,a,r.y.Retrieve,c)),(null===(p=b)||void 0===p?void 0:p.length)>0&&(null===(h=b)||void 0===h?void 0:h[0].rows.length)>0&&(t[f]=b,n[f]={id:m,name:y})}}))).apply(this,arguments)}},20679:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(20583),a=n(20588),i=n(20594),o=n(20584),c=n(20591),s="You cannot update this record because it doesn't exist in the offline mode";function u(e,t,n,o){var u,d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];if(Object(a.A)(e)||Object(a.v)(o)||!Object(a.v)(o[0])&&o[0].rows.length){var f=new Headers;f.append(r.q.ODADTA_ENTITY_ID,e.url),u=Object(c.b)(r.u.NoContent,e.url,f)}else n.error("".concat(l()," ").concat(s),d),u=Object(c.a)(r.u.BadRequest,e.url,new i.a(s,r.i.CannotUpdateOnlineRecord));return u}function l(e){return"[".concat(e||o.d.UpdateResponseHandler,"]")}},20680:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(20583),a=n(20591);function i(e,t,n,i,o){var c,s=e.url;return Object(a.b)(r.u.NoContent,s,null!==(c=t.AdditionalParameters)&&void 0!==c&&c.EnableCanvasOffline?new Headers:void 0)}},20681:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(20584),a=n(20601);function i(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function c(e){i(o,r,a,c,s,"next",e)}function s(e){i(o,r,a,c,s,"throw",e)}c(void 0)}))}}function c(e,t,n,r,a){return s.apply(this,arguments)}function s(){return(s=o((function*(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[];if(!r)throw n.error("".concat(u()," No response for GetFileSasUrl request"),o),new Error("No response for GetFileSasUrl request");var c=e.url,s=c.substring(0,c.lastIndexOf(a.p.forwardSlash)),l=JSON.stringify({"@odata.context":"".concat(s,"/$metadata#Microsoft.Dynamics.CRM.GetFileSasUrlResponse"),Result:{FileName:r.filename,FileSizeInBytes:r.size,MimeType:r.mimeType,SasUrl:r.virtualUrl}});return{headers:new Headers,responseType:"text",status:200,ok:!0,response:null,responseText:l,clone(){return Object.assign({},this)},json:()=>Promise.resolve(l?JSON.parse(l):null),text:()=>Promise.resolve(l||"")}}))).apply(this,arguments)}function u(e){return"[".concat(e||r.d.GetFileSasUrlResponseHandler,"]")}},20682:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(20601);function a(e,t,n,a){t=t?t.trim():"",n=n?n.trim():"",a=a?a.trim():"";var i="";n.length>0&&(i=n.substring(0,1));var o="";switch(e){case 0:o=a.length>0&&t.length>0?a+", "+t:a+" "+t;break;case r.i.firstLast:o=t+" "+a;break;case r.i.lastFirstMiddleInitial:o=function(e,t,n){var r="";t.length>0&&(r=t);t.length>0&&(e.length>0||n.length>0)&&(r+=",");e.length>0&&(r=r+" "+e);n.length>0&&(r=r+" "+n+".");return r.toString().trim()}(t,a,i);break;case r.i.firstMiddleInitialLast:o=t,n.length>0&&(o=o+" "+i+"."),o=o+" "+a;break;case r.i.lastFirstMiddle:a.length>0&&(o=a),a.length>0&&(t.length>0||n.length>0)&&(o+=","),t.length>0&&(o=o+" "+t),n.length>0&&(o=o+" "+n);break;case r.i.firstMiddleLast:o=t,n.length>0&&(o=o+" "+n),o=o+" "+a;break;case r.i.lastSpaceFirst:o=a+" "+t;break;case r.i.lastNoSpaceFirst:o=a+t;break;default:o=a}return o.toString().trim()}},20683:function(e,t,n){"use strict";function r(e,t,n,r){e.values[t]=n,e.attributeTypes&&!(t in e.attributeTypes)&&(e.attributeTypes[t]=r)}n.d(t,"a",(function(){return r}))},20684:function(e,t,n){"use strict";n.d(t,"i",(function(){return a})),n.d(t,"f",(function(){return i})),n.d(t,"h",(function(){return o})),n.d(t,"g",(function(){return c})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return f})),n.d(t,"j",(function(){return p}));var r=n(20601),a=function(e){return e[e.openBracket=0]="openBracket",e[e.closeBracket=1]="closeBracket",e[e.logicalOperator=2]="logicalOperator",e[e.operand=3]="operand",e}({}),i=function(e){return e[e.and=0]="and",e[e.or=1]="or",e[e.not=2]="not",e}({}),o=function(e){return e.and="and",e.or="or",e.not="not",e}({}),c=function(e){return e[e.not=1]="not",e[e.and=2]="and",e[e.or=3]="or",e}({}),s=function(e){return e.functionIn="Microsoft.Dynamics.CRM.In",e.contains="contains",e.startsWith="startswith",e.endsWith="endswith",e.functionContains="Microsoft.Dynamics.CRM.Contains",e}({}),u=function(e){return e.null="null",e}({}),l=function(e){return e.equal="eq",e.notEqual="ne",e.in="in",e.like="like",e.greaterThan="gt",e.greaterThanEqual="ge",e.lessThan="lt",e.lessThanEqual="le",e.equalsUserId="eq-userid",e.notIn="not-in",e.null="null",e.notNull="not-null",e.notLike="not-like",e.beginsWith="begins-with",e.notBeginWith="not-begin-with",e.endsWith="ends-with",e.notEndWith="not-end-with",e.notEqualsUserId="ne-userid",e.equalsUserTeams="eq-userteams",e.equalsUserOrUserTeams="eq-useroruserteams",e.between="between",e.notBetween="not between",e}({}),d=function(e){return e[e.inner=0]="inner",e[e.outer=1]="outer",e[e.natural=2]="natural",e[e.matchfirstrowusingcrossapply=3]="matchfirstrowusingcrossapply",e[e.in=4]="in",e[e.exists=5]="exists",e}({}),f=function(e){return e.inner="inner",e.leftouter="left outer",e}({});function p(e){switch(e.toLowerCase()){case r.p.openParenthesis:return a.openBracket;case r.p.closeParenthesis:return a.closeBracket;case o.and:case o.or:case o.not:return a.logicalOperator;default:return a.operand}}},20685:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return s})),n.d(t,"f",(function(){return l})),n.d(t,"d",(function(){return h})),n.d(t,"g",(function(){return g})),n.d(t,"e",(function(){return O}));var r=n(20592);n(20586),n(20583),n(20686);function a(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function c(e){a(o,r,i,c,s,"next",e)}function s(e){a(o,r,i,c,s,"throw",e)}c(void 0)}))}}var o=function(e){return e[e.Referencing=1]="Referencing",e[e.AssociationEntity=2]="AssociationEntity",e}({}),c=function(e){return e.Referencing="referencing",e.AssociationEntity="associationentity",e}({});function s(e,t,n,r){return u.apply(this,arguments)}function u(){return(u=i((function*(e,t,n,a){var i=yield Object(r.j)(e,t);return i&&i.ManyToManyRelationships&&i.ManyToManyRelationships[n]?i.ManyToManyRelationships[n]:null}))).apply(this,arguments)}function l(e,t,n,r){return d.apply(this,arguments)}function d(){return(d=i((function*(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],i=yield f(e,t,r,a);return i&&i[n]?i[n]:null}))).apply(this,arguments)}function f(e,t,n){return p.apply(this,arguments)}function p(){return(p=i((function*(e,t,n){var a=yield Object(r.j)(e,t);return a&&a.OneToManyRelationships?a.OneToManyRelationships:null}))).apply(this,arguments)}function h(e,t,n,r){return v.apply(this,arguments)}function v(){return(v=i((function*(e,t,n,a){var i=yield Object(r.j)(e,t);return i&&i.ManyToOneRelationships&&i.ManyToOneRelationships[n]?i.ManyToOneRelationships[n]:null}))).apply(this,arguments)}function m(e,t,n){return y.apply(this,arguments)}function y(){return(y=i((function*(e,t,n){var a=yield Object(r.j)(e,t);return a&&a.ManyToOneRelationships?a.ManyToOneRelationships:null}))).apply(this,arguments)}function g(e,t,n,r){return b.apply(this,arguments)}function b(){return(b=i((function*(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],i=yield f(e,t,r,a);if(i)for(var o of Object.keys(i)){var c=i[o];if(c.ReferencedEntityNavigationPropertyName===n)return c}return null}))).apply(this,arguments)}function O(e,t,n,r){return E.apply(this,arguments)}function E(){return(E=i((function*(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],i=yield m(e,t,r,a);if(i)for(var o of Object.keys(i)){var c=i[o];if(c.ReferencingEntityNavigationPropertyName===n)return c}return null}))).apply(this,arguments)}},20686:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(20584),a=n(20592),i=n(20611);function o(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function c(e){o(i,r,a,c,s,"next",e)}function s(e){o(i,r,a,c,s,"throw",e)}c(void 0)}))}}function s(e,t,n,r){return u.apply(this,arguments)}function u(){return(u=c((function*(e,t,n,o){var c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];try{if(!e)return null==o||o.warn("".concat(l()," Entity logical name is empty. Can not check for attributes"),c),!1;var s=yield Object(a.j)(n,e),u=s.AttributeNames,d=t.filter(e=>!u.includes(e));if((null==d?void 0:d.length)>0){var f="Requested attributes ".concat(d.join(",")," not present on entity ").concat(e);return null==o||o.warn("".concat(l()," ").concat(f),c),c.push({name:r.c.ERROR_DETAIL,value:f}),!1}}catch(p){if(null==o||o.warn("".concat(l()," Error when checking for attribute validity. Returning true"),c),yield Object(a.v)(n,i.f))throw p}return!0}))).apply(this,arguments)}function l(e){return"[".concat(e||r.d.Validator,"]")}},20687:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return p}));var r=n(20601),a=n(20685),i=n(20592),o=n(20594);function c(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){c(i,r,a,o,s,"next",e)}function s(e){c(i,r,a,o,s,"throw",e)}o(void 0)}))}}function u(e,t,n,r,a){return l.apply(this,arguments)}function l(){return(l=s((function*(e,t,n,a,i){var c=[];try{for(var s of e){var u=s.trim().split(r.p.space);if(3!==u.length)throw new o.a("Context Filter item in the hint is not in correct format.");var l=u[1],f=u[0],h=p(u[2]);c.push(yield d(l,f,t,h,n,a,i))}return c.length<1?Promise.reject(new o.a("Failed to apply context filter - No Context Filter item is being generated")):c}catch(v){throw new o.a("Failed to buildContextFilters - ".concat(v))}}))).apply(this,arguments)}function d(e,t,n,r,a,i,o){return f.apply(this,arguments)}function f(){return(f=s((function*(e,t,n,r,o,c,s){var u,l;if(u=yield Object(a.d)(o,n,t,c,s)){var d=u;l={id:e,OneToMany:{fromEntity:d.ReferencedEntity,fromAttribute:d.ReferencedAttribute,toAttribute:d.ReferencingAttribute}}}else if(yield Object(a.f)(o,n,t,c,s)){var f=yield Object(a.f)(o,n,t,c,s),p=yield Object(i.j)(o,f.ReferencingEntity);l={id:e,OneToMany:{fromEntity:f.ReferencingEntity,fromAttribute:f.ReferencingAttribute,toAttribute:f.ReferencedAttribute,primaryAttribute:p.PrimaryIdAttribute}}}else{if(!(u=yield Object(a.c)(o,n,t,c,s)))throw new Error("Cannot identify type of relationship of request context filter hint");var v,m,y,g=u,b=g.IntersectEntityName;(g.Entity1LogicalName===g.Entity2LogicalName?r:g.Entity1LogicalName===n?a.a.AssociationEntity:a.a.Referencing)===a.a.Referencing?(v=g.Entity1LogicalName,y=g.Entity1IntersectAttribute,m=g.Entity2IntersectAttribute):(v=g.Entity2LogicalName,y=g.Entity2IntersectAttribute,m=g.Entity1IntersectAttribute),l={id:e,ManyToMany:{intersectName:b,targetEntityPrimaryKey:yield h(o,n,c,s),toIntersectAttribute:y,fromEntity:v,fromEntityAttribute:yield h(o,v,c,s),fromIntersectAttribute:m}}}return l}))).apply(this,arguments)}function p(e){switch(e){case a.b.Referencing:return a.a.Referencing;case a.b.AssociationEntity:return a.a.AssociationEntity;default:throw new Error("Unsupported apply context filter hint for roleOrdinal: ".concat(e))}}function h(e,t,n,r){return v.apply(this,arguments)}function v(){return(v=s((function*(e,t,n,r){var a=yield Object(i.j)(e,t);if(!a)throw new Error("Cannot apply context filter because the metadata cache has no metadata for the ".concat(t," entity."));var o=a.PrimaryIdAttribute;if(!o)throw new Error("Cannot apply context filter because the primary key for the ".concat(t," entity is missing from the metadata cache."));return o}))).apply(this,arguments)}},20688:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(20588),a=n(20584),i=n(20585),o=n(20592),c=n(20689),s=n(20690);function u(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){u(i,r,a,o,c,"next",e)}function c(e){u(i,r,a,o,c,"throw",e)}o(void 0)}))}}function d(e){return Object(r.v)(e.AdditionalParameters)||Object(r.v)(e.AdditionalParameters.AppId)?i.a.EMPTY:i.a.tryParse(e.AdditionalParameters.AppId)}function f(e,t,n,r,a,i,o){return p.apply(this,arguments)}function p(){return(p=l((function*(e,t,n,a,o,c,s){var u=s.commonEventParameters||[];try{var l=yield h(n,!!a.IsBusinessProcessEnabled&&a.IsBusinessProcessEnabled,o,c,s),d=Object(r.v)(l)||i.a.isNullOrEmpty(l.id)?null:l.id,f=yield g(d,e,c,o,s);if(!Object(r.v)(f)&&f.length)for(var p of f)-1===t.indexOf(p)&&t.push(p);return l}catch(v){return c.error("".concat(I()," something went wrong when adding BPF columns ").concat(v.message),u),null}}))).apply(this,arguments)}function h(e,t,n,r,a){return v.apply(this,arguments)}function v(){return(v=l((function*(e,t,n,a,u){var l=u.commonEventParameters||[];if(!(yield Object(o.v)(n,"EnableBPFOffline"))||!t||Object(r.v)(e))return null;var d=yield Object(c.a)(e,n,l),f=yield m(d,a,n,u);if(Object(r.v)(f)||!f.length)return null;var p=[];null===d.processId||i.a.isNullOrEmpty(d.processId)||null===d.processInstanceId||i.a.isNullOrEmpty(d.processInstanceId)?f.forEach(e=>{p.push(Object(s.b)(d.target,e,n,a,u)),a.info("".concat(I(),"  'Retriev multiple BPF instances ").concat(JSON.stringify(d)),l)}):(p.push(Object(s.a)(d.processInstanceId,f[0],a,n,u)),a.info("".concat(I()," Retrieve BPF instance from ").concat(f[0]," ").concat(JSON.stringify(d)),l));try{var h=yield Promise.all(p),v=new Date("1700-01-01T00:00:00Z"),y={entityLogicalName:"",id:i.a.EMPTY,modifiedon:v,primaryIdAttribute:"",primaryIdValue:i.a.EMPTY};return h.forEach(e=>{if(null!==e){var t=e.modifiedon;(null===v||t>v)&&(y=e,v=t)}}),a.error("".concat(I()," Successfully retrieved multiple BPF instances"),l),y}catch(g){throw a.error("".concat(I()," Error when attempting to retrieve global navigation data"),l),g}}))).apply(this,arguments)}function m(e,t,n,r){return y.apply(this,arguments)}function y(){return(y=l((function*(e,t,n,a){var o=a.commonEventParameters||[];if(Object(r.v)(e))return[];if(null!==e.processId&&!i.a.isNullOrEmpty(e.processId))try{var c=yield O(e.processId,n,t,a);return Object(r.x)(c)?(t.warn("".concat(I()," Unique name not found for ").concat(e.processId),o),[]):[c]}catch(m){t.warn("".concat(I()," Error while retriving bpf unique names by process id ").concat(e.processId),o)}if(Object(r.v)(e.target)||Object(r.x)(e.target))return t.warn("".concat(I()," BPF request must have participating entity logical name"),o),[];var u=d(n),l={MetadataType:"bpfselector",MetadataSubtype:null,EntityLogicalName:e.target.entityLogicalName,MetadataId:null,MetadataNames:[],GetDefault:!1,DependencyDepth:"OnDemandWithContext",ChangedAfter:null,Exclude:[],AppId:u.guid,IsPreloadCall:!1},f=yield Object(s.c)(n,l,t,a);if(Object(r.v)(f)||0===f.length)return[];var p=f[0].data;if(!Object(r.v)(p)&&p.SelectorItems){var h=p.SelectorItems;if(!Object(r.v)(h)&&h.length>0){var v=h.map(e=>e.UniqueName);return t.info("".concat(I()," Successfully retrieve all BPF uniquenames for participating entity ").concat(e.target)),v}}return[]}))).apply(this,arguments)}function g(e,t,n,r,a){return b.apply(this,arguments)}function b(){return(b=l((function*(e,t,n,a,o){var c=[];if(!e)return n.info("".concat(I()," processID is null in get business process flow control data")),c;var s=yield _(e,t,i.a.EMPTY,n,a,o);if(Object(r.v)(s)||Object(r.v)(s.data))throw new Error("Retrieved empty BPF metadata for");var u=s.data;for(var l of u.BusinessProcessFlowEntities)if(l.EntityLogicalName===t)for(var d of l.Stage.Steps)Object(r.x)(d.Name)||c.push(d.Name);return c}))).apply(this,arguments)}function O(e,t,n,r){return E.apply(this,arguments)}function E(){return(E=l((function*(e,t,n,a){var i={MetadataType:"businessprocessflow",MetadataSubtype:null,EntityLogicalName:"workflow",MetadataId:e.guid,MetadataNames:[],GetDefault:!1,DependencyDepth:"OnDemandWithContext",ChangedAfter:null,Exclude:[],AppId:null,IsPreloadCall:!1};try{var o=yield Object(s.c)(t,i,n,a)[0],c=null,u=o.data;return Object(r.v)(u)||Object(r.v)(u.BusinessProcessFlowUniqueName)||(c=u.BusinessProcessFlowUniqueName),n.info("".concat(I()," Successfully retrieve uniquename for BPF  ").concat(e.guid)),c}catch(l){return null}}))).apply(this,arguments)}function _(e,t,n,r,a,i){return S.apply(this,arguments)}function S(){return(S=l((function*(e,t,n,r,a,c){var s;if(i.a.isNullOrEmpty(e)){if(t&&n||r.error("".concat(I()," The entityLogicalName must be either Workflow or participating entity name.")),!(yield Object(o.v)(a,"EnableBPFOffline")))return Promise.resolve(null);s=C(t,r,a,c)}else s=N(t="workflow",e,r,a,c);return yield s}))).apply(this,arguments)}function C(e,t,n,r){return w.apply(this,arguments)}function w(){return(w=l((function*(e,t,n,r){var a=r.commonEventParameters||[],o=(yield T(t,n,r)).data;if(!o||!o.SelectorItems||!o.SelectorItems[0]||i.a.isNullOrEmpty(o.SelectorItems[0].Id))throw t.error("".concat(I()," unable to find default BPF step for ").concat(e),a),new Error("Unable to find default bpf step for ".concat(e));return N("workflow",o.SelectorItems[0].Id,t,n,r)}))).apply(this,arguments)}function T(e,t,n){return j.apply(this,arguments)}function j(){return(j=l((function*(e,t,n){var a=n.commonEventParameters||[],i=yield Object(s.c)(t,{MetadataType:"bpfselector",MetadataSubtype:null,EntityLogicalName:null,MetadataId:null,GetDefault:!1,DependencyDepth:"OnDemandWithoutContext",ChangedAfter:null,Exclude:[],MetadataNames:[],AppId:null,IsPreloadCall:!1},e,n);if(Object(r.v)(i)||0===i.length)throw e.error("".concat(I()," error when fetching bpf selector"),a),new Error("error when fetching bpf selector");return i[0]}))).apply(this,arguments)}function N(e,t,n,r,a){return P.apply(this,arguments)}function P(){return(P=l((function*(e,t,n,a,i){var o=i.commonEventParameters||[],c={MetadataType:"businessprocessflow",MetadataSubtype:null,EntityLogicalName:null,MetadataId:t.guid,GetDefault:!1,DependencyDepth:"OnDemandWithoutContext",ChangedAfter:null,Exclude:[],MetadataNames:[],AppId:null,IsPreloadCall:!1},u=yield Object(s.c)(a,c,n,i);if(Object(r.v)(u)||0===u.length)throw n.error("".concat(I()," error when fetching bpf"),o),new Error("error when fetching bpf");return u[0]}))).apply(this,arguments)}function I(e){return"[".concat(e||a.d.RetrieveGenerator,"]")}},20689:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(20585),a=n(20592),i=n(20588);function o(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function c(e){o(i,r,a,c,s,"next",e)}function s(e){o(i,r,a,c,s,"throw",e)}c(void 0)}))}}function s(e,t,n){return u.apply(this,arguments)}function u(){return(u=c((function*(e,t,n){var o={target:{entityLogicalName:"",id:r.a.EMPTY},processId:r.a.EMPTY,processInstanceId:r.a.EMPTY};if(Object(i.v)(e.url.match("/api/data/(.*)/RetrieveProcessControlData"))||-1===e.url.indexOf("?"))throw new Error("Incorrect BPF request url");var c=e.url.split(/\?(.+)/),s=c[0].match(/\/api\/data\/.*\/RetrieveProcessControlData\((.*)\)/);if(!s||s.length<2)throw new Error("Incorrect BPF request url");var u=s[1].split(","),l={};for(var d of u){var f=d.split("=");l[f[0]]=f[1]}var p=new URLSearchParams(c[1]),h=p.get(l.ProcessId);h&&(o.processId=r.a.tryParse(h));var v=p.get(l.ProcessInstanceId);v&&(o.processInstanceId=r.a.tryParse(v));var m=p.get(l.Target);if(m){var y=m.split(":")[1].match(/\"(.*)\((.*)\)\"/);y&&3===y.length&&(o.target.entityLogicalName=yield Object(a.h)(t,y[1],n),o.target.id=r.a.tryParse(y[2]))}return o}))).apply(this,arguments)}},20690:function(e,t,n){"use strict";n.d(t,"c",(function(){return j})),n.d(t,"a",(function(){return P})),n.d(t,"b",(function(){return b}));var r=n(20583),a=n(20588),i=n(20616),o=n(20584),c=n(20586),s=n(20585),u=n(20592),l=n(20643),d=n(20650),f=n(20601),p=n(20617),h=n(20651),v=n(20657),m=n(20658);function y(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){y(i,r,a,o,c,"next",e)}function c(e){y(i,r,a,o,c,"throw",e)}o(void 0)}))}}function b(e,t,n,r,a){return O.apply(this,arguments)}function O(){return(O=g((function*(e,t,n,r,i){var o=i.commonEventParameters||[],c=yield E(t,e.entityLogicalName,n),s="".concat(f.c.where," ").concat(f.p.openSQBracket).concat(c+d.f+d.n).concat(f.p.closeSQBracket," ").concat(f.p.equal," ").concat(f.p.question," ").concat(f.c.orderBy," ").concat(d.u," ").concat(f.s.DESC),u=yield S(t,s,[e.id.guid],n,i);return!Object(a.v)(u.rows)&&u.rows.length>0?(r.info("".concat(R()," BPF data present for ").concat(t),o),w(t,u.rows.item(0),n,o)):(r.info("".concat(R()," No BPF instance found for ").concat(t),o),null)}))).apply(this,arguments)}function E(e,t,n){return _.apply(this,arguments)}function _(){return(_=g((function*(e,t,n){var r=yield Object(u.c)(n,e,[]),i=null,o=[];for(var s of(o.push("createdby"),o.push("modifiedby"),o.push("createdonbehalfbyname"),o.push("modifiedonbehalfbyname"),Object.keys(r))){var l=r[s];if(!(o.indexOf(l.LogicalName)>=0)&&(l.Type===c.a.Lookup&&!Object(a.v)(l.Targets)&&1===l.Targets.length&&l.Targets[0]===t)){if(!l.IsCustomAttribute){i=l;break}l.LogicalName.startsWith("bpf_")&&(Object(a.v)(i)||i.ColumnNumber&&l.ColumnNumber&&i.ColumnNumber>l.ColumnNumber)&&(i=l)}}if(Object(a.v)(i))throw Error("OfflineDataStore.getEntityIdAttributeFromBpfEntity.Fail : Cannot find an attribute that matches the lookup target in the entity ");return i.LogicalName}))).apply(this,arguments)}function S(e,t,n,r,a){return C.apply(this,arguments)}function C(){return(C=g((function*(e,t,n,i,o){var c="".concat(f.c.select," ").concat(f.p.asterisk," ").concat(f.c.from," ").concat(e," ").concat(t),s={sqlStatements:[],sqlParameters:[]};s.sqlStatements.push(c),s.sqlParameters.push(n);var u=yield Object(l.a)(s,i,r.y.Retrieve,o);if(!Object(a.v)(u)&&u.length>0)return u[0];throw new Error("results is null")}))).apply(this,arguments)}function w(e,t,n,r){return T.apply(this,arguments)}function T(){return(T=g((function*(e,t,n,r){if(!Object(a.v)(t))try{var i=yield Object(u.j)(n,e,r),o=i.PrimaryIdAttribute?i.PrimaryIdAttribute:"";return{entityLogicalName:e,id:s.a.tryParse(t["processid!id"]),modifiedon:new Date(t.modifiedon),primaryIdAttribute:o,primaryIdValue:s.a.tryParse(t[o])}}catch(c){throw new Error("Error when forming a BPF record")}throw new Error("Error when forming a BPF record")}))).apply(this,arguments)}function j(e,t,n,r){return N.apply(this,arguments)}function N(){return(N=g((function*(e,t,n,r){var a=r.commonEventParameters||[],o=Object(v.a)(t.MetadataType,t.MetadataSubtype),c=o.subtype,s=o.type,u="";t.MetadataId&&(u=t.MetadataId.toString());var l=new m.a(s,p.f.Desktop,t.EntityLogicalName,0,t.GetDefault,u,c,void 0);try{var d=yield Object(h.f)(e,l,n,r);return d&&d.length?d:(n.warn("".concat(R()," Not able to find the key ").concat(u," for type ").concat(i.c[s]),a),[])}catch(f){throw n.error("".concat(R()," error retrieving metadata by query for ").concat(u,". ").concat(f.message),a),f}}))).apply(this,arguments)}function P(e,t,n,r,a){return I.apply(this,arguments)}function I(){return(I=g((function*(e,t,n,r,i){var o=i.commonEventParameters||[],c="WHERE [businessprocessflowinstanceid]=".concat(f.p.question),s=yield S(t,c,[e.guid],r,i);return!Object(a.v)(s.rows)&&s.rows.length>0?(n.info("".concat(R()," data present for ").concat(t),o),yield w(t,s.rows.item(0),r,o)):(n.info("".concat(R()," No BPF instance found for ").concat(t),o),null)}))).apply(this,arguments)}function R(e){return"[".concat(e||o.d.RetrieveGenerator,"]")}},20691:function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return p}));var r=n(20588),a=n(20584),i=n(20586),o=n(20648),c=n(20601),s=n(20650);function u(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){u(i,r,a,o,c,"next",e)}function c(e){u(i,r,a,o,c,"throw",e)}o(void 0)}))}}function d(e,t,n,r){return f.apply(this,arguments)}function f(){return(f=l((function*(e,t,n,a){var c=[],u=[];if(Object(r.x)(e))throw n.error("".concat(v()," Empty URL for retrieve request"),a),new Error("Empty url for retrieve request");if(-1===e.indexOf("?"))n.info("".concat(v()," No $select parameter. Returning all columns for entity"),a);else{var l=new URLSearchParams(e.split(/\?(.+)/)[1]).get("$select");Object(r.x)(l)?n.info("".concat(v()," No $select parameter. Returning all columns for entity"),a):u=l.split(",")}for(var d of(u&&0!==u.length||n.info("".concat(v()," No $select parameter. Returning all columns for entity"),a),u)){var f=Object(o.k)(d.trim());t[f]===i.a.Owner||t[f]===i.a.Lookup||t[f]===i.a.Customer?(c.push(f+s.f+s.n),c.push(f+s.f+s.v),c.push(f+s.f+s.r)):c.push(f)}return n.info("".concat(v()," requested for ").concat(c.length," columns"),a),c}))).apply(this,arguments)}function p(e,t,n){return h.apply(this,arguments)}function h(){return(h=l((function*(e,t,n){var a={};if(!e||-1===e.indexOf("?")||-1===e.indexOf("$expand"))return t.info("".concat(v()," Url is empty or does not contain $expand parameter"),n),a;var i=new URLSearchParams(e.split(/\?(.+)/)[1]).get("$expand");if(Object(r.x)(i))return a;var o=/([a-zA-Z0-9_]+)\(\$filter=Microsoft\.Dynamics\.CRM\.In\(PropertyName='([a-z0-9_,]+)',PropertyValues=\[(.*)\]\)\)?/,s=/([a-zA-Z0-9_\s]+)(\(\$select=([a-z0-9_,\s]+)\)?)/,u=/([a-zA-Z0-9_\s]+)/,l=i.split(/\)\s*,/gi).map(e=>e.trim());for(var d of l){var f=d.match(o);Object(r.v)(f)?(f=d.match(s)||d.match(u),Object(r.v)(f)||(f.length<3||Object(r.x)(f[3])?a[f[1]]={values:[],clause:c.c.select}:a[f[1]]={values:f[3].split(",").map(e=>e.trim()),clause:c.c.select})):a[f[1]]={values:f[3].split(",").map(e=>e.replace(/['"]+/g,"")),clause:c.c.in,propertyName:f[2]}}return a}))).apply(this,arguments)}function v(e){return"[".concat(e||a.d.RetrieveGenerator,"]")}},20692:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(20583),a=n(20588),i=n(20584);function o(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function c(e){o(i,r,a,c,s,"next",e)}function s(e){o(i,r,a,c,s,"throw",e)}c(void 0)}))}}function s(e,t,n,r){return u.apply(this,arguments)}function u(){return(u=c((function*(e,t,n,a){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};switch(t){case r.y.CountRows:return l(e,n,a,i);default:var o="Function Query Generator Failed with Unsupported request type";throw new Error(o)}}))).apply(this,arguments)}function l(e,t,n){return d.apply(this,arguments)}function d(){return(d=c((function*(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.commonEventParameters||[],o=f(e.url);if(Object(a.x)(o)){var c="Function Query has invalid entity name";throw new Error(c)}Object(a.v)(t.AdditionalParameters)&&(t.AdditionalParameters={}),t.AdditionalParameters.entityLogicalName=o;var s={sqlStatements:["SELECT count(*) AS RowsCount FROM ".concat(o)],sqlParameters:[]};return n.info("".concat(p()," SQL Query Request: \n  SQL Statement: ").concat(s.sqlStatements),i),s}))).apply(this,arguments)}function f(e){var t="";if(!Object(a.x)(e)){var n=e.split('["');if(2===n.length){var r=n[1].split('"])');2===r.length&&(t=r[0])}}return t}function p(e){return"[".concat(e||i.d.FunctionGenerator,"]")}},20693:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(20583),a=n(20588),i=n(20592),o=n(20648),c=n(20601),s=n(20668);function u(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){u(i,r,a,o,c,"next",e)}function c(e){u(i,r,a,o,c,"throw",e)}o(void 0)}))}}function d(e,t,n){return f.apply(this,arguments)}function f(){return(f=l((function*(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.commonEventParameters||[],c=yield Object(o.p)(e,t,n,i);if(Object(a.x)(e.body)){var u="Invalid request. Empty request body";throw n.error("[CreateGenerator] ".concat(u),i),new Error(u)}var l=JSON.parse(e.body),d=yield Object(s.c)(t);return d?v(e,l,c,t,n,r,i):p(e,l,c,t,n,r,i)}))).apply(this,arguments)}function p(e,t,n,r,a){return h.apply(this,arguments)}function h(){return(h=l((function*(e,t,n,r,a){var c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],u=yield Object(i.j)(r,n),l=yield b(t,n,r,a,c,s),d=yield y(r,l,n,s);return E(u,e)&&(d=Object(o.b)(r,d,n,l.id,u.PrimaryIdAttribute,s)),d}))).apply(this,arguments)}function v(e,t,n,r,a){return m.apply(this,arguments)}function m(){return(m=l((function*(e,t,n,a,c){var u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[];l=u.commonEventParameters||[];var d=yield Object(i.j)(a,n,l),f=yield Object(s.a)(t,n,a,l),h=f.ResolveDependencies();if(1===h.length)return p(e,JSON.parse(e.body),n,a,c,u,l);var v=h.find(e=>e.IsRootRecord),m={sqlStatements:[],sqlParameters:[],additionalParameters:{[r.a.RecordId]:v.PrimaryId.guid}};for(var g of h=Object(s.b)(h)){var O=yield b(g.FlatData,g.EntityLogicalName,a,c,u,l),_=yield y(a,O,n,l);m.sqlStatements=m.sqlStatements.concat(_.sqlStatements),m.sqlParameters=m.sqlParameters.concat(_.sqlParameters)}return E(d,e)&&(m=Object(o.b)(a,m,n,v.PrimaryId,v.EntityMetadata.PrimaryIdAttribute,l)),m}))).apply(this,arguments)}function y(e,t,n){return g.apply(this,arguments)}function g(){return(g=l((function*(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=_(t),c=yield Object(i.j)(e,n);return c.IsActivity&&(a=yield Object(o.q)(e,t,a,r)),a}))).apply(this,arguments)}function b(e,t,n,r){return O.apply(this,arguments)}function O(){return(O=l((function*(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],u=yield Object(i.b)(n,[],t,s),l=yield Object(o.n)(e,u,t,n,r,s),d=yield Object(o.h)(t,l,c.v.create,n,r,s,a);return d}))).apply(this,arguments)}function E(e,t){return e&&t&&t.additionalHeaders&&t.additionalHeaders.Prefer&&-1!==t.additionalHeaders.Prefer.indexOf(r.r.PREFER_REPRESENTATION)}function _(e){var t={sqlStatements:[],sqlParameters:new Array,additionalParameters:{[r.a.RecordId]:e.id.guid.toString()}},n="",a="",i=[],o=0;for(var s in e.values)if(s){var u=o>0?",":"";n+=u+"["+s+"]",a+=u+"?",i.push(e.values[s]),o+=1}return t.sqlStatements.push(c.c.insert+c.p.space+c.c.into+c.p.space+c.p.openSQBracket+e.entityLogicalName+c.p.closeSQBracket+c.p.space+c.p.openParenthesis+n+c.p.closeParenthesis+c.p.space+c.c.values+c.p.space+c.p.openParenthesis+a+c.p.closeParenthesis),t.sqlParameters.push(i),t}},20694:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n(20596),a=n(20588),i=n(20584),o=n(20592),c=n(20648),s=n(20601),u=n(20650),l=n(20695),d=n(20696),f=n(20701);function p(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function h(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){p(i,r,a,o,c,"next",e)}function c(e){p(i,r,a,o,c,"throw",e)}o(void 0)}))}}function v(e,t,n){return m.apply(this,arguments)}function m(){return(m=h((function*(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},p=i.commonEventParameters||[],h=[],v=yield Object(c.p)(e,t,n,p,i),m={sqlStatements:[],sqlParameters:[]},O=g(v,n,p);if(i.internalRequest){var E=yield Object(d.b)(e.url,n,h,Object(a.A)(e),t);if(null==E||!E.filter)throw n.error("".concat(b()," ").concat(s.g.invalidHints),Object(r.b)(p,h)),new Error(s.g.invalidHints);O=yield Object(f.b)(v,O,E.filter,t,n,i,!0),m.sqlStatements.push(O)}else{var _=y(e.url),S=yield Object(o.j)(t,v);if(!S||Object(a.x)(S.PrimaryIdAttribute))throw n.error("".concat(b()," ").concat(s.g.primaryIdAttribute),p),new Error(s.g.primaryIdAttribute);if(Object(a.x)(_))throw n.error("".concat(b()," ").concat(s.g.referencedId),Object(r.b)(p,h)),new Error(s.g.referencedId);if(m.sqlStatements.push(Object(l.a)(v,S.PrimaryIdAttribute,t,n,p)),m.sqlParameters.push([_]),O=Object(f.a)(O,S.PrimaryIdAttribute),m.sqlStatements.push(O),m.sqlParameters.push([_]),S.IsActivity){var C=u.a+s.p.exclamation+"id",w=g(u.b,n,p);w=Object(f.a)(w,C),m.sqlStatements.push(w),m.sqlParameters.push([_])}}return n.info("".concat(b()," SQL Query Request: \n  SQL Statement: ").concat(m.sqlStatements)),Promise.resolve(m)}))).apply(this,arguments)}function y(e){var t="";return Object(a.x)(e)||(t=e.substring(e.lastIndexOf("(")+1,e.length-1)),t}function g(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=[];if(i.push({name:"logicalName",value:e}),Object(a.x)(e))throw t.error("".concat(b()," ").concat(s.g.invalidParameter),Object(r.b)(n,i)),new Error(s.g.invalidParameter);return s.c.delete+s.p.space+s.c.from+s.p.space+s.p.openSQBracket+e+s.p.closeSQBracket+s.p.space}function b(e){return"[".concat(e||i.d.DeleteGenerator,"]")}},20695:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(20596),a=n(20588),i=n(20584),o=n(20601);function c(e,t,n,i){var c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],u=[];if(u.push({name:"logicalName",value:e}),u.push({name:"attribute",value:t}),Object(a.x)(e)||Object(a.x)(t))throw i.error("".concat(s()," ").concat(o.g.invalidParameter),Object(r.b)(c,u)),new Error(o.g.invalidParameter);return o.c.select+o.p.space+o.p.openSQBracket+t+o.p.closeSQBracket+o.p.space+o.c.from+o.p.space+o.p.openSQBracket+e+o.p.closeSQBracket+o.p.space+o.c.where+o.p.space+o.p.openSQBracket+t+o.p.closeSQBracket+o.p.space+o.p.equal+o.p.space+o.p.question+o.p.space+o.c.collateNoCase}function s(e){return"[".concat(e||i.d.SQLModifier,"]")}},20696:function(e,t,n){"use strict";n.d(t,"c",(function(){return g})),n.d(t,"b",(function(){return O})),n.d(t,"a",(function(){return H}));var r=n(20583),a=n(20601),i=n(20584),o=n(20677),c=n(20588),s=n(20594),u=n(20697),l=n(20698),d=n(20699),f=n(20684),p=n(20685),h=n(20592),v=n(20686);function m(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function y(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){m(i,r,a,o,c,"next",e)}function c(e){m(i,r,a,o,c,"throw",e)}o(void 0)}))}}function g(e,t,n,r,a,i){return b.apply(this,arguments)}function b(){return(b=y((function*(e,t,n,i,s,u){var l,d,f,p=u?u.commonEventParameters:[],h=e.url;(-1===h.indexOf(a.p.question)&&s.warn("".concat(G()," Request URL does not contain FetchXML nor ODataQuery"),p),-1!==e.url.indexOf(r.j))?(f=j(decodeURIComponent(h.substring(h.indexOf(r.j)+r.j.length,h.length)),t,i,s,p),l=yield I(f,i,s,p)):(d=a.p.question,-1!==h.indexOf(a.p.question)?d=decodeURIComponent(h.substring(h.indexOf(a.p.question),h.length)):s.warn("".concat(G()," No ODataQuery part found in client api retrieve multiple request for OData query, Default query to '?'"),p),n[r.a.ODataQuery]=d,l=yield Object(o.a)(d,s,p,Object(c.A)(e),i),yield C(l,i,h,t,s,p));T(l,e,!!d),_(l,e,s,p),S(l,n)}))).apply(this,arguments)}function O(e,t,n,r,a){return E.apply(this,arguments)}function E(){return(E=y((function*(e,t,n,r,i){if(-1!==e.indexOf(a.p.question)){var c=decodeURIComponent(e.substring(e.indexOf(a.p.question),e.length));return yield Object(o.a)(c,t,n,r,i)}return{}}))).apply(this,arguments)}function _(e,t,n,a){t&&t.additionalHeaders?(e.select&&(t.additionalHeaders[r.s.select]=e.select),e.orderBy&&(t.additionalHeaders[r.s.orderBy]=e.orderBy),e.filter&&(t.additionalHeaders[r.s.filter]=e.filter),e.linkEntity&&(t.additionalHeaders[r.s.linkEntity]=e.linkEntity,t.additionalHeaders[r.s.contextFilter]&&delete t.additionalHeaders[r.s.contextFilter]),e.pageNumber&&(t.additionalHeaders[r.s.pageNumber]=e.pageNumber.toString()),e.pageSize&&(t.additionalHeaders[r.s.pageSize]=e.pageSize.toString()),e.viewId&&(t.additionalHeaders[r.s.viewId]=e.viewId),Object(c.v)(e.distinct)||(t.additionalHeaders[r.s.distinct]=e.distinct.toString()),e.apply&&(t.additionalHeaders[r.s.apply]=e.apply)):n.warn("".concat(G()," Unable to add hints to client api request with null header "),a)}function S(e,t){e.top&&(t[r.a.Top]=e.top),e.expand&&(t[r.a.Expand]=e.expand),e.maxPageSize&&(t[r.a.MaxPageSize]=e.maxPageSize),e.navigationPropertyRelationshipName&&(t[r.a.NavigationPropertyRelationshipName]=e.navigationPropertyRelationshipName),e.referencedEntity&&(t[r.a.NavigationPropertyEntity]=e.referencedEntity),e.referencedEntityId&&(t[r.a.RecordId]=e.referencedEntityId)}function C(e,t,n,r,a,i){return w.apply(this,arguments)}function w(){return(w=y((function*(e,t,n,r,i,o){var c=n.indexOf(a.p.question),s=n.indexOf(a.p.openParenthesis),u=n.indexOf(a.p.closeParenthesis),l=n.lastIndexOf(a.p.forwardSlash);if((yield Object(h.v)(t,a.h.MDLClientApiGapsAndFeatures))&&s<u&&u<l){var d=n.substring(s+1,u),f=-1===c?n.substring(l+1):n.substring(l+1,c),v=yield Object(p.g)(t,r,f,i,o);v&&(e.navigationPropertyRelationshipName=v.SchemaName,e.referencedEntityId=d,e.referencedEntity=v.ReferencingEntity)}}))).apply(this,arguments)}function T(e,t,n){var r,a=Object(c.q)(t);if(a?(e.maxPageSize=a,r=a<5e3?a:5e3):r=5e3,n&&e.top&&e.top<r)r=e.top;else if(!n&&Object(c.v)(a)){var i=e.count&&e.count<5e3?e.count:5e3;r=e.top&&i>e.top?e.top:i}e.pageSize=r}function j(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];if(Object(c.x)(e)){var i="FetchXml string is empty or null";throw r.error("".concat(G()," ").concat(i),a),new s.a(i)}var o=Object(u.a)(n);try{Object(l.c)(e,o,r,a)}catch(p){var d="Exception in creating the entity query expression from fetchXml";throw r.error("".concat(G()," ").concat(d,": ").concat(Object(c.o)(p)),a),new s.a(null!=p&&p.message?p.message:d,null==p?void 0:p.code,null==p?void 0:p.stack,null==p?void 0:p.name)}if(t!==o.entityName){var f="Request URL entity name does not match fetchXml entity name";throw r.error("".concat(G()," ").concat(f),a),new s.a(f)}return o}function N(e){var t=e.entityName?"".concat(e.entityName,".").concat(e.attributeName):e.attributeName;return Object(c.v)(e.value)?"".concat(t," ").concat(e.operator):"".concat(t," ").concat(e.operator," '").concat(e.value,"'")}function P(e,t,n){var r="";if(!e)return"";var a=e.getConditions();(null==a?void 0:a.length)>0&&(r=function(e,t,n,r){var a="";if(1===e.length)return a=N(e[0]),t===f.f.not&&(a="".concat(f.f[f.f.not]," (").concat(a,")")),a;if(e.length>1){a=N(e[0]);for(var i=1;i<e.length;i++){var o=N(e[i]);a="".concat(a," ").concat(f.f[t]," ").concat(o)}return a}if(0===e.length){var c="No values for condition";throw n.error("".concat(G()," ").concat(c),r),new s.a(c)}return a}(a,e.getFilterOperator(),t,n));var i,o=e.getFilterExpressions(),u=f.f[e.getFilterOperator()];if(!o||0===o.length)return r;if(Object(c.x)(r)||(r="".concat(r," ").concat(u," ")),1===o.length)switch(i=P(o[0],t,n),u){case f.h.and:case f.h.or:return"".concat(r,"(").concat(i,")");case f.h.not:return"".concat(r).concat(u," (").concat(i,")");default:var l="Invalid logical operator ".concat(u,".");throw t.error("".concat(G()," ").concat(l),n),new s.a(l)}else{i=P(o[0],t,n),r=Object(d.b)(o[0]||o[0].getConditions().length>1)?"".concat(r).concat(i):"".concat(r,"(").concat(i,")");for(var p=1;p<o.length;p++)i=P(o[p],t,n),(!Object(d.b)(o[p])||o[p].getConditions().length>1)&&(i="(".concat(i,")")),r="".concat(r," ").concat(u," ").concat(i)}return r}function I(e,t,n,r){return R.apply(this,arguments)}function R(){return(R=y((function*(e,t,n,r){var i,o,c,s;if((yield Object(h.v)(t,a.h.ModernDataLayerRMValidations))&&!(yield M(e,t,n,r))){var u=new Error("One or more requested attributes is invalid. Check event context for more details");throw n.error("".concat(G()," ").concat(u.message),r),u}o=e.allAttributesRequested||!e.attributes||0===e.attributes.length?a.p.asterisk:e.attributes.map(e=>e.name).toString(),(null===(i=e.orderByAttributes)||void 0===i?void 0:i.length)>0&&(c=e.orderByAttributes.map(e=>"".concat(e.name," ").concat(e.descending?a.s.DESC:a.s.ASC)).toString()),e.filterExpression&&(s=P(e.filterExpression,n,r));var l={select:o,orderBy:c,filter:s,pageNumber:e.pageNumber,top:e.top,count:e.count,distinct:e.distinct},d=[];return yield q(e,l,d,t,n,r),d.length>0&&(l.linkEntity=d.join(";")),l}))).apply(this,arguments)}function M(e,t,n,r){return x.apply(this,arguments)}function x(){return(x=y((function*(e,t,n,r){var a=yield Object(v.a)(e.entityName,k(e),t,n,r),i=yield D(e,t,n,r);return a&&i}))).apply(this,arguments)}function D(e,t,n,r){return A.apply(this,arguments)}function A(){return(A=y((function*(e,t,n,r){var a;if(!e||!e.linkedEntities||0===e.linkedEntities.length)return!0;if((null===(a=e.linkedEntities)||void 0===a?void 0:a.length)>0)for(var i=0;i<e.linkedEntities.length;i++){var o=e.linkedEntities[i];if((yield B(t,e.entityName||"",o.entityName||"",o.linkFromAttribute||"",o.linkToAttribute||"",n,r)).isManyToManyRelationship){if(!M(o.linkedEntities[0],t,n,r))return!1}else{var c=k(o);if(o.linkFromAttribute&&c.push(o.linkFromAttribute),!(yield Object(v.a)(o.entityName,c,t,n,r))||!D(o,t,n,r))return!1}}return!0}))).apply(this,arguments)}function k(e){var t,n;return e?[...null===(t=e.attributes)||void 0===t?void 0:t.map(e=>e.name),...null===(n=e.orderByAttributes)||void 0===n?void 0:n.map(e=>e.name),...F(e.filterExpression),...L(e)]:[]}function F(e){var t;if(!e)return[];var n=[];if(e.getConditions()&&n.push(...e.getConditions().map(e=>e.attributeName)),(null===(t=e.getFilterExpressions())||void 0===t?void 0:t.length)>0)for(var r of e.getFilterExpressions())n.push(...F(r));return n}function L(e){var t;if(!e||!e.linkedEntities||0===e.linkedEntities.length)return[];var n=[];if((null===(t=e.linkedEntities)||void 0===t?void 0:t.length)>0)for(var r=0;r<e.linkedEntities.length;r++){var a=e.linkedEntities[r];Object(c.x)(a.linkToAttribute)||n.push[a.linkToAttribute]}return n}function q(e,t,n,r,a,i){return U.apply(this,arguments)}function U(){return(U=y((function*(e,t,n,r,i,o){var s,u=(null==e?void 0:e.alias)||"".concat(e.entityName,"0");if((null===(s=e.linkedEntities)||void 0===s?void 0:s.length)>0)for(var l=0;l<e.linkedEntities.length;l++){var d=e.linkedEntities[l],{relationshipName:p,roleOrdinal:h,entityNameForHint:v}=yield B(r,e.entityName||"",d.entityName||"",d.linkFromAttribute||"",d.linkToAttribute||"",i,o);Object(c.x)(d.alias)&&(d.alias="".concat(d.entityName).concat(n.length+1));var m=[];for(var y of d.attributes)m.push("".concat(d.alias,".").concat(y.name));m.length>0&&(t.select=t.select?"".concat(t.select,",").concat(m.toString()):m.toString());var g=[];for(var b of d.orderByAttributes)g.push("".concat(d.alias,".").concat(b.name," ").concat(b.descending?a.s.DESC:a.s.ASC));g.length>0&&(t.orderBy=t.orderBy?"".concat(t.orderBy,",").concat(g.toString()):g.toString());var O="";d.filterExpression&&(O=P(d.filterExpression,i,o)),O?n.push("".concat(v," ").concat(u," ").concat(p," ").concat(h," ").concat(d.alias," ").concat(f.d[d.joinType]," (").concat(O,")")):n.push("".concat(v," ").concat(u," ").concat(p," ").concat(h," ").concat(d.alias," ").concat(f.d[d.joinType])),yield q(d,t,n,r,i,o)}}))).apply(this,arguments)}function B(e,t,n,r,a,i,o){return V.apply(this,arguments)}function V(){return(V=y((function*(e,t,n,r,a,i,o){var c=yield Object(h.j)(e,t);if(c){if(c.OneToManyRelationships)for(var u in c.OneToManyRelationships){var l=c.OneToManyRelationships[u];if(l.ReferencingEntity===n&&l.ReferencingAttribute===r&&l.ReferencedAttribute===a)return{entityNameForHint:t,relationshipName:u,roleOrdinal:p.b.Referencing}}if(c.ManyToOneRelationships)for(var d in c.ManyToOneRelationships){var f=c.ManyToOneRelationships[d];if(f.ReferencedEntity===n&&f.ReferencedAttribute===r&&f.ReferencingAttribute===a)return{entityNameForHint:t,relationshipName:d,roleOrdinal:p.b.Referencing}}if(c.ManyToManyRelationships)for(var v in c.ManyToManyRelationships){var m=c.ManyToManyRelationships[v];if(m.Entity2IntersectAttribute===r&&m.Entity2IntersectAttribute===a){if(m.IntersectEntityName===n&&t===m.Entity2LogicalName)return{entityNameForHint:m.Entity2LogicalName,relationshipName:v,roleOrdinal:p.b.Referencing,isManyToManyRelationship:!0};if(m.IntersectEntityName===t&&n===m.Entity2LogicalName)return{entityNameForHint:m.Entity2LogicalName,relationshipName:v,roleOrdinal:p.b.AssociationEntity,isManyToManyRelationship:!0}}else if(m.Entity1IntersectAttribute===r&&m.Entity1IntersectAttribute===a){if(m.IntersectEntityName===t&&m.Entity1LogicalName===n)return{entityNameForHint:m.Entity1LogicalName,relationshipName:v,roleOrdinal:p.b.Referencing,isManyToManyRelationship:!0};if(m.IntersectEntityName===n&&m.Entity1LogicalName===t)return{entityNameForHint:m.Entity1LogicalName,relationshipName:v,roleOrdinal:p.b.AssociationEntity,isManyToManyRelationship:!0}}}}var y="Relationship not found for entity ".concat(t," to link entity ").concat(n," with from=").concat(r," and to=").concat(a,".");throw i.error("".concat(G()," ").concat(y),o),new s.a(y)}))).apply(this,arguments)}function G(e){return"[".concat(e||i.d.DetermineHints,"]")}function H(e,t,n,r,a,i){return Q.apply(this,arguments)}function Q(){return(Q=y((function*(e,t,n,a,i,o){var c=o?o.commonEventParameters:[],s=j(e,t,a,i,c),u=[];yield q(s,{},u,a,i,c),n[r.a.BaseViewLinkEntities]=u}))).apply(this,arguments)}},20697:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(20588),a=n(20698),i=n(20684);function o(e,t,n,o){var c={pageNumber:1,entityName:null!=t?t:"",tableAliasCount:0,tableAliases:[],attributes:new Array(0),attributesByName:{},allAttributesRequested:!1,orderByAttributes:new Array(0),groupByAttributes:new Array(0),aggregateAttributes:new Array(0),linkedEntities:new Array(0),alias:"",parentEntity:n,applicationContext:e,useLimitStatement:!0};return c.tableAlias=Object(a.b)(c,null!=t?t:""),n?(c.baseEntity=n.baseEntity,c.joinType=Object(r.v)(o)?i.d.inner:o):c.baseEntity=c,c}},20698:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return y})),n.d(t,"b",(function(){return g}));var r=n(20588),a=n(20699),i=n(20684),o=n(20700),c=n(20594),s=n(20584),u=n(20583),l=function(e){return e.fetch="fetch",e.entity="entity",e.linkEntity="link-entity",e.attribute="attribute",e.allAttributes="all-attributes",e.order="order",e.filter="filter",e.condition="condition",e.parsererror="parsererror",e}({}),d=function(e){return e.aggregate="aggregate",e.name="name",e.attribute="attribute",e.alias="alias",e.count="count",e.page="page",e.top="top",e.distinct="distinct",e.from="from",e.to="to",e.linkType="link-type",e.groupby="groupby",e.descending="descending",e.type="type",e.operator="operator",e.value="value",e.uitype="uitype",e.entityname="entityname",e}(d||{});function f(e,t){if(!Object(r.v)(e)&&!Object(r.v)(e.attributes)){var n,a=e.attributes.getNamedItem(t);if(!Object(r.v)(a))return null!==(n=null==a?void 0:a.nodeValue)&&void 0!==n?n:""}return""}function p(e,t){if(!Object(r.v)(e)&&!Object(r.v)(e.attributes)){var n=e.attributes.getNamedItem(t);if(!Object(r.v)(n))return!0}return!1}function h(e,t,n,r,a){var s=f(e,d.name),u=f(e,d.from),l=f(e,d.to),p=f(e,d.alias),h=Object(o.a)(n,s,t);return Object(o.b)(h,u,l,i.a.equal,function(e,t,n){var r=f(e,d.linkType);if(!r)return i.d.inner;switch(r){case i.d[i.d.natural]:return i.d.natural;case i.d[i.d.inner]:return i.d.inner;case i.d[i.d.outer]:return i.d.outer;case i.d[i.d.matchfirstrowusingcrossapply]:return i.d.matchfirstrowusingcrossapply;case i.d[i.d.exists]:return i.d.exists;case i.d[i.d.in]:return i.d.in;default:var a="Invalid join type";throw t.error("".concat(b()," ").concat(a),n),new c.a(a)}}(e,r,a),p),m(e,h,n,r,a),h}function v(e,t,n,o){for(var s=e.childNodes,u=0;u<s.length;u++){var h=s[u];if(!Object(r.v)(h.tagName)){var m=h.tagName.toLocaleLowerCase();switch(m){case l.filter:var y=f(h,d.type),g=void 0;switch(y&&y.toLowerCase()){case i.h.and:g=i.f.and;break;case i.h.or:g=i.f.or;break;case i.h.not:g=i.f.not;break;default:var O="Unsupported filter operator: ".concat(y);throw n.error("".concat(b()," ").concat(O),o),new c.a(O)}var E=new a.a(g,"tempValue");E=v(h,E,n,o),t.addFilterExpression(E);break;case l.condition:var _=f(h,d.attribute),S=f(h,d.operator),C=f(h,d.entityname);if(p(h,d.value)){var w=f(h,d.value);t.addCondition(_,S,w,C)}else{var T=h.childNodes;if(T.length>0){for(var j=[],N=0;N<T.length;N++){var P,I,R=T[N];Object(r.v)(null==R||null===(P=R.firstChild)||void 0===P?void 0:P.nodeValue)||j.push(null==R||null===(I=R.firstChild)||void 0===I?void 0:I.nodeValue)}t.addCondition(_,S,j,C)}else t.addCondition(_,S,void 0,C)}break;default:var M="Unsupported filter node name: ".concat(m);throw n.error("".concat(b()," ").concat(M),o),new c.a(M)}}}return t}function m(e,t,n,o,s){t.hasAggregate="true"===f(e,d.aggregate);var u=f(e,d.count);u&&n.Formatter&&(t.count=n.Formatter.parseIntegerValue(u));var p,m=f(e,d.page);m&&n.Formatter&&(t.pageNumber=null!==(p=n.Formatter.parseIntegerValue(m))&&void 0!==p?p:t.pageNumber);var y=f(e,d.top);y&&n.Formatter&&(t.top=n.Formatter.parseIntegerValue(y));var O=f(e,d.distinct);if(O&&(t.distinct="true"===O),t.top&&t.count){var E="Providing both count and top in the fetchXml is invalid";throw o.error("".concat(b()," ").concat(E),s),new c.a(E)}var _=null==e?void 0:e.getElementsByTagName(l.entity),S=_&&_[0];if(Object(r.v)(S)&&e.tagName===l.linkEntity&&(S=e),Object(r.v)(t.parentEntity)){var C=f(_[0],d.name);t.tableAliasCount=0,t.tableAliases=[],t.tableAlias=g(t,C),t.baseEntity=t}!function(e,t,n,o){t.entityName=f(e,d.name);for(var s=e.childNodes,u=[],p=0;p<s.length;p++){var m=s[p];if(!Object(r.v)(m.tagName)){var y=m.tagName.toLocaleLowerCase();switch(y){case l.attribute:var g=f(m,d.name),O=f(m,d.alias),E={name:g,entity:t};t.attributesByName[O||g]=E,t.attributes.push(E),f(m,d.aggregate)&&(t.aggregateAttributes[t.aggregateAttributes.length]=E);var _=f(m,d.groupby);_&&"true"===_&&(t.groupByAttributes[t.groupByAttributes.length]=E);break;case l.allAttributes:t.allAttributesRequested=!0;break;case l.order:var S=f(m,d.attribute),C=f(m,d.descending),w={name:S,descending:!!C&&"true"===C,entity:t};t.orderByAttributes.push(w);break;case l.linkEntity:t.linkedEntities.push(h(m,t,t.applicationContext,n,o));break;case l.filter:var T=f(m,d.type),j=T&&T.toLowerCase()===i.h.or?i.f.or:i.f.and,N=new a.a(j,t.entityName);N=v(m,N,n,o),u.push(N);break;default:var P="Unsupported node type for fetch xml: ".concat(y);throw n.error("".concat(b()," ").concat(P),o),new c.a(P)}}}if(1===u.length)t.filterExpression=u[0];else if(u.length>1)for(var I of(t.filterExpression=new a.a(i.f.and,t.entityName),u))t.filterExpression.addFilterExpression(I)}(S,t,o,s)}function y(e,t,n,r){var a=function(e){return(new DOMParser).parseFromString(e,"text/xml")}(e);if(!a)throw n.error("".concat(b()," ").concat("Invalid fetch XML"),r),new c.a("Invalid fetch XML");var i=a.getElementsByTagName(l.parsererror);if(i&&i.length>0){var o="".concat("Invalid fetch XML"," - XML parsing error.");throw n.error("".concat(b()," ").concat(o),r),new c.a(o,u.i.InvalidXml)}var s=a.getElementsByTagName(l.fetch);if(s&&s.length>1){var d="".concat("Invalid fetch XML"," - more than one fetch node.");throw n.error("".concat(b()," ").concat(d),r),new c.a(d)}if(!s||0===s.length){var f="".concat("Invalid fetch XML"," - no fetch node.");throw n.error("".concat(b()," ").concat(f),r),new c.a(f)}t.fetchXmlDoc=s[0],m(t.fetchXmlDoc,t,t.applicationContext,n,r)}function g(e,t){if(!Object(r.x)(t)){var n="".concat(t).concat(e.tableAliasCount++);return e.tableAliases.push(n),n}return""}function b(e){return"[".concat(e||s.d.FetchXmlParser,"]")}},20699:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i}));var r=n(20588);class a{constructor(e,t){this._filterExpressionId="",this._filterOperator=0,this._conditions=[],this._filterExpressions=[],this.setFilterOperator(e),this.setFilterExpressionId(t),this.setFilterExpressions([])}getFilterExpressionId(){return this._filterExpressionId}setFilterExpressionId(e){return this._filterExpressionId=e,e}getFilterOperator(){return this._filterOperator}setFilterOperator(e){return this._filterOperator=e,e}getConditions(){return this._conditions}setConditions(e){return this._conditions=e,e}getFilterExpressions(){return this._filterExpressions}setFilterExpressions(e){return this._filterExpressions=e,e}addCondition(e,t,n,a){var i={attributeName:e,operator:t,value:n=Object(r.v)(n)?null:n,entityName:a};return this.getConditions()||this.setConditions([]),this.getConditions().push(i),this}addFilterExpression(e){return e?(this.getFilterExpressions().push(e),this):this}}function i(e){return 0===e.getFilterExpressions().length}},20700:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return s}));var r=n(20697),a=n(20588),i=n(20698),o=n(20684);function c(e,t,n,c){var s=Object(r.a)(e);return s.linkToAttribute="",s.linkFromAttribute="",s.conditionOperator="",s.entityName=t,s.attributes=new Array(0),s.attributesByName={},s.orderByAttributes=new Array(0),s.groupByAttributes=new Array(0),s.aggregateAttributes=new Array(0),s.linkedEntities=new Array(0),s.parentEntity=n,n&&(s.baseEntity=n.baseEntity,s.tableAlias=Object(i.b)(s,s.entityName),s.joinType=Object(a.v)(c)?o.d.inner:c),s}function s(e,t,n,r,a,i){e.linkFromAttribute=t,e.linkToAttribute=n,e.conditionOperator=r,e.joinType=a,e.alias=i}},20701:function(e,t,n){"use strict";n.d(t,"b",(function(){return E})),n.d(t,"a",(function(){return C})),n.d(t,"c",(function(){return w})),n.d(t,"e",(function(){return M})),n.d(t,"d",(function(){return G}));var r=n(20601),a=n(20588),i=n(20594),o=n(20584),c=n(20702),s=n(20586),u=n(20585),l=n(20648),d=n(20592),f=n(20703),p=n(20684),h=n(20705),v=n(20706),m=n(20707),y=n(20611),g=n(20708);function b(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function O(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){b(i,r,a,o,c,"next",e)}function c(e){b(i,r,a,o,c,"throw",e)}o(void 0)}))}}function E(e,t,n,r,a,i){return _.apply(this,arguments)}function _(){return(_=O((function*(e,t,n,i,o,c){var s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{};try{var l,f=s?e:"".concat(e,"0"),p={},h=yield w(e,f,n,i,o,c,u,p);if(Object(a.x)(h))return t;var v=null===(l=i.AdditionalParameters)||void 0===l?void 0:l.EnableCanvasOffline;if(v&&p&&Object.keys(p).length>0){var m=Object.keys(p).map(e=>p[e]);t=yield Object(g.a)(e,t,m.join(";"),i,o,c)}var b="".concat(r.c.where," ").concat(h," ").concat(r.c.collateNoCase," ");return S(t,b)}catch(O){if(o.error("".concat(G()," Failed to apply filter clause: ").concat(Object(a.o)(O)),c.commonEventParameters),yield Object(d.v)(i,y.f))throw O;return t}}))).apply(this,arguments)}function S(e,t){var n=e.split(r.l.WHERE_START);if(2===n.length){var a=n[1].replace(/where/i,"".concat(t," ").concat(p.h.and));e="".concat(n[0]," ").concat(r.l.WHERE_START).concat(a)}else if(1===n.length){var i=e.split(r.l.ORDERBY_START);e=2===i.length?"".concat(i[0]," ").concat(r.l.WHERE_START).concat(t).concat(r.l.WHERE_END," ").concat(r.l.ORDERBY_START).concat(i[1]):"".concat(e," ").concat(r.l.WHERE_START).concat(t).concat(r.l.WHERE_END)}return e}function C(e,t){return S(e,r.c.where+r.p.space+r.p.openSQBracket+t+r.p.closeSQBracket+r.p.space+r.p.equal+r.p.space+r.p.question+r.p.space+r.c.collateNoCase)}function w(e,t,n,r,a,i){return T.apply(this,arguments)}function T(){return(T=O((function*(e,t,n,r,i,o){var s,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},p=o.commonEventParameters,h=new c.a(e,o,r,i,u,l),v=yield Object(d.v)(r,y.d),m=null===(s=r.AdditionalParameters)||void 0===s?void 0:s.EnableCanvasOffline,g=yield Object(d.v)(r,y.a),b=m&&!g,O=yield h.parse(n,v,m,b);if(Object(a.v)(O))return i.error("".concat(G()," Failed to apply filter clause: Empty FilterExpression"),p),"";var E=new f.a;return(E=yield j(O,t,e,E,r,i,o,u)).getWhereClause().join("").length<1?(i.error("".concat(G()," Failed to generate filter clause: Empty WhereClause"),p),""):E.getWhereClause().join("")}))).apply(this,arguments)}function j(e,t,n,r,a,i,o){return N.apply(this,arguments)}function N(){return(N=O((function*(e,t,n,r,o,c,s){var u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{};if(Object(a.v)(e))return r;try{if(r.beginWritingFilter(e.getFilterOperator()),!Object(a.v)(e.getConditions()))for(var l of e.getConditions())if(U(l)){r.beginWritingFilter(p.f.or),r=yield P(l,r,n,t,o,c,s,u);var d={attributeName:l.attributeName,operator:p.a.null,value:l.value};(r=yield P(d,r,n,t,o,c,s,u)).endWritingFilter()}else r=yield P(l,r,n,t,o,c,s,u);if(!Object(a.v)(e.getFilterExpressions()))for(var f of e.getFilterExpressions())r=yield j(f,t,n,r,o,c,s,u);return r.endWritingFilter(),r}catch(v){var h="Failed to visitFilterExpression: ".concat(Object(a.o)(v));return c.error("".concat(G()," ").concat(h),s.commonEventParameters),Promise.reject(new i.a(h))}}))).apply(this,arguments)}function P(e,t,n,r,a,i,o){return I.apply(this,arguments)}function I(){return(I=O((function*(e,t,n,o,c,s,u){var f=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{};try{var h,m,g=[],b="",O=u.commonEventParameters;if(Object(a.v)(e.value)&&!M(e.operator)){var E="This conditional operator is not support null/undefined compared value";return s.warn("".concat(G()," ").concat(E),O),Promise.reject(new i.a(E))}var _=e.operator,S=e.attributeName,{conditionEntityName:C,conditionAlias:w}=R(n,o,e,f,s,u),T=yield Object(l.r)(S,C,c,s,u),j=null===(h=c.AdditionalParameters)||void 0===h?void 0:h.EnableCanvasOffline,N=yield Object(d.v)(c,y.a),P=j&&!N;switch(yield B(S,j?C:n,_,c,s,u),_){case p.a.in:case p.a.notIn:var I=[];m=e.value.split(",");for(var D=0;D<m.length;D++)I.join("").length>0&&I.push(", "),I.push("'".concat(yield x(S,j?C:n,m[D],c,s,u),"'"));b="(".concat(I.join(""),")"),g.push(yield k(w,S,T,C,_,b,c,s,u));break;case p.a.between:case p.a.notBetween:m=e.value.split(","),b="'".concat(yield x(S,C,m[0],c,s,u),"' and\n        '").concat(yield x(S,C,m[1],c,s,u),"'"),g.push(yield k(w,S,T,C,_,b,c,s,u));break;case p.a.beginsWith:case p.a.endsWith:case p.a.notBeginWith:case p.a.notEndWith:b=yield x(S,C,e.value,c,s,u),P&&(b=Object(a.s)(Object(a.h)(b,!1))),_===p.a.beginsWith||_===p.a.notBeginWith?b="'".concat(b,"%'"):_!==p.a.endsWith&&_!==p.a.notEndWith||(b="'%".concat(b,"'")),g.push(yield k(w,S,T,C,_,b,c,s,u));break;case p.a.like:case p.a.notLike:b=yield x(S,C,e.value,c,s,u),j?(P&&(b=Object(a.s)(Object(a.h)(b,!1))),b="'%".concat(b,"%'")):b="'".concat(b,"'"),g.push(yield k(w,S,T,C,_,b,c,s,u));break;case p.a.equalsUserId:case p.a.notEqualsUserId:b="'".concat(yield Object(d.p)(c,O),"'"),g.push(yield k(w,S,T,C,_,b,c,s,u));break;case p.a.equalsUserTeams:case p.a.equalsUserOrUserTeams:b=yield L(_,w,T,c,O);var A=yield k(w,S,T,C,_,b,c,s,u);_===p.a.equalsUserOrUserTeams?g.push("(".concat(A,")")):g.push(A);break;case r.e.on:case r.e.onOrBefore:case r.e.onOrAfter:case r.e.today:case r.e.yesterday:case r.e.tomorrow:case r.e.lastWeek:case r.e.thisWeek:case r.e.nextWeek:case r.e.lastMonth:case r.e.thisMonth:case r.e.nextMonth:case r.e.lastYear:case r.e.thisYear:case r.e.nextYear:case r.e.last7Days:case r.e.next7Days:case r.e.lastXDays:case r.e.nextXDays:case r.e.lastXWeeks:case r.e.nextXWeeks:case r.e.lastXMonths:case r.e.nextXMonths:case r.e.lastXYears:case r.e.nextXYears:g.push(yield Object(v.a)(T,w,C,e.value,_,c,s,O));break;case p.a.null:g.push("[".concat(w,"].[").concat(T,"] is null "));break;case p.a.notNull:g.push("[".concat(w,"].[").concat(T,"] is not null "));break;default:b="'".concat(yield x(S,C,e.value,c,s,u),"'"),g.push(yield k(w,S,T,C,_,b,c,s,u))}return t.appendCondition(g.join("")),t}catch(F){if(s.error("".concat(G()," Failed to apply filter for condition ").concat(e.entityName," ").concat(e.attributeName," ").concat(e.operator)),yield Object(d.v)(c,y.f))throw F}return t}))).apply(this,arguments)}function R(e,t,n,r,a,o){var c,s;if(n.entityName){if(!(c=r&&r[n.entityName])&&r){for(var u of Object.keys(r))if(r[u]===n.entityName){if(s){var l="There's more than one LinkEntity expressions with name=".concat(n.entityName);throw a.warn("".concat(G()," ").concat(l),o.commonEventParameters),new i.a(l)}if(n.entityName===e){var d="Ambiguous reference (entityname=".concat(e,"). At least one of link-entity nodes has the same entity name as the main entity");throw a.warn("".concat(G()," ").concat(d),o.commonEventParameters),new i.a(d)}s=u,c=n.entityName}}else s=n.entityName;if(!c||!s){var f="Unknown alias for condition: ".concat(n.entityName);throw a.warn("".concat(G()," ").concat(f),o.commonEventParameters),new i.a(f)}}else c=e,s=t;return{conditionEntityName:c,conditionAlias:s}}function M(e){return function(e){switch(e){case p.a.equalsUserId:case p.a.notEqualsUserId:case p.a.equalsUserTeams:case p.a.equalsUserOrUserTeams:return!0;default:return!1}}(e)||Object(h.y)(e)||function(e){switch(e){case p.a.null:case p.a.notNull:return!0;default:return!1}}(e)}function x(e,t,n,r,a,i){return D.apply(this,arguments)}function D(){return(D=O((function*(e,t,n,r,i,o){if(o.internalRequest)return n;var c=yield Object(d.c)(r,t,[],o.commonEventParameters);if(Object(a.w)(c)){var u="Unable to get attribute metadata descriptor that associated to entity: ".concat(t);return i.warn("".concat(G()," ").concat(u),o.commonEventParameters),Promise.reject(u)}var l=c[e];if(Object(a.w)(l)){var f="Attribute metadata descriptor that is associated to entity: ".concat(t," does not exist in DB");return i.warn("".concat(G()," ").concat(f),o.commonEventParameters),Promise.reject(f)}var p,h=n;if(l.Type===s.a.EntityName&&(i.warn("".concat(G()," Encountered attribute for entity type with value ").concat(n,", ignore\n          entity logical name of ").concat(l.EntityLogicalName," and get logical name from entity type instead"),o.commonEventParameters),h=yield Object(d.i)(r,parseInt(n,10),o.commonEventParameters)),l.Type===s.a.Boolean)switch(null===(p=h)||void 0===p?void 0:p.toLowerCase()){case"false":h="0";break;case"true":h="1";break;default:var v="Attribute type for ".concat(e," is boolean and the value provided is ").concat(h);i.warn("".concat(G()," ").concat(v),o.commonEventParameters)}return A(h,l.Type)}))).apply(this,arguments)}function A(e,t){if(!Object(a.v)(e))switch(t){case s.a.Lookup:case s.a.Customer:case s.a.Owner:case s.a.UniqueIdentifier:var n=new u.a(e.toString());e=n.guid;break;case s.a.DateTime:e=Object(h.z)(e)}return e}function k(e,t,n,r,a,i,o,c,s){return F.apply(this,arguments)}function F(){return(F=O((function*(e,t,n,r,o,c,s,u,d){try{var f;if(f=d.internalRequest?null:yield Object(l.l)(t,r,s,d.commonEventParameters)){var p=[];return Object(l.a)(f,p,e),p.join("")}return"[".concat(e,"].[").concat(n,"] ").concat(Object(l.g)(o)," ").concat(c)}catch(h){return u.error("".concat(G()," Failed to getQueryForCondition for attribute: ").concat(t," and entity ").concat(r," with  ").concat(Object(a.o)(h))),Promise.reject(new i.a(h))}}))).apply(this,arguments)}function L(e,t,n,r,a){return q.apply(this,arguments)}function q(){return(q=O((function*(e,t,n,r,a){var i=yield Object(d.p)(r,a),o="(SELECT TeamId FROM TeamMembership WHERE SystemUserId = '".concat(i,"')");return"eq-useroruserteams"===e&&(o+=" or ".concat(t,".[").concat(n,"] = '").concat(i,"'")),o}))).apply(this,arguments)}function U(e){switch(e.operator){case"not-in":case"not-begin-with":case"not-end-with":return!0;case"ne":case"not-like":return""!==e.value;default:return!1}}function B(e,t,n,r,a,i){return V.apply(this,arguments)}function V(){return(V=O((function*(e,t,n,r,i,o){if(!o.internalRequest){var c=yield Object(d.c)(r,t,[],o.commonEventParameters);if(Object(a.w)(c)||Object(a.w)(c[e])){var s="Unable to get attribute metadata descriptor that associated to entity: ".concat(t,". Return the given attributeName: ").concat(e);return i.error("".concat(G()," ").concat(s),o.commonEventParameters),Promise.reject(new Error(s))}var u=c[e].Type;if(u in m.a)if(m.a[u].indexOf(n)<0){var l="Condition Operation: ".concat(n," is not supported on Attribute Type: ").concat(u," of Attribute: ").concat(e);return i.error("".concat(G()," ").concat(l),o.commonEventParameters),Promise.reject(new Error(l))}}}))).apply(this,arguments)}function G(e){return"[".concat(e||o.d.ApplyFilterSQLGenerator,"]")}},20702:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n(20684),a=n(20594),i=n(20701),o=n(20699),c=n(20585),s=n(20588),u=n(20601),l=n(20685),d=n(20676),f=n(20675);function p(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function h(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){p(i,r,a,o,c,"next",e)}function c(e){p(i,r,a,o,c,"throw",e)}o(void 0)}))}}class v{constructor(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.entityLogicalName=void 0,this.operatorStack=void 0,this.operandStack=void 0,this.executionContext=void 0,this.applicationContext=void 0,this.commonEventParameters=void 0,this.tracer=void 0,this.linkEntitiesMap=void 0,this.linkEntitiesForFilter=void 0,this.entityLogicalName=e,this.executionContext=t,this.applicationContext=n,this.commonEventParameters=this.executionContext.commonEventParameters,this.tracer=r,this.operatorStack=[],this.operandStack=[],this.linkEntitiesMap=a,this.linkEntitiesForFilter=i}parse(e){var t=arguments,n=this;return h((function*(){var u=t.length>1&&void 0!==t[1]&&t[1],l=t.length>2&&void 0!==t[2]&&t[2],p=t.length>3&&void 0!==t[3]&&t[3],h=new RegExp("'.*?'|[^()\\s]+|[()]","g"),v=[];if(p)try{for(var m=new d.a(e,p);m.nextToken().kind!==f.a.end;)v.push(m.getToken().text)}catch(P){var y;if(null!==(y=Object(s.o)(P))&&void 0!==y&&y.startsWith("There is an unterminated string literal"))throw P;p=!1,v=[],v=e.match(h)||[]}else v=e.match(h)||[];for(var g=0;g<v.length;g++){var b,O=v[g],E=void 0;if(u&&-1!==(null===(b=O)||void 0===b?void 0:b.indexOf("/"))){var _=yield n.extractAttributeName(O,l);O=_.item,E=_.alias}var S={type:Object(r.j)(O),value:O.toLowerCase()};switch(l&&E&&(S.navigationPropertyEntity=E),S.type){case r.i.openBracket:n.operatorStack.push(S);break;case r.i.closeBracket:n.evaluateStack(!0);break;case r.i.logicalOperator:n.checkPrecendenceWithLastOperator(S.value)&&n.evaluateStack(!1),n.operatorStack.push(S);break;case r.i.operand:try{g+=(yield n.extractOperand(g,O,v,S.navigationPropertyEntity,l,p))}catch(P){var C="Improper Input string with ".concat(null==P?void 0:P.message,", exception raised after '").concat(S.value,"'");throw n.tracer.error("".concat(Object(i.d)()," ").concat(C),n.commonEventParameters),new a.a(C)}break;default:var w="Unsupported token type '".concat(S.type,"'");throw n.tracer.error("".concat(Object(i.d)()," ").concat(w),n.commonEventParameters),new a.a(w)}}if(n.evaluateStack(!0),1!==n.operandStack.length){var T="FilterParser: Error while evaluating expression : Input Expression seems to have improper construct";throw n.tracer.error("".concat(Object(i.d)()," ").concat(T),n.commonEventParameters),new a.a(T)}var j=n.operandStack.pop(),N=new o.a(0,c.a.newGuid().guid);return n.addToFilterExpression(N,j),N}))()}evaluateStack(e){for(;this.operatorStack.length>0;){var t=this.operatorStack.pop();if(Object(s.v)(t)){var n="FilterParser:EvaluateExpression Error While Evaluating Stack";throw this.tracer.error("".concat(Object(i.d)()," ").concat(n),this.commonEventParameters),new a.a(n)}var o=t;if(!o.type){e||this.operatorStack.push(o);break}if(o.type===r.i.logicalOperator){var c=this.getLogicalOperator(o.value),u=void 0;if(c===r.f.not)u=this.createFilterExpressionWithOperands(c,1);else{for(var l=2,d=this.peek(this.operatorStack);d&&d.type===r.i.logicalOperator&&this.getLogicalOperator(d.value)===c;)this.operatorStack.pop(),l++,d=this.peek(this.operatorStack);u=this.createFilterExpressionWithOperands(c,l)}this.operandStack.push(u)}}}extractOperand(e,t,n,r){var a=arguments,i=this;return h((function*(){var o=a.length>4&&void 0!==a[4]&&a[4],c=a.length>5&&void 0!==a[5]&&a[5];return"("===n[e+1]?n[e+2].indexOf("=")>0?i.extractOperandForFunctionWithParams(e,n):yield i.extractOperandForFunction(e,n,o,c):i.extractOperandForOperator(e,t,n,r,o)}))()}extractOperandForOperator(e,t,n,o){var c=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=n[e+1]&&Object(i.e)(n[e+1]),u=s?1:2;if(e+u>=n.length)throw new a.a("Invalid filter with operator");var l=n[e+1],d=n[e+2];if(c&&d===r.b.null)switch(s=!0,this.getConditionalOperator(l)){case r.a.equal:l=r.a.null;break;case r.a.notEqual:l=r.a.notNull;break;default:throw new a.a("Invalid operator for null comparison")}var f,p,h=s?null:this.trimSingleQuotes(d),v=t.split(".");2===v.length?(p=v[0],f=v[1]):f=t;var m={attributeName:f,operator:this.getConditionalOperator(l),value:h};return p&&(m.entityName=p),o&&(m.entityName=o),this.operandStack.push(m),u}extractOperandForFunction(e,t){var n=arguments,r=this;return h((function*(){var i,o=n.length>2&&void 0!==n[2]&&n[2],c=n.length>3&&void 0!==n[3]&&n[3],s=c?5:3;if(e+s>=t.length)throw new a.a("Invalid filter with function");var u,l=t[e],d=t[e+2],f=c?t[e+2]:d.split(",")[0];if(o&&-1!==(null===(i=f)||void 0===i?void 0:i.indexOf("/"))){var p=yield r.extractAttributeName(f,o);f=p.item,u=p.alias}var h=c?t[e+4]:d.split(",")[1],v={attributeName:f,operator:r.getConditionalOperatorFromFunction(l,o),value:r.trimSingleQuotes(h)};return u&&(v.entityName=u),r.operandStack.push(v),s}))()}extractOperandForFunctionWithParams(e,t){if(e+4>=t.length)throw new a.a("Invalid filter with function");var n,r=t[e],i=this.parseParameters(t[e+2],","),o=this.parseParameters(t[e+4],"&","@"),c=this.trimSingleQuotes(o[i.PropertyName]);i.PropertyValues?n=(n=o[i.PropertyValues]).substring(1,n.length-1).split(",").map(e=>this.trimSingleQuotes(e)).join(","):i.PropertyValue&&(n=o[i.PropertyValue],n=this.trimSingleQuotes(n));var s={attributeName:c,operator:this.getConditionalOperatorFromFunction(r),value:n};return this.operandStack.push(s),4}extractAttributeName(e){var t=arguments,n=this;return h((function*(){var r,i,o,c=t.length>1&&void 0!==t[1]&&t[1],s=null===(r=e.split("/"))||void 0===r?void 0:r[0],u=null===(i=e.split("/"))||void 0===i?void 0:i[1],d=yield Object(l.e)(n.applicationContext,n.entityLogicalName,s,n.tracer,n.commonEventParameters);if(d&&u===d.ReferencedAttribute)e=d.ReferencingAttribute;else{if(!d)throw new a.a("Unsupported filter on ".concat(n.entityLogicalName,". No many to one relationship found. Input: ").concat(e));if(!c)throw new a.a("Unsupported filter on ".concat(n.entityLogicalName,". Currently only filter on referenced attribute is supported. Input: ").concat(e));var f;e=null===(f=e.split("/"))||void 0===f?void 0:f[1];var p=null==d?void 0:d.ReferencedEntity;(o="".concat(p,"_").concat(s))&&p&&(n.linkEntitiesMap[o]=p,n.linkEntitiesForFilter[o]="".concat(n.entityLogicalName," ").concat(n.entityLogicalName,"0 ").concat(d.SchemaName," referencing ").concat(o," inner"))}return{item:e,alias:o}}))()}parseParameters(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=e.split(t+n).filter(e=>""!==e).map(e=>{var t=e.indexOf("=");return{["".concat(n).concat(e.substr(0,t))]:e.substr(t+1)}});return Object.assign({},...r)}createFilterExpressionWithOperands(e,t){if(this.operandStack.length<t){var n="FilterParser:EvaluateExpression Error While Evaluating Stack :  Input Expression seems to have improper construct";throw this.tracer.error("".concat(Object(i.d)()," ").concat(n),this.commonEventParameters),new a.a(n)}for(var r=new o.a(e,c.a.newGuid().guid),s=[],u=0;u<t;u++){var l=this.operandStack.pop();l&&s.push(l)}for(var d=0;d<t;d++){var f=s.pop();this.addToFilterExpression(r,f)}return r}addToFilterExpression(e,t){void 0!==t&&(t instanceof o.a?e.addFilterExpression(t):e.addCondition(t.attributeName,t.operator,t.value,t.entityName))}trimSingleQuotes(e){return e.startsWith("'")&&e.endsWith("'")&&(e=(e=e.substring(1,e.length)).substring(0,e.length-1)),e}checkPrecendenceWithLastOperator(e){var t=!1;if(!this.operatorStack.length)return t;var n=this.peek(this.operatorStack);if(!Object(s.v)(n)){var a=n;if(a.type){if(a.type===r.i.logicalOperator){var i=this.getLogicalOperatorPriority(a.value.toLowerCase());this.getLogicalOperatorPriority(e.toLowerCase())>i&&(t=!0)}}else t=!1}return t}getLogicalOperatorPriority(e){switch(e.toLowerCase()){case r.h.not:return r.g.not;case r.h.and:return r.g.and;case r.h.or:return r.g.or;default:var t="An invalid logical operator ".concat(e," passed as input parameter.");throw this.tracer.error("".concat(Object(i.d)()," ").concat(t),this.commonEventParameters),new a.a(t)}}getConditionalOperator(e){switch(e.toLowerCase()){case r.a.equal:case r.a.notEqual:case r.a.greaterThan:case r.a.lessThan:case r.a.like:case r.a.notLike:case r.a.in:case r.a.notIn:case r.a.greaterThanEqual:case r.a.lessThanEqual:case r.a.beginsWith:case r.a.endsWith:case r.a.notBeginWith:case r.a.notEndWith:case r.a.equalsUserId:case r.a.notEqualsUserId:case r.a.equalsUserTeams:case r.a.equalsUserOrUserTeams:case r.a.null:case r.a.notNull:case r.a.between:case r.a.notBetween:case u.e.on:case u.e.onOrBefore:case u.e.onOrAfter:case u.e.today:case u.e.yesterday:case u.e.tomorrow:case u.e.lastWeek:case u.e.thisWeek:case u.e.nextWeek:case u.e.lastMonth:case u.e.thisMonth:case u.e.nextMonth:case u.e.lastYear:case u.e.thisYear:case u.e.nextYear:case u.e.last7Days:case u.e.next7Days:case u.e.lastXDays:case u.e.nextXDays:case u.e.lastXWeeks:case u.e.nextXWeeks:case u.e.lastXMonths:case u.e.nextXMonths:case u.e.lastXYears:case u.e.nextXYears:return e.toLowerCase();default:var t="FilterParser: An invalid conditional operator ".concat(e," passed as input parameter.");throw this.tracer.error("".concat(Object(i.d)()," ").concat(t),this.commonEventParameters),new a.a(t)}}getConditionalOperatorFromFunction(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];switch(e){case r.c.contains:case r.c.functionContains:return r.a.like;case r.c.startsWith:return t?r.a.beginsWith:r.a.like;case r.c.endsWith:return t?r.a.endsWith:r.a.like;case r.c.functionIn:return r.a.in;default:var n="FilterParser: An invalid conditional operator ".concat(e," passed as input parameter.");throw this.tracer.error("".concat(Object(i.d)()," ").concat(n),this.commonEventParameters),new a.a(n)}}getLogicalOperator(e){switch(e.toLowerCase()){case r.h.and:return r.f.and;case r.h.or:return r.f.or;case r.h.not:return r.f.not;default:var t="An invalid logical operator ".concat(e," passed as input parameter.");throw this.tracer.error("".concat(Object(i.d)()," ").concat(t),this.commonEventParameters),new a.a(t)}}peek(e){var t=e.pop();return Object(s.v)(t)||e.push(t),t}}},20703:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(20704),a=n(20684),i=n(20601);class o{constructor(){this.conditionBuilders=[],this.whereClause=[],this.conditionBuilders=[]}beginWritingFilter(e){this.conditionBuilders.push(this.createConditionBuilder(e))}endWritingFilter(){var e=this.conditionBuilders[this.conditionBuilders.length-1];if(this.conditionBuilders.splice(this.conditionBuilders.length-1,1),this.conditionBuilders.length>0)this.conditionBuilders[this.conditionBuilders.length-1].appendCondition(e.getSql());else{var t=e.getSql();this.getWhereClause().join("").length>0&&t.length>0&&this.getWhereClause().push("".concat(i.p.space).concat(a.h.and).concat(i.p.space)),this.getWhereClause().push(t)}}createConditionBuilder(e){if(!(e in[a.f.and,a.f.or,a.f.not]))throw new Error("This logical operator for ".concat(e," is not supported"));return new r.a(a.f[e])}appendCondition(e){this.conditionBuilders[this.conditionBuilders.length-1].appendCondition(e)}getWhereClause(){return this.whereClause}}},20704:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(20588),a=n(20684);class i{constructor(e){this._sqlClause=[],this._logicalOperator=null,this._conditionCount=0,this._logicalOperator=e,this._sqlClause=[],this._conditionCount=0}appendCondition(e){Object(r.x)(e)||(this._conditionCount>0&&this._sqlClause.push(" ".concat(this._logicalOperator," ")),this._logicalOperator===a.h.not?this._sqlClause.push("".concat(this._logicalOperator," ").concat(e)):this._sqlClause.push(e),this._conditionCount++)}getSql(){return this._sqlClause.join("").length>0?"("+this._sqlClause.join("")+")":""}}},20705:function(e,t,n){"use strict";n.d(t,"r",(function(){return d})),n.d(t,"p",(function(){return m})),n.d(t,"f",(function(){return g})),n.d(t,"m",(function(){return b})),n.d(t,"l",(function(){return O})),n.d(t,"n",(function(){return E})),n.d(t,"o",(function(){return _})),n.d(t,"s",(function(){return S})),n.d(t,"t",(function(){return C})),n.d(t,"u",(function(){return w})),n.d(t,"v",(function(){return T})),n.d(t,"x",(function(){return j})),n.d(t,"c",(function(){return N})),n.d(t,"b",(function(){return P})),n.d(t,"d",(function(){return I})),n.d(t,"a",(function(){return R})),n.d(t,"e",(function(){return D})),n.d(t,"h",(function(){return F})),n.d(t,"i",(function(){return L})),n.d(t,"j",(function(){return q})),n.d(t,"g",(function(){return U})),n.d(t,"k",(function(){return B})),n.d(t,"w",(function(){return V})),n.d(t,"q",(function(){return H})),n.d(t,"y",(function(){return z})),n.d(t,"z",(function(){return W}));var r,a=n(20601),i=n(20592),o=n(20588),c=n(20589),s=n(20594);function u(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){u(i,r,a,o,c,"next",e)}function c(e){u(i,r,a,o,c,"throw",e)}o(void 0)}))}}function d(e){var t=function(e){var t=new Date(Date.now()),n=6e4*t.getTimezoneOffset(),r=6e4*e.timezoneutcoffsetminutes;return new Date(t.getTime()+n+r)}(e),n=f(t,g(e.timezoneadjusters));return new Date(t.getTime()+n)}function f(e,t){if(!t)return 0;var n=null,r=new Date(e.getTime());r.setHours(0),r.setMinutes(0),r.setSeconds(0),r.setMilliseconds(0);for(var a=0;a<t.length;a++){var i=t[a].datestart,o=t[a].dateend;if(r>=i&&r<=o){n=t[a];break}}return n?function(e,t){var n=t.getFullYear(),r=p(e.daylightstart,n),a=p(e.daylightend,n);if(a<r){if(t>r||t<a)return e.delta}else if(t>r&&t<a)return e.delta;return 0}(n,e):0}function p(e,t){if(e.isfixeddaterule)return new Date(t,e.month,e.day,e.timeofday.getHours(),e.timeofday.getMinutes(),e.timeofday.getSeconds());var n,r=7*e.week-6,a=new Date(t,e.month,1).getDay();return(n=a>e.dayofweek?r+(7-a+e.dayofweek):r+(e.dayofweek-a))>function(e,t){if(/8|3|5|10/.test(e.toString()))return 30;if(1!==e)return 31;return function(e){return e%4==0&&e%100!=0||e%400==0}(t)?29:28}(e.month,t)&&(n-=7),new Date(t,e.month,n,e.timeofday.getHours(),e.timeofday.getMinutes(),e.timeofday.getSeconds())}function h(e){return t=e.getFullYear(),n=e.getMonth()+1,r=e.getDate(),a=e.getHours(),i=e.getMinutes(),o=e.getSeconds(),c=e.getMilliseconds(),s=n<10?"0".concat(n):n,u=r<10?"0".concat(r):r,l=a<10?"0".concat(a):a,d=i<10?"0".concat(i):i,f=o<10?"0".concat(o):o,p=c<100?c<10?"00".concat(c):"0".concat(c):c,"'".concat(t,"-").concat(s,"-").concat(u," ").concat(l,":").concat(d,":").concat(f,".").concat(p,"'");var t,n,r,a,i,o,c,s,u,l,d,f,p}function v(e){return"strftime('%Y-%m-%dT%H:%M:%SZ', DATETIME(".concat(h(e),"))")}function m(e,t){return h(y(e,t))}function y(e,t){var n=6e4*e.timezoneutcoffsetminutes;return n+=f(t,g(e.timezoneadjusters)),new Date(t.getTime()-n)}function g(e){return e.map(e=>({datestart:new Date(e.datestart),dateend:new Date(e.dateend),daylightstart:{day:e.daylightstart.day,month:e.daylightstart.month,dayofweek:e.daylightstart.dayofweek,week:e.daylightstart.week,timeofday:new Date(e.daylightstart.timeofday),isfixeddaterule:e.daylightstart.isfixeddaterule},delta:e.delta,daylightend:{day:e.daylightend.day,month:e.daylightend.month,dayofweek:e.daylightend.dayofweek,week:e.daylightend.week,timeofday:new Date(e.daylightend.timeofday),isfixeddaterule:e.daylightend.isfixeddaterule}}))}function b(e){return e.setMinutes(0,0,0),e}function O(e){return e.setHours(0,0,0,0),e}function E(e){var t=O(e);return t.setDate(1),t}function _(e){var t=E(e);return t.setMonth(0),t}function S(e){return Math.trunc(e.timezoneutcoffsetminutes/60)}function C(e){return e.timezoneutcoffsetminutes%60}function w(e){return-1*S(e)}function T(e){return-1*C(e)}function j(e,t){try{var n=e.datetimeformatinfo.FirstDayOfWeek;return(t=new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0)).getDay()<n?R(t,n-t.getDay()-7):R(t,n-t.getDay())}catch(r){throw new Error("Failed to getWorkWeekStartDateFromUserSettings ".concat(r))}}function N(e,t){return R(e,7*t)}function P(e,t){var n=new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds());return n.setMonth(e.getMonth()+t),n}function I(e,t){var n=new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds());return n.setFullYear(e.getFullYear()+t),n}function R(e,t){var n=new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds());return n.setDate(e.getDate()+t),n}function M(e,t,n){return x.apply(this,arguments)}function x(){return(x=l((function*(e,t,n){try{return y(yield Object(i.r)(t,n),e)}catch(a){var r=Object(o.o)(a)||"Failed to substitute date time placeholder";throw new s.a(r)}}))).apply(this,arguments)}function D(e,t,n){return A.apply(this,arguments)}function A(){return(A=l((function*(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];switch(t){case c.a.DateOnly:return B(e);case c.a.TimeZoneIndependent:return e;case c.a.UserLocal:return yield M(e,n,r);default:return Promise.reject(new s.a("The Attribute's DateTime Behavior is Undefined!"))}}))).apply(this,arguments)}function k(e,t){return"rtrim([".concat(e,"].[").concat(t,"])")}function F(e,t,n,r){var a=k(e,t),i=v(n),o=v(r);return" ".concat(a," >= ").concat(i," and ").concat(a," < ").concat(o," ")}function L(e,t,n,r){var a=k(e,t),i=v(n),o=v(r);return" ".concat(a," >= ").concat(i," and ").concat(a," <= ").concat(o," ")}function q(e,t,n,r){var i=k(e,t),o=v(n),c="";return r===a.e.onOrBefore?c="<":a.e.onOrAfter&&(c=">=")," ".concat(i," ").concat(c," ").concat(o," ")}function U(e){if(Object(o.v)(e))throw new s.a("DateTime input value is null");if(e instanceof Date)return e;var t=e,n=new RegExp("[-]","ig");return t=t.replace(n,"/"),t=(t=t.replace(r||(r=new RegExp("[Z,T]","ig"))," ")).lastIndexOf(".")>-1?t.substr(0,t.lastIndexOf(".")):t,new Date(Date.parse(t))}function B(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate())}function V(e){return G.apply(this,arguments)}function G(){return(G=l((function*(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];try{var n=yield Object(i.r)(e,t),r=d(n);return j(n,r)}catch(c){var a=Object(o.o)(c)||"Failed to substitute date time placeholder";throw new Error(a)}}))).apply(this,arguments)}function H(e){return Q.apply(this,arguments)}function Q(){return(Q=l((function*(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];try{var n=yield Object(i.r)(e,t);return d(n)}catch(a){var r=Object(o.o)(a)||"Failed to substitute date time placeholder";throw new Error(r)}}))).apply(this,arguments)}function z(e){switch(e){case a.e.last7Days:case a.e.next7Days:case a.e.yesterday:case a.e.today:case a.e.tomorrow:case a.e.nextWeek:case a.e.lastWeek:case a.e.thisWeek:case a.e.lastMonth:case a.e.nextMonth:case a.e.thisMonth:case a.e.lastYear:case a.e.nextYear:case a.e.thisYear:case a.e.anyTime:return!0;default:return!1}}function W(e){var t=e.trim(),n=(t=t.replace(/[/]/gi,"-")).match(/[Z,T]/gi);if(n&&!Object(o.x)(n)&&2===n.length&&n.indexOf("Z")>0&&n.indexOf("T")>0&&!isNaN(Date.parse(t)))return t;var r,a,i,c=(t=t.replace(/[Z,T]/gi," ").trim()).split(" ");return c.length>1?t="".concat(Y(c[0],e),"T").concat((r=c[1],a=e,i="",r.split(":").forEach(e=>{i+="".concat(X(e,a),":")}),i=i.substring(0,i.length-1)),"Z"):1===c.length&&(t="".concat(Y(c[0],e),"T00:00:00.000Z")),isNaN(Date.parse(t))&&K(e),t}function Y(e,t){var n="";return e.split("-").forEach(e=>{n+=4!==e.length?"".concat(X(e,t),"-"):"".concat(e,"-")}),n=n.substring(0,n.length-1)}function X(e,t){return-1===e.indexOf(".")?(e.length>2&&K(t),e.length<2?"0".concat(e):e):(e.length>10&&K(t),e.split(".")[0].length<2?"0".concat(e):e)}function K(e){throw new Error("Incorrect datetime string format".concat(e?": ".concat(e):""))}},20706:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n(20592),a=n(20586),i=n(20588),o=n(20584),c=n(20589),s=n(20594),u=n(20705),l=n(20601);function d(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){d(i,r,a,o,c,"next",e)}function c(e){d(i,r,a,o,c,"throw",e)}o(void 0)}))}}function p(e,t,n,r){return h.apply(this,arguments)}function h(){return(h=f((function*(e,t,n,o){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],u=yield Object(r.c)(n,t,[],s);if(Object(i.w)(u)){var l="Unable to get attribute metadata descriptor that associated to entity: ".concat(t);return o.warn("".concat(U()," ").concat(l),s),Promise.reject(l)}var d=u[e];if(Object(i.w)(d)){var f="Attribute metadata descriptor that is associated to entity: ".concat(t," does not exist in DB");return o.warn("".concat(U()," ").concat(f),s),Promise.reject(f)}if(!d.Type||d.Type!==a.a.DateTime){var p="Attribute Type is not DateTime though the given condition operator is of DateTime type.";return o.warn("".concat(U()," ").concat(p),s),Promise.reject(p)}return d.Behavior?d.Behavior:c.a.None}))).apply(this,arguments)}function v(e,t,n,r,a,i,o){return m.apply(this,arguments)}function m(){return(m=f((function*(e,t,n,r,a,i,o){var c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[];try{var u=yield p(e,n,i,o,c);switch(a){case l.e.onOrBefore:case l.e.onOrAfter:return yield _(e,t,r,u,a,i,o,c);case l.e.lastXDays:case l.e.lastXWeeks:case l.e.lastXMonths:case l.e.lastXYears:case l.e.last7Days:return yield C(e,t,r,u,a,i,o,c);case l.e.nextXDays:case l.e.nextXWeeks:case l.e.nextXMonths:case l.e.nextXYears:case l.e.next7Days:return yield T(e,t,r,u,a,i,o,c);case l.e.on:case l.e.today:case l.e.yesterday:case l.e.tomorrow:case l.e.lastWeek:case l.e.thisWeek:case l.e.nextWeek:case l.e.lastMonth:case l.e.thisMonth:case l.e.nextMonth:case l.e.lastYear:case l.e.thisYear:case l.e.nextYear:return yield N(e,t,r,u,a,i,c);default:var d="GenerateDateTimeQueryString does not support DateTimeType of ".concat(a);return o.error("".concat(U()," ").concat(d)),Promise.reject(new s.a(d))}}catch(d){return o.error("".concat(U()," ").concat(d.message||d)),Promise.reject(new s.a(d))}}))).apply(this,arguments)}function y(e){if(Object(i.w)(e))throw new s.a("X input Value is null or undefined");var t=Number(e);if(t<1)throw new s.a("X input Value cannot be negative");return t}function g(e,t){return b.apply(this,arguments)}function b(){return(b=f((function*(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=yield Object(u.q)(t,n),a=yield Object(u.e)(r,e,t,n);r=new Date(r.getFullYear(),r.getMonth(),r.getDate(),0,0,0);var i=yield Object(u.e)(r,e,t,n);return{endUTCDate:a,currentUTCDateMidnight:i}}))).apply(this,arguments)}function O(e,t){return E.apply(this,arguments)}function E(){return(E=f((function*(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=yield Object(u.q)(t,n),a=yield Object(u.e)(r,e,t,n);(r.getHours()||r.getMinutes()||r.getSeconds()||r.getMilliseconds())&&(r=Object(u.a)(r,1)),r=new Date(r.getFullYear(),r.getMonth(),r.getDate(),0,0,0);var i=yield Object(u.e)(r,e,t,n);return{startUTCDate:a,currentUTCDateMidnight:i}}))).apply(this,arguments)}function _(e,t,n,r,a,i,o){return S.apply(this,arguments)}function S(){return(S=f((function*(e,t,n,r,a,i,o){var c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[];try{var l=yield L(n,r,a,i,c);return Object(u.j)(t,e,l,a)}catch(d){return o.error("".concat(U()," Failed to generate query for DateTimeType: ").concat(a," with ").concat(d.message||d)),Promise.reject(new s.a(d))}}))).apply(this,arguments)}function C(e,t,n,r,a,i,o){return w.apply(this,arguments)}function w(){return(w=f((function*(e,t,n,r,a,i,o){var c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[];a===l.e.last7Days&&(n="7");var s,d=y(n),f=yield g(r,i,c);if(!f.currentUTCDateMidnight||!f.endUTCDate)return o.warn("".concat(U()," skip generated sqlite query string for DateTimeLastXOperator with currUTCDateMidnight: ").concat(f.currentUTCDateMidnight," and endUTCDate: ").concat(f.endUTCDate,"..")),"";switch(a){case l.e.lastXDays:case l.e.last7Days:s=Object(u.a)(f.currentUTCDateMidnight,-1*d);break;case l.e.lastXWeeks:s=Object(u.c)(f.currentUTCDateMidnight,-1*d);break;case l.e.lastXMonths:s=Object(u.b)(f.currentUTCDateMidnight,-1*d);break;case l.e.lastXYears:s=Object(u.d)(f.currentUTCDateMidnight,-1*d);break;default:return""}return Object(u.i)(t,e,s,f.endUTCDate)}))).apply(this,arguments)}function T(e,t,n,r,a,i,o){return j.apply(this,arguments)}function j(){return(j=f((function*(e,t,n,r,a,i,o){var c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[];a===l.e.next7Days&&(n="7");var s,d=y(n),f=yield O(r,i,c);if(!f.currentUTCDateMidnight||!f.startUTCDate)return o.warn("".concat(U()," skip generated sqlite query string for DateTimeNextXOperator with currUTCDateMidnight: ").concat(f.currentUTCDateMidnight," and startUTCDate: ").concat(f.startUTCDate,"..")),"";switch(a){case l.e.nextXDays:case l.e.next7Days:s=Object(u.a)(f.currentUTCDateMidnight,d);break;case l.e.nextXWeeks:s=Object(u.c)(f.currentUTCDateMidnight,d);break;case l.e.nextXMonths:s=Object(u.b)(f.currentUTCDateMidnight,d);break;case l.e.nextXYears:s=Object(u.d)(f.currentUTCDateMidnight,d);break;default:return""}return Object(u.h)(t,e,f.startUTCDate,s)}))).apply(this,arguments)}function N(e,t,n,r,a,i){return P.apply(this,arguments)}function P(){return(P=f((function*(e,t,n,r,a,i){var o,c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[];switch(a){case l.e.today:case l.e.yesterday:case l.e.tomorrow:case l.e.on:o=yield I(a,n,i,c);break;case l.e.thisWeek:case l.e.lastWeek:case l.e.nextWeek:o=yield M(a,i,c);break;case l.e.thisMonth:case l.e.lastMonth:case l.e.nextMonth:o=yield D(a,i,c);break;case l.e.thisYear:case l.e.lastYear:case l.e.nextYear:o=yield k(a,i,c);break;default:throw new s.a("generateSQLiteQueryForDateOperator does not support DateTimeType: ".concat(a))}var d=yield Object(u.e)(o.startDate,r,i,c),f=yield Object(u.e)(o.endDate,r,i,c);return Object(u.h)(t,e,d,f)}))).apply(this,arguments)}function I(e,t,n){return R.apply(this,arguments)}function R(){return(R=f((function*(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=yield Object(u.q)(n,r),o=null;switch(e){case l.e.today:o=0;break;case l.e.yesterday:o=-1;break;case l.e.tomorrow:o=1;break;case l.e.on:break;default:throw new s.a("getStartTimeAndEndTimeForDayOperator does not support DateTimeType: ".concat(e))}Object(i.v)(o)||(t=Object(u.a)(a,o));var c=Object(u.g)(t);c=Object(u.k)(c);var d=Object(u.a)(c,1);return{startDate:c,endDate:d}}))).apply(this,arguments)}function M(e,t){return x.apply(this,arguments)}function x(){return(x=f((function*(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=yield Object(u.w)(t,r);switch(e){case l.e.thisWeek:n=1;break;case l.e.lastWeek:n=-1;break;case l.e.nextWeek:a=Object(u.c)(a,1),n=1;break;default:throw new s.a("getStartTimeAndEndTimeForWeekOperator does not support DateTimeType: ".concat(e))}var i=Object(u.c)(a,n);return{startDate:a,endDate:i}}))).apply(this,arguments)}function D(e,t){return A.apply(this,arguments)}function A(){return(A=f((function*(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=yield Object(u.q)(t,r),i=new Date(a.getFullYear(),a.getMonth(),1);switch(e){case l.e.thisMonth:n=1;break;case l.e.lastMonth:n=-1;break;case l.e.nextMonth:i=Object(u.b)(i,1),n=1;break;default:throw new s.a("getStartTimeAndEndTimeForMonthOperator does not support DateTimeType: ".concat(e))}var o=Object(u.b)(i,n);return{startDate:i,endDate:o}}))).apply(this,arguments)}function k(e,t){return F.apply(this,arguments)}function F(){return(F=f((function*(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=yield Object(u.q)(t,r),i=new Date(a.getFullYear(),0,1);switch(e){case l.e.thisYear:n=1;break;case l.e.lastYear:n=-1;break;case l.e.nextYear:i=Object(u.d)(i,1),n=1;break;default:throw new s.a("getStartTimeAndEndTimeForYearOperator does not support DateTimeType: ".concat(e))}var o=Object(u.d)(i,n);return{startDate:i,endDate:o}}))).apply(this,arguments)}function L(e,t,n,r){return q.apply(this,arguments)}function q(){return(q=f((function*(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],i=Object(u.g)(e);i=Object(u.k)(i),n===l.e.onOrBefore&&(i=Object(u.a)(i,1));var o=yield Object(u.e)(i,t,r,a);return o}))).apply(this,arguments)}function U(e){return"[".concat(e||o.d.DateTimeOperators,"]")}},20707:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(20586),a=n(20601),i=n(20684),o={[r.a.UniqueIdentifier]:[i.a.null,i.a.notNull,i.a.in,i.a.notIn,i.a.equal,i.a.notEqual,i.a.greaterThan,i.a.greaterThanEqual,i.a.lessThan,i.a.lessThanEqual,i.a.equalsUserId,i.a.notEqualsUserId],[r.a.Boolean]:[i.a.null,i.a.notNull,i.a.equal,i.a.notEqual,i.a.like,i.a.notLike,i.a.beginsWith,i.a.notBeginWith,i.a.endsWith,i.a.notEndWith,i.a.in,i.a.notIn],[r.a.String]:[i.a.null,i.a.notNull,i.a.equal,i.a.notEqual,i.a.like,i.a.notLike,i.a.beginsWith,i.a.notBeginWith,i.a.endsWith,i.a.notEndWith],[r.a.PickList]:[i.a.null,i.a.notNull,i.a.equal,i.a.notEqual,i.a.like,i.a.notLike,i.a.beginsWith,i.a.notBeginWith,i.a.endsWith,i.a.notEndWith,i.a.in,i.a.notIn],[r.a.State]:[i.a.null,i.a.notNull,i.a.equal,i.a.notEqual,i.a.like,i.a.notLike,i.a.beginsWith,i.a.notBeginWith,i.a.endsWith,i.a.notEndWith,i.a.in,i.a.notIn],[r.a.Status]:[i.a.null,i.a.notNull,i.a.equal,i.a.notEqual,i.a.like,i.a.notLike,i.a.beginsWith,i.a.notBeginWith,i.a.endsWith,i.a.notEndWith,i.a.in,i.a.notIn],[r.a.EntityName]:[i.a.null,i.a.notNull,i.a.equal,i.a.notEqual,i.a.like,i.a.notLike,i.a.beginsWith,i.a.notBeginWith,i.a.endsWith,i.a.notEndWith,i.a.in,i.a.notIn],[r.a.Customer]:[i.a.null,i.a.notNull,i.a.equal,i.a.notEqual,i.a.in,i.a.notIn],[r.a.Lookup]:[i.a.null,i.a.notNull,i.a.in,i.a.notIn,i.a.equal,i.a.notEqual,i.a.equalsUserId,i.a.notEqualsUserId],[r.a.Owner]:[i.a.null,i.a.notNull,i.a.in,i.a.notIn,i.a.equal,i.a.notEqual,i.a.equalsUserId,i.a.notEqualsUserId,i.a.equalsUserTeams,i.a.equalsUserOrUserTeams],[r.a.Integer]:[i.a.equal,i.a.notEqual,i.a.null,i.a.notNull,i.a.greaterThan,i.a.greaterThanEqual,i.a.lessThan,i.a.lessThanEqual],[r.a.BigInt]:[i.a.equal,i.a.notEqual,i.a.null,i.a.notNull,i.a.greaterThan,i.a.greaterThanEqual,i.a.lessThan,i.a.lessThanEqual],[r.a.Double]:[i.a.equal,i.a.notEqual,i.a.null,i.a.notNull,i.a.greaterThan,i.a.greaterThanEqual,i.a.lessThan,i.a.lessThanEqual],[r.a.Decimal]:[i.a.equal,i.a.notEqual,i.a.null,i.a.notNull,i.a.greaterThan,i.a.greaterThanEqual,i.a.lessThan,i.a.lessThanEqual],[r.a.Money]:[i.a.equal,i.a.notEqual,i.a.null,i.a.notNull,i.a.greaterThan,i.a.greaterThanEqual,i.a.lessThan,i.a.lessThanEqual,i.a.in,i.a.notIn],[r.a.DateTime]:[a.e.onOrAfter,a.e.on,a.e.onOrBefore,a.e.today,a.e.tomorrow,a.e.yesterday,a.e.next7Days,a.e.last7Days,a.e.nextWeek,a.e.lastWeek,a.e.thisWeek,a.e.nextMonth,a.e.lastMonth,a.e.thisMonth,a.e.nextYear,a.e.lastYear,a.e.thisYear,a.e.lastXDays,a.e.nextXDays,a.e.lastXWeeks,a.e.nextXWeeks,a.e.lastXMonths,a.e.nextXMonths,a.e.lastXYears,a.e.nextXYears,a.e.anyTime,i.a.null,i.a.notNull,i.a.equal,i.a.notEqual,i.a.greaterThan,i.a.greaterThanEqual,i.a.lessThan,i.a.lessThanEqual]}},20708:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(20584),a=n(20684),i=n(20701),o=n(20601),c=n(20592),s=n(20709),u=n(20648),l=n(20588),d=n(20611);function f(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){f(i,r,a,o,c,"next",e)}function c(e){f(i,r,a,o,c,"throw",e)}o(void 0)}))}}function h(e,t,n,r,a,i){return v.apply(this,arguments)}function v(){return(v=p((function*(e,t,n,r,a,i){var o=i.commonEventParameters||[],u=n.split(";").map(e=>e.trim());if(u.length<1){var l="Failed to apply link entity - No link entity hint found";if(a.error("".concat(O()," ").concat(l),o),yield Object(c.v)(r,d.f))throw new Error(l);return t}try{var f=yield m(u,e,r,a,o,i);t=Object(s.b)(e,t,f)}catch(p){if(a.error("".concat(O()," Failed to apply link entity - ").concat(null==p?void 0:p.message),o),yield Object(c.v)(r,d.f))throw p}return t}))).apply(this,arguments)}function m(e,t,n,r,a,i){return y.apply(this,arguments)}function y(){return(y=p((function*(e,t,n,r,o,u){"[".concat(t,"0]");for(var f=a.h.and,p=yield g(e,n,r,o),h="",v=[],m=0;m<p.length;m++){var y=p[m],b="";if(y.filter)try{b=yield Object(i.c)(y.name,y.alias,y.filter,n,r,u)}catch(E){if(r.error("".concat(O()," Failed to apply filter clause: ").concat(Object(l.o)(E)),u.commonEventParameters),yield Object(c.v)(n,d.f))throw E}y.alias="[".concat(y.alias,"]"),h=yield Object(s.a)(y.parentEntity||t,b,f,y,"[".concat(y.parentEntityTableAlias,"]")||!1,!1,n,r,u),v.push(h)}return v}))).apply(this,arguments)}function g(e,t,n,r){return b.apply(this,arguments)}function b(){return(b=p((function*(e,t,n,r){var a=[];for(var i of e){var{entityLogicalName:s,entityAlias:l,relationshipName:d,roleOrdinal:f,alias:p,joinType:h}=Object(u.u)(i,n,r),v=yield Object(c.j)(t,s),{linkEntityName:m,from:y,to:g}=Object(u.s)(v,d,f,n,r),b={name:m,from:y,to:g,alias:p,parentEntity:s,parentEntityTableAlias:l};h&&(b.type=h);var O=i.indexOf(o.p.openParenthesis);if(O>-1&&i.charAt(i.length-1)===o.p.closeParenthesis){var E=i.substring(O+1,i.length-1);b.filter=E}a.push(b)}return a}))).apply(this,arguments)}function O(e){return"[".concat(e||r.d.ApplyLinkEntitySQLGenerator,"]")}},20709:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u}));var r=n(20648),a=n(20601);function i(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function c(e){i(o,r,a,c,s,"next",e)}function s(e){i(o,r,a,c,s,"throw",e)}c(void 0)}))}}function c(e,t,n,r,a,i,o,c,u){return s.apply(this,arguments)}function s(){return(s=o((function*(e,t,n,i,o,c,s,u,l){var d,f=i.name;d=c?f+"2":i.alias;var p,h=yield Object(r.r)(i.to,e,s,u,l),v=yield Object(r.r)(i.from,f,s,u,l),m=f+" AS "+d+" ON ("+o+a.p.dot+"".concat(h===i.to?h:"[".concat(h,"]"))+" = "+d+a.p.dot+"".concat(v===i.from?v:"[".concat(v,"]"));return p=i.type?"".concat(i.type.toUpperCase()," JOIN"):"JOIN",!c&&t?" ".concat(a.l.JOIN_START).concat(p," ").concat(m," ").concat(a.c.collateNoCase," ").concat(n," ").concat(t,")").concat(a.l.JOIN_END," "):" ".concat(a.l.JOIN_START).concat(p," ").concat(m," ").concat(a.c.collateNoCase," )").concat(a.l.JOIN_END)}))).apply(this,arguments)}function u(e,t,n){var r='"'.concat(e,'0"'),i="".concat(r).concat(a.p.space),o=t.lastIndexOf(i),c=t.lastIndexOf(a.l.FROM_END);if(c>0){var s=t.substring(0,c),u=t.substring(c+a.l.FROM_END.length,t.length);t="".concat(s," ").concat(n.join("".concat(a.p.space))).concat(a.l.FROM_END," ").concat(u)}else if(o>0){var l=t.substring(0,o),d=t.substring(o+i.length,t.length);t="".concat(l).concat(r).concat(n.join("".concat(a.p.space))).concat(a.l.FROM_END).concat(d)}else t+=n.join("".concat(a.p.space));return t}},20710:function(e,t,n){"use strict";n.d(t,"a",(function(){return N}));var r=n(20583),a=n(20596),i=n(20588),o=n(20594),c=n(20584),s=n(20592),u=n(20648),l=n(20601),d=n(20711),f=n(20713),p=n(20701),h=n(20714),v=n(20715),m=n(20716),y=n(20717),g=n(20696),b=n(20718),O=n(20708),E=n(20719),_=n(20720),S=n(20698),C=n(20611),w=n(20721);function T(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function j(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){T(i,r,a,o,c,"next",e)}function c(e){T(i,r,a,o,c,"throw",e)}o(void 0)}))}}function N(e,t,n){return P.apply(this,arguments)}function P(){return(P=j((function*(e,t,n){var h=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},T=h.commonEventParameters||[],j=[];n.info("".concat(A()," Building SQL Query For RetrieveMultipleRecords is processing"),Object(a.b)(T,j));var N=yield Object(u.p)(e,t,n,T,h),P=yield Object(s.v)(t,l.h.SqlTokensAvailable,T);if(j.push({name:"sqlTokensSwitch",value:P}),!P){var R="Offline SQL Token Switch is OFF - Legacy SQL generator is not supported in Modern Data Layer";return n.error("".concat(A()," ").concat(R),Object(a.b)(T,j)),Promise.reject(new o.a(R))}var D={};if(e.additionalHeaders){var k,F,L,q=yield Object(s.v)(t,l.h.MDLClientApiGapsAndFeatures);if(e.additionalHeaders[r.s.viewId]){var U=e.additionalHeaders[r.s.viewId];L=yield I(U,N,t,T);var B=yield Object(s.t)(t,U,N,T),V=null==B?void 0:B.fetchXML;if(V&&V.indexOf(S.a.linkEntity)>-1&&(yield Object(g.a)(V,N,D,t,n,h)),Object(i.x)(L)){j.push({name:"ViewId",value:U});var G="Raw offline sql from metadata cache is null";return n.error("".concat(A()," ").concat(G),Object(a.b)(T,j)),{sqlStatements:[],sqlParameters:[]}}}else{j.push({name:"IsClientApiRequest",value:!0});try{if(yield Object(g.c)(e,N,D,t,n,h),q&&D[r.a.NavigationPropertyRelationshipName]&&(N=D[r.a.NavigationPropertyEntity]),e.additionalHeaders[r.s.viewId]){var H=e.additionalHeaders[r.s.viewId];L=yield I(H,N,t,T),j.push({name:"SavedQuery",value:H})}else L=yield Object(b.a)(e,N,t,n,h);if(Object(i.x)(L)){var Q="Unable to modify the base sql since it is empty.";return n.error("".concat(A()," ").concat(Q),Object(a.b)(T,j)),Promise.reject(new o.a(Q))}}catch(ne){var z="Failed to execute client api for retrieve multiple";return n.error("".concat(A()," ").concat(z,": ").concat(Object(i.o)(ne)),Object(a.b)(T,j)),Promise.reject(new o.a(null!=ne&&ne.message?ne.message:z,null==ne?void 0:ne.code,null==ne?void 0:ne.stack,null==ne?void 0:ne.name))}}if(D[r.a.BaseViewLinkEntities]||e.additionalHeaders[r.s.linkEntity]){var W=D[r.a.BaseViewLinkEntities]?e.additionalHeaders[r.s.linkEntity]?D[r.a.BaseViewLinkEntities].concat([e.additionalHeaders[r.s.linkEntity]]):D[r.a.BaseViewLinkEntities]:[e.additionalHeaders[r.s.linkEntity]];D[r.a.LinkEntitiesMap]=yield Object(u.i)(W.join(";"),t,n,T)}if(T.push({name:c.c.BASE_OFFLINE_SQL,value:L}),e.additionalHeaders[r.s.mergeQuickFind]){var Y=e.additionalHeaders[r.s.mergeQuickFind],X=yield Object(s.t)(t,Y,N,T),K=X.offlineSqlQuery;if(!K){j.push({name:"mergeQuickFindViewId",value:Y});var J="Failed to merge offline lookup since quick find sql from metadata cache is null for this view id ".concat(Y);return n.error("".concat(A()," ").concat(J),Object(a.b)(T,j)),Promise.reject(new o.a(J))}L=yield Object(f.a)(L,K,t,n,h)}if(e.additionalHeaders[r.s.search]){var Z=e.additionalHeaders[r.s.search];L=yield Object(d.a)(L,Z,N,t,n,h)}e.additionalHeaders[r.s.select]&&(L=yield Object(m.b)(t,L,Object(u.j)(e.additionalHeaders[r.s.select]),N,D[r.a.LinkEntitiesMap]||{},n,T)),e.additionalHeaders[r.s.orderBy]&&(L=yield Object(v.a)(t,L,Object(u.j)(e.additionalHeaders[r.s.orderBy]),N,D[r.a.LinkEntitiesMap]||{},n,T)),e.additionalHeaders[r.s.contextFilter]&&(L=yield Object(y.a)(N,L,e.additionalHeaders[r.s.contextFilter],t,n,h)),e.additionalHeaders[r.s.filter]&&(L=yield Object(p.b)(N,L,e.additionalHeaders[r.s.filter],t,n,h,!1,D[r.a.LinkEntitiesMap]||{})),e.additionalHeaders[r.s.linkEntity]&&(L=yield Object(O.a)(N,L,e.additionalHeaders[r.s.linkEntity],t,n,h)),q&&D[r.a.NavigationPropertyRelationshipName]&&(L=yield Object(_.a)(N,L,D,t,n,h,T));var $=yield Object(s.v)(t,C.a);null!==(k=t.AdditionalParameters)&&void 0!==k&&k.EnableCanvasOffline&&!$&&e.additionalHeaders[r.s.apply]&&(L=yield Object(w.a)(N,L,e.additionalHeaders[r.s.apply],t,n,h)),L=yield x(L,N,t,e.additionalHeaders,n,T),D[r.a.PageSize]=e.additionalHeaders[r.s.pageSize]||l.d.PageSize,D[r.a.PageNumber]=e.additionalHeaders[r.s.pageNumber]||l.d.PageNumber,M(L,n,j,T);var ee={sqlStatements:[L],sqlParameters:[],additionalParameters:D};return q&&(null===(F=D[r.a.Expand])||void 0===F?void 0:F.length)>0&&(yield Object(E.a)(N,ee.sqlStatements,D[r.a.Expand],t,n,h)),ee}var te="Failed to build the SQL Query For RetrieveMultiple - Cannot find request additional headers";return n.error("".concat(A()," ").concat(te),Object(a.b)(T,j)),Promise.reject(new o.a(te))}))).apply(this,arguments)}function I(e,t,n,r){return R.apply(this,arguments)}function R(){return(R=j((function*(e,t,n,r){var a=yield Object(s.t)(n,e,t,r);return a?a.offlineSqlQuery:void 0}))).apply(this,arguments)}function M(e,t,n,r){for(var i of l.m)if(e.includes(i))return n.push({name:"Final-Offline-SQL",value:e}),void t.error("".concat(A()," Final offline sql still contain place holders: ").concat(i),Object(a.b)(r,n))}function x(e,t,n,r,a){return D.apply(this,arguments)}function D(){return(D=j((function*(e,t,n,o,c){var u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],d=[];e=Object(h.a)(e,Number(o[r.s.pageSize]||l.d.PageSize),Number(o[r.s.pageNumber]||l.d.PageNumber));var f=yield Object(s.p)(n,u);if(d.push({name:"UserId",value:f}),Object(i.x)(f)){var p=new Error("UserId is null or empty");if(c.error("".concat(A()," ").concat(p.message),Object(a.b)(u,d)),yield Object(s.v)(n,C.f))throw p}else e=Object(h.c)(f,e,c,u);try{e=yield Object(h.b)(n,e,c,u)}catch(p){var v=Object(i.o)(p)||"Failed to substitute date time placeholder";if(c.error("".concat(A()," ").concat(v),Object(a.b)(u,d)),yield Object(s.v)(n,C.f))throw p}return e=yield Object(h.d)(n,e,c,u)}))).apply(this,arguments)}function A(e){return"[".concat(e||c.d.RetrieveMultipleGenerator,"]")}},20711:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(20588),a=n(20592),i=n(20601),o=n(20712),c=n(20584),s=n(20611);function u(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){u(i,r,a,o,c,"next",e)}function c(e){u(i,r,a,o,c,"throw",e)}o(void 0)}))}}var d=function(e){return e[e.string=0]="string",e[e.integer=1]="integer",e[e.currency=2]="currency",e[e.dateTime=3]="dateTime",e[e.float=4]="float",e}({});function f(e,t,n,r,a,i){return p.apply(this,arguments)}function p(){return(p=l((function*(e,t,n,i,o,c){try{var u=c.commonEventParameters,l=O(e,i,o,c);if(!l){var d="No internal QuickFind query found:\n".concat(e);return o.error("".concat(E()," ").concat(d),u),Promise.reject(d)}var f=yield Object(a.j)(i,n,u),p=l.split("UNION"),y=m(p),g=y.lookup?y.lookup:[],b=y.other?y.other:[];if(!g.length&&!b.length){if(!f.PrimaryNameAttribute){var _="Could not extract search conditions from the QuickFind query:\n".concat(e);if(o.error("".concat(E()," ").concat(_),u),yield Object(a.v)(i,s.f))throw new Error(_);return e}l="SELECT ".concat(f.PrimaryNameAttribute," FROM ").concat(n," WHERE ").concat(f.PrimaryNameAttribute," LIKE {0}")}return"*"===t?(p.splice(0,g.length),g.length=0,b.length=0,v(e,p,g,b,i,o,u)):(h(t,p,g,b,i,o,u),v(e,p,g,b,i,o,u))}catch(S){if(o.error("".concat(E()," Unexpected error ").concat(Object(r.o)(S))),yield Object(a.v)(i,s.f))throw S;return e}}))).apply(this,arguments)}function h(e,t,n,a,i,o,c){var s=Object(r.H)(e);e=Object(r.h)(e),e=Object(r.s)(e);var u={},l="'".concat(e,"'");if(-1!==e.indexOf(r.b)&&(l+=" escape '".concat(r.b,"'")),u[d[d.string]]=l,!i.Formatter){var f="Formatter is not available";throw o.error("".concat(E()," ").concat(f),c),new Error(f)}var p=i.Formatter.parseIntegerValue(s);!isNaN(p)&&isFinite(p)&&p.toString()===s&&(u[d[d.integer]]=p.toString());var h=i.Formatter.parseDecimalValue(s);!isNaN(h)&&isFinite(h)&&(u[d[d.float]]=u[d[d.currency]]=h.toString());var v=i.Formatter?i.Formatter.parseInvariant(s):new Date(s);v&&(u[d[d.dateTime]]="'".concat(v.toString(),"'")),y(t,!0,n,u),y(t,!1,a,u)}function v(e,t,n,r,a,i,o){if(0===t.length){var c="Could not locate the QuickFInd tokens in SQL query";throw i.error("".concat(E()," ").concat(c),o),new Error(c)}if(_(t),_(n),_(r),n.length>0)for(var s=0;s<t.length-1;s++){var u=t[s].split("where")[0]+" where "+n[s];e=e.replace(t[s],u)}var l=t[t.length-1].split("where");if(0===l.length){var d="The QuickFind query does not contain 'WHERE' clause";throw i.error("".concat(E()," ").concat(d),o),new Error(d)}var f=l[0]+(r.length>0?" where "+r.join(" OR "):"");return e.replace(t[t.length-1],f)}function m(e){var t=new RegExp("SELECT [\\S\\s]* FROM [\\S\\s]* WHERE [\\S\\s]* IN \\(SELECT [\\S\\s]* FROM [\\S\\s]* WHERE ([\\S\\s]*)\\)","i"),n=new RegExp("SELECT [\\S\\s]* FROM [\\S\\s]* WHERE ([\\S\\s]*)","i"),r=[],a=[],i={},o=e[e.length-1].match(n);o&&a.push(...o[1].split("OR"));for(var c=0;c<e.length-1;c++)(o=e[c].match(t))||(o=e[c].match(n)),o?r.push(o[1].trim()):r.push("");return i.lookup=r,i.other=a,i}function y(e,t,n,r){for(var a=0;a<n.length;a++){var i=n[a].match(new RegExp("({\\d})"));if(i){var o=g(i[1]);b(t,n,e,a,i[1],o in r,o in r?r[o].toString():null)}}}function g(e){var t="";switch(e){case"{4}":t=d[d.float];break;case"{3}":t=d[d.dateTime];break;case"{2}":t=d[d.currency];break;case"{1}":t=d[d.integer];break;case"{0}":t=d[0]}return t}function b(e,t,n,r,a,i,o){if(i){var c=a?a.replace("}","\\}").replace("{","\\{"):a,s=new RegExp(c,"g"),u=t[r].replace(s,o);t[r]=u}else t[r]="",e&&(n[r]="")}function O(e,t,n,r){var a=Object(o.a)(i.l.QUICKFIND_START,i.l.QUICKFIND_END),c=e.match(a);if(c&&c.length>0)return c[1];var s="Could not locate the QuickFind tokens in SQL query";throw n.error("".concat(E()," ").concat(s),r.commonEventParameters),new Error(s)}function E(e){return"[".concat(e||c.d.QuickFindSQLGenerator,"]")}function _(e){for(var t=0;t<e.length;t++)Object(r.x)(e[t])&&(e.splice(t,1),t--)}},20712:function(e,t,n){"use strict";function r(e,t){if(!t||0===t.length)return e;var n=e;return t.forEach(e=>{var t=new RegExp("\\".concat(e),"g");n=n.replace(t,"\\".concat(e))}),n}function a(e,t){var n=r(e,["/","*"])+"([\\S\\s]*)"+r(t,["/","*"]);return new RegExp(n,"i")}n.d(t,"a",(function(){return a}))},20713:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(20601),a=n(20712),i=n(20584),o=n(20594),c=n(20592),s=n(20611),u=n(20588);function l(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){l(i,r,a,o,c,"next",e)}function c(e){l(i,r,a,o,c,"throw",e)}o(void 0)}))}}function f(e,t,n,r,a){return p.apply(this,arguments)}function p(){return(p=d((function*(e,t,n,a,i){try{var l,d=i.commonEventParameters||[];if(!e||!t){var f="Lookup view sql query or quick find sql query is empty";return a.error("".concat(v()," ").concat(f),d),Promise.reject(new o.a(f))}var p=h(e,r.l.SELECT_START,r.l.FROM_END);if(!p){var m="Failed to merge lookup query:\n".concat(e,"\nwith quick find query:\n").concat(t,"\nsince no viewQuerySelectPart found");return a.error("".concat(v()," ").concat(m),d),Promise.reject(new o.a(m))}var y=h(t,r.l.CTE_START,r.l.CTE_END);if(null===y&&null!=t&&t.startsWith("WITH")){var g="Failed to merge lookup query: Quickfind view query contains WITH block but cannot locate CTE tokens.";return a.error("".concat(v()," ").concat(g),d),Promise.reject(new o.a(g))}var b=h(t,r.l.WHERE_START,r.l.WHERE_END,!1),O=h(e,r.l.WHERE_START,r.l.WHERE_END,!1);O?(O=O.toLowerCase().replace("where",""),b="".concat(r.l.WHERE_START).concat(b)):b="".concat(r.l.WHERE_START).concat(b).concat(r.l.WHERE_END);var E=h(t,r.l.ORDERBY_START,r.l.ORDERBY_END);return l=y?"".concat(y," ").concat(p," ").concat(b):"".concat(p," ").concat(b),O&&(l+=" and (".concat(O,")").concat(r.l.WHERE_END)),E&&(l+=" ".concat(E)),l}catch(_){if(a.error("".concat(v()," Unexpected error ").concat(Object(u.o)(_))),yield Object(c.v)(n,s.f))throw _;return e}}))).apply(this,arguments)}function h(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=Object(a.a)(t,n),o=e.match(i);return o&&o.length>0?r?"".concat(t).concat(o[1]).concat(n):o[1]:null}function v(e){return"[".concat(e||i.d.MergeQuickFindSQLGenerator,"]")}},20714:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return h})),n.d(t,"b",(function(){return m}));var r=n(20588),a=n(20584),i=n(20586),o=n(20601),c=n(20592),s=n(20705),u=n(20611);function l(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){l(i,r,a,o,c,"next",e)}function c(e){l(i,r,a,o,c,"throw",e)}o(void 0)}))}}function f(e,t,n){var r=1+t,a=t*(n-1);return e=e+o.p.space+o.c.limit+o.p.space+r+o.p.space+o.c.offset+o.p.space+a}function p(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];if(typeof t===i.a.String&&t.trim().length>0)return t=t.replace(new RegExp(o.w,"g"),o.p.singleQuote+e+o.p.singleQuote+o.p.space+o.c.collateNoCase);var a="".concat(g()," attempted to substitute user id placeholder in empty sql statement");throw n.error(a,r),new Error(a)}function h(e,t,n){return v.apply(this,arguments)}function v(){return(v=d((function*(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i="6";try{var s=yield Object(c.r)(e,a),l=yield Object(c.l)(e,a);t=(t=(t=(t=t.replace(new RegExp(o.k.userLanguage,"g"),s.languageid.toString())).replace(new RegExp(o.k.basedLanguage,"g"),l.toString())).replace(new RegExp(o.k.columnName0,"g"),i)).replace(new RegExp(o.k.columnName1,"g"),i)}catch(f){var d="Failed to substituteUserLanguage with ".concat(Object(r.o)(f)||"Unknown");if(n.error("".concat(g()," ").concat(d),a),yield Object(c.v)(e,u.f))throw f}return t}))).apply(this,arguments)}function m(e,t,n){return y.apply(this,arguments)}function y(){return(y=d((function*(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];try{var i=yield Object(c.r)(e,a),u=Object(s.r)(i);return t=(t=(t=(t=(t=(t=(t=(t=(t=t.replace(new RegExp(o.e.startOfCurrentHourUTC,"g"),Object(s.p)(i,Object(s.m)(u)))).replace(new RegExp(o.e.startOfTodayUTC,"g"),Object(s.p)(i,Object(s.l)(u)))).replace(new RegExp(o.e.startOfWorkWeekUTC,"g"),Object(s.p)(i,Object(s.x)(i,u)))).replace(new RegExp(o.e.startOfMonthUTC,"g"),Object(s.p)(i,Object(s.n)(u)))).replace(new RegExp(o.e.startOfYearUTC,"g"),Object(s.p)(i,Object(s.o)(u)))).replace(new RegExp(o.e.userTimezoneHourOffset,"g"),Object(s.s)(i).toString())).replace(new RegExp(o.e.userTimezoneMinuteOffset,"g"),Object(s.t)(i).toString())).replace(new RegExp(o.e.UTCHourOffset,"g"),Object(s.u)(i).toString())).replace(new RegExp(o.e.UTCMinuteOffset,"g"),Object(s.v)(i).toString())}catch(d){var l=Object(r.o)(d)||"Failed to substitute date time placeholder";throw n.warn("".concat(g()," ").concat(l),a),new Error(l)}}))).apply(this,arguments)}function g(e){return"[".concat(e||a.d.ApplyFinalModifiedSQLGenerator,"]")}},20715:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(20611),a=n(20596),i=n(20588),o=n(20584),c=n(20592),s=n(20648),u=n(20601);function l(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){l(i,r,a,o,c,"next",e)}function c(e){l(i,r,a,o,c,"throw",e)}o(void 0)}))}}function f(e,t,n,r,a,i){return p.apply(this,arguments)}function p(){return(p=d((function*(e,t,n,o,s,l){var d=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],f=[];if(f.push({name:"SQLStatement",value:t}),f.push({name:"columnNames",value:n?n.toString():""}),Object(i.x)(t)||!n||0===n.length)throw l.error("".concat(m()," ").concat(u.g.invalidParameter),Object(a.b)(d,f)),new Error(u.g.invalidParameter);var p,v=t.lastIndexOf(u.l.ORDERBY_START),y=t.lastIndexOf(u.l.ORDERBY_END);if(-1===v&&-1===y)p=t;else{if(-1===v||-1===y){var g="Cannot find matching sort start and end token - return base offline sql";if(l.error("".concat(m()," ").concat(g),Object(a.b)(d,f)),yield Object(c.v)(e,r.f))throw new Error(g);return t}p=t.substr(0,v)}try{var b=yield h(e,n,o,s,l,d);t=p+u.l.ORDERBY_START+u.c.orderBy+u.p.space+u.p.doubleQuote+b+u.l.ORDERBY_END,l.info("".concat(m()," SQL Query with Modified SORT Clause:\n ").concat(t))}catch(E){var O="Failed to createOrderByQuery because of ".concat(E);if(l.error("".concat(m," ").concat(O),Object(a.b)(d,f)),yield Object(c.v)(e,r.f))throw E}return t}))).apply(this,arguments)}function h(e,t,n,r,a){return v.apply(this,arguments)}function v(){return(v=d((function*(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],c="",l="",d="";for(var f of t){var p=[];p.push({name:"ColumnSortPair",value:f}),c.length>0&&(c+=u.p.comma+u.p.space+u.p.doubleQuote);var h=f.trim().split(u.p.space),v=n+"0";if(2===h.length){if(![u.s.ASC,u.s.DESC].includes(h[1])){var y="Invalid sort direction. The provided sort direction is not support, only 'asc' and 'desc' type are support.";throw i.error("".concat(m()," ").concat(y),Object(a.b)(o,p)),new Error(y)}d=h[1].toUpperCase()}else{if(1!==h.length){var g="OrderBy hint contains invalid format";throw i.error("".concat(m()," ").concat(g),Object(a.b)(o,p)),new Error(g)}d=u.s.ASC.toUpperCase()}var b=n,O=(l=h[0]).split(u.p.dot);2===O.length&&(v=O[0],l=O[1],r[v]&&(b=r[v]));var E=yield Object(s.t)(e,b,l,i,o);l=E?u.p.openSQBracket+l+u.p.exclamation+"name"+u.p.closeSQBracket:l,c+=v+u.p.doubleQuote+u.p.dot+l+u.p.space+d}return c}))).apply(this,arguments)}function m(e){return"[".concat(e||o.d.ApplyOrderBySQLGenerator,"]")}},20716:function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return h}));var r=n(20611),a=n(20596),i=n(20588),o=n(20584),c=n(20592),s=n(20648),u=n(20601);function l(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){l(i,r,a,o,c,"next",e)}function c(e){l(i,r,a,o,c,"throw",e)}o(void 0)}))}}function f(e,t,n,r,a,i){return p.apply(this,arguments)}function p(){return(p=d((function*(e,t,n,o,s,l){var d=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[];try{var f="".concat(o,"0"),p=[];if(p.push({name:"SQLStatement",value:t}),p.push({name:"columnNames",value:n?n.toString():""}),Object(i.x)(t)||!n||0===n.length){var m="Failed to add select due to ".concat(u.g.invalidParameter);if(l.error("".concat(g()," ").concat(m),Object(a.b)(d,p)),yield Object(c.v)(e,r.f))throw new Error(m);return t}var y=t.lastIndexOf(u.l.SELECT_START),b=t.lastIndexOf(u.l.SELECT_END);if(-1===y||-1===b){var O="Cannot find select SQL Token or mismatch select start/end tokens - Return input SQL: \n ".concat(t);if(l.error("".concat(g()," ").concat(O),Object(a.b)(d,p)),yield Object(c.v)(e,r.f))throw new Error(O);return t}var{sqlBeforeSelectQuery:E,viewQuerySelectPart:_,sqlAfterSelectQuery:S}=h(t,y,b);return t=E+(1===n.length&&"*"===n[0].trim()?"".concat(u.l.SELECT_START).concat(u.c.select," [").concat(f,"].*"):yield v(e,_,n,o,s,l,d))+u.l.SELECT_END+u.p.space+u.p.space+S,l.info("".concat(g()," SQL Query with SELECT Clause:\n ").concat(t)),t}catch(C){if(l.error("".concat(g()," Unexpected error ").concat(Object(i.o)(C))),yield Object(c.v)(e,r.f))throw C;return t}}))).apply(this,arguments)}function h(e,t,n){var r=e.substr(0,t),a=e.substr(t,n-t),i=e.lastIndexOf(u.l.FROM_START),o="";return-1!==i&&(o=e.substr(i)),{sqlBeforeSelectQuery:r,viewQuerySelectPart:a,sqlAfterSelectQuery:o}}function v(e,t,n,r,a,i){return m.apply(this,arguments)}function m(){return(m=d((function*(e,t,n,r,a,i){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[];for(var c of n){t.length>0&&(t+=u.p.comma+u.p.space+u.p.doubleQuote);var l=Object(s.k)(c),d=r+"0",f=l,p=f.split(u.p.dot),h=r;2===p.length&&(d=p[0],f=p[1],a[d]&&(h=a[d]));var v=yield Object(s.t)(e,h,f,i,o);v?t=y(t,d,f,l):f===u.p.asterisk?t+=d+u.p.doubleQuote+u.p.dot+f:t+=d+u.p.doubleQuote+u.p.dot+u.p.openSQBracket+f+u.p.closeSQBracket+u.p.space+u.c.as+u.p.space+u.p.doubleQuote+l+u.p.doubleQuote}return t}))).apply(this,arguments)}function y(e,t,n,r){for(var a=["id","logicalname","name"],i=0;i<a.length;i++){var o="".concat(n).concat(u.p.exclamation).concat(a[i]),c="".concat(r).concat(u.p.exclamation).concat(a[i]);e+=t+u.p.doubleQuote+u.p.dot+u.p.openSQBracket+o+u.p.closeSQBracket+u.p.space+u.c.as+u.p.space+u.p.doubleQuote+c+u.p.doubleQuote,i<a.length-1&&(e+=u.p.comma+u.p.space+u.p.doubleQuote)}return e}function g(e){return"[".concat(e||o.d.ApplySelectSQLGenerator,"]")}},20717:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(20601),a=n(20648),i=n(20584),o=n(20687),c=n(20684),s=n(20709),u=n(20592),l=n(20611);function d(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){d(i,r,a,o,c,"next",e)}function c(e){d(i,r,a,o,c,"throw",e)}o(void 0)}))}}function p(e,t,n,r,a,i){return h.apply(this,arguments)}function h(){return(h=f((function*(e,t,n,r,i,c){var d=c.commonEventParameters,f=Object(a.j)(n);if(f.length<1){var p="Failed to apply context Filter - No apply context filter hint found";if(i.error("".concat(g()," ").concat(p),d),yield Object(u.v)(r,l.f))throw new Error(p);return t}try{var h=yield Object(o.a)(f,e,r,i,d),m=yield v(h,e,r,i,c);t=Object(s.b)(e,t,m)}catch(y){if(i.error("".concat(g()," Failed to apply context Filter - ").concat(y),d),yield Object(u.v)(r,l.f))throw y}return t}))).apply(this,arguments)}function v(e,t,n,r,a){return m.apply(this,arguments)}function m(){return(m=f((function*(e,t,n,a,i){var o,u,l='"'.concat(t,'0"'),d=c.h.and,f=c.a.equal,p=[];for(var h of e){var v="",m=h.id;if(h.ManyToMany){u={attributeName:h.ManyToMany.fromEntityAttribute,operator:f,value:m},o={name:h.ManyToMany.intersectName,from:h.ManyToMany.fromIntersectAttribute,to:h.ManyToMany.targetEntityPrimaryKey,alias:"bb"},v=yield Object(s.a)(t,"",d,o,l,!0,n,a,i),t=o.name;var g=y(o={name:h.ManyToMany.fromEntity,from:h.ManyToMany.fromEntityAttribute,to:h.ManyToMany.toIntersectAttribute,alias:"bb"},u);v=v+r.p.space+(yield Object(s.a)(t,g,d,o,"".concat(t,"2"),!1,n,a,i))}else{if(!h.OneToMany)return Promise.reject(new Error("Context filter type is not supported"));u={attributeName:h.OneToMany.primaryAttribute||h.OneToMany.fromAttribute,operator:f,value:m};var b=y(o={name:h.OneToMany.fromEntity,from:h.OneToMany.fromAttribute,to:h.OneToMany.toAttribute,alias:"bb"},u);v=yield Object(s.a)(t,b,d,o,l,!1,n,a,i)}p.push(v)}return p}))).apply(this,arguments)}function y(e,t){var n=e.alias;return"(( ".concat(n,".").concat(t.attributeName," ").concat(Object(a.g)(t.operator)," '").concat(t.value,"' ").concat(r.c.collateNoCase).concat(r.p.space,"))")}function g(e){return"[".concat(e||i.d.ApplyContextFilterSQLGenerator,"]")}},20718:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(20601),a=n(20584),i=n(20592),o=n(20588),c=n(20583);function s(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){s(i,r,a,o,c,"next",e)}function c(e){s(i,r,a,o,c,"throw",e)}o(void 0)}))}}function l(e,t,n,r,a){return d.apply(this,arguments)}function d(){return(d=u((function*(e,t,n,a,s){var u,l,d="".concat(t,"0");if(Object(o.y)(t))l="".concat(t,"id");else{var p=yield Object(i.j)(n,t);l=p&&p.PrimaryIdAttribute?p.PrimaryIdAttribute:"".concat(t,"id")}var h=r.c.select;"true"===(null===(u=e.additionalHeaders)||void 0===u?void 0:u[c.s.distinct])&&(h+=" ".concat(r.c.distinct));var v="".concat(r.l.SELECT_START).concat(h.toLowerCase(),"  [").concat(d,"].[").concat(l,"] as [").concat(l,"]").concat(r.l.SELECT_END).concat(r.l.FROM_START,"from  [").concat(t,"] as [").concat(d,"]").concat(r.l.FROM_END);return a.info("".concat(f()," Generated base SQL ").concat(v,"}")),v}))).apply(this,arguments)}function f(e){return"[".concat(e||a.d.GenerateBaseSQL,"]")}},20719:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(20583),a=n(20685),i=n(20592),o=n(20648),c=n(20716),s=n(20611);function u(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){u(i,r,a,o,c,"next",e)}function c(e){u(i,r,a,o,c,"throw",e)}o(void 0)}))}}function d(e,t,n,r,a,i){return f.apply(this,arguments)}function f(){return(f=l((function*(e,t,n,r,a,o){for(var c=o.commonEventParameters,s=yield Object(i.j)(r,e,c),u=0;u<(null==n?void 0:n.length);u++)yield p(e,n[u],s,t,r,a,c)}))).apply(this,arguments)}function p(e,t,n,r,a,i,o){return h.apply(this,arguments)}function h(){return(h=l((function*(e,t,n,r,i,o,c){var s=yield Object(a.g)(i,e,t.navigationProperty,o,c);if(s)yield v(s,t,n,r,i);else{var u=yield Object(a.e)(i,e,t.navigationProperty,o,c);u&&(yield y(u,t,n,r,i,o,c))}}))).apply(this,arguments)}function v(e,t,n,r,a){return m.apply(this,arguments)}function m(){return(m=l((function*(e,t,n,a,i){var{referencedAttribute:c,referencingEntityAttributeTypes:s,referencingAttributeColumn:u,expandProperty:l}=yield Object(o.d)(e,t.navigationProperty,a,i),d=l.ReferencedOrReferencingEntityName,f=yield Object(o.f)(t.selectOption||[],d,s,i);"*"!==f&&(f+=", [".concat(Object(o.m)(s,u),"]")),t.relatedEntityName=e.ReferencingEntity,t.referencingAttributeColumn=u,t.expandValueType=r.h.MULTI_VALUE,a.push("SELECT ".concat(f," FROM [").concat(d,"] WHERE [").concat(u,"] IN (SELECT [").concat(c,"] FROM [").concat(n.EntityLogicalName,"])"))}))).apply(this,arguments)}function y(e,t,n,r,a,i,o){return g.apply(this,arguments)}function g(){return(g=l((function*(e,t,n,a,u,l,d){var{referencingAttribute:f,referencedAttributeColumn:p,referencedEntityAttributeTypes:h,referencingAttributeColumn:v,expandProperty:m}=yield Object(o.c)(e,t.navigationProperty,a,u),y=m.ReferencedOrReferencingEntityName;try{var g=yield Object(c.b)(u,a[0],[v],n.EntityLogicalName||"",{},l,d);a[0]=g}catch(_){if(null==l||l.error("Referencing attribute column for N:1 expand could not be added. "+(null==_?void 0:_.message),d),yield Object(i.v)(u,s.f))throw _}var b=yield Object(o.e)(t.selectOption||[],y,h,u);if(t.relatedEntityName=e.ReferencedEntity,t.referencedAttributeColumn=p,t.referencingAttributeColumn=v,t.expandValueType=r.h.SINGLE_VALUE,y===r.w)a.push("SELECT ".concat(b," FROM [").concat(y,"] LEFT JOIN [").concat(r.k,"] on ").concat(r.w,".").concat(r.x," = ").concat(r.k,".[objectid!id] WHERE [").concat(p,"] IN (SELECT [").concat(f,"] FROM [").concat(n.EntityLogicalName,"])"));else{var O,E=!(yield Object(i.v)(u,s.b))&&null!==(O=u.AdditionalParameters)&&void 0!==O&&O.EnableCanvasOffline?"(".concat(a[0],")"):"[".concat(n.EntityLogicalName,"]");a.push("SELECT ".concat(b," FROM [").concat(y,"] WHERE [").concat(p,"] IN (SELECT [").concat(v,"] FROM ").concat(E,")"))}}))).apply(this,arguments)}},20720:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(20583),a=n(20611),i=n(20588),o=n(20584),c=n(20592),s=n(20701),u=n(20709),l=n(20685),d=n(20684);function f(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){f(i,r,a,o,c,"next",e)}function c(e){f(i,r,a,o,c,"throw",e)}o(void 0)}))}}function h(e,t,n,r,a,i,o){return v.apply(this,arguments)}function v(){return(v=p((function*(e,t,n,o,f,p,h){try{var v=n[r.a.NavigationPropertyRelationshipName],y=yield Object(l.d)(o,e,v,f,h);if(y){var g='"'.concat(e,'0"'),b=n[r.a.RecordId],O={name:y.ReferencedEntity,from:y.ReferencedAttribute,to:y.ReferencingAttribute,alias:"bb"},E="".concat(O.from," eq '").concat(b,"'"),_=yield Object(s.c)(O.name,"bb",E,o,f,p),S=yield Object(u.a)(e,_,d.h.and,O,g,!1,o,f,p);t=Object(u.b)(e,t,[S])}return t}catch(C){if(f.error("".concat(m()," Unexpected error ").concat(Object(i.o)(C))),yield Object(c.v)(o,a.f))throw C;return t}}))).apply(this,arguments)}function m(e){return"[".concat(e||o.d.NavigationPropertyGeneratorPrefix,"]")}},20721:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(20594),a=n(20601),i=n(20588),o=n(20722),c=n(20584),s=n(20701),u=n(20723),l=n(20716);function d(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){d(i,r,a,o,c,"next",e)}function c(e){d(i,r,a,o,c,"throw",e)}o(void 0)}))}}function p(e,t,n,r,a,i){return h.apply(this,arguments)}function h(){return(h=f((function*(e,t,n,c,l,d){var f=d.commonEventParameters||[];if(Object(i.x)(n)){var p="Failed to add apply due to ".concat(a.g.invalidParameter);l.error("".concat(m()," ").concat(p),f)}var h=yield Object(u.a)(e,n,c,l,d);for(var y of h.terms)if(Array.isArray(y))for(var g=0;g<y.length;g++){var b=void 0;switch(y[g].method){case o.a.KeywordCount:b="count(*) as ".concat(y[g].alias);break;case o.a.KeywordSum:b="sum([".concat(e,"0].[").concat(y[g].expression,"]) as ").concat(y[g].alias);break;default:var O="Unsupported aggregation method ".concat(y[g].method);throw l.error("".concat(m()," ").concat(O),d.commonEventParameters),new r.a(O)}Object(i.x)(b)||(t=v(e,t,b,c,l,d,0===g))}else t=yield Object(s.b)(e,t,y,c,l,d);return t}))).apply(this,arguments)}function v(e,t,n,o,c,s){var u=arguments.length>6&&void 0!==arguments[6]&&arguments[6];try{var d=t.lastIndexOf(a.l.SELECT_START),f=t.lastIndexOf(a.l.SELECT_END);if(-1===d||-1===f){var p="Cannot find select SQL Token or mismatch select start/end tokens - Return input SQL: \n ".concat(t);throw c.error("".concat(m()," ").concat(p),s.commonEventParameters),new r.a(p)}var{sqlBeforeSelectQuery:h,viewQuerySelectPart:v,sqlAfterSelectQuery:y}=Object(l.a)(t,d,f),g=u?"".concat(a.l.SELECT_START).concat(a.c.select," ").concat(n):"".concat(v,", ").concat(n);return t=h+g+a.l.SELECT_END+a.p.space+a.p.space+y,c.info("".concat(m()," SQL Query with SELECT Clause:\n ").concat(t)),t}catch(b){throw c.error("".concat(m()," Unexpected error ").concat(Object(i.o)(b))),b}}function m(e){return"[".concat(e||c.d.ApplyAggregationSQLGenerator,"]")}},20722:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return e.KeywordAny="any",e.KeywordAll="all",e.KeywordAggregate="aggregate",e.KeywordFilter="filter",e.KeywordGroupBy="groupby",e.KeywordCompute="compute",e.KeywordSum="sum",e.KeywordMax="max",e.KeywordMin="min",e.KeywordAverage="average",e.KeywordCount="$count",e.KeywordCountDistinct="countdistinct",e.KeywordAs="as",e.KeywordWith="with",e.KeywordExpand="expand",e}({})},20723:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(20676),a=n(20584),i=n(20722),o=n(20675),c=n(20601);function s(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){s(i,r,a,o,c,"next",e)}function c(e){s(i,r,a,o,c,"throw",e)}o(void 0)}))}}function l(e,t,n,r,a){return d.apply(this,arguments)}function d(){return(d=u((function*(e,t,n,a,s){for(var u={terms:[]},l=new r.a(t,!0);l.nextToken().kind!==o.a.end;){switch(l.getToken().text){case i.a.KeywordAggregate:var d=[];if(l.nextToken().kind!==o.a.openParenthesis){var h="Unknown keyword. Expected ".concat(c.p.openParenthesis);throw a.error("".concat(p()," ").concat(h),s.commonEventParameters),h}for(;l.nextToken().kind!==o.a.end;){var v=f(l,n,a,s);if(d.push(v),u.terms.push(d),l.nextToken(),l.getToken().kind!==o.a.closeParenthesis&&l.getToken().kind!==o.a.comma){var m="Unknown keyword. Expected ".concat(c.p.closeParenthesis," or ").concat(c.p.comma);throw a.error("".concat(p()," ").concat(m),s.commonEventParameters),m}if(l.getToken().kind!==o.a.comma)break}l.nextToken();break;case i.a.KeywordFilter:if(l.nextToken().kind!==o.a.openParenthesis){var y="Unknown keyword. Expected ".concat(c.p.openParenthesis);throw a.error("".concat(p()," ").concat(y),s.commonEventParameters),y}var g=l.advanceThroughBalancedParentheticalExpression();if(u.terms.push(g),l.nextToken().kind!==o.a.slash){var b="Unknown keyword. Expected ".concat(c.p.forwardSlash);throw a.error("".concat(p()," ").concat(b),s.commonEventParameters),b}break;case i.a.KeywordGroupBy:case i.a.KeywordCompute:case i.a.KeywordExpand:default:var O="Unsupported keywords ".concat(l.getToken().text);a.error("".concat(p()," ").concat(O),s.commonEventParameters)}if(l.getToken().kind!==o.a.slash)break}return u}))).apply(this,arguments)}function f(e,t,n,r){var a="",o="",c="";if(e.getToken().text===i.a.KeywordCount){if(o=e.getToken().text,e.nextToken().text!==i.a.KeywordAs){var s="Unknown keyword. Expected ".concat(i.a.KeywordAs);throw n.error("".concat(p()," ").concat(s),r.commonEventParameters),s}c=e.nextToken().text}else{if(a=e.getToken().text,e.nextToken().text!==i.a.KeywordWith){var u="Unknown keyword. Expected ".concat(i.a.KeywordWith);throw n.error("".concat(p()," ").concat(u),r.commonEventParameters),u}switch(e.nextToken().text){case i.a.KeywordSum:if(o=e.getToken().text,e.nextToken().text!==i.a.KeywordAs){var l="Unknown keyword. Expected ".concat(i.a.KeywordAs);throw n.error("".concat(p()," ").concat(l),r.commonEventParameters),l}c=e.nextToken().text;break;case i.a.KeywordAverage:case i.a.KeywordCountDistinct:case i.a.KeywordMax:case i.a.KeywordMin:default:var d="Unsupported aggregation menthod ".concat(e.getToken().text);n.error("".concat(p()," ").concat(d),r.commonEventParameters)}}return{expression:a,method:o,alias:c}}function p(e){return"[".concat(e||a.d.ApplyParser,"]")}},20724:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n(20583),a=n(20588),i=n(20594),o=n(20584),c=n(20592),s=n(20648),u=n(20601),l=n(20650),d=n(20695),f=n(20696),p=n(20701),h=n(20585);function v(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){v(i,r,a,o,c,"next",e)}function c(e){v(i,r,a,o,c,"throw",e)}o(void 0)}))}}function y(e,t,n){return g.apply(this,arguments)}function g(){return(g=m((function*(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},l=o.commonEventParameters||[],d=yield Object(s.p)(e,t,n,l,o);if(o.internalRequest)return b(e,d,t,n,o,l);var f=yield Object(c.b)(t,[],d,l);if(Object(a.x)(e.body)||Object(a.w)(f)){var p="Invalid request. Empty request body";throw n.error("".concat(N()," ").concat(p),l),new i.a(p,r.i.UnknownBadRequestError)}var h=yield Object(s.n)(JSON.parse(e.body),f,d,t,n,l),v=Object(s.o)(e.url,n,l);if(Object(a.v)(v)){var m=new Error("Update Generator was unable to extract GUID from url");throw n.error("".concat(N()," ").concat(m.message),l),m}var y={id:v,entityLogicalName:d,attributeTypes:f,values:{}},g=yield Object(c.j)(t,d);return y=yield Object(s.w)(y,h,f,u.v.update,t,n,l,o),E(e,t,y=yield Object(s.v)(t,y,g,u.v.update,l,o),g,d,n,l)}))).apply(this,arguments)}function b(e,t,n,r){return O.apply(this,arguments)}function O(){return(O=m((function*(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[];if(Object(a.x)(e.body)){var c="Invalid request. Empty request body";throw r.error("".concat(N()," ").concat(c),o),new Error(c)}var s={id:h.a.newGuid(),entityLogicalName:t,values:JSON.parse(e.body)},l=yield Object(f.b)(e.url,r,o,Object(a.A)(e),n);if(null!=l&&l.filter){var d=S(s,r,o),v=yield Object(p.b)(t,d.sqlStatements[0],l.filter,n,r,i,!0),m={sqlStatements:[v],sqlParameters:[d.sqlParameters[0]]};return m}throw r.error("".concat(N()," ","Failure in upsync pipeline-").concat(u.g.invalidParameter),o),new Error(u.g.invalidParameter)}))).apply(this,arguments)}function E(e,t,n,r,a,i){return _.apply(this,arguments)}function _(){return(_=m((function*(e,t,n,a,i,o){var c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[];if(!a||!a.PrimaryIdAttribute)throw new Error(u.g.primaryIdAttribute);var l={sqlStatements:[],sqlParameters:[],additionalParameters:{[r.a.RecordId]:n.id.guid.toString()}};return l.sqlStatements.push(Object(d.a)(i,a.PrimaryIdAttribute,t,o,c)),l.sqlParameters.push([n.id.guid]),l=C(l,n,t,o,a.PrimaryIdAttribute,c),a.IsActivity&&(l=yield w(t,n,l,c)),a&&e&&e.additionalHeaders&&e.additionalHeaders.Prefer&&-1!==e.additionalHeaders.Prefer.indexOf(r.r.PREFER_REPRESENTATION)&&(l=Object(s.b)(t,l,i,n.id,a.PrimaryIdAttribute,c)),l}))).apply(this,arguments)}function S(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(Object(a.v)(e))throw t.error("".concat(N()," Invalid parameters when creating update query"),n),new Error("Invalid parameters for update query generation");var r="",i=[],o=0;for(var c in e.values)if(!Object(a.x)(c)){var s=o>0?",":"";r+="".concat(s,"[").concat(c,"] = ?"),i.push(e.values[c]),o+=1}if(!Object(a.x)(r)&&i.length>0){var l=u.c.update+u.p.space+e.entityLogicalName+u.p.space+u.c.set+u.p.space+r+u.p.space;return{sqlStatements:[l],sqlParameters:[i]}}return{sqlStatements:[],sqlParameters:[]}}function C(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[];if(Object(a.v)(i))throw r.error("".concat(N()," Invalid parameters when creating update query"),o),new Error("Invalid parameters for update query generation");var c=S(t,r,o);if(c.sqlStatements.length>0){var s=Object(p.a)(c.sqlStatements[0],i),u=c.sqlParameters[0];u.push(t.id.guid),e.sqlStatements.push(s),e.sqlParameters.push(u)}return e}function w(e,t,n){return T.apply(this,arguments)}function T(){return(T=m((function*(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Object(a.v)(t.activityParties)||(n=j(t,n),n=yield Object(s.q)(e,t,n,r)),n}))).apply(this,arguments)}function j(e,t){return Object(a.v)(e.activityParties)||(t.sqlStatements.push(u.c.delete+u.p.space+u.c.from+u.p.space+u.p.openSQBracket+l.b+u.p.closeSQBracket+u.p.space+u.c.where+u.p.space+u.p.openSQBracket+l.a+l.f+l.n+u.p.closeSQBracket+u.p.space+u.p.equal+u.p.space+u.p.question+u.p.space+u.c.collateNoCase),t.sqlParameters.push([e.id.guid])),t}function N(e){return"[".concat(e||o.d.UpdateGenerator,"]")}},20725:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(20632),a=n(20726);class i extends r.a{constructor(e,t){super(e,t),this.setExecuteRequestInterceptor(new a.a(this.applicationContext)).build()}}},20726:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(20583),a=n(20584),i=n(20599),o=n(20638),c=n(20727),s=n(20661);function u(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}class l extends o.a{intercept(e){var t,n=this;return(t=function*(){var t,o,u=e.executionContext||{},l=e.request,f=u.requestType||Object(i.a)(l,n.applicationContext),p=n.applicationContext.TraceManager.getTracer(a.a.FileExecutor),h=u.commonEventParameters||[],v=[];p.info("".concat(d()," File Executor is processing"));try{switch(f){case r.y.Upload:yield Object(c.b)(l,n.applicationContext,u);break;case r.y.FileDelete:yield Object(c.a)(l,n.applicationContext,u);break;case r.y.GetFileSasUrl:v=yield Object(c.c)(l,n.applicationContext,u);break;default:throw new Error("Request type is not supported")}}catch(g){var m=g,y={name:m.name?m.name:"File Executor",message:m.message?m.message:JSON.stringify(m)};return o=yield Object(s.b)(l,f,n.applicationContext,void 0,y,void 0,u),p.error("".concat(d()," File Local OData Client return back error response \n status code: ").concat(o.status,"\n error message: ").concat(o.statusText),h),o}return p.info("".concat(d()," Response Handler is processing")),o=yield Object(s.b)(l,f,n.applicationContext,null!==(t=n.applicationContext.AdditionalParameters)&&void 0!==t&&t.EnableCanvasOffline?v:void 0,void 0,void 0,u),p.info("".concat(d()," File Local OData Client return back response\n status code: ").concat(o.status,"\n url: ").concat(o.url)),o},function(){var e=this,n=arguments;return new Promise((function(r,a){var i=t.apply(e,n);function o(e){u(i,r,a,o,c,"next",e)}function c(e){u(i,r,a,o,c,"throw",e)}o(void 0)}))})()}}function d(e){return"[".concat(e||a.d.FileRequestInterceptor,"]")}},20727:function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return h})),n.d(t,"c",(function(){return m}));var r=n(20594),a=n(20584),i=n(20588),o=n(20592),c=n(20583),s=n(20586),u=n(20601);function l(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){l(i,r,a,o,c,"next",e)}function c(e){l(i,r,a,o,c,"throw",e)}o(void 0)}))}}function f(e,t){return p.apply(this,arguments)}function p(){return(p=d((function*(e,t){var n,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=t.TraceManager.getTracer(a.a.FileExecutor);l.info("".concat(g()," ExecuteFileUploadRequest - File Executor Started"));var d=u.commonEventParameters||[];if(!e.url)throw l.error("".concat(g()," url is invalid"),d),new Error("Empty url is not valid");if(!e.additionalHeaders)throw l.error("".concat(g()," additionalHeaders is invalid"),d),new Error("additionalHeaders not valid");var f=e.url.split("/"),p=f[f.length-1].split("(")[0],h=p.split("?")[0],v=e.url.indexOf("x-ms-file-name="),m=null!==(n=t.AdditionalParameters)&&void 0!==n&&n.EnableCanvasOffline&&-1===v?"Untitled.txt":e.url.substring(v+"x-ms-file-name=".length),y=f[f.length-2],b=y.split("(")[0],O=yield Object(o.h)(t,b,d),E=y.substring(y.lastIndexOf("(")+1,y.lastIndexOf(")")),_=e.additionalHeaders[c.s.MIME_TYPE],S=+e.additionalHeaders[c.s.FILE_SIZE],C=e.additionalHeaders[c.s.FILE_URL];try{var w=yield Object(o.b)(t,[h],O);if(d.push({name:"EntityName",value:O}),d.push({name:"EntityId",value:E}),d.push({name:"FileSize",value:S}),d.push({name:"AttributeName",value:h}),!w||!w[h]||w[h]!==s.a.File&&w[h]!==s.a.Image){var T=w&&w[h]?w[h]:"Unknown",j=w&&w[h]?"Attribute type is not valid for file or image upload":"Attribute metadata not found for given attribute type";d.push({name:"MetadataType",value:T});var N=new r.a(j);throw l.error(j,d),N}var P=w[h];if(P===s.a.File){var I,R={entityId:E,entityLogicalName:O,entityFieldName:h,canMove:!0,fileUrl:{filename:m,resourceUrl:C,mimeType:_,size:S}},M=JSON.stringify(R);yield null===(I=t.SqlExecutor)||void 0===I?void 0:I.attachFileToEntity(M)}else{var x=yield Object(o.c)(t,O,[h],d);if(!x){var D="Unable to get attribute metadata descriptor that associated to entity: ".concat(O);return l.warn("".concat(g()," ").concat(D),d),Promise.reject(D)}var A,k,F,L,q=x[h].AttributeOf;if(null!==(A=t.AdditionalParameters)&&void 0!==A&&A.EnableCanvasOffline&&null!==(k=t.SqlExecutor)&&void 0!==k&&k.createBase64Thumbnail)try{L=yield t.SqlExecutor.createBase64Thumbnail(C,_)}catch(D){var U=Object(i.g)(D);l.error("".concat(g()," Offline thumbnail generation failed. Attempting File Upload without thumbnail. Error: ").concat(U.message),d)}var B={entityId:E,entityLogicalName:O,entityFieldName:q,canMove:!0,fileUrl:{filename:m,resourceUrl:C,mimeType:_,size:S},imageMetadata:{},base64Thumbnail:L},V=JSON.stringify(B);yield null===(F=t.SqlExecutor)||void 0===F?void 0:F.attachImageToEntity(V)}}catch(H){var G=Object(i.g)(H);throw l.error("Offline File upload failed",d),G}}))).apply(this,arguments)}function h(e,t){return v.apply(this,arguments)}function v(){return(v=d((function*(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=t.TraceManager.getTracer(a.a.FileExecutor);c.info("".concat(g()," ExecuteFileDeleteRequest - File Executor Started"));var u=n.commonEventParameters||[];if(!e.url)throw c.error("".concat(g()," url is invalid"),u),new Error("Empty url is not valid");var l=e.url.split("/"),d=l[l.length-1],f=l[l.length-2],p=f.split("(")[0],h=yield Object(o.h)(t,p,u),v=f.substring(f.lastIndexOf("(")+1,f.lastIndexOf(")"));try{var m=yield Object(o.b)(t,[d],h);if(u.push({name:"EntityName",value:h}),u.push({name:"EntityId",value:v}),u.push({name:"AttributeName",value:d}),!m||!m[d]||m[d]!==s.a.File&&m[d]!==s.a.Image){var y=m&&m[d]?m[d]:"Unknown",b=m&&m[d]?"Attribute type is not valid for file or image upload":"Attribute metadata not found for given attribute type";u.push({name:"MetadataType",value:y});var O=new r.a(b);throw c.error("".concat(g()," ").concat(b),u),O}var E=m[d],_=E===s.a.File?"File":"Image",S=yield Object(o.c)(t,h,[d],u);if(!S||!S[d]){var C="Unable to get attribute metadata descriptor that associated to entity: ".concat(h);return c.warn("".concat(g()," ").concat(C),u),Promise.reject(C)}var w,T=S[d].AttributeOf,j={entityId:v,entityLogicalName:h,entityFieldName:E===s.a.File?d:T,attachmentType:_},N=JSON.stringify(j);yield null===(w=t.SqlExecutor)||void 0===w?void 0:w.deleteAttachment(N)}catch(I){var P=Object(i.g)(I);throw c.error("Offline File delete failed",u),P}}))).apply(this,arguments)}function m(e,t){return y.apply(this,arguments)}function y(){return(y=d((function*(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.TraceManager.getTracer(a.a.FileExecutor);r.info("".concat(g()," ExecuteGetFileSasUrlRequest - File Executor Started"));var l=n.commonEventParameters||[];if(!e.url||-1===e.url.indexOf(u.p.question))throw r.error("".concat(g()," GetFileSasUrl url is invalid"),l),new Error("GetFileSasUrlRequest url is invalid");try{var d=e.url,f=(d=d.substring(d.lastIndexOf(u.p.forwardSlash),d.length)).substring(d.indexOf(u.p.question),d.length);d=d.substring(0,d.indexOf(u.p.question));var p=f.substring(f.indexOf("'".concat(c.p.oDataId,"':'"))+"'".concat(c.p.oDataId,"':'").length,f.indexOf("(")),h=yield Object(o.h)(t,p);l.push({name:a.c.ENTITY_NAME,value:h});var v,m=d.substring(d.indexOf("".concat(c.p.fileAttributeProperty,"='"))+"".concat(c.p.fileAttributeProperty,"='").length,d.indexOf("')")),y=f.substring(f.indexOf("(")+1,f.indexOf(")")),b=yield Object(o.b)(t,[m],h,l);if(b[m]===s.a.File){var O;if(null===(O=t.SqlExecutor)||void 0===O||!O.getFile)throw r.error("".concat(g()," SqlExecutor.getFile is not available"),l),new Error("SqlExecutor.getFile is not available");v=yield t.SqlExecutor.getFile(h,y,m)}else{if(b[m]!==s.a.Image)throw r.error("".concat(g()," Unsupported attribute type for GetFileSasUrl request"),l),new Error("Unsupported attribute type for GetFileSasUrl request");var E;if(null===(E=t.SqlExecutor)||void 0===E||!E.getFullImage)throw r.error("".concat(g()," SqlExecutor.getFullImage is not available"),l),new Error("SqlExecutor.getFullImage is not available");v=yield t.SqlExecutor.getFullImage(h,y,m)}return v}catch(S){var _=Object(i.g)(S);throw r.error("Offline GetFileSasUrl failed with: "+_.message,l),_}}))).apply(this,arguments)}function g(e){return"[".concat(e||a.d.FileExecutor,"]")}},20728:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(20632),a=n(20652);class i extends r.a{constructor(e,t){super(e,t),this.setExecuteRequestInterceptor(new a.a(this.applicationContext)).build()}}},20729:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(20632),a=n(20730),i=n(20732);class o{constructor(e,t){this._HttpODataClient=void 0,this._applicationContext=void 0,this._applicationContext=t,this._HttpODataClient=new r.a(e,this._applicationContext).addInterceptor(new i.a(this._applicationContext)).setExecuteRequestInterceptor(new a.a(this._applicationContext)).build()}getRemoteODataClient(e){return this._HttpODataClient}}},20730:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(20583),a=n(20596),i=n(20588),o=n(20584),c=n(20731),s=n(20600);function u(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}class l extends c.a{execute(e,t){var n,c=this;return(n=function*(){var n=new Headers,u=c.applicationContext.TraceManager.getTracer(o.a.RemoteODataExecutor),l=c._stripHintsFromHeader(e,u),d=l.additionalHeaders,f=[];if(Object(a.c)(l,f),d)for(var p in d)Object(i.p)(n,p)&&n.delete(p),n.append(p,d[p]);var h=new Request(l.url,{method:l.method,credentials:"same-origin",headers:n,body:l.body});try{t&&t.performanceControl&&t.performanceControl.startMarker(o.d.FetchRequest);var v=yield fetch(h);return t&&t.performanceControl&&t.performanceControl.endMarker(o.d.FetchRequest),v}catch(g){var m=g&&g.message?g.message:"Failed to fetch",y="Failed to fetch"===m||"Network request failed"===m?r.i.NetworkIssue:g.code;return g.message=m,g.code=y,f.push({name:o.c.REQUEST_URL,value:Object(s.b)(l.url)}),Object(a.a)(g,f),u.error("".concat(c.getHttpExecutorInterceptorPrefix()," ").concat(m),f),Object(i.f)(g,l.url,void 0,y)}},function(){var e=this,t=arguments;return new Promise((function(r,a){var i=n.apply(e,t);function o(e){u(i,r,a,o,c,"next",e)}function c(e){u(i,r,a,o,c,"throw",e)}o(void 0)}))})()}getHttpExecutorInterceptorPrefix(e){return"[".concat(e||o.d.HttpExecutorInterceptor,"]")}_stripHintsFromHeader(e,t){try{if(e.additionalHeaders)for(var n in r.s)delete e.additionalHeaders[r.s[n]]}catch(i){var a="Exception in _stripHintsFromHeader";i.message=a,t.error("".concat(this.getHttpExecutorInterceptorPrefix()," ").concat(a))}return e}}},20731:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(20584),a=n(20638);function i(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function c(e){i(o,r,a,c,s,"next",e)}function s(e){i(o,r,a,c,s,"throw",e)}c(void 0)}))}}class c extends a.a{execute(e,t){return o((function*(){throw new Error("execute function is not implemented")}))()}preprocessing(e){return o((function*(){return e}))()}postprocessing(e,t){return o((function*(){return e}))()}intercept(e){var t=this;return o((function*(){var n=e.executionContext,r=e.request,a=yield t.preprocessing(r);t.tracer.info("".concat(t.getExecuteRequestInterceptorPrefix()," Execute request start ").concat(a.url));var i=yield t.execute(a,n);return t.tracer.info("".concat(t.getExecuteRequestInterceptorPrefix()," Execute request finish ").concat(i.status)),yield t.postprocessing(i,r)}))()}getExecuteRequestInterceptorPrefix(e){return"[".concat(e||r.d.ExecuteRequestInterceptor,"]")}}},20732:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(20596),a=n(20588),i=n(20584),o=n(20638);function c(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}class s extends o.a{intercept(e){var t,n=this;return(t=function*(){var t=e.request,o=Object(a.i)(t.url),c="GET"===t.method&&o.length>1800,s=n.applicationContext.TraceManager.getTracer(i.a.RemoteODataExecutor),u=e.executionContext?e.executionContext.commonEventParameters:[],l=[];l.push({name:"UrlRequestLength",value:o.length}),s.info("".concat(n.getLongRequestInterceptorPrefix()," Start Execute Remote Request "),Object(r.b)(u,l)),c&&(t=Object(a.e)([t]),s.warn("".concat(n.getLongRequestInterceptorPrefix()," Built batch request for long request"),Object(r.b)(u,l)));var d=yield e.proceed(t);return c&&(d=(yield Object(a.F)(d))[0],s.warn("".concat(n.getLongRequestInterceptorPrefix()," Parsed batch request for long request"),Object(r.b)(u,l))),s.info("".concat(n.getLongRequestInterceptorPrefix()," Finish Execute Remote Request"),Object(r.b)(u,l)),d},function(){var e=this,n=arguments;return new Promise((function(r,a){var i=t.apply(e,n);function o(e){c(i,r,a,o,s,"next",e)}function s(e){c(i,r,a,o,s,"throw",e)}o(void 0)}))})()}getLongRequestInterceptorPrefix(e){return"[".concat(e||i.d.LongRequestInterceptor,"]")}}},20733:function(e,t,n){"use strict";n.d(t,"a",(function(){return j})),n.d(t,"c",(function(){return P})),n.d(t,"b",(function(){return I}));var r=n(20734),a=n(20735),i=n(20736),o=n(20737),c=n(20738),s=n(20744),u=n(20745),l=n(20746),d=n(20747),f=n(20748),p=n(20749),h=n(20828),v=n(20624),m=n(20816),y=n(20585),g=n(20829),b=n(20752);function O(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function E(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){O(i,r,a,o,c,"next",e)}function c(e){O(i,r,a,o,c,"throw",e)}o(void 0)}))}}var _=["activityparty"];function S(e,t,n,r,a){return C.apply(this,arguments)}function C(){return(C=E((function*(e,t,n,r,a){var i=t.TraceManager.getTracer("RetrieveEntity"),o=[],c=t.DataLayerConfiguration.MetadataProvider;if(c)try{var s=yield c.retrieveEntities(n);return e(R(s)),s}catch(O){throw e(x(Object.keys(n))),O}else try{var u=n&&Object.keys(n).sort(),l=Object(f.a)(JSON.stringify(n,u)),d=new h.a(j,l,null,null,[],!1,m.a.OnDemandWithoutContext,null,[],null),v=yield e(Object(p.b)(d,a));if(!v)throw o.push({name:"Entities",value:null==u?void 0:u.join(",")}),null==i||i.error("Null metadata response from GCM action",o),new Error("null metadata response");var y=Object(g.a)(v,r,Object(b.c)(d));return e(R(y)),y}catch(O){throw e(x(Object.keys(n))),O}}))).apply(this,arguments)}function w(e,t,n,a,c){var u={},l={};for(var d in n){var f,p=void 0,h=n[d],v=Object(o.b)(e,d);if(T(d)){var m,y=N(e,d,a,c,null===(m=a.DataLayerConfiguration.GarbageCollectionProvider)||void 0===m?void 0:m.getCurrentPage());y&&(l[d]=y)}v&&v.Initialized!==r.a.Uninitialized&&v.Initialized!==r.a.Partial?(p=Object(i.c)(e,d,null!==(f=null!=h?h:v.AttributeNames)&&void 0!==f?f:[])).length>0&&(u[d]=p&&p.sort().filter((e,t,n)=>n.indexOf(e)===t)):u[d]=h&&h.sort().filter((e,t,n)=>n.indexOf(e)===t)}return Object.keys(l).length>0&&t(Object(s.f)(l)),u}function T(e){return-1===_.indexOf(e)}var j="entity";function N(e,t,n,r,a){if(!e)return null;var i;if(!a&&(a=null===(i=n.DataLayerConfiguration.GarbageCollectionProvider)||void 0===i?void 0:i.getCurrentPage(),r)){var o=n.TraceManager.getTracer("RetrieveEntity"),c="getUpdatedEntityRefCount() called without pageId, action stack is : ".concat(r.stack);o.info(c);var s=[];s.push({name:"errorString",value:c}),n.EventManager.ReportComponentSuccess("RetrieveEntity",s)}if(a&&""!==a){var d,f=Object(l.c)(e,t),p=null==f?void 0:f.slice();return null!==(d=Object(u.a)(p,a))&&void 0!==d?d:null}return null}function P(e,t,n,r){return{type:"entity.retrieve.async",execute:(a,i,o)=>E((function*(){var{dispatch:c,getState:s}=a,u={[e]:t?null:null!=n?n:[]},l=w(s(),c,u,i,o);return 0===Object.keys(l).length?M(s(),[e]):S(c,i,l,s,r||new v.a(y.a.newGuid().guid))}))()}}function I(e,t){return{type:"entity.retrieve.async",execute:(n,r,a)=>E((function*(){var{dispatch:i,getState:o}=n;try{if(!e||0===Object.keys(e).length)return Promise.resolve({});var s=w(o(),i,e,r,a);return 0===Object.keys(s).length?M(o(),Object.keys(e)):S(i,r,s,o,t||new v.a(y.a.newGuid().guid))}catch(u){Object(c.b)(u)}}))()}}function R(e){return{type:a.b,payload:e}}function M(e,t){var n={entities:{},attributes:{}};for(var r of t)n.entities&&(n.entities[r]=Object(o.b)(e,r)),n.attributes&&(n.attributes[r]=Object(i.b)(e,r));return n}function x(e){var t={};e.forEach(e=>{t[e]={Initialized:r.a.Error}});var n={entities:t};return Object(d.a)(n)}},20734:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized",e[e.Refreshing=3]="Refreshing",e[e.Error=4]="Error",e[e.Partial=5]="Partial",e}(r||{})},20735:function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"f",(function(){return o})),n.d(t,"g",(function(){return c})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return u}));var r="retrieve.grid.data.action",a="gc.remove.data.action",i="get.client.metadata",o="retrieve.lookup.data.action",c="retrieve.record.data.action",s="refresh.record.data.action",u="remove.entity.record.action"},20736:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return a}));n(20586),n(20737);function r(e,t){var n,r;return e&&null!=e&&e.metadata&&null!=e&&null!==(n=e.metadata)&&void 0!==n&&n.attributes?null==e||null===(r=e.metadata)||void 0===r?void 0:r.attributes[t]:null}function a(e,t,n){if(!n||!n.length)return[];var a=r(e,t);if(!a)return n;for(var i=[],o=0;o<n.length;o++)a[n[o]]||i.push(n[o]);return i}function i(e,t,n){var a=r(e,t);return a&&a.hasOwnProperty(n)?a[n]:null}},20737:function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"k",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"a",(function(){return v})),n.d(t,"g",(function(){return h})),n.d(t,"f",(function(){return m})),n.d(t,"h",(function(){return E})),n.d(t,"j",(function(){return O})),n.d(t,"i",(function(){return b}));n(20734);var r=n(20593),a=n(20588),i=n(11885),o={systemuser:"systemusers",team:"teams"};function c(e,t){return Object(a.z)(t)?{EntityLogicalName:t}:e&&null!=e&&e.metadata&&null!=e&&e.metadata.entities?null==e?void 0:e.metadata.entities[t]:null}function s(e,t){if(!e||null==e||!e.metadata||null==e||!e.metadata.entities)return null;var n=null==e?void 0:e.metadata.entities;for(var r in n)if(n[r].EntitySetName===t)return n[r].EntityLogicalName;return null}function u(e,t){var n=c(e,t);if(n&&n.EntitySetName)return n.EntitySetName;var r=o[t];return r||(Object(a.y)(t)||Object(a.z)(t)?"".concat(t,"s"):null)}function l(e,t){var n=c(e,t);return!!n&&n.TableType===i.E.Elastic}function d(e,t){var n=c(e,t);return!(!n||!n.hasOwnProperty("HasStateCode"))&&n.HasStateCode}function f(e,t){var n=c(e,t);return n&&n.OneToManyRelationships?n.OneToManyRelationships:null}function p(e,t,n,r){var a=c(e,t);if(a&&a.ManyToOneRelationships)for(var i in a.ManyToOneRelationships){var o=a.ManyToOneRelationships[i];if(o.ReferencedEntity===n&&o.ReferencingAttribute===r)return o}return null}function h(e,t,n,r){var a=p(e,t,n,r);if(!a){var i=c(e,t);i&&i.ManyToOneRelationships&&i.IsActivity&&(a=p(e,"activitypointer",n,r))}return a}function v(e,t){var n=f(e,t);if(!n)return null;var r=[];for(var a in n){var i=n[a];if(i.ReferencedEntity===t&&"activityparty"===i.ReferencingEntity){if("campaignactivity"===t&&"campaignactivity_activity_parties"!==a||"bulkoperation"===t&&"bulkoperation_activity_parties"!==a)continue;r.push(i)}}return 1===r.length?r[0]:null}function m(e,t,n){var r=c(e,t);if(r&&r.ManyToOneRelationships)for(var a in r.ManyToOneRelationships){var i=r.ManyToOneRelationships[a];if(i.ReferencingEntityNavigationPropertyName===n)return i}return null}function y(e,t,n){var r=f(e,t);if(r)for(var a of Object.keys(r)){var i=r[a];if(i.ReferencedEntityNavigationPropertyName===n)return i}return null}function g(e,t,n){var r=function(e,t){var n=c(e,t);return n?n.ManyToOneRelationships:null}(e,t);if(r)for(var a of Object.keys(r)){var i=r[a];if(i.ReferencingEntityNavigationPropertyName===n)return i}return null}function b(e,t,n){var r=g(e,t,n);return r||y(e,t,n)}function O(e,t,n){return y(e,t,n)?r.g.OneToManyRelationship:g(e,t,n)?r.g.ManyToOneRelationship:r.g.None}function E(e,t){return e&&null!=e&&e.metadata&&null!=e&&e.metadata.entities&&t&&null!=e&&e.metadata.entities[t]?null==e?void 0:e.metadata.entities[t].PrimaryIdAttribute:null}},20738:function(e,t,n){"use strict";n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return h})),n.d(t,"b",(function(){return p})),n.d(t,"g",(function(){return v})),n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return f}));var r=n(20739),a=n(20740),i=n(20622),o=n(20742),c=n(19506);function s(e){var t=e;t<0&&(t=t+4294967295+1);var n=t.toString(16);return"Error_Message_0x".concat(n)}function u(e,t){var n=Object(o.a)(e,s(t));n||(n=Object(o.a)(e,l.DEFAULT_ERROR_MESSAGE_ID));for(var r=arguments.length,a=new Array(r>2?r-2:0),i=2;i<r;i++)a[i-2]=arguments[i];return a?c.String.Format(n,a):n}class l{constructor(e,t,n,a,i,o,c,s,u,d,f){var p=arguments.length>11&&void 0!==arguments[11]&&arguments[11],h=arguments.length>12&&void 0!==arguments[12]?arguments[12]:-1,v=arguments.length>13&&void 0!==arguments[13]?arguments[13]:null,m=arguments.length>14?arguments[14]:void 0,y=arguments.length>15?arguments[15]:void 0,g=arguments.length>16?arguments[16]:void 0,b=arguments.length>17?arguments[17]:void 0;this.name=void 0,this.message=void 0,this.stack=void 0,this.errorCode=void 0,this.errorParameters=void 0,this.displayTitle=void 0,this.displayMessage=void 0,this.date=void 0,this._errorFault=void 0,this._details=void 0,this._exception=void 0,this._innerError=void 0,this._errorSource=void 0,this._isRequestTooLong=void 0,this.blockErrorReporting=void 0,this.faultedRequestIndex=void 0,this.faultedSnapshotId=void 0,this.clientRequestId=void 0,this.serverResponseId=void 0,this.httpStatusCode=void 0,this.retryAfter=void 0,this.errorRegion=void 0;var O=t||l.DEFAULT_ERROR_CODE,E=d,_=Object(r.b)(e,O,s,u,E,f,p);return _.message||(_.message=O.toString()),_.errorParameters||(_.errorParameters=[]),c&&_.errorParameters.push({name:"ErrorDetails",value:c}),o&&_.errorParameters.push({name:"ErrorFault",value:o}),i&&_.errorParameters.push({name:"ErrorSource",value:i}),n&&_.errorParameters.push({name:"Exception",value:n.message}),f&&_.errorParameters.push({name:"ErrorStack",value:f}),_._errorSource=i,_._exception=n,_._innerError=a,_._errorFault=o,_._details=c,_.blockErrorReporting=p,_.faultedRequestIndex=h,_.faultedSnapshotId=v,_.httpStatusCode=m,_.clientRequestId=y,_.serverResponseId=g,_.retryAfter=b,l._addErrorStatusProps(_),_}static fromErrorCode(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];var i=u(e,t,r);return new l(i,t)}static fromExistingError(e){var t=e;return t.name||(t.name=r.a),void 0===t.errorCode&&(t.errorCode=l.DEFAULT_ERROR_CODE),void 0===t.blockErrorReporting&&(t.blockErrorReporting=!1),void 0===t.faultedRequestIndex&&(t.faultedRequestIndex=-1),l._addErrorStatusProps(t),t}static _addErrorStatusProps(e){var t=Object.getOwnPropertyNames(l.prototype);for(var n of t){var r=Object.getOwnPropertyDescriptor(l.prototype,n);Object.defineProperty(e,n,r)}}static createEmpty(){return new l("ErrorStatus created with no information",this.DEFAULT_ERROR_CODE)}static toLegacyErrorStatus(e){if(!e)return null;var t=a.a.FromMessage(e.message,null);return t.set_ErrorCode(e.errorCode),t.set_ErrorFault(e.errorFault),t.set_Exception(e.exception),t.set_Stack(e.stack),t.set_InnerError(l.toLegacyErrorStatus(e.innerError)),t.set_BlockErrorReporting(e.blockErrorReporting),t.set_isRequestTooLong(e._isRequestTooLong),t}static fromLegacyErrorStatus(e,t){if(!e)return null;var n=e.get_Stack();if(!n){var r=e.get_ErrorFault();r&&r.get_innerFault()&&(n=r.get_innerFault().get_callStack())}var a=e.get_ErrorCode(),o=e.get_Message();Object(i.b)(o)&&null!=t&&(o=u(t,a));var c=-1;void 0!==e.get_FaultedRequestIndex&&(c=e.get_FaultedRequestIndex());var s=new l(o,a,e.get_Exception(),l.fromLegacyErrorStatus(e.get_InnerError()),e.get_ErrorSource(),e.get_ErrorFault(),n,null,null,null,n,e.get_BlockErrorReporting(),c,null,e.get_HttpStatusCode(),e.get_ClientRequestId(),e.get_ServerResponseId(),e.get_RetryAfter(),e.get_ErrorFault()?e.get_ErrorFault().get_annotations():null);return s._isRequestTooLong=e.get_isRequestTooLong(),s}get errorFault(){return this._errorFault}get details(){return this._details}get exception(){return this._exception}get innerError(){return this._innerError}get errorSource(){return this._errorSource}get localizedMessage(){if(this.message){var e=/, Error details: (.*)$/gi.exec(this.message);if(e&&e.length>1){var t=e[1];return"'"===t[0]&&"'"===t[t.length-1]?t.substring(1,t.length-1):t}}return null}containsErrorCode(e){return this.getNegativeErrorCode()===e||!!this._innerError&&this._innerError.containsErrorCode(e)}getNegativeErrorCode(){return d(this.errorCode)}}function d(e){var t=e;return e>0&&(t=~~e),t}function f(e){var t=e;return e<0&&(t=1+~e),t}function p(e){throw h(e)}function h(e){return e?e instanceof Error?l.fromExistingError(e):e:l.createEmpty()}function v(e){return e instanceof Error&&e.name===r.a}l.DEFAULT_ERROR_MESSAGE_ID="Error_Message_Generic_Mobile_Client",l.DEFAULT_ERROR_CODE=0},20739:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var r="UciError";function a(e,t,n,a,i,o){var c=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=new Error(e);return s.name=r,s.errorCode=t,s.errorParameters=n,s.displayTitle=a,s.displayMessage=i,s.blockErrorReporting=c,o&&(s.stack=o),s}},20740:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(20622),a=n(20738),i=n(20741),o=n(19506);class c{constructor(e){this._errorCode=0,this._errorFault=null,this._message=void 0,this._exception=void 0,this._innerError=void 0,this._errorSource=0,this._blockErrorReporting=!1,this._stack=void 0,this._faultedRequestIndex=0,this._clientRequestId=void 0,this._serverResponseId=void 0,this._httpStatusCode=0,this._retryAfter=void 0,this._isRequestTooLong=void 0,this._message=e,this._errorSource=0,this._blockErrorReporting=!1,this._isRequestTooLong=!1}get_ErrorCode(){return this._errorCode}set_ErrorCode(e){return this._errorCode=e,e}get_Message(){return this._message}set_Message(e){return this._message=e,e}get_Exception(){return this._exception}set_Exception(e){return this._exception=e,e}get_InnerError(){return this._innerError}set_InnerError(e){return this._innerError=e,e}get_ErrorFault(){return this._errorFault}set_ErrorFault(e){return this._errorFault=e,e}get_ErrorSource(){return this._errorSource}get_BlockErrorReporting(){return this._blockErrorReporting}set_BlockErrorReporting(e){return this._blockErrorReporting=e,e}get_Stack(){return this._stack}set_Stack(e){return this._stack=e,e}get_FaultedRequestIndex(){return this._faultedRequestIndex}set_FaultedRequestIndex(e){return this._faultedRequestIndex=e,e}get_ServerResponseId(){return this._serverResponseId}set_ServerResponseId(e){return this._serverResponseId=e,e}get_ClientRequestId(){return this._clientRequestId}set_ClientRequestId(e){return this._clientRequestId=e,e}get_HttpStatusCode(){return this._httpStatusCode}set_HttpStatusCode(e){return this._httpStatusCode=e,e}get_RetryAfter(){return this._retryAfter}set_RetryAfter(e){return this._retryAfter=e,e}get_isRequestTooLong(){return this._isRequestTooLong}set_isRequestTooLong(e){return this._isRequestTooLong=e,e}chainError(e){this.set_Message(this.get_Message()+"\nInner Error Message:\n"+e.get_Message()),this.set_InnerError(e)}getObjectData(){var e={};return e.errorcode=this.get_ErrorCode(),e.message=this.get_Message(),Object(r.a)(this.get_InnerError())||(e.innererror=this.get_InnerError().getObjectData()),e}static FromMessage(e){var t="";if(!Object(r.b)(e)){for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];t=!Object(r.a)(a)&&a.length>0?o.String.Format(e,...a):e}return new c(t)}static fromGenericError(e){var t=Object(r.a)(e)?c.fromErrorCode(1):c.FromMessage(e.message);return t._blockErrorReporting=e.blockErrorReporting,Object(r.a)(e.errorCode)||(t._errorCode=e.errorCode),Object(r.a)(e.stack)||(t._stack=e.stack),t}static fromErrorCode(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=new c(Object(a.d)({},e,n));return i.set_ErrorCode(e),i}static fromErrorCodeAndMessage(e,t){var n=new c("");return n.set_ErrorCode(e),n.set_Message(t),n}static fromLocalStoreError(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];var i=new c(o.String.Format(t,...r));return i._errorCode=e,i}static isAuthenticationErrorCode(e){return e===i.a.UserWithoutRoles||e===i.a.UserWithoutPrivileges||e===i.a.BusinessUnitDisabled||e===i.a.GeneralAuthorizationErrorCode||e===i.a.PrivilegeDenied||e===i.a.NoUserPrivilege||e===i.a.UserDisabled}}},20741:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return e[e.InvalidEntity=-2147098612]="InvalidEntity",e[e.NoUserPrivilege=-2146088112]="NoUserPrivilege",e[e.NoMinimumRequiredPrivilegesForTabletApp=-2147094001]="NoMinimumRequiredPrivilegesForTabletApp",e[e.dataSourceInitializeFailedErrorCode=-2147094e3]="dataSourceInitializeFailedErrorCode",e[e.DataSourceOfflineErrorCode=-2147093999]="DataSourceOfflineErrorCode",e[e.retrieveRecordOfflineErrorCode=-2147093997]="retrieveRecordOfflineErrorCode",e[e.cannotSaveRecordInOfflineErrorCode=-2147093996]="cannotSaveRecordInOfflineErrorCode",e[e.GeneralAuthorizationErrorCode=-2147093995]="GeneralAuthorizationErrorCode",e[e.SignOutFailed=-2147093993]="SignOutFailed",e[e.viewNotAvailableForMobileOffline=-2147093989]="viewNotAvailableForMobileOffline",e[e.DataStoreKeyNotFoundErrorCode=-2147093987]="DataStoreKeyNotFoundErrorCode",e[e.cantUpdateOnlineRecord=-2147093980]="cantUpdateOnlineRecord",e[e.cannotDeleteOnlineRecord=-2147093944]="cannotDeleteOnlineRecord",e[e.LocalDataSourceError=-2147015599]="LocalDataSourceError",e[e.unknownBadRequestError=-2147015424]="unknownBadRequestError",e[e.UnknownUnauthorizedError=-2147015423]="UnknownUnauthorizedError",e[e.unknownForbiddenError=-2147015422]="unknownForbiddenError",e[e.unknownNotFoundError=-2147015421]="unknownNotFoundError",e[e.UnknownTooManyRequestsError=-2147015420]="UnknownTooManyRequestsError",e[e.unknownInternalServerError=-2147015419]="unknownInternalServerError",e[e.unknownNotImplementedServerError=-2147015418]="unknownNotImplementedServerError",e[e.unknownBadGatewayError=-2147015417]="unknownBadGatewayError",e[e.unknownServiceUnavailableError=-2147015416]="unknownServiceUnavailableError",e[e.unknownGatewayTimeoutError=-2147015415]="unknownGatewayTimeoutError",e[e.UnknownUnexpectedGenericError=-2147015414]="UnknownUnexpectedGenericError",e[e.concurrencyVersionMismatch=-2147088254]="concurrencyVersionMismatch",e[e.concurrencyVersionNotProvided=-2147088253]="concurrencyVersionNotProvided",e[e.duplicateRecordDetected=-2147220685]="duplicateRecordDetected",e[e.ObjectDoesNotExist=-2147220969]="ObjectDoesNotExist",e[e.PrivilegeDenied=-2147220960]="PrivilegeDenied",e[e.UserDisabled=-2147220955]="UserDisabled",e[e.duplicateRecord=-2147220937]="duplicateRecord",e[e.isvAborted=-2147220891]="isvAborted",e[e.isvUnexpected=-2147220956]="isvUnexpected",e[e.BusinessUnitDisabled=-2147220692]="BusinessUnitDisabled",e[e.OrganizationDisabled=-2147180284]="OrganizationDisabled",e[e.MetadataNoMapping=-2147217919]="MetadataNoMapping",e[e.UserWithoutRoles=-2147209463]="UserWithoutRoles",e[e.UserWithoutPrivileges=-2147209460]="UserWithoutPrivileges",e[e.UserNotAssignedLicense=-2147167669]="UserNotAssignedLicense",e[e.UserDoesNotHaveAdminOnlyModePermissions=-2147180269]="UserDoesNotHaveAdminOnlyModePermissions",e[e.UserNotMemberOfOrg=-2147015328]="UserNotMemberOfOrg",e[e.crmSqlGovernorDatabaseRequestDenied=-2147180543]="crmSqlGovernorDatabaseRequestDenied",e[e.AggregateQueryRecordLimitExceeded=-2147164125]="AggregateQueryRecordLimitExceeded",e[e.InvalidFilterCriteriaForVisualization=-2147164130]="InvalidFilterCriteriaForVisualization",e[e.InsufficientColumnsInSubQuery=-2147164126]="InsufficientColumnsInSubQuery",e[e.InvalidAppModuleSiteMap=-2147155696]="InvalidAppModuleSiteMap",e[e.QueryBuilderNoAttribute=-2147217149]="QueryBuilderNoAttribute",e[e.SqlArithmeticOverflowError=-2147217098]="SqlArithmeticOverflowError",e[e.unManagedIdsAccessDenied=-2147187962]="unManagedIdsAccessDenied",e[e.invalidFetchXml=-2147220733]="invalidFetchXml",e[e.requiredFieldMissing=-2147220992]="requiredFieldMissing",e[e.AuthenticationFailed=-2147873353]="AuthenticationFailed",e}({})},20742:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(20743);function a(e){return e&&e.metadata&&e.metadata.resourceStrings?e.metadata.resourceStrings:null}function i(e,t){var n,a=o(e,t);return null!==(n=null!=a?a:r.a[t])&&void 0!==n?n:a}function o(e,t){var n=a(e);return n&&n.strings?n.strings[t]:null}},20743:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={Error_Message_0x8005f211:"This operation failed because you're offline. Reconnect and try again.",Error_Message_0x8005F249:"Authentication failed",Error_Message_0x8005F20A:"Authentication failed - user cancelled",Error_Message_0x8005F20B:"Authentication failed - cookie setup failed",Error_Message_0x80042F09:"Access has not yet been fully configured for this user. The user needs at least one security role before you can continue.",Error_Message_0x80042f0c:"Your access has not yet been fully configured. Contact your administrator so that they can assign you a security role before proceeding.",Error_Message_0x80040225:"The system could not log you on. This could be because your user record or the business unit you belong to has been disabled",Error_Message_0x8004032c:"The system could not log you on. This could be because your user record or the business unit you belong to has been disabled in {#Brand_CRM}. For more information, contact your system administrator.",Error_Message_0x80040226:"You do not have permission to access these records. Contact your administrator for help.",Error_Message_0x8005f215:"You can't view this type of record on your device. Contact your system administrator.",Error_Message_0x80154b50:"You do not have sufficient permissions.",Error_Message_0x8004D24B:"Your user account has not been assigned a license. Contact your administrator.",Error_Message_0x80072560:"Your user account is not a member of this organization. Please contact your administrator.",Error_Message_0x8004A104:"Your user account is part of a disabled organization. Please contact your administrator",Error_Message_0x8004A113:"Sign-in is currently disabled. Only system administrators or system customizers can sign in at this time. Please contact your administrator",Error_Message_0x8005f21d:"Not in local store with key '{0}'",Error_Message_Generic_Mobile_Client:"Sorry, something went wrong. Please try again, or restart the app.",Button_Label_Close:"Close",Button_Label_OK:"OK",Button_Label_Cancel:"Cancel",Leave_This_Page:"Leave this page?",Leave_Page_Text:"You won’t be able to return to this page. To stay here and continue working, select Cancel.",Dialog_AuthError_Dialog_Title:"Please sign in again",Dialog_AuthError_Dialog_Description:"To continue working, please sign in again.",Dialog_Reauthenticate_Signin_Button:"Sign In",Dialog_Reauthenticate_Cancel_Button:"Cancel",Updating_Offline_Data:"Updating offline data",First_Sync_Complete_Notification:"Offline data is ready to use. You can now work offline.",First_Sync_Complete_Notification_Offline_By_Default:"App can now be used offline.",Request_Apply_Metadata_Notification:"Offline data will be ready to use after you navigate.",Request_Apply_Metadata_Notification_Offline_By_Default:"App will be ready to use offline when you navigate.",Metadata_Download_Notification:"Downloading offline data, this may take some time.",Download_Progress:"See download progress.",MailtoLink_ReportToAdmin:"{0} Click here {1} to share the information about this error screen with your Microsoft administrator.",Offline_Date_Update_Completed:"Offline data update completed",L_Offline_Updating:"Updating",First_Sync_Complete_File_Sync_Starting_Notification:"Your data is ready to be used offline. Syncing your files now...",File_Sync_Completed_Notification:"Offline files are ready to use. You can now work offline.",File_Sync_Completed_Notification_With_Error:"Error downloading the offline files. Check out the offline status page.",ServerUnavailableNotification_Offline_By_Default_Message:"Network unavailable.",Commanding_FX_Component_Not_Found_Text:"The Component Library is still publishing. Please try again.",Commanding_FX_Function_Not_Found_Text:"There was an error retrieving your formula. Please make sure your formula has no errors.",Commanding_FX_AppHost_SignIn_Error_Text:"Some components of this app require you to sign in. Power Fx capabilities will not work. Please refresh the page and try signing in again. If that doesn’t work, contact your admin."}},20744:function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return l})),n.d(t,"a",(function(){return c})),n.d(t,"f",(function(){return f})),n.d(t,"b",(function(){return s}));var r=n(20745),a=n(20734),i=n(20737),o=n(20746),c="gc.metadata.remove",s="gc.metadata.update.refcount";function u(e){return{type:"garbage.collect.metadata.sync",sync:!0,execute(t,n){var{dispatch:a,getState:i}=t,c=i(),s={},u={},p={},h=Object(o.b)(c);for(var v in h){var m,y=null===(m=h[v])||void 0===m?void 0:m.slice(),g=y&&Object(r.b)(y,e);g&&(0===g.length?l(c,v,s,u):p[v]=g)}var b={};((Object.keys(b).length>0||Object.keys(p).length>0)&&a(f(p,b)),Object.keys(s).length>0)&&a(d({entities:s,attributes:u}))}}}function l(e,t,n,r){var o=Object(i.b)(e,t);if(o){var c={Initialized:a.a.Uninitialized,EntityLogicalName:o.EntityLogicalName,IsActivity:o.IsActivity};n[t]=c,r[t]=null}}function d(e){return{type:c,payload:e}}function f(e,t){return{type:s,payload:{entities:e,ribbons:t}}}},20745:function(e,t,n){"use strict";function r(e,t){if(e||(e=[]),-1===e.indexOf(t))return e.push(t),e}function a(e,t){if(e){var n=e.indexOf(t);return-1!==n?1===e.length?[]:(e.splice(n,1),e):void 0}}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}))},20746:function(e,t,n){"use strict";function r(e){return e&&e.garbageCollector?e.garbageCollector.metadata:null}function a(e){var t,n=r(e);return n&&null!==(t=n.entities)&&void 0!==t?t:null}function i(e,t){var n=r(e);return n&&n.entities?n.entities[t]:null}function o(e){return e&&e.garbageCollector?e.garbageCollector.data:null}function c(e){var t=o(e);return t&&t.entities?t.entities:null}function s(e,t,n){var r=o(e);return r&&r.entities&&r.entities[t]?r.entities[t][n]:null}function u(e){var t=o(e);return t&&t.lists?t.lists:null}function l(e,t){var n=o(e);return n&&n.lists&&n.lists[t]?n.lists[t]:null}n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return s})),n.d(t,"f",(function(){return u})),n.d(t,"e",(function(){return l}))},20747:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));function r(e){return{type:"entityMetadata.retrieve",payload:e}}},20748:function(e,t,n){"use strict";function r(e){return null==e?void 0:e.replace(/\\"/gi,'"')}function a(e){return null==e?void 0:e.replace(/\\/g,"\\\\").replace(/"/gi,'\\"')}n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}))},20749:function(e,t,n){"use strict";n.d(t,"b",(function(){return H})),n.d(t,"a",(function(){return Y}));var r=n(20750),a=n(20751),i=n(20752),o=n(20585),c=n(20757),s=n(20760),u=n(20759),l=n(20758),d=n(20755),f=n(20756),p=n(20624),h=n(20761),v=n(20622),m=n(20588),y=n(20762),g=n(20815),b=n(20817),O=n(20818),E=n(20819),_=n(20820),S=n(20821),C=n(20822),w=n(20806),T=n(20584),j=n(20823),N=n(20811),P=n(20733),I=n(20740),R=n(20741),M=n(20738),x=n(20804),D=n(20748),A=n(20824),k=n(20626),F=n(20810),L=(n(20613),n(20826)),q=n(20827),U=n(20780);function B(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function V(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){B(i,r,a,o,c,"next",e)}function c(e){B(i,r,a,o,c,"throw",e)}o(void 0)}))}}var G=function(e){return e[e.None=0]="None",e[e.EntityMetadataReduction=1]="EntityMetadataReduction",e[e.UserContextMetadataReduction=2]="UserContextMetadataReduction",e}(G||{});function H(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.a.LocalAndRemote;return{type:"moderndatasource.getclientmetadata.async",execute:(r,i)=>V((function*(){var{dispatch:o,getState:c}=r,s=i.TraceManager.getTracer(a.d.ModernDataSource);s.info("".concat(J()," Get Client Metadata is executing")),null==t||t.AppendCallStack("".concat(J(),".getClientMetadata"));var u=Object(k.d)();if(u){s.info("".concat(J()," Using common promise cache"));var l=Q(e,t,n),d=Object(q.b)(U.c.GCM,U.b.Default);return yield o(Object(q.a)(!0,u,()=>Object(L.a)(e,n,c),l,d,s,[],t))}return o(Q(e,t,n))}))()}}function Q(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.a.LocalAndRemote;return{type:"moderndatasource.getclientmetadatainternal.async",execute:(T,j)=>V((function*(){var N,M,{dispatch:A,getState:k}=T,L=j.TraceManager.getTracer(a.d.ModernDataSource);L.info("".concat(J()," Get Client Metadata is executing")),null===(N=t)||void 0===N||N.AppendCallStack("".concat(J(),".getClientMetadata"));var q=Object(i.c)(e),U=k();!U&&e.MetadataType&&L.warn("".concat(J()," Trying to execute a ").concat(e.MetadataType," GCM call with depth ").concat(e.DependencyDepth," when state is null")),null===o.a.tryParseOrNull(Object(c.a)(U))&&e.MetadataType===s.a&&(q.AppId=o.a.fromLegacyGuid(e.MetadataId));var B=Object(u.a)(U,l.m),V=B?new f.a:new d.a;V.ClientMetadataQuery=q;var H=yield A(Object(y.c)(V,t));if(H.urlParameters&&Object(g.a)(e.MetadataType,e.DependencyDepth)){var Q=Object(b.a)(U),W=Object(O.a)(U),X=null!=Q&&Q.currentVersion?Q.currentVersion:-1,Z=null!=W&&W.currentVersion?W.currentVersion:-1;H.urlParameters=H.urlParameters+"&umv=".concat(X.toString(),"&mv=").concat(Z.toString())}H.urlParameters=H.urlParameters+E.a,Object(_.a)(U)&&(H.additionalHeaders.Consistency="Strong",A(Object(S.a)(!1))),Object(u.a)(U,l.h)&&(H.additionalHeaders["x-ms-metadatareductionlevel"]=G.EntityMetadataReduction.toString());var $=[],ee=Object(F.a)(U)||(null===(M=j.AdditionalParameters)||void 0===M?void 0:M.EnableCanvasOffline)&&Object(w.b)(U),te=Object(C.a)(U);if(U&&U.serverStatus||(te=!0),Object(v.a)(t)){var ne=Object(y.f)(H);t=new p.a(ne,!1)}$.push({name:"InputRetrievalStrategy",value:r.a[n]}),$.push({name:E.g,value:JSON.stringify(e)}),$.push({name:"LocalDSAvailable",value:ee}),$.push({name:"RemoteDSAvailable",value:te}),K(H,$);var re=e.DependencyDepth===h.a.UserContext;re&&(H.additionalHeaders["x-ms-metadatareductionlevel"]=G.UserContextMetadataReduction.toString());var ae=(e,n)=>z(e,k,n,B,A,L,j,t,$,re);try{n===r.a.LocalAndRemote&&Object(w.d)(U)&&Object(C.a)(U)&&(e.EntityLogicalName?n=Object(x.a)(U,e.EntityLogicalName)?r.a.Local:r.a.Remote:e.MetadataType===P.a&&(n=0===Object.keys(JSON.parse(Object(D.b)(e.MetadataSubtype))).filter(e=>!Object(x.a)(U,e)).length?r.a.Local:r.a.Remote))}catch(de){var ie=I.a.fromGenericError(de);throw Y(j,$,ie,k(),a.d.ModernDataSourceGCM,"getClientMetadata failed (known allowed error)"),ie}if(n!==r.a.LocalAndRemote){if(n===r.a.Local){if(ee){var oe=yield ae(H,r.a.Local);return!Object(v.a)(oe)&&0!==Object.keys(oe).length||re?oe:(I.a.fromErrorCode(R.a.DataStoreKeyNotFoundErrorCode).set_Stack(t.get_Stack()),L.error("".concat(J()," Not in local store ").concat(e.MetadataType," ").concat(e.MetadataSubtype),$),{})}return L.warn("".concat(J()," local data source is not available and retrieval strategy is Local."),$),{}}if(n===r.a.Remote&&te)return ae(H,r.a.Remote);var ce=I.a.fromErrorCode(R.a.DataSourceOfflineErrorCode);throw ce.set_Stack(t.get_Stack()),L.error("".concat(J()," Remote data source is not available and retrieval strategy is remote, so error in GCM"),$),Y(j,$,ce,k(),a.d.ModernDataSourceGCM,"getClientMetadata failed (known allowed error)"),ce}if(!ee){if(te)return ae(H,r.a.Remote);var se=I.a.fromErrorCode(R.a.DataSourceOfflineErrorCode);throw se.set_Stack(t.get_Stack()),L.error("".concat(J()," remote and local data sources are not available so error in GCM"),$),Y(j,$,se,k(),a.d.ModernDataSourceGCM,"getClientMetadata failed (known allowed error)"),se}try{var ue=yield ae(H,r.a.Local);if((Object(v.a)(ue)||0===Object.keys(ue).length)&&!re)throw I.a.fromErrorCode(R.a.DataStoreKeyNotFoundErrorCode);return ue}catch(fe){if(L.warn("".concat(J()," error in local data source GCM, retrying with remote data source. Error is: ").concat(Object(m.o)(fe)),$),te)return ae(H,r.a.Remote);var le=I.a.fromErrorCode(R.a.DataSourceOfflineErrorCode);throw le.set_InnerError(fe),le.set_Stack(t.get_Stack()),L.error("".concat(J()," remote data source is not available and error in local data source GCM"),$),Y(j,$,le,k(),a.d.ModernDataSourceGCM,"getClientMetadata failed (known allowed error)"),le}}))()}}function z(e,t,n,r,a,i,o,c,s,u){return W.apply(this,arguments)}function W(){return(W=V((function*(e,t,n,i,o,c,s,u,l,d){l.push({name:"FinalRetrievalStrategy",value:r.a[n]});try{null==u||u.AppendCallStack("".concat(J(),"._sendGCMRequestInternal"));var f=yield Object(k.b)(e,t,c,n,s,!0,l),p=yield o(Object(y.h)(f,i,u,c));return!Object(v.a)(p)&&Object.keys(p).length>0&&!d&&(p.finalRetrievalStrategy=n),p}catch(m){var h=M.a.toLegacyErrorStatus(Object(M.c)(m));return c.error("".concat(J()," Get Client Metadata failed with error: ").concat(h.get_Message()),l),Y(s,l,h,t(),a.d.ModernDataSourceGCM,"getClientMetadata failed (known allowed error)"),Promise.reject(h)}}))).apply(this,arguments)}function Y(e,t,n,r,a,i){var o=M.a.fromLegacyErrorStatus(n,r);(t.push({name:E.c,value:o.errorCode}),Object(A.c)(a,o.errorCode))?e.EventManager.ReportComponentFailure(a,o,"",t):e.TraceManager.getTracer(a).error("".concat(J()," ").concat(i||n.get_Message()),t)}function X(e){return{url:e.urlParameters,method:e.method,additionalHeaders:e.additionalHeaders,body:e.body}}function K(e,t){var n,r,a,i=Object(N.c)(e);t.push({name:E.b,value:Object(y.f)(e)}),t.push({name:T.c.CLIENT_TYPE,value:Object(m.l)(X(e),t)}),t.push({name:T.c.OPERATION_TYPE,value:i.type}),t.push({name:T.c.OPERATION_TYPE,value:i.type,forceOwnColumn:!0}),t.push({name:T.c.OPERATION_SUB_TYPE,value:i.subType}),t.push({name:T.c.OPERATION_SOURCE,value:i.source}),t.push({name:T.c.IS_OFFLINE_BY_DEFAULT_REQUEST,value:(null===(n=e.additionalParameters)||void 0===n?void 0:n[E.e])||!1}),t.push({name:T.c.ENTITY_NAME,value:(null===(r=e.additionalParameters)||void 0===r?void 0:r[E.d])||"Unknown"}),t.push({name:T.c.EXECUTION_HINT,value:(null===(a=e.additionalHeaders)||void 0===a?void 0:a[s.c.EXECUTION_HINT])||"Unknown"});var o=e.urlParameters?Object(j.b)(e.urlParameters):null;t.push({name:E.i,value:o}),t.push({name:E.h,value:e.method||"Unknown"})}function J(e){return"[".concat(e||a.g.ModernDataSource,"]")}},20750:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return e[e.Local=0]="Local",e[e.Remote=1]="Remote",e[e.LocalAndRemote=2]="LocalAndRemote",e[e.Default=3]="Default",e}({})},20751:function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"d",(function(){return a})),n.d(t,"g",(function(){return i})),n.d(t,"h",(function(){return o})),n.d(t,"f",(function(){return c})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return l}));var r="ModernDataLayer",a={ODataBuilder:"".concat(r,".ODataBuilder"),ModernDataSource:"".concat(r,".ModernDataSource"),ExpressionRuntime:"".concat(r,".ExpressionRuntime"),QueryBuilder:"".concat(r,".QueryBuilder"),UserContext:"".concat(r,".UserContext"),AuthenticationProvider:"".concat(r,".AuthenticationProvider"),ModernDataSourceGCM:"".concat(r,".ModernDataSourceGCM")},i={ODataBuilder:"ODataBuilder",ModernDataSource:"ModernDataSource",ExpressionRuntimeHost:"ExpressionRuntimeHost",ModernQueryBuilder:"ModernQueryBuilder",ModernDataSourcePromiseCache:"ModernDataSourcePromiseCache"},o="RetrieveGridData",c=function(e){return e.Create="Create",e.Update="Update",e.Delete="Delete",e.DeleteWithUrlParams="DeleteWithUrlParams",e.Retrieve="Retrieve",e.RetrieveWithUrlParams="RetrieveWithUrlParams",e}({}),s=3e5,u=function(e){return e[e.FiveSeconds=5e3]="FiveSeconds",e[e.FifteenSeconds=15e3]="FifteenSeconds",e[e.SixtySeconds=6e4]="SixtySeconds",e}({}),l=function(e){return e[e.FiveSeconds=5e3]="FiveSeconds",e[e.FifteenSeconds=15e3]="FifteenSeconds",e[e.SixtySeconds=6e4]="SixtySeconds",e}({})},20752:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return h}));var r=n(20585),a=n(20753),i=n(20755),o=n(20756),c=n(20757),s=n(20759),u=n(20760),l=n(20758),d=function(e){return e.BusinessProcessFlow="businessprocessflow",e.MetadataVersion="metadataversion",e.UserMetadataVersion="usermetadataversion",e.BPFSelector="bpfselector",e}(d||{});function f(e){var t,n=e&&Array.isArray(e.Exclude)&&e.Exclude.map(r.a.fromLegacyGuid)||[],i=new a.a;return i.MetadataType=(t=e.MetadataType)&&p[t]?p[t]:t,i.MetadataSubtype=e.MetadataSubtype,i.EntityLogicalName=e.EntityLogicalName,i.MetadataId=r.a.fromLegacyGuid(e.MetadataId),i.MetadataNames=e.MetadataNames,i.GetDefault=e.GetDefault,i.DependencyDepth=e.DependencyDepth,i.ChangedAfter=e.ChangedAfter,i.Exclude=n,i.AppId=e.AppId&&r.a.fromLegacyGuid(e.AppId)||null,i}var p={webresourcedescriptor:"webresource"};function h(e,t){var n=f(e),a=t(),d=r.a.tryParseOrNull(Object(c.a)(a));null===d&&e.MetadataType===u.a&&(d=r.a.fromLegacyGuid(e.MetadataId))&&(n.AppId=d);var p=Object(s.a)(a,l.m)?new o.a:new i.a;return p.ClientMetadataQuery=n,p}},20753:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(20754);class a{constructor(){this.MetadataType=void 0,this.MetadataSubtype=void 0,this.EntityLogicalName=void 0,this.MetadataId=void 0,this.MetadataNames=void 0,this.GetDefault=void 0,this.DependencyDepth=void 0,this.ChangedAfter=void 0,this.Exclude=void 0,this.AppId=void 0}getMetadata(){return{boundParameter:null,operationName:null,operationType:null,parameterTypes:{MetadataType:{typeName:"Edm.String",structuralProperty:r.b.PrimitiveType},MetadataSubtype:{typeName:"Edm.String",structuralProperty:r.b.PrimitiveType},EntityLogicalName:{typeName:"Edm.String",structuralProperty:r.b.PrimitiveType},MetadataId:{typeName:"Edm.Guid",structuralProperty:r.b.PrimitiveType},MetadataName:{typeName:"Edm.String",structuralProperty:r.b.PrimitiveType},MetadataNames:{typeName:"Edm.String",structuralProperty:r.b.Collection},GetDefault:{typeName:"Edm.Boolean",structuralProperty:r.b.PrimitiveType},DependencyDepth:{typeName:"Microsoft.Dynamics.CRM.DependencyDepth",structuralProperty:r.b.EnumerationType,enumProperties:[,{name:"Unknown",value:0},{name:"OnDemandWithContext",value:1},{name:"OnDemandWithoutContext",value:2},{name:"OnDemandContextOnly",value:3},{name:"Offline",value:4},{name:"Mobile",value:5},{name:"UserContext",value:6}]},ChangedAfter:{typeName:"Edm.String",structuralProperty:r.b.PrimitiveType},Exclude:{typeName:"Edm.Guid",structuralProperty:r.b.Collection},AppId:{typeName:"Edm.Guid",structuralProperty:r.b.PrimitiveType}}}}}},20754:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var r=function(e){return e[e.Unknown=0]="Unknown",e[e.PrimitiveType=1]="PrimitiveType",e[e.ComplexType=2]="ComplexType",e[e.EnumerationType=3]="EnumerationType",e[e.Collection=4]="Collection",e[e.EntityType=5]="EntityType",e}({}),a=function(e){return e[e.Action=0]="Action",e[e.Function=1]="Function",e[e.CRUD=2]="CRUD",e[e.ExecuteMultiple=3]="ExecuteMultiple",e}({})},20755:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(20754);class a{constructor(){this.ClientMetadataQuery=void 0}getMetadata(){return{boundParameter:null,operationName:"GetClientMetadata",operationType:r.a.Function,parameterTypes:{ClientMetadataQuery:{typeName:"Microsoft.Dynamics.CRM.MetadataQuery",structuralProperty:r.b.ComplexType}}}}}},20756:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(20754);class a{constructor(){this.ClientMetadataQuery=void 0}getMetadata(){return{boundParameter:null,operationName:"GetClientMetadataEx",operationType:r.a.Function,parameterTypes:{ClientMetadataQuery:{typeName:"Microsoft.Dynamics.CRM.MetadataQuery",structuralProperty:r.b.ComplexType}}}}}},20757:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return s}));var r=n(20758),a=n(20759);function i(e){var t=function(e){return e&&e.metadata&&e.metadata.appContext?e.metadata.appContext:null}(e);return t&&t.app?t.app:null}function o(e){var t=i(e);return t&&t.appId?t.appId:null}function c(e){var t=i(e);return t&&t.uniqueName?t.uniqueName:e&&e.configuration&&e.configuration.isD365DefaultApp?"d365custom":"__ unavailable__"}function s(e){return!1===function(e,t){var n,r,a=i(t);return void 0===(null==a||null===(n=a.appSettings)||void 0===n||null===(r=n[e])||void 0===r?void 0:r.value)?null:a.appSettings[e].value}("ServerMode",e)&&Object(a.a)(e,r.p)}},20758:function(e,t,n){"use strict";n.d(t,"m",(function(){return r})),n.d(t,"h",(function(){return a})),n.d(t,"i",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"n",(function(){return c})),n.d(t,"p",(function(){return s})),n.d(t,"o",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"j",(function(){return d})),n.d(t,"k",(function(){return f})),n.d(t,"l",(function(){return p})),n.d(t,"c",(function(){return h})),n.d(t,"d",(function(){return v})),n.d(t,"e",(function(){return m})),n.d(t,"f",(function(){return y})),n.d(t,"g",(function(){return g}));var r="IsGetClientMetadataExEnabled",a="GCMOptimizationByEntityMetadataReduction",i="GCMOptimizationByEntityMetadataReduction2",o="BrowserOfflineEnabledForTest",c="MDLBrowserOfflineEnabledForTest",s="OfflineByDefault",u="ModernDataLayerDev",l="BatchRequestForLongFetchXml",d="GCMPromiseCacheTimeoutOption1",f="GCMPromiseCacheTimeoutOption2",p="GCMPromiseCacheTimeoutOption3",h="DataPromiseCacheTimeoutOption1",v="DataPromiseCacheTimeoutOption2",m="DataPromiseCacheTimeoutOption3",y="DisableMDLPromiseCacheCanvasOffline",g="EnableMDLPromiseCacheExecuteCanvasOffline"},20759:function(e,t,n){"use strict";function r(e,t){var n=e?e.fcbs:void 0;if(n){var r=n.clientFCBs;if(r)return t in r&&(r[t]||function(e,t){var n=e.fcbs;if(n){var r=n.nativeFCBContext;if(r&&t in r)return r[t]}return!1}(e,t))}return!1}n.d(t,"a",(function(){return r}))},20760:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"g",(function(){return o})),n.d(t,"a",(function(){return c})),n.d(t,"f",(function(){return s})),n.d(t,"e",(function(){return u}));var r={ACCEPT:"Accept",PREFER:"Prefer",AUTO_DISASSOCIATE:"AutoDisassociate",IF_MATCH:"If-match",AUTHORIZATION_HEADER:"Authorization",CONSISTENCY:"Consistency",CONTENT_LENGTH:"Content-Length",CONTENT_TYPE:"Content-Type",CONTENT_ID:"Content-Id",RETRY_AFTER:"Retry-After",MSCRM_SUPPRESS_DUPLICATION_DETECTION:"MSCRM.SuppressDuplicateDetection",MSCRM_RETURN_NOTIFICATIONS:"MSCRM.ReturnNotifications",CLIENT_REQUEST_ID:"x-ms-client-request-id",SERVER_REQUEST_ID:"x-ms-service-request-id",SESSION_ID:"x-ms-client-session-id",SOURCE_ID:"x-ms-source-id",CORRELATION_ID:"x-ms-correlation-id",MS_USER_AGENT:"x-ms-user-agent",APP_ID:"x-ms-app-id",APP_NAME:"x-ms-app-name",OBJECT_ID:"x-ms-sw-objectid",TENANT_ID:"x-ms-sw-tenantid",CLIENT_HOST:"ClientHost",MSCRM_SOLUTION_UNIQUE_NAME:"MSCRM.SolutionUniqueName",IS_BOOT:"x-ms-is-boot",VIEW_ID_HINT:"x-ms-mdl-viewId",PAGESIZE_HINT:"x-ms-mdl-pageSize",PAGE_NUMBER_HINT:"x-ms-mdl-pageNumber",SEARCH_HINT:"x-ms-mdl-search",FILTER_HINT:"x-ms-mdl-filter",ORDERBY_HINT:"x-ms-mdl-orderby",SELECT_HINT:"x-ms-mdl-select",LINK_HINT:"x-ms-mdl-link",EXECUTION_HINT:"x-ms-mdl-execution-hints",CONTEXT_FILTER:"x-ms-mdl-contextFilter",MERGE_QUICKFIND:"x-ms-mdl-mergeQuickFind",OPERATION_INFO:"x-ms-mdl-operation-info",FILE_URL:"x-ms-mdl-fileUrl",FILE_SIZE:"x-ms-mdl-fileSize",MIME_TYPE:"x-ms-mdl-mimeType",UPSYNC_REQUEST_HINT:"x-ms-mdl-upsync-request",SUPPRESS_TRIGGERS_HINT:"x-ms-mdl-suppress-triggers"},a={APPLICATION_JSON:"application/json",TEXT_HTML:"text/html",ANNOTATIONS:'odata.include-annotations="*"',STRONG:"Strong"},i={OFFLINE:"Offline",ONLINE:"Online",OFFLINE_THEN_ONLINE:"OfflineThenOnline"},o="/api/data/v9.0/",c="appmodules",s="?x-ms-file-name=",u="https://"},20761:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var r=function(e){return e[e.Unknown=0]="Unknown",e[e.OnDemandWithContext=1]="OnDemandWithContext",e[e.OnDemandWithoutContext=2]="OnDemandWithoutContext",e[e.OnDemandContextOnly=3]="OnDemandContextOnly",e[e.Offline=4]="Offline",e[e.Mobile=5]="Mobile",e[e.UserContext=6]="UserContext",e}({}),a=function(e){return e[e.None=0]="None",e[e.SingleQuotesURL=1]="SingleQuotesURL",e[e.DoubleQuotesURL=2]="DoubleQuotesURL",e[e.NoQuotesURL=3]="NoQuotesURL",e[e.Contract=4]="Contract",e[e.JsonifyURL=5]="JsonifyURL",e}({})},20762:function(e,t,n){"use strict";n.d(t,"e",(function(){return j})),n.d(t,"b",(function(){return N})),n.d(t,"d",(function(){return P})),n.d(t,"c",(function(){return I})),n.d(t,"f",(function(){return R})),n.d(t,"a",(function(){return k})),n.d(t,"g",(function(){return L})),n.d(t,"h",(function(){return U}));var r=n(20583),a=n(20585),i=n(20622),o=n(20751),c=n(20763),s=n(20737),u=n(20760),l=n(20794),d=(n(20781),n(20738)),f=(n(20795),n(20790)),p=n(20757),h=n(20801),v=n(20802),m=n(20626),y=n(20804),g=n(20814),b=n(20811),O=["OtherMetadata"];function E(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function T(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){w(i,r,a,o,c,"next",e)}function c(e){w(i,r,a,o,c,"throw",e)}o(void 0)}))}}function j(e){return{type:"odatabuilder.fromquerystate.async",execute:(t,n)=>T((function*(){var{getState:i}=t,c=n.TraceManager.getTracer(o.d.ODataBuilder);c.info("".concat(B()," Create a SerializedRequest from Query State."));var l=e.viewId&&a.a.toString(e.viewId),f=Object(s.d)(i(),e.entityLogicalName);if(!f)throw new d.a("unable to send query without entity set name. Key: ".concat(e.key));var p=e.fetchXml?encodeURIComponent(e.fetchXml):"",h={urlParameters:"".concat(f,"?fetchXml=").concat(p),additionalHeaders:{[u.c.PREFER]:u.d.ANNOTATIONS,[u.c.ACCEPT]:u.d.APPLICATION_JSON,[u.c.SOURCE_ID]:null!=l?l:r.G},method:"GET"};return function(e,t,n){e&&e.additionalHeaders&&(t.viewId&&(e.additionalHeaders[u.c.VIEW_ID_HINT]=a.a.toString(t.viewId)),t.pageSize&&(e.additionalHeaders[u.c.PAGESIZE_HINT]=t.pageSize.toFixed()),t.pageNumber&&(e.additionalHeaders[u.c.PAGE_NUMBER_HINT]=t.pageNumber.toFixed()),t.searchString&&(e.additionalHeaders[u.c.SEARCH_HINT]=t.searchString),t.wheres&&t.wheres.length>0&&(e.additionalHeaders[u.c.FILTER_HINT]=t.wheres.toString()),t.sorts&&t.sorts.length>0&&(e.additionalHeaders[u.c.ORDERBY_HINT]=t.sorts.toString()),t.selects&&t.selects.length>0&&(e.additionalHeaders[u.c.SELECT_HINT]=t.selects.toString()),t.linkEntities&&t.linkEntities.length>0&&(e.additionalHeaders[u.c.LINK_HINT]=t.linkEntities.toString()))}(h,e),M(i(),n,h)}))()}}function N(e,t){var n=Object(l.a)([t],e);return n.additionalHeaders=S(S({},t.additionalHeaders),n.additionalHeaders),A(e,n),n}function P(e){return{type:"odatabuilder.fromodatacontract.async",execute:(t,n)=>T((function*(){var{getState:r,dispatch:a}=t;n.TraceManager.getTracer(o.d.ODataBuilder).info("".concat(B()," Create a SerializedRequest from OData Contract."));var i,s,u,d=r();"ExecuteMultiple"===e.getMetadata().operationName?i=yield a((u=e,{type:"odatabuilder.fromexecutemutipleodatacontract.async",execute:(e,t)=>T((function*(){var{dispatch:n}=e,r=u,a=r.requests.map(function(){var e=T((function*(e){if(Object(c.d)(e))return yield n(P(e));if(Object(c.c)(e))return yield Promise.all(e.map(function(){var e=T((function*(e){return yield n(P(e))}));return function(t){return e.apply(this,arguments)}}()));throw Error("value should be of type OData contract or Changeset")}));return function(t){return e.apply(this,arguments)}}()),i=yield Promise.all(a);return Object(l.a)(i,t,void 0,r.continueOnError)}))()})):i=Object(c.a)(d,e,null===(s=n.AdditionalParameters)||void 0===s?void 0:s.EnableCanvasOffline);return M(d,n,i)}))()}}function I(e,t){return{type:"odatabuilder.fromfunctionalodatacontract.async",execute(n,r){var a,{getState:i}=n;r.TraceManager.getTracer(o.d.ODataBuilder).info("".concat(B()," Create a SerializedRequest from a functional OData Contract."));var c=Object(f.a)(i(),e,{},null===(a=r.AdditionalParameters)||void 0===a?void 0:a.EnableCanvasOffline);return Promise.resolve(M(i(),r,c,t))}}}function R(e){var t;return(null==e||null===(t=e.additionalHeaders)||void 0===t?void 0:t[u.c.CLIENT_REQUEST_ID])||r.G}function M(e,t,n,r){return x.apply(this,arguments)}function x(){return(x=T((function*(e,t,n,o){var c,s;Object(i.a)(n.additionalHeaders)&&(n.additionalHeaders={}),yield k(t,n),n&&n.additionalHeaders&&!n.additionalHeaders.hasOwnProperty(u.c.CONTENT_TYPE)&&(n.additionalHeaders[u.c.CONTENT_TYPE]=u.d.APPLICATION_JSON),q(n);var l=Object(p.a)(e);n&&n.additionalHeaders&&!n.additionalHeaders.hasOwnProperty(u.c.APP_ID)&&(n.additionalHeaders[u.c.APP_ID]=null!=l?l:"");var d=Object(p.b)(e);if(n&&n.additionalHeaders&&!n.additionalHeaders.hasOwnProperty(u.c.APP_NAME)&&(n.additionalHeaders[u.c.APP_NAME]=null!=d?d:""),t.DataLayerConfiguration.useConsistencyStrong&&(n.additionalHeaders[u.c.CONSISTENCY]=u.d.STRONG),n&&n.additionalHeaders&&!n.additionalHeaders.hasOwnProperty(u.c.CLIENT_REQUEST_ID)){var f=r.G;f=o&&o.RequestId()?o.RequestId():a.a.newGuid().guid,n.additionalHeaders[u.c.CLIENT_REQUEST_ID]=f}var h={[u.c.SESSION_ID]:t.EventManager.getCurrentSessionId(),[u.c.CORRELATION_ID]:t.EventManager.getActivityId()};Object.assign(n.additionalHeaders,h);var v=Object(b.d)(e);n&&n.additionalHeaders&&!n.additionalHeaders.hasOwnProperty(u.c.IS_BOOT)&&(n.additionalHeaders[u.c.IS_BOOT]=v?"1":"0");var m=null==t||null===(c=t.DataLayerConfiguration.AuthenticationProvider)||void 0===c?void 0:c.getUserObjectId();n&&n.additionalHeaders&&!n.additionalHeaders.hasOwnProperty(u.c.OBJECT_ID)&&(n.additionalHeaders[u.c.OBJECT_ID]=null!=m?m:"");var y=null==t||null===(s=t.DataLayerConfiguration.AuthenticationProvider)||void 0===s?void 0:s.getTenantId();n&&n.additionalHeaders&&!n.additionalHeaders.hasOwnProperty(u.c.OBJECT_ID)&&(n.additionalHeaders[u.c.TENANT_ID]=null!=y?y:"");var g=D(e,d);return n&&n.additionalHeaders&&!n.additionalHeaders.hasOwnProperty(u.c.MS_USER_AGENT)&&(n.additionalHeaders[u.c.MS_USER_AGENT]=g),A(t,n),n}))).apply(this,arguments)}function D(e,t){var n=Object(h.a)(e),r=Object(h.b)(e),a=n===v.a.Browser?r:"".concat(r," - ").concat(Object(h.c)(e)," - ").concat(Object(h.d)(e));return"PowerApps-UCI/".concat(window.VERSION_NUMERIC_VALUE," (").concat(a,"; AppName=").concat(t,")")}function A(e,t){if(!Object(i.a)(t.urlParameters)){var n,r=t.endpoint||u.g,a=e.DataLayerConfiguration.baseUri.replace(/\/$/,"");a=null!==(n=e.AdditionalParameters)&&void 0!==n&&n.EnableCanvasOffline&&-1===a.indexOf(u.e)?"".concat(u.e).concat(a):a,t.urlParameters="".concat(a).concat(r).concat(t.urlParameters),t.urlParameters=t.urlParameters.replace(/\t|\r|\n/g,"")}return t}function k(e,t){return F.apply(this,arguments)}function F(){return(F=T((function*(e,t){var n,r,a=yield null===(n=e.DataLayerConfiguration)||void 0===n||null===(r=n.AuthenticationProvider)||void 0===r?void 0:r.getAuthToken();if(a&&t&&t.additionalHeaders){var i="Bearer "+a;t.additionalHeaders[u.c.AUTHORIZATION_HEADER]=i}return t}))).apply(this,arguments)}function L(e,t){if(t.urlParameters&&t.urlParameters.includes("$batch"))return!0;var n=Object(g.a)(e,t);return n&&Object(y.a)(e,n)}function q(e){void 0!==e.additionalHeaders&&null!==e.additionalHeaders||(e.additionalHeaders={}),e.additionalHeaders.hasOwnProperty(u.c.PREFER)?e.additionalHeaders[u.c.PREFER].indexOf("odata.include-annotations=")<0?e.additionalHeaders[u.c.PREFER]="".concat(e.additionalHeaders[u.c.PREFER],",").concat(u.d.ANNOTATIONS):e.additionalHeaders[u.c.PREFER]=e.additionalHeaders[u.c.PREFER].replace(/odata\.include-annotations="[^"]+"/,u.d.ANNOTATIONS):e.additionalHeaders[u.c.PREFER]=u.d.ANNOTATIONS}function U(e,t,n,r){return{type:"odatabuilder.togcmresponse.async",execute:(a,i)=>T((function*(){var{getState:i}=a,o=yield Object(m.e)(e,r,n);return o.Metadata?function(e,t,n){if(n&&n.AppendCallStack("OdataBuilder.parseGetClientMetadataResponse"),t)return e&&e.OtherMetadata?function(e,t){t&&t.AppendCallStack("OdataBuilder.parseGetClientMetadataExResponse");var{OtherMetadata:n}=e,r=E(e,O),a=JSON.parse(e.OtherMetadata);if(Object.assign(r,a),r.Entities){var i=[];r.Entities.forEach(e=>{var t=S(S({},e.EntityMetadata),e.AttributeNames);i.push(t)}),r.Entities=i}if(r.RelationshipNavigationEntities){var o=[];r.RelationshipNavigationEntities.forEach(e=>{var t=S(S({},e.EntityMetadata),e.AttributeNames);o.push(t)}),r.RelationshipNavigationEntities=o}return r}(e,n):[];return JSON.parse(e)}(o.Metadata,t,n):o}))()}}function B(e){return"[".concat(e||o.g.ODataBuilder,"]")}},20763:function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return v})),n.d(t,"c",(function(){return g})),n.d(t,"d",(function(){return y}));var r=n(20619),a=n(20626),i=n(20764),o=n(20779),c=n(20754),s=n(20781),u=n(20782),l=n(20785),d=n(20788),f=n(20790);function p(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function h(e){return{type:"executeOData.batch.async",execute(t){return(n=function*(){var{dispatch:n}=t,r=new s.d(e),i=yield n(Object(a.c)(r));return Object(u.b)(i)},function(){var e=this,t=arguments;return new Promise((function(r,a){var i=n.apply(e,t);function o(e){p(i,r,a,o,c,"next",e)}function c(e){p(i,r,a,o,c,"throw",e)}o(void 0)}))})();var n}}}function v(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t)return{serializationFailure:"Cannot build the serialized request: the request object is empty"};if(!t.getMetadata())return{serializationFailure:"Cannot build the serialized request: the request object does not contain metadata definition"};switch(t.getMetadata().operationType){case c.a.Function:return Object(f.a)(e,t,{},n);case c.a.CRUD:return m(e,t);default:return{serializationFailure:"Cannot build the serialized request: the operation type is not supported"}}}function m(e,t){switch(t.getMetadata().operationName){case"Create":var n=t;return Object(i.c)(e,n.etn,n.payload,n.suppressDupeDetection,n.returnRowVersion,n.offlineData,n.solutionUniqueName);case"RetrieveWithUrlParams":var a=t;return Object(l.b)(e,a.etn,a.id,a.urlParams,a.maxPageSize,a.headers);case"Update":var c=t;return Object(d.a)(e,c.etn,c.id,c.payload,c.suppressDupeDetection,null,!1,c.urlParams,c.headers,c.isBinaryPayload,c.offlineData);case"Delete":var s=t,u=r.a.fromExternalEntityReference(s.entityReference);return Object(o.a)(e,u,null,s.offlineData,s.attributeName);case"DeleteWithUrlParams":var f=t;return Object(o.b)(e,f.etn,f.id,f.urlParams,f.ifMatch,f.offlineData);default:return{serializationFailure:"Cannot convert ODataContract with ".concat(t.getMetadata().operationName," operation into a serialized request")}}}function y(e){return e&&e.getMetadata}function g(e){return e&&Array.isArray(e)&&e.length>0&&e[0].getMetadata}},20764:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i}));n(20733),n(20765);var r=n(20737),a=n(20760);var i="ReturnRowVersion";function o(e,t,n){var o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],s=arguments.length>4?arguments[4]:void 0,u=arguments.length>5?arguments[5]:void 0,l=arguments.length>6?arguments[6]:void 0,d=Object(r.d)(e,t),f={urlParameters:"".concat(d),body:JSON.stringify(n),additionalHeaders:{[a.c.ACCEPT]:a.d.APPLICATION_JSON,[a.c.MSCRM_SUPPRESS_DUPLICATION_DETECTION]:o.toString()},method:"POST"};return f&&f.additionalHeaders&&s&&(f.additionalHeaders[i]="true"),u&&c(f,u),f&&f.additionalHeaders&&l&&(f.additionalHeaders[a.c.MSCRM_SOLUTION_UNIQUE_NAME]=l),f}function c(e,t){t&&0!==Object.keys(t).length&&(e.additionalHeaders||(e.additionalHeaders={}),e.additionalHeaders.OfflineData=JSON.stringify(t)),function(e,t){if(e.urlParameters){var n="?tag="+t;e.urlParameters=e.urlParameters+n}}(e,"offlinePlayback")}},20765:function(e,t,n){"use strict";n.d(t,"b",(function(){return v})),n.d(t,"d",(function(){return m})),n.d(t,"f",(function(){return g})),n.d(t,"e",(function(){return _})),n.d(t,"c",(function(){return S})),n.d(t,"g",(function(){return C})),n.d(t,"a",(function(){return b}));var r=n(20586),a=(n(20593),n(20585)),i=n(20607),o=n(20619),c=(n(20734),n(20622),n(20766)),s=n(20767),u=n(20773),l=n(20775),d=n(20777),f=n(20736);n(20737);function p(e){return e?e.data:null}function h(e,t){var n=p(e);return n&&n.entities&&n.entities.hasOwnProperty(t)?n.entities[t]:null}function v(e){return t=>{var n=h(t,e.etn);if(n){var r=a.a.toString(e.id);if(n.hasOwnProperty(r))return n[r]}return null}}function m(e,t,n){if(t&&v(t)){var r,a=null===(r=v(t))||void 0===r?void 0:r(e,t.etn);if(a&&a.fields){if(a.fields.hasOwnProperty(n))return a.fields[n];if("productidname"===n&&-1!==["opportunityproduct","quotedetail","salesorderdetail","invoicedetail"].indexOf(t.etn)){var i=a.fields.productid;if(i){var o=i.reference;if(o&&o.hasOwnProperty("name"))return o.name}}}}return null}function y(e,t){var n=p(e);return n&&n.lists&&n.lists.hasOwnProperty(t)?n.lists[t]:null}function g(e,t,n){var r=y(e,t);return r&&r.pages&&r.pages[n]&&r.pages[n].pagingCookie?r.pages[n].pagingCookie:null}var b=function(e){return e[e.LatestEntered=0]="LatestEntered",e[e.LastValid=1]="LastValid",e}(b||{});function O(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b.LatestEntered;return t===b.LastValid?e.value:e.validationResult.userInput||e.value}function E(e,t,n){var u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:b.LatestEntered;switch(n){case r.a.PartyList:var p=[],h=t;for(var v of h.list){var m={},y={},g={},E={};for(var S in v.fields){var C=v.fields[S],w=_(e,"activityparty",S,C);if(w){m[S]=w;var T=Object(f.a)(e,"activityparty",S);if(T&&(y[S]=T.Type,Object(d.g)(C))){var j=C;g[S]=j.formatted||null,E[S]=j.formatted||null}}}var N=new s.a(o.a.toLegacyEntityReference(v.identifier),m,y,g,E,new l.a([]));p.push(N)}return new c.a(p,!1,p.length,!1,null,null);case r.a.Date:case r.a.DateTime:var P=O(t,u),I=Date.parse(P);return isNaN(I)?P:new Date(I);case r.a.PickList:case r.a.Boolean:case r.a.State:case r.a.Status:var R=t,M=R?R.label:null,x=R?parseInt(R.valueString,10):null;return x&&isNaN(x)&&(x=null),new i.a(M,x,-1,-1,[],null,null);case r.a.Customer:case r.a.Lookup:case r.a.Owner:var D=t;return D&&D.reference?o.a.toLegacyEntityReference(D.reference):null;case r.a.UniqueIdentifier:var A=t;return a.a.toLegacyGuid(A.id);case r.a.MultiSelectPickList:var k=O(t,u);return-1===k||null===k||!Array.isArray(k)&&"string"!=typeof k?null:Array.isArray(k)?k:k.split(",").map(e=>parseInt(e,10));case r.a.Decimal:case r.a.Double:case r.a.Integer:case r.a.String:case r.a.BigInt:case r.a.Unknown:case r.a.Memo:case r.a.Money:case r.a.CalendarRules:case r.a.Virtual:default:return O(t,u)}}function _(e,t,n,a){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:b.LatestEntered;if(Object(d.c)(a)){var o=new u.a(a.entityLogicalName,a.attributeLogicalName,r.a.AliasedValue);return a.innerType===r.a.Integer?o.set_value(E(e,a.innerValue,r.a.Integer,i)):o.set_value(_(e,a.entityLogicalName,a.attributeLogicalName,a.innerValue)),o}var s=Object(f.a)(e,t,n);if(!s||!s.Type)return null;var l=s.Type;return a?E(e,a,l,i):l===r.a.PartyList?new c.a([],!1,0,!1):null}function S(e,t){var n=t.get_identifier(),r=Object(f.b)(e,n.LogicalName);if(r){var a=Object.keys(r);return t.get_fieldNames().filter(e=>a&&-1===a.indexOf(e))}return t.get_fieldNames()}function C(e,t){var n=t.get_identifier(),a=t.get_fieldNames(),i=Object(f.b)(e,n.LogicalName),o=new Set;for(var c of a){var s=i[c];if(!s)throw new Error("The metadata for ".concat(c," attribute is missing in the state tree."));if(s.Type===r.a.PartyList){var u=t.getValue(c).get_entities();for(var l of u)o.add(l.get_identifier().LogicalName)}if(s.Type===r.a.Lookup||s.Type===r.a.Customer||s.Type===r.a.Owner){var d=t.getValue(c);d&&d.LogicalName&&o.add(d.LogicalName)}}return Array.from(o)}},20766:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(20767),a=n(20622),i=n(20771),o=n(20621);class c{constructor(e,t,n,r,a,i,c){if(this._entities=void 0,this._moreRecords=!1,this._totalRecordCount=0,this._totalRecordCountLimitExceeded=!1,this._query=void 0,this._pagingCookie=void 0,this._clientRetrieveOptions=void 0,Object(o.a)(e,"entities"),this._moreRecords=t,this._totalRecordCount=n,this._totalRecordCountLimitExceeded=r,this._entities=e,this._pagingCookie=c,this._query=a,i){var s,u,l=null===(s=this._entities)||void 0===s||null===(u=s[0])||void 0===u?void 0:u.get_clientRetrieveOptions();l&&this.set_clientRetrieveOptions(l)}}get_entities(){return this._entities}get_moreRecords(){return this._moreRecords}get_totalRecordCountLimitExceeded(){return this._totalRecordCountLimitExceeded}get_totalRecordCount(){return this._totalRecordCount}get_count(){return this.get_entities().length}get_query(){return this._query}set_query(e){this._query=e}get_key(){return!Object(a.a)(this._query)&&this._query.get_key?this._query.get_key():""}get_clientRetrieveOptions(){return this._clientRetrieveOptions}set_clientRetrieveOptions(e){if(this._clientRetrieveOptions=e,!Object(a.a)(this._clientRetrieveOptions))for(var t=0;t<this._entities.length;t++)Object(a.a)(this._entities[t].get_clientRetrieveOptions())&&this._entities[t].set_clientRetrieveOptions(this._clientRetrieveOptions)}get_pagingCookie(){return this._pagingCookie}get_item(e){return this.get_entities()[e]}getObjectData(){for(var e={},t=new Array(this.get_entities().length),n=0;n<this.get_entities().length;n++)t[n]=this.get_entities()[n].getObjectData();return e.entities=t,e.morerecords=this._moreRecords,e.totalrecordcount=this._totalRecordCount,e.totalRecordCountLimitExceeded=this._totalRecordCountLimitExceeded,Object(a.a)(this._clientRetrieveOptions)||(e.clientretrieveoptions=this._clientRetrieveOptions.getObjectData()),e}add(e){this._entities.push(e)}static createFromObjectData(e){for(var t=new Array(0),n=e.entities,a=0;a<n.length;a++)t[a]=r.a.createFromObjectData(n[a]);var o=e.morerecords,s=e.totalrecordcount,u="totalRecordCountLimitExceeded"in e&&e.totalRecordCountLimitExceeded,l="clientretrieveoptions"in e?i.a.createFromObjectData(e.clientretrieveoptions):null;return new c(t,o,s,u,null,l)}}c.__typeName="Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection"},20767:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(20586),a=n(20587),i=n(20619),o=n(20622),c=n(20736),s=n(20765),u=n(20768),l=n(20621),d=n(20769),f=n(20770),p=n(20771),h=n(20766),v=n(20773),m=n(20620),y=n(20774),g=n(20775);class b{constructor(e,t,n,r,a,i,c,s){this._identifier=void 0,this._actionableIdentifier=void 0,this._fields=void 0,this._formattedValues=void 0,this._numericFormattedValues=void 0,this._relatedEntities=void 0,this._changedFieldNames=void 0,this._cleanFields=void 0,this._fieldTypes=void 0,this._columnSet=void 0,this._clientRetrieveOptions=void 0,this._accessRights=0,this._userSharedAttributePrivileges=void 0,this._entityRecordForProcess=void 0,this._globalNavigationData=void 0,e instanceof b?(t=e._fields,n=e._fieldTypes,r=e._formattedValues,a=e._numericFormattedValues,i=e._relatedEntities,s=e._clientRetrieveOptions,this._identifier=e._identifier):this._identifier=e,Object(l.a)(this._identifier,"identifier"),Object(l.a)(t,"fields"),Object(l.a)(n,"fieldTypes"),Object(l.a)(r,"formattedValues"),Object(l.a)(a,"numericFormattedValues"),Object(l.a)(i,"relatedEntities"),this._fields=t,this._fieldTypes=n,this._formattedValues=r,this._numericFormattedValues=a,this._relatedEntities=i,this._columnSet=Object(o.a)(c)?new f.a(new Array(0)):c,this.updateColumnSet(this.get_fieldNames()),this._changedFieldNames=[],this._cleanFields={},this._clientRetrieveOptions=s,this._accessRights=0;var u=this.getValue("activitytypecode");"activitypointer"===this._identifier.LogicalName&&u?this._actionableIdentifier=new m.a(u,this._identifier.Id):this._actionableIdentifier=this._identifier,this._userSharedAttributePrivileges={}}get fields(){return this._fields}get_identifier(){return this._identifier}get_actionableIdentifier(){return this._actionableIdentifier}get_fieldTypes(){return this._fieldTypes}get_formattedValues(){return this._formattedValues}get_numericFormattedValues(){return this._numericFormattedValues}get_relatedEntities(){return this._relatedEntities}get_fieldNames(){var e=[],t=this._fields;for(var n in t){var r={key:n,value:t[n]};e.push(r.key)}return e}get_changedFieldNames(){return this._changedFieldNames}get_columnSet(){return this._columnSet}get_key(){return this.get_identifier().get_key()}get_clientRetrieveOptions(){return this._clientRetrieveOptions}set_clientRetrieveOptions(e){for(var t of(this._clientRetrieveOptions=e,this._relatedEntities.get_entityCollections()))t.get_value().set_clientRetrieveOptions(e)}get_accessRights(){return this._accessRights}set_accessRights(e){this._accessRights=e}get_userSharedAttributePrivileges(){return this._userSharedAttributePrivileges}set_userSharedAttributePrivileges(e){this._userSharedAttributePrivileges=e}get_entityRecordForProcess(){return this._entityRecordForProcess}set_entityRecordForProcess(e){return this._entityRecordForProcess=e,e}get_globalNavigationData(){return this._globalNavigationData}set_globalNavigationData(e){this._globalNavigationData=e}isDirty(){return this.get_changedFieldNames().length>0}clone(){var e=this.getObjectData(),t=e.columnset;Object(o.a)(t)||(t.columns=t.columns.slice());var n=e.formattedfields,r={};for(var a in n){var i={key:a,value:n[a]};r[i.key]=i.value}var c=e.numericformattedfields,s={};for(var u in c){var l={key:u,value:c[u]};s[l.key]=l.value}return e.formattedfields=r,e.numericformattedfields=s,b.createFromObjectData(e)}getObjectData(){var e=this._columnSet instanceof d.a;return{identifier:this._identifier.getObjectData(),fields:this._GetFieldsObjectData(),fieldtypes:{},formattedfields:this._formattedValues,numericformattedfields:this._numericFormattedValues,allcolumns:e,columnset:e?void 0:this._columnSet.getObjectData(),clientretrieveoptions:Object(o.a)(this._clientRetrieveOptions)?void 0:this._clientRetrieveOptions.getObjectData(),accessrights:this._accessRights,sharedattributeprivileges:{},entityrecordforprocess:Object(o.a)(this.get_entityRecordForProcess())?void 0:this.get_entityRecordForProcess().getObjectData(),globalnavigationdata:Object(o.a)(this.get_globalNavigationData())?void 0:this.get_globalNavigationData().getObjectData()}}_GetFieldsObjectData(){return Object.keys(this._fields).reduce((e,t)=>(e[t]=this.getFieldObjectData(t),e),{})}getFieldObjectData(e){return b.InternalGetFieldObjectData(this.getValue(e),this._fieldTypes[e])}getFields(){return this._GetFieldsObjectData()}hasValue(e){return e in this._fields}hasField(e){return e in this._fieldTypes}getValue(e){return this._fields[e]}getFormattedValue(e){return Object(o.a)(this.get_formattedValues()[e])?this.get_fieldTypes()[e]===r.a.AliasedValue?this.getValue(e).get_value():this.getValue(e):this.get_formattedValues()[e]}getNumericFormattedValue(e){return this._numericFormattedValues[e]||this.getFormattedValue(e)}setValue(e,t){if(!(e in this.get_fieldTypes()))throw Error(e);t&&t.get_Label&&t.get_ValueString?this._fields[e]=y.a.createFromPicklistItem(t):this._fields[e]=t,this.updateColumnSet([e])}markFieldChanged(e){if(this.get_changedFieldNames().indexOf(e)<0&&(this._cleanFields[e]=this._fields[e],this.get_changedFieldNames().push(e),this._fields[e]instanceof h.a))for(var t of this._fields[e].get_entities())t._MarkAllFieldsChanged()}_MarkAllFieldsChanged(){for(var e of this.get_fieldNames())this.markFieldChanged(e)}resetChanges(){this._changedFieldNames=[],this._cleanFields={}}mergeChanges(e){Object(o.a)(this._clientRetrieveOptions)?this._clientRetrieveOptions=e._clientRetrieveOptions:this._clientRetrieveOptions.update(e._clientRetrieveOptions),this.set_accessRights(e.get_accessRights()),this.mergeEntityRecordFields(e),this._entityRecordForProcess=e._entityRecordForProcess,this._globalNavigationData=e._globalNavigationData}mergeEntityRecordFields(e){var t=e._fields;for(var n in t){var r={key:n,value:t[n]};r.key in this._fields&&Object(u.a)(this._fields[r.key],r.value)||(this._fields[r.key]=r.value)}var a=e._fieldTypes;for(var i in a){var o={key:i,value:a[i]}.key;o in this._fieldTypes||(this._fieldTypes[o]=e._fieldTypes[o]),o in this._fields&&!(o in e._fields)&&(delete this._fields[o],delete this._formattedValues[o],delete this._numericFormattedValues[o])}var c=e._formattedValues;for(var s in c){var l={key:s,value:c[s]};l.key in this._formattedValues&&Object(u.a)(this._formattedValues[l.key],l.value)||(this._formattedValues[l.key]=l.value)}e.get_columnSet()instanceof d.a?this.updateColumnSet(e.get_columnSet()):this.updateColumnSet(this.get_fieldNames())}initializeValue(e,t,n){this._fields[e]=t,e in this._fieldTypes||(this._fieldTypes[e]=n),this.updateColumnSet([e])}updateColumnSet(e,t){if(e=e,!(this.get_columnSet()instanceof d.a)){if(e instanceof d.a)this._columnSet=d.a.get_instance();else{var n;n=e instanceof f.a?e.get_Columns():e;var r=this._columnSet;for(var a of n)r.get_Columns().indexOf(a)<0&&r.get_Columns().push(a)}if(!Object(o.a)(t)&&t&&(null==t?void 0:t.length)>0)for(var i of t){var c=this.get_relatedEntities().getByRelationship(i.get_relationship());if(c)for(var s of c.get_entities())s.updateColumnSet(i.get_ColumnSet())}}}static createFromObjectData(e){var t,n,r={},a=e.identifier&&m.a.createFromObjectData(e.identifier),i=b.createFieldsFromObjectData(e.fields,r);t=e.allcolumns?d.a.get_instance():f.a.createFromObjectData(e.columnset),e.clientretrieveoptions&&(n=p.a.createFromObjectData(e.clientretrieveoptions));var c=new b(a,i,r,e.formattedfields,e.numericformattedfields,new g.a(new Array(0)),t,n);c.set_accessRights(e.accessrights);var s=e.entityrecordforprocess;Object(o.a)(s)||c.set_entityRecordForProcess(b.createFromObjectData(s));var u=e.globalnavigationdata;return Object(o.a)(u)||c.set_globalNavigationData(b.createFromObjectData(u)),c}static createSingleFieldFromObjectData(e,t){return b.InternalCreateFieldFromObjectData(e,t)}static createFieldsFromObjectData(e,t){var n={};for(var r in e){var a={key:r,value:e[r]};n[a.key]=b.InternalCreateFieldFromObjectData(a.value,t[a.key])}return n}static InternalCreateFieldFromObjectData(e,t){if(Object(o.a)(e))return null;switch(t){case r.a.AliasedValue:return v.a.createFromObjectData(e);case r.a.Customer:case r.a.Lookup:case r.a.Owner:return m.a.createFromObjectData(e);case r.a.UniqueIdentifier:return a.a.createFromObjectData(e);case r.a.DateTime:return new Date(Date.parse(e));case r.a.Status:case r.a.State:case r.a.Boolean:case r.a.PickList:return y.a.createFromObjectData(e);case r.a.PartyList:return h.a.createFromObjectData(e);default:return e}}static InternalGetFieldObjectData(e,t){if(Object(o.a)(e))return null;switch(t){case r.a.AliasedValue:return e.getObjectData();case r.a.Customer:case r.a.Lookup:case r.a.Owner:case r.a.UniqueIdentifier:return e.getObjectData();case r.a.DateTime:return e.toString();case r.a.Status:case r.a.State:case r.a.Boolean:case r.a.PickList:case r.a.PartyList:return e.getObjectData();default:return e}}static recordDataToLegacyEntityRecord(e,t,n,r,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:s.a.LatestEntered,u=i.a.toLegacyEntityReference(t),l=new b(u,{},{},{},{},new g.a([]));for(var d in n){var f=Object(c.a)(e,t.etn,d);if(f){var p=Object(s.e)(e,t.etn,d,n[d],o);l.initializeValue(d,p,f.Type),l.markFieldChanged(d)}else{var h="Attribute "+d+" for entity "+t.etn+" could not be found.";a.warn("EntityRecord ".concat(h))}}return l}}},20768:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(20587);function a(e,t){return!e&&!t||!(!e&&t||e&&!t)&&(e instanceof r.a&&t instanceof r.a||e.equals&&t.equals?e.equals(t):e.get_ValueString&&e.get_Label&&t.get_ValueString&&t.get_Label?e.get_ValueString()===t.get_ValueString()&&e.get_Label()===t.get_Label():e.get_value&&t.get_value?a(e.get_value(),t.get_value()):(e instanceof Date&&t instanceof Date&&(e=e.valueOf(),t=t.valueOf()),e===t))}},20769:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(20770);class a{get_isEmpty(){return!1}getDifference(e){return new r.a(new Array(0))}static get_instance(){return a._instance||(a._instance=new a)}}a._instance=null},20770:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(20769);class a{constructor(e){this._columns=void 0,this._columns=e}get_Columns(){return this._columns}get_isEmpty(){return!(this._columns.length>0)}getObjectData(){var e={};return e.columns=this._columns,e}getDifference(e){if(e instanceof r.a)return e;var t=e.get_Columns().filter(e=>this.get_Columns().indexOf(e)<0);return new a(t)}static createFromObjectData(e){return new a(e.columns)}}},20771:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(20772),a=n(20750),i=n(20622);class o{constructor(e,t,n){this._timestamp=void 0,this._cachePriority=0,this._retrievalStrategy=0,this._cachePriority=e,this._retrievalStrategy=t,this._timestamp=n||new Date}get_timestamp(){return this._timestamp}get_cachePriority(){return this._cachePriority}set_cachePriority(e){return this._cachePriority=e,e}get_retrievalStrategy(){return this._retrievalStrategy}set_retrievalStrategy(e){return this._retrievalStrategy=e,e}get_sortableTimestamp(){return o.getSortableString(this._timestamp)}getObjectData(){var e={};return e[o.timestampPath]=this.get_sortableTimestamp(),e.priority_timestamp=o.priorityTimestampKey(this._cachePriority,this._timestamp),e}update(e){Object(i.a)(e)||(this._timestamp=e._timestamp,e._cachePriority<this._cachePriority&&(this._cachePriority=e._cachePriority))}static shouldBeCached(e){return!Object(i.a)(e)&&e.get_cachePriority()!==r.a.NotCached}static getSortableString(e){return e.toDateString()}static priorityTimestampKey(e,t){return e+"|"+o.getSortableString(t)}static createFromObjectData(e){var t=new Date(e[o.timestampPath]),n=+e.priority_timestamp.substr(0,1);return new o(n,a.a.LocalAndRemote,t)}}o.timestampPath="timestamp",o.embeddedPriorityTimestampPath="clientretrieveoptions.priority_timestamp"},20772:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return e[e.Workspace=0]="Workspace",e[e.Medium=1]="Medium",e[e.NotCached=2]="NotCached",e}({})},20773:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(20767);class a{constructor(e,t,n){this._entityLogicalName=void 0,this._attributeLogicalName=void 0,this._attributeType=void 0,this._innerValue=void 0,this._entityLogicalName=e,this._attributeLogicalName=t,this._attributeType=n}get_entityLogicalName(){return this._entityLogicalName}get_attributeLogicalName(){return this._attributeLogicalName}get_attributeType(){return this._attributeType}get_value(){return this._innerValue}set_value(e){return this._innerValue=e,e}getObjectData(){return{entityLogicalName:this._entityLogicalName,attributeLogicalName:this._attributeLogicalName,attributeType:this._attributeType,value:r.a.InternalGetFieldObjectData(this._innerValue,this._attributeType)}}static createFromObjectData(e){var{attributeLogicalName:t,entityLogicalName:n,attributeType:i,value:o}=e,c=i,s=new a(n,t,c);return s.set_value(r.a.InternalCreateFieldFromObjectData(o,c)),s}}a.__typeName="Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AliasedValue"},20774:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));class r{constructor(e,t,n,r,a,i,o){this._label=void 0,this._val=0,this._state=0,this._defaultStatus=0,this._allowedStatusTransitions=null,this._color=null,this._invariantName=null,this._label=e,this._val=t,this._state=n,this._defaultStatus=r,this._allowedStatusTransitions=a,this._color=i,this._invariantName=o}get_Label(){return this._label}set_Label(e){return this._label=e,e}get_ValueString(){return this._val.toString()}get_allowedStatusTransitions(){return this._allowedStatusTransitions}get_color(){return this._color}get_value(){return this._val}get_state(){return this._state}get_defaultStatus(){return this._defaultStatus}get_invariantName(){return this._invariantName}getObjectData(){return{label:this._label,value:this._val,state:this._state,defaultstatus:this._defaultStatus,allowedstatustransitions:this._allowedStatusTransitions,color:this._color,invariantname:this._invariantName}}getODataObject(){return{Value:this._val,Color:this._color,Label:this._label,DefaultStatus:this._defaultStatus,State:this._state,TransitionData:this._allowedStatusTransitions,InvariantName:this._invariantName}}static createFromPicklistItem(e){if(e instanceof r)return e;var t=e.get_Label();return new r(t,+e,-1,-1,null,null,null)}static createFromObjectData(e){var t=e.label,n=e.value,a="state"in e?e.state:-1,i="defaultstatus"in e?e.defaultstatus:-1,o="allowedstatustransitions"in e?e.allowedstatustransitions:null,c="color"in e?e.color:null,s=e.invariantname;return new r(t,n,a,i,o,c,s)}static createFromOData(e){var t=e.Label,n=e.Value,a="State"in e?e.State:-1,i="DefaultStatus"in e?e.DefaultStatus:-1,o="TransitionData"in e?e.TransitionData:null,c="Color"in e?e.Color:null,s=e.Description;return new r(t,n,a,i,o,c,s)}}r.__typeName="Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.OptionMetadata"},20775:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(20776),a=n(20621);class i{constructor(e){this._entityCollections=void 0,this._relatedEntityQueries=void 0,Object(a.a)(e,"entityCollections"),this._entityCollections=e,this._relatedEntityQueries=this._entityCollections.map(e=>e.get_value().get_query())}get_entityCollections(){return this._entityCollections}get_relatedEntityQueries(){return this._relatedEntityQueries}getObjectData(){var e={},t=[];for(var n of this._entityCollections){var r={};r.key=n.get_key().getObjectData(),r.value=n.get_value().getObjectData(),t.push(r)}return e.entitycollections=t,e}getByRelationship(e){for(var t of this._entityCollections)if(t.get_key().equals(e))return t.get_value();return null}addRelationship(e,t){for(var n=0;n<this._entityCollections.length;n++)if(this._entityCollections[n].get_key().equals(e))return void(this._entityCollections[n]=new r.a(e,t));this._entityCollections.push(new r.a(e,t))}}},20776:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));class r{constructor(e,t){this._key=void 0,this._value=void 0,this._key=e,this._value=t}get_key(){return this._key}get_value(){return this._value}}},20777:function(e,t,n){"use strict";n.d(t,"f",(function(){return o})),n.d(t,"d",(function(){return c})),n.d(t,"h",(function(){return s})),n.d(t,"g",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i}));var r=n(20585);n(20778);function a(e){if(e){if(u(e)){if(e.validationResult&&!e.validationResult.isValueValid){var t=e.validationResult.userInput;return t&&(null==t?void 0:t.toString())}return e.formatted||e.value&&e.value.toString()}if(o(e))return e.label;if(c(e))return r.a.toString(e.id);if(s(e))return e.reference&&e.reference.name||null;if(l(e))return a(e.innerValue);if(d(e)){var n="";for(var i of e.list){var p=void 0;i.fields&&(p=i.fields.partyid?i.fields.partyid:i.fields.addressused?i.fields.addressused:null)&&(n=""!==n?"".concat(n,", ").concat(a(p)):a(p))}return n}return f(e)}return null}function i(e){return e?u(e)?e.value:o(e)?function(e){if(e&&o(e))return e.valueString;return null}(e):c(e)?e.id:s(e)?e.reference:l(e)?i(e.innerValue):d(e)?e.list:f(e):null}function o(e){return!!e&&e.hasOwnProperty("label")}function c(e){return!!e&&e.hasOwnProperty("id")}function s(e){return!!e&&e.hasOwnProperty("reference")}function u(e){return!!e&&e.hasOwnProperty("value")}function l(e){return!!e&&e.hasOwnProperty("innerValue")}function d(e){return!!e&&e.hasOwnProperty("list")}function f(e){return e?e.toString():null}},20778:function(e,t,n){},20779:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return u}));var r=n(20737),a=n(20760),i=n(20583),o=n(20780),c=n(20588),s=n(20764);function u(e,t,n,i,o){var c=Object(r.d)(e,t.etn),u="".concat(c,"(").concat(t.id.guid,")");o&&(u=u+"/"+o);var l={urlParameters:u,method:"DELETE"};return o||(void 0!==l.additionalHeaders&&null!==l.additionalHeaders||(l.additionalHeaders={}),l.additionalHeaders[a.c.IF_MATCH]=n||"*"),i&&Object(s.b)(l,i),l}function l(e,t,n,a,u,l){var d,f=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},p=null!==(d=Object(r.d)(e,t))&&void 0!==d?d:void 0,h=p;n&&(h="".concat(h,"(").concat(n,")")),a&&(h+=a);var v=i.B.Delete,m=Object(o.e)(f),y={urlParameters:h,method:"DELETE",additionalParameters:Object(c.j)(o.c.DELETE,m,t,v),additionalHeaders:{}};return l&&Object(s.b)(y,l),y}},20780:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"e",(function(){return s}));var r=n(20584),a={TYPE:r.c.OPERATION_TYPE,SUB_TYPE:r.c.OPERATION_SUB_TYPE,SOURCE:r.c.OPERATION_SOURCE},i="Unknown",o={Default:"Default"},c={UPDATE:"Update",CREATE:"Create",DELETE:"Delete",RETRIEVE:"Retrieve",RETRIEVE_MULTIPLE:"RetrieveMultiple",Execution_Multiple:"ExecutionMultiple",ACTION:"Action",FUNCTION:"Function",GCM:"GetClientMetadata",SCM:"SyncClientMetadata",ENTITY_DEFINITION:"EntityDefinition",EXTERNAL_SEARCH:"ExternalSearch"};function s(e){var t=o.Default;return e.OperationSource&&(t=e.OperationSource),t}},20781:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"f",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"e",(function(){return c})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return u}));var r=n(20754);class a{constructor(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0;this.etn=void 0,this.payload=void 0,this.suppressDupeDetection=void 0,this.returnRowVersion=void 0,this.offlineData=void 0,this.solutionUniqueName=void 0,this.etn=e,this.payload=t,this.suppressDupeDetection=n,this.returnRowVersion=r,this.offlineData=a,this.solutionUniqueName=i}getMetadata(){return{boundParameter:void 0,parameterTypes:{},operationName:"Create",operationType:r.a.CRUD}}}class i{constructor(e,t,n,r,a,i,o,c,s,u,l){this.etn=void 0,this.id=void 0,this.payload=void 0,this.urlParams=void 0,this.headers=void 0,this.isBinaryPayload=void 0,this.suppressDupeDetection=void 0,this.ifMatch=void 0,this.returnRowVersion=void 0,this.offlineData=void 0,this.solutionUniqueName=void 0,this.etn=e,this.id=t,this.payload=n,this.urlParams=r,this.headers=a,this.isBinaryPayload=i,this.suppressDupeDetection=o,this.ifMatch=c,this.returnRowVersion=s,this.offlineData=u,this.solutionUniqueName=l}getMetadata(){return{boundParameter:void 0,parameterTypes:{},operationName:"Update",operationType:r.a.CRUD}}}class o{constructor(e,t,n,r){this.entityReference=void 0,this.attributeName=void 0,this.ifMatch=void 0,this.offlineData=void 0,this.entityReference=e,this.attributeName=t,this.ifMatch=n,this.offlineData=r}getMetadata(){return{boundParameter:void 0,parameterTypes:{entityReference:{typeName:"mscrm.crmbaseentity",structuralProperty:r.b.EntityType}},operationName:"Delete",operationType:r.a.CRUD}}}class c{constructor(e,t,n,r,a){this.etn=void 0,this.id=void 0,this.urlParams=void 0,this.headers=void 0,this.maxPageSize=void 0,this.etn=e,this.id=t,this.urlParams=n,this.headers=r,this.maxPageSize=a}getMetadata(){return{boundParameter:void 0,parameterTypes:{},operationName:"RetrieveWithUrlParams",operationType:r.a.CRUD}}}class s{constructor(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.requests=void 0,this.continueOnError=void 0,this.requests=e,this.continueOnError=t}getMetadata(){return{boundParameter:void 0,parameterTypes:{},operationName:"ExecuteMultiple",operationType:r.a.ExecuteMultiple}}}class u{constructor(e,t,n,r,a){this.etn=void 0,this.id=void 0,this.urlParams=void 0,this.ifMatch=void 0,this.offlineData=void 0,this.etn=e,this.id=t,this.urlParams=n,this.ifMatch=r}getMetadata(){return{boundParameter:void 0,parameterTypes:{},operationName:"DeleteWithUrlParams",operationType:r.a.CRUD}}}},20782:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return v}));var r=n(20585),a=n(20783),i=n(20784);n(20620);function o(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function c(e){o(i,r,a,c,s,"next",e)}function s(e){o(i,r,a,c,s,"throw",e)}c(void 0)}))}}function s(e){var t=Object(i.a)(e.headers,"OData-EntityId");if(t){var n=t.indexOf("(")+1,a=t.substring(n,t.length-1);return r.a.tryParse(a)}return null}function u(e,t){return l.apply(this,arguments)}function l(){return(l=c((function*(e,t){var n=s(t);if(!n){var a=yield t.json();return r.a.tryParse(a[e])}return n}))).apply(this,arguments)}function d(e,t){if(!t)return[];var n="--"+e+"\r\n";0===t.indexOf(n)||(n="--"+e+"\n");var r=t.split(n);if(r.splice(0,1),r.length>0){var a=r[r.length-1],i=a.indexOf("--"+e);r[r.length-1]=a.substring(0,i)}return r}function f(e,t){var n=t.indexOf(":");if(n>=0){var r=t.substring(0,n),a=t.substring(n+1).trim();e[r]=a}return e}function p(e){var t=-1!==e.indexOf("\r\n\r\n"),n=e.trim().split(t?"\r\n\r\n":"\n\n"),r=-1,i=null,o=null,c="",s="";if(n.length>0){var u=null;n.length>1&&(u=n[1].split(t?"\r\n":"\n"));var l=null;null!=u&&(l=u.slice(1),o=/(HTTP\/\d\.\d) (\d+) (.*)/gi.exec(u[0]));var d=n[0].split(t?"\r\n":"\n");if(null!=d)for(var p of d){var v;if(0===p.toLowerCase().indexOf("content-id:"))null===(v=l)||void 0===v||v.push(p)}if(r=o&&o.length>=3?Number(o[2]):0,l){var m=l.reduce(f,{});i=new a.a(m)}n.length>1&&(s=n[2]),null!=o&&o.length>2&&(c=o[3])}return h(r,c,i,s)}function h(e,t,n,r){return{status:e,ok:200<=e&&299>=e,statusText:t,headers:n,clone(){return Object.assign({},this)},json:()=>Promise.resolve(r?JSON.parse(r):null),text:()=>Promise.resolve(r)}}function v(e,t){return m.apply(this,arguments)}function m(){return(m=c((function*(e,t){null==t||t.AppendCallStack("Parsers.parseBatchResponse");var n,r=yield e.text(),a=[];if(e.headers){var o=/boundary=(.*)/,c=Object(i.a)(e.headers,"Content-Type"),s=c&&o.test(c)&&o&&c.match(o);n=s&&s.length>1?s[1]:""}else n=r.substr(r.indexOf("batchresponse"),r.indexOf("\r\n")-2);var u=d(n,r);for(var l of u){var f=/^\s*Content-Type: .*boundary=(.*)\r?\n/gi.exec(l);if(f){var v=f[1],m=l.indexOf("--"+v),y=d(v,l.slice(m)).map(p);a.push(...y)}else{var g=p(l);a.push(g)}}if(0===a.length){var b=h(e.status,e.statusText,e.headers,r);a.push(b)}return a}))).apply(this,arguments)}},20783:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return a})),r=Symbol.iterator;class a{constructor(e){this._headers=void 0,this._headers=e}[r](){throw new Error("Method not implemented.")}entries(){throw new Error("Method not implemented.")}keys(){throw new Error("Method not implemented.")}values(){throw new Error("Method not implemented.")}append(e,t){this._headers[e]=t}get(e){return this._headers[e]}has(e){return this._headers.hasOwnProperty(e)}delete(e){delete this._headers[e]}set(e,t){this._headers[e]=t}forEach(e){for(var t in this._headers)e(this._headers[t],t,this)}}},20784:function(e,t,n){"use strict";function r(e,t){if(!e)return null;var n=e.get(t);return n||(n=e.get(t.toLowerCase())),n}n.d(t,"a",(function(){return r}))},20785:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return v}));var r=n(20586),a=n(20593),i=n(20585),o=n(20622),c=n(20786),s=n(20737),u=n(20738),l=n(20787),d=n(20760),f=n(20781),p=n(20736);function h(e,t,n,h,v){var m,y,g=[],b=[];for(var O of n){var E=Object(p.a)(e,t.etn,O);if(!E)throw new u.a("Cannot serialize a request with no attribute metadata for ".concat(t.etn,".").concat(O));if(E.Type===r.a.PartyList){if(!(y=Object(s.a)(e,t.etn))){m="The relationship for the partylist attribute ".concat(O," is not found in the state tree or is invalid");break}var _=Object(c.a)(t.etn,O);if(void 0===_)throw new u.a("Unknown participation type mask for attribute ".concat(O));b.push(_)}else E&&-1!==l.a.indexOf(E.Type)?g.push("_".concat(O,"_value")):g.push(O)}var S="";if(b.length){var C=b.map(e=>"'".concat(e,"'")),w="$filter=Microsoft.Dynamics.CRM.In(PropertyName='participationtypemask',PropertyValues=[".concat(C,"])");S="&$expand=".concat(y.ReferencedEntityNavigationPropertyName,"(").concat(w,")")}var T=function(e,t,n,i){var u,d="",f=[];if(i){var h="";for(var v of i){var m=v.get_relationShipName(),y=v.get_columnNames(),g=[],b=Object(s.i)(e,t.etn,m);if(b){var O=Object(s.j)(e,t.etn,m)===a.g.OneToManyRelationship?b.ReferencingEntity:b.ReferencedEntity;for(var E of y){var _=Object(p.a)(e,O,E);if(!_){u="Cannot serialize a request with no attribute metadata for ".concat(O,".").concat(E);break}if(_.Type===r.a.PartyList){if(!Object(s.a)(e,O)){u="The relationship for the partylist attribute ".concat(E," is not found in the state tree or is invalid");break}var S=Object(c.a)(O,E);if(void 0===S){u="Unknown participation type mask for attribute ".concat(E);break}f.push(S)}else _&&-1!==l.a.indexOf(_.Type)?g.push("_".concat(E,"_value")):g.push(E)}}g&&g.length>0&&(h=Object(o.b)(h)?"".concat(m,"($select=").concat(g.join(","),")"):h+","+"".concat(m,"($select=").concat(g.join(","),")"))}d="&$expand="+h}if(u&&n){n.TraceManager.getTracer("RetrieveRequestSerializer").error(u)}return d}(e,t,h,v),j=new f.e(t.etn,i.a.toString(t.id),"?$select=".concat(g.join(",")).concat(S).concat(T),{[d.c.PREFER]:d.d.ANNOTATIONS,[d.c.ACCEPT]:d.d.APPLICATION_JSON,[d.c.MSCRM_RETURN_NOTIFICATIONS]:"true"});m&&h&&h.TraceManager.getTracer("RetrieveRequestSerializer").error(m);return j}function v(e,t,n,r,a,c){var u=Object(s.d)(e,t),l=Object(o.a)(n)?"":"(".concat(i.a.tryParse(n).guid,")"),f=a&&"number"==typeof a?",odata.maxpagesize=".concat(a):"",p={urlParameters:"".concat(u).concat(l).concat(r||""),additionalHeaders:{[d.c.PREFER]:"".concat(d.d.ANNOTATIONS).concat(f),[d.c.ACCEPT]:d.d.APPLICATION_JSON,[d.c.MSCRM_RETURN_NOTIFICATIONS]:"true"},method:"GET"};return c&&"object"==typeof c&&Object.assign(p.additionalHeaders,c),p}},20786:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var r=function(e){return e[e.Sender=1]="Sender",e[e.ToRecipient=2]="ToRecipient",e[e.CCRecipient=3]="CCRecipient",e[e.BccRecipient=4]="BccRecipient",e[e.RequiredAttendee=5]="RequiredAttendee",e[e.OptionalAttendee=6]="OptionalAttendee",e[e.Organizer=7]="Organizer",e[e.Regarding=8]="Regarding",e[e.Owner=9]="Owner",e[e.Resource=10]="Resource",e[e.Customer=11]="Customer",e[e.Partner=12]="Partner",e[e.Related=13]="Related",e}(r||{});function a(e){switch(e){case"campaignactivity":return["partners","from"];case"fax":return["from","to"];case"email":return["from","to","cc","bcc","related"];case"letter":return["from","to","cc","bcc"];case"phonecall":return["from","to"];case"appointment":return["optionalattendees","organizer","requiredattendees"];case"campaignresponse":return["customer","partner","from"];case"recurringappointmentmaster":return["optionalattendees","organizer","requiredattendees"];case"serviceappointment":return["customers","resources"];default:return["bcc","cc","customers","optionalattendees","organizer","requiredattendees","resources","sendermailboxid","to","from"]}}function i(e,t){switch("".concat(e,".").concat(t).toLowerCase()){case"campaignactivity.from":case"campaignresponse.from":case"fax.from":case"email.from":case"letter.from":case"phonecall.from":return r.Sender;case"email.to":case"fax.to":case"letter.to":case"phonecall.to":return r.ToRecipient;case"email.cc":return r.CCRecipient;case"email.bcc":case"letter.bcc":return r.BccRecipient;case"appointment.optionalattendees":case"recurringappointmentmaster.optionalattendees":return r.OptionalAttendee;case"appointment.organizer":case"recurringappointmentmaster.organizer":return r.Organizer;case"appointment.requiredattendees":case"recurringappointmentmaster.requiredattendees":return r.RequiredAttendee;case"campaignresponse.customer":case"serviceappointment.customer":return r.Customer;case"serviceappointment.resources":return r.Resource;case"campaignactivity.partners":case"campaignresponse.partner":return r.Partner;case"email.related":return r.Related;default:return function(e){switch(e){case"bcc":return r.BccRecipient;case"cc":return r.CCRecipient;case"customers":return r.Customer;case"partners":return r.Partner;case"optionalattendees":return r.OptionalAttendee;case"organizer":return r.Organizer;case"requiredattendees":return r.RequiredAttendee;case"resources":return r.Resource;case"sendermailboxid":case"from":return r.Sender;case"to":return r.ToRecipient;case"regarding":return r.Regarding;case"owner":return r.Owner;default:return}}(t)}}},20787:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(20586),a=[r.a.Owner,r.a.Customer,r.a.Lookup]},20788:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(20737),a=n(20760),i=(n(20789),n(20764));function o(e,t,n,o){var c,s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],u=arguments.length>5?arguments[5]:void 0,l=arguments.length>6?arguments[6]:void 0,d=arguments.length>7?arguments[7]:void 0,f=arguments.length>8?arguments[8]:void 0,p=arguments.length>9?arguments[9]:void 0,h=arguments.length>10?arguments[10]:void 0,v=arguments.length>11?arguments[11]:void 0,m=Object(r.d)(e,t);c=n?"".concat(m,"(").concat(n,")"):"".concat(m),d&&(c+=d);var y={urlParameters:c,method:"PATCH",additionalHeaders:{[a.c.MSCRM_SUPPRESS_DUPLICATION_DETECTION]:s.toString(),[a.c.IF_MATCH]:u||"*",[a.c.AUTO_DISASSOCIATE]:"true"},body:p?o:JSON.stringify(o)};return f&&Object.assign(y.additionalHeaders,f),l&&y.additionalHeaders&&(y.additionalHeaders[i.a]="true"),h&&Object(i.b)(y,h),y&&y.additionalHeaders&&v&&(y.additionalHeaders[a.c.MSCRM_SOLUTION_UNIQUE_NAME]=v),y}},20789:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return e[e.Default=0]="Default",e[e.IfRowVersionMatches=1]="IfRowVersionMatches",e[e.AlwaysOverwrite=2]="AlwaysOverwrite",e}({})},20790:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(20760),a=n(20791),i=n(20780);function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];try{var c=Object(a.a)(e,t,o),s=i.c.FUNCTION,u=t.getMetadata().operationName||i.d;u===i.c.GCM&&(s=i.c.GCM);var l=Object(i.e)(n),d={urlParameters:c,additionalHeaders:{[r.c.ACCEPT]:r.d.APPLICATION_JSON,[r.c.PREFER]:r.d.ANNOTATIONS},method:"GET",additionalParameters:{[i.a.TYPE]:s,[i.a.SUB_TYPE]:u,[i.a.SOURCE]:l}};return d}catch(f){return{serializationFailure:f.message}}}},20791:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n(20754),a=n(20585),i=n(20737),o=n(20761),c=n(20792),s=n(20753),u={COLON:encodeURIComponent(":"),OPEN_BRACKET:encodeURIComponent("{"),CLOSED_BRACKET:encodeURIComponent("}"),COMMA:encodeURIComponent(","),EQUAL:encodeURIComponent("=")};function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=t.getMetadata().boundParameter,i=[],o=Object.keys(t).filter(e=>e!==a).map(a=>{var o=t.getMetadata().parameterTypes[a],c=m(e,t,a,!1,!0,n);return void 0!==o&&r.b.EnumerationType===o.structuralProperty?"".concat(a,"=").concat(c):(i.push("@".concat(a,"=").concat(c)),"".concat(a,"=@").concat(a))});return i.length?"(".concat(o.join(","),")?").concat(i.join("&")):"(".concat(o.join(","),")")}function d(e,t,n,r){switch(e){case"Edm.String":return f(e,t,n,r);case"Edm.Guid":return f(e,t.guid,n,r);case"Edm.DateTimeOffset":if("object"==typeof t&&"function"==typeof t.toISOString)return f(e,t.toISOString(),n,r);default:return f("Edm.UndefinedType",t,n,r)}}function f(e,t,n,r){switch(function(e,t,n){var r=n?t?o.b.DoubleQuotesURL:o.b.NoQuotesURL:o.b.Contract;return r===o.b.Contract?"Edm.UndefinedType"===e?r=o.b.None:"Edm.String"===e&&(r=o.b.JsonifyURL):r===o.b.NoQuotesURL&&"Edm.String"===e?r=o.b.SingleQuotesURL:r===o.b.DoubleQuotesURL&&"Edm.UndefinedType"===e&&(r=o.b.NoQuotesURL),r}(e,n,r)){case o.b.JsonifyURL:return JSON.stringify(t);case o.b.SingleQuotesURL:return"'".concat(Object(c.c)(t),"'");case o.b.DoubleQuotesURL:return'"'.concat(Object(c.c)(t),'"');case o.b.NoQuotesURL:return Object(c.c)(t);case o.b.Contract:return'"'.concat(t,'"');default:return t}}function p(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(t){var i="{",o="",c=r&&!a?u.COLON:":";if(n){var s=t.getMetadata().typeName;s&&n.typeName!==s&&(i+='"@odata.type"'.concat(c,'"').concat(s,'"'),o=",")}for(var l in t)if("function"!=typeof t[l]){var d=m(e,t,l,!0,r,a);if(h(t,l,d))continue;i+="".concat(o,'"').concat(l,'"').concat(c).concat(d),o||(o=",")}return i+="}",a?encodeURIComponent(i):i}return"null"}function h(e,t,n){if(e instanceof s.a){if([null,"null","[]",""].indexOf(n)>=0)return!0;if("DependencyDepth"===t&&e[t]===o.a.OnDemandWithoutContext)return!0}return!1}function v(e,t,n,r){var a=Object(c.d)(e,t);return null==a?"":n?f(t.typeName,a.name,n,r):"".concat(t.typeName,"'").concat(a.name,"'")}function m(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=t.getMetadata(),u=t[n];if(n&&0===n.indexOf("@odata."))return'"'.concat(u,'"');var l=s.parameterTypes[n];if(void 0===l)return null;switch(l.structuralProperty){case r.b.PrimitiveType:if(null==u)return null;var f="MetadataSubtype"===n&&"Edm.String"===l.typeName?'"'.concat(u,'"'):d(l.typeName,u,a,i);return f;case r.b.EntityType:return Object(c.e)(e,u,a,i);case r.b.ComplexType:var h=u;return p(e,h,l,i,o);case r.b.EnumerationType:return v(u,l,a,i);case r.b.Collection:if(u){if(u.length){if(u[0].getMetadata){var m=u;return"["+m.map(t=>p(e,t,void 0,i)).join(",")+"]"}return-1!==c.a.indexOf(l.typeName)?"["+u.map(e=>d(l.typeName,e,a,i)).join(",")+"]":l.enumProperties?"["+u.map(e=>v(e,l,a,i)).join(",")+"]":"number"==typeof u[0]?"["+u.map(e=>d("Edm.String",e,a,i)).join(",")+"]":"["+u.map(t=>Object(c.e)(e,t,a,i)).join(",")+"]"}return"[]"}return"null";default:return null}}function y(e,t,n){if(!t)throw new Error("Cannot generate base URL for the OData call: the routine name is empty.");if(!n)throw new Error("Cannot generate base URL for the OData call: the request is empty.");if(!n.getMetadata())throw new Error("Cannot generate base URL for the OData call: the request metadata is empty.");var o=n.getMetadata().boundParameter;if(o){var c=n.getMetadata();if(!c||!c.parameterTypes||!c.parameterTypes[o])return null;if(c.parameterTypes[o].structuralProperty===r.b.Collection){var s=c.parameterTypes[o].typeName&&c.parameterTypes[o].typeName.split(".").pop();if(!s)return null;var u=Object(i.d)(e,s);return u?"".concat(u,"/Microsoft.Dynamics.CRM.").concat(t):null}var l=n[o],d=Object(i.d)(e,l.entityType);return"".concat(d,"(").concat(a.a.fromExternalGuid(l.id).guid,")/Microsoft.Dynamics.CRM.").concat(t)}return"".concat(t)}function g(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=y(e,t.getMetadata().operationName,t),a=l(e,t,n);return"".concat(r).concat(a)}},20792:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return O})),n.d(t,"e",(function(){return y})),n.d(t,"d",(function(){return b})),n.d(t,"c",(function(){return g}));var r=n(20586),a=n(20589),i=n(20585),o=n(20619),c=n(20622),s=n(20793),u=n(20786),l=n(20777),d=n(20736),f=n(20765),p=n(20737),h=["Edm.Boolean","Edm.String","Edm.Byte","Edm.Decimal","Edm.Double","Edm.Int16","Edm.Int32","Edm.Int64","Edm.SByte","Edm.Single","Edm.Date","Edm.Guid","Edm.DateTimeOffset","Edm.Duration","Edm.Stream","Edm.Binary","Edm.TimeOfDay","Edm.Geography","Edm.GeographyPoint","Edm.GeographyLineString","Edm.GeographyPolygon","Edm.GeographyMultiPoint","Edm.GeographyMultiLineString","Edm.GeographyMultiPolygon","Edm.GeographyCollection","Edm.Geometry","Edm.GeometryPoint","Edm.GeometryLineString","Edm.GeometryPolygon","Edm.GeometryMultiPoint","Edm.GeometryMultiLineString","Edm.GeometryMultiPolygon","Edm.GeometryCollection"],v=function(e){return e[e.Server=0]="Server",e[e.Client=1]="Client",e}(v||{});function m(e,t,n){if(n){var r=Object(p.b)(e,t.entityType);return{"@odata.type":"Microsoft.Dynamics.CRM.".concat(t.entityType),[r.PrimaryKeyName]:i.a.fromExternalGuid(t.id).guid}}var a=Object(p.d)(e,t.entityType);return{"@odata.id":"".concat(a,"(").concat(i.a.fromExternalGuid(t.id).guid,")")}}function y(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(Object(c.a)(t))return"null";if("object"==typeof t&&"entityType"in t&&"id"in t){var a=t,i=m(e,a,n),o=JSON.stringify(i);return r?g(o):o}var s=JSON.stringify(t);return r?g(s):s}function g(e){var t=encodeURIComponent(e);if(-1!==t.indexOf("'")){return t.replace(/\'/g,"''")}return t}function b(e,t){return null!=e&&t&&t.enumProperties&&t.enumProperties.length?t.enumProperties.filter(t=>t.value===e)[0]:null}function O(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:v.Server,r=t.get_identifier(),a=r.LogicalName,c=[];if(t)if(n===v.Server){var s=t.get_changedFieldNames();s&&(c=s)}else c=t.get_fieldNames();var l=c.reduce((r,i)=>{var o=_(e,a,i,t,n),c=Object.keys(r),s=Object.keys(o)[0];return c&&-1!==c.indexOf(s)&&o[s]&&o[s].length?(r[s]=r[s].concat(o[s]),r):Object.assign(o,r)},{}),d=Object(p.b)(e,a);if(d&&d.IsActivity){var h=Object(u.b)(a),m=c.filter(e=>h.indexOf(e)>-1),y=h.filter(e=>-1===m.indexOf(e));if(m.length&&y.length){var g,b=[],S=null===(g=Object(f.b)(o.a.fromLegacyEntityReference(r)))||void 0===g?void 0:g(e,a);S&&S.fields&&function(){for(var t of y)if(t in S.fields){var n=S.fields[t].list.map(t=>{var n,r,a,c,s,u=null!==(n=t.fields)&&void 0!==n&&n.participationtypemask?Number((null===(r=t.fields)||void 0===r?void 0:r.participationtypemask).valueString):0,l=null===(a=t.fields)||void 0===a?void 0:a.partyid,d=null===(c=t.fields)||void 0===c?void 0:c.activitypartyid,f=d&&!i.a.isNullOrEmpty(d.id)?i.a.toString(d.id):void 0,p=l?l.reference:new o.a("unresolvedaddress",i.a.EMPTY,(null===(s=t.fields)||void 0===s?void 0:s.addressused).value);return C(e,u,p,f)});b.push(...n)}}();var w=E(e,a);w&&(l[w]?l[w].push(...b):0!==b.length&&(l[w]=b))}}var T=t.get_relatedEntities();return n===v.Client&&T&&T.get_entityCollections()&&T.get_entityCollections().forEach(t=>{var r=t.get_value().get_entities().map(t=>O(e,t,n)),i=r&&1===r.length&&Object(p.f)(e,a,t.get_key().get_schemaName())?r[0]:r;l[t.get_key().get_schemaName()]=i}),l}function E(e,t){var n=Object(p.a)(e,t);if(n&&n.ReferencedEntityNavigationPropertyName)return n.ReferencedEntityNavigationPropertyName}function _(e,t,n,h){var m=arguments.length>4&&void 0!==arguments[4]?arguments[4]:v.Server,y=h.getValue(n);if(!e||!t||!n||void 0===y||m===v.Client&&null===y)return{};var g=null,b={},O=h.get_fieldTypes(),_=null;if(O[n]===r.a.AliasedValue){var w=y;g=w.get_attributeType(),b["".concat(n,"@OData.Community.Display.V1.AttributeName")]=w.get_attributeLogicalName(),_=Object(d.a)(e,w.get_entityLogicalName(),w.get_attributeLogicalName()),y=w.get_value()}else{if(!(_=Object(d.a)(e,t,n)))return{};g=_.Type}switch(g){case r.a.MultiSelectPickList:if(Object(c.a)(y))return{};var T=y.length>0?Array.isArray(y)?y.join(","):y:null;if(T&&m===v.Client){var j,N=_.OptionSet?null===(j=_)||void 0===j?void 0:j.OptionSet.length:0;b[Object(s.e)(n)]=y.map(e=>{for(var t=0;t<N;t++){var n,r,a,i,o,c;if(e===(null===(n=_)||void 0===n||null===(r=n.OptionSet)||void 0===r||null===(a=r[t])||void 0===a?void 0:a.Value))return null===(i=_)||void 0===i||null===(o=i.OptionSet)||void 0===o||null===(c=o[t])||void 0===c?void 0:c.Label}return""}).join(";")}return b[n]=T,b;case r.a.PartyList:if(Object(c.a)(y))return{};var P=y,I=P.get_entities(),R=E(e,t);if(!R)return{};var M=Object(u.a)(t,n),x=I.map(t=>{var n=t.getValue("partyid"),r=t.getValue("activitypartyid"),a=r?r.toString():null,i=o.a.fromLegacyEntityReference(n);return C(e,M,i,a)});return b[R]=x,b;case r.a.Boolean:if(Object(c.a)(y))return{};var D=y.get_ValueString();return m===v.Client&&(b[Object(s.e)(n)]=y.get_Label()),b[n]="0"===D||"1"===D?"1"===D:null,b;case r.a.PickList:case r.a.State:case r.a.Status:return Object(c.a)(y)?{}:(m===v.Client&&(b[Object(s.e)(n)]=y.get_Label()),b[n]=y.getValue("value"),b);case r.a.Customer:case r.a.Lookup:case r.a.Owner:var A,k=Object(s.g)(n);if(Object(c.a)(y))return{[k]:null};var F,L=y,q=Object(p.d)(e,L.LogicalName),U=null===(A=i.a.fromLegacyGuid(L.Id))||void 0===A?void 0:A.guid;if(q&&U){var B=o.a.fromLegacyEntityReference(L),V=Object(f.d)(e,B,"partitionid");F=Object(l.b)(V)}var G=Object(p.h)(e,L.LogicalName),H=null;if(g===r.a.Owner&&(H=Object(p.g)(e,t,"owner",n)),Object(c.a)(H)&&(H=Object(p.g)(e,t,L.LogicalName,n)),g===r.a.Owner&&Object(c.a)(H))return{};if(Object(c.a)(H))throw new Error("Unable to find many-to-one relationship, entity: ".concat(t,", referenced entity: ").concat(L.LogicalName,", field: ").concat(n));return m===v.Server?Object(p.k)(e,L.LogicalName)&&G&&F&&"string"==typeof F?b[S(H.ReferencingEntityNavigationPropertyName)]="/".concat(q,"(").concat(G,"=").concat(U,",partitionid='").concat(F,"')"):b[S(H.ReferencingEntityNavigationPropertyName)]="/".concat(q,"(").concat(U,")"):(b[Object(s.e)(k)]=L.Name,b[Object(s.f)(k)]=L.LogicalName,b[k]=U),b;case r.a.UniqueIdentifier:var Q;return Object(c.a)(y)?{}:(b[n]=null===(Q=i.a.fromLegacyGuid(y))||void 0===Q?void 0:Q.guid,b);case r.a.Date:case r.a.DateTime:if(Object(c.a)(y))return{[n]:null};if(_.Behavior===a.a.DateOnly&&"function"==typeof y.toISOString){var z=y.toISOString().match(/(\d{4}-\d{2}-\d{2})T\d{2}\:\d{2}\:\d{2}\.\d{3}[+-Z]/i);z[1]&&(m===v.Client&&(b[Object(s.e)(n)]=h.getFormattedValue(n)),b[n]=z[1])}else m===v.Client?(b[Object(s.e)(n)]=h.getFormattedValue(n),b[n]=y.toISOString().replace(/.\d{3}Z/,"Z")):b[n]=y;return b;case r.a.Money:case r.a.Decimal:case r.a.Double:case r.a.Integer:case r.a.BigInt:if(m===v.Client){if(Object(c.a)(y))return{};b[Object(s.e)(n)]=h.getNumericFormattedValue(n)}return b[n]=y,b;default:return b[n]=y,b}}function S(e){return"".concat(e,"@odata.bind")}function C(e,t,n,r){var a=n.id.guid,i=n.etn;if("unresolvedaddress"===i){var o={addressused:n.name,participationtypemask:t};return Object(c.a)(r)||(o.activitypartyid=r),o}var s=Object(p.d)(e,i),u=Object(p.a)(e,i);if(Object(c.a)(u))throw new Error("Unable to find one-to-many relationship, entity: ".concat(i,", referencing entity: ").concat("activityparty"));var l={["".concat(u.ReferencingEntityNavigationPropertyName,"@odata.bind")]:"/".concat(s,"(").concat(a,")"),participationtypemask:t};return Object(c.a)(r)||(l.activitypartyid=r),l}},20793:function(e,t,n){"use strict";n.d(t,"b",(function(){return S})),n.d(t,"c",(function(){return C})),n.d(t,"d",(function(){return T})),n.d(t,"g",(function(){return R})),n.d(t,"f",(function(){return M})),n.d(t,"e",(function(){return x})),n.d(t,"a",(function(){return _}));var r=n(20586),a=n(20593),i=n(20585),o=n(20623),c=n(20733),s=n(20619),u=n(20622),l=n(20766),d=n(20767),f=n(20773),p=n(20775),h=n(20786),v=n(20736),m=n(20737),y=n(20589),g=n(20588),b=n(20607);function O(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function E(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){O(i,r,a,o,c,"next",e)}function c(e){O(i,r,a,o,c,"throw",e)}o(void 0)}))}}var _=function(e){return e[e.OData=0]="OData",e[e.SQL=1]="SQL",e}(_||{});function S(e,t,n,r,a,o,c,l,f){var h=arguments.length>9&&void 0!==arguments[9]?arguments[9]:_.OData,v=arguments.length>10?arguments[10]:void 0,m=arguments.length>11&&void 0!==arguments[11]&&arguments[11],y=c||n?n.PrimaryIdAttribute:void 0;a||(a=T(t,h)),-1===a.indexOf("versionnumber")&&t.hasOwnProperty("@odata.etag")&&a.push("versionnumber");var g=y&&"string"==typeof t[y]?new i.a(t[y]):i.a.EMPTY,b=new s.a(n.EntityLogicalName,g),O=s.a.toLegacyEntityReference(b),E=null;l&&!Object(u.a)(l)&&(E=l.aliasedValueDescriptors);var S=N(e,a,n,r,t,E,f,v,h,m);return new d.a(O,S.fields,S.fieldTypes,S.formattedValues,S.numericFormattedValues,new p.a([]),o)}function C(e,t,n,r,a,i,o){var s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:_.OData,u=arguments.length>8?arguments[8]:void 0;return{type:"CREATE_ENTITY_RECORD_FROM_RESPONSE_ASYNC",execute:(l,d)=>E((function*(){var{getState:d,dispatch:f}=l,p=T(e,s),h=w(d(),t,n,p,i,u);yield f(Object(c.b)(h));var y=Object(v.b)(d(),t),g=Object(m.b)(d(),t),b=(n||[]).concat(h[t]?h[t].filter(e=>y.hasOwnProperty(e)):[]);return S(d(),e,g,y,b,r,a,i,o,s,u)}))()}}function w(e,t,n,r,i,c){var s,u=function(e,t){var n=new Set(e||[]),r=e&&e.slice(0)?e.slice(0):[];if(t)for(var a of t)n.has(a)||r.push(a);return r}(n,r).filter(e=>-1===e.indexOf("."));if(u&&u.length>0?i?(s=i.entity2AttributesMap?i.entity2AttributesMap:{},Object(o.a)(s,t,u)):s={[t]:u}:s={},c)for(var l of c){var d=l.get_relationShipName(),f=Object(m.i)(e,t,d);if(f){var p=Object(m.j)(e,t,d)===a.g.OneToManyRelationship?f.ReferencingEntity:f.ReferencedEntity,h=l.get_columnNames();Object(o.a)(s,p,h)}}return s}function T(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_.OData,n=Object.keys(e).reduce((e,n)=>(-1===n.indexOf("@")&&e.add(j(n,t)),e),new Set);return Array.from(n)}function j(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_.OData,n=null;return(n=t===_.OData?e.match(/_(\w+)_value/i):e.match(/(\w+\.?\w+)!(id|name|logicalname)$/i))&&n[1]?n[1]:e}function N(e,t,n,a,i,o,c,s){var l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:_.OData,d=arguments.length>9&&void 0!==arguments[9]&&arguments[9],f={fieldTypes:{},formattedValues:{},numericFormattedValues:{},fields:{}};if(d&&n.EntityLogicalName&&Object(g.z)(n.EntityLogicalName))return f.fields=i,f;var p=function(t){if(Object(u.b)(t)){var p=[{name:"EntityLogicalName",value:null!=n?n.EntityLogicalName:"null"}];return c&&c.warn("Empty field name encountered while trying to construct entity record",p),"continue"}if(d&&["NORSYNC_SID","NORSYNC_LOG_SID","NORSYNC_TABLE_ID","NORSYNC_LOG_TYPE"].indexOf(t)>-1)f.fields[t]=i[t];else if("versionnumber"===t){var v=r.a.BigInt;f.fields[t]=D(e,i,t,v,n,a,!1,o,c,l),f.fieldTypes[t]=v}else if(s&&i&&i.hasOwnProperty(t)&&i[t]&&s.filter(e=>e.get_relationShipName()===t).length>0)P(e,t,n,i,f,c,s);else{var m=!1,y=!!o&&o.hasOwnProperty(t);if(!y&&null==a[t])return"continue";var g=i.hasOwnProperty(A(t,i,o,y));if(g||(g=i.hasOwnProperty(F(t,l,y))),!g){var b=k(e,t,n,i,o,y);m=g=b&&i.hasOwnProperty(b)&&i[b].filter(e=>e.participationtypemask===Object(h.a)(y&&o?o[t].aliasedValueEtn:n.EntityLogicalName,y&&o?o[t].aliasedValueFieldName:t)).length>0}if(g){var O,E=y?r.a.AliasedValue:a[t].Type,_=!(!o||null===(O=o[t])||void 0===O||!O.isAttributeAlias),S=A(t,i,o,y&&_),C=!!(y&&o&&o[t]&&o[t].oDataAlias.length>1),w=A(t,i,o,C);f.fields[S]=D(e,i,w,E,n,a,m,y?o:null,c,l),f.fieldTypes[S]=E,I(e,w,f,i,l,a,E)}}};for(var v of t)p(v);return f}function P(e,t,n,o,c,u,l){if(l)for(var f of l){var h=void 0,y=f.get_relationShipName();if(y===t){var g=Object(m.i)(e,n.EntityLogicalName,y);if(g){var b=Object(m.j)(e,n.EntityLogicalName,y),O=b===a.g.OneToManyRelationship?g.ReferencingEntity:g.ReferencedEntity,E=f.get_columnNames(),_=Object(v.b)(e,O);if(_){var S=[],C=Object(m.b)(e,O),w=null==C?void 0:C.PrimaryKeyName;if(b===a.g.OneToManyRelationship){var T=o[y];for(var j of T){var N={fieldTypes:{},formattedValues:{},numericFormattedValues:{},fields:{}},P=new i.a(j[w]),I=new s.a(null==C?void 0:C.EntityLogicalName,P),R=s.a.toLegacyEntityReference(I);if(E)for(var M of E)if(_.hasOwnProperty(M)){var x=D(e,j,M,h=_[M].Type,C,_,!1,null,u);N.fields[M]=x,N.fieldTypes[M]=h}var A=new d.a(R,N.fields,N.fieldTypes,N.formattedValues,N.numericFormattedValues,new p.a([]));S.push(A)}}else if(b===a.g.ManyToOneRelationship){var k=o[y],F={fieldTypes:{},formattedValues:{},numericFormattedValues:{},fields:{}},L=new i.a(k[w]),q=new s.a(null==C?void 0:C.EntityLogicalName,L),U=s.a.toLegacyEntityReference(q);if(E)for(var B of E)if(_.hasOwnProperty(B)){h=_[B].Type;var V=D(e,o[t],B,h,C,_,!1,null,u);F.fields[B]=V,F.fieldTypes[B]=h}var G=new d.a(U,F.fields,F.fieldTypes,F.formattedValues,F.numericFormattedValues,new p.a([]));S.push(G)}c.fields[y]=S,c.fieldTypes[y]=r.a.NavigationProperty}}}}}function I(e,t,n,r,a,i,o){if(a===_.OData){var c=x(t);r.hasOwnProperty(c)&&(n.formattedValues[t]=r[c])}}function R(e){return"_".concat(e,"_value")}function M(e){return"".concat(e,"@Microsoft.Dynamics.CRM.lookuplogicalname")}function x(e){return"".concat(e,"@OData.Community.Display.V1.FormattedValue")}function D(e,t,n,a,o,c,l,d,p){var h,g=arguments.length>9&&void 0!==arguments[9]?arguments[9]:_.OData,O=F(n,g);if("versionnumber"===n&&g===_.OData&&t["@odata.etag"]){var E=t["@odata.etag"].match(/W\/\"([0-9a-zA-Z]+)\"/);if(E&&E[1])return E[1]}if(!(l||t.hasOwnProperty(n)||t.hasOwnProperty(O)||d))return null;var S=null;if(c&&c[n]&&-1!==[r.a.Lookup,r.a.Customer,r.a.Owner].indexOf(c[n].Type))d&&d.hasOwnProperty(n)&&(O=F(n,g,!0)),h=t[O];else if(c&&c[n]){var C=U(d,t,n),w=d&&d[n]&&d[n].oDataAlias&&d[n].oDataAlias[C]||n;if(S=d&&d[n]&&d[n].rowaggregate||null,h=t[w],d&&d[n]&&d[n].isAttributeAlias&&Object(u.a)(S))return h}else h=t[n];if(!l&&null===h)return null;switch(a){case r.a.AliasedValue:if(d){var T,{aliasedValueEtn:j,aliasedValueFieldName:N}=d[n],P=Object(m.b)(e,j),I=Object(v.a)(e,j,N);T=S&&"CountChildren"===S?r.a.Integer:null==I?void 0:I.Type;var R=new f.a(j,N,T);return null==(h=D(e,t,n,T,P,{[n]:I},l,d,p,g))?null:(R.set_value(h),R)}return null;case r.a.Customer:case r.a.Lookup:case r.a.Owner:var M=t[L(n,O,g)],A=t[q(n,O,g)];if(M&&h)return s.a.toLegacyEntityReference(new s.a(M,new i.a(h),A));var k=[];return k.push({name:"EntityLogicalName",value:null==c[n]?"null":c[n].EntityLogicalName}),k.push({name:"Attribute Name",value:null==c[n]?"null":c[n].LogicalName}),k.push({name:"Lookup Field EntityLogicalName",value:null==M?"null":M}),k.push({name:"FieldValue",value:null==h?"null":h}),k.push({name:"lookupFormattedValue",value:null==A?"null":A}),V("_constructFieldValue: Lookup Field EntityLogicalName or FieldValue is null",k),null;case r.a.UniqueIdentifier:var G=i.a.tryParseOrNull(h);return G?i.a.toLegacyGuid(G):null;case r.a.DateTime:var H;return g===_.OData&&(H=c&&c[n]&&c[n].Behavior===y.a.TimeZoneIndependent?h.replace(/-\d{2}:\d{2}$/,"Z"):h),Object(u.b)(h)?null:new Date(Date.parse(H));case r.a.Status:case r.a.State:case r.a.Boolean:case r.a.PickList:var Q,z=t[x(n)],W=c[n].OptionSet;return W&&(null==h&&W.DefaultValue&&-1!==W.DefaultValue&&(h=W.DefaultValue),null!=h&&(Q=W.find(e=>Number(e.Value)===Number(h)))),Q?new b.a(z||Q.Label,Q.Value,-1,-1,[],Q.Color,null):new b.a(z,h,-1,-1,[],null,null);case r.a.PartyList:return B(e,n,t,o,d,null!=d&&null!=d[n]);default:return h}}function A(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(r&&n&&n[e]){var a=U(n,t,e);return n[e].oDataAlias[a]}return e}function k(e,t,n,r,a){var i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=i?a[t].aliasedValueEtn:n.EntityLogicalName,c=Object(m.a)(e,o);if(!c)return null;if(i){var s=U(a,r,t),u=a[t].alias,l=a[t].oDataSeparator[s];return"".concat(u).concat(l).concat(c.ReferencedEntityNavigationPropertyName)}return"".concat(c.ReferencedEntityNavigationPropertyName)}function F(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_.OData,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t===_.OData?n?e:R(e):"".concat(e,"!id")}function L(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_.OData;return n===_.OData?M(t):"".concat(e,"!logicalname")}function q(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_.OData;return n===_.OData?x(t):"".concat(e,"!name")}function U(e,t,n){if(e&&e.hasOwnProperty(n)&&e[n].oDataAlias.length>0)for(var r=0;r<e[n].oDataAlias.length;r++)if(t.hasOwnProperty(e[n].oDataAlias[r]))return r;return 0}function B(e,t,n,r,a){var i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(r&&r.OneToManyRelationships){var o=k(e,t,r,n,a,i);if(!o)return null;var c=n[o];if(!c)return null;var s=Object(m.b)(e,"activityparty"),u=Object(v.b)(e,"activityparty"),d=Object.keys(u),f=c.filter(e=>e.participationtypemask===Object(h.a)(i?a[t].aliasedValueEtn:r.EntityLogicalName,i?a[t].aliasedValueFieldName:t)).map(t=>S(e,t,s,u,d));return new l.a(f,!1,f.length,!1,null,null)}return new l.a([],!1,0,!1,null,null)}function V(e,t,n){null==n||n.error(e,t)}},20794:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(20583),a=n(20760);function i(e,t){var n="",r=1;for(var a of t){if(a.serializationFailure)throw a.serializationFailure;n+="--"+e+"\n",n+="Content-Type: application/http\nContent-Transfer-Encoding: binary\n",n+="Content-ID: "+r+++"\n",n+="\n",n+=o(a)}return n+="--"+e+"--\n"}function o(e){var t="".concat(e.method," ").concat(e.urlParameters," HTTP/1.1\n");for(var n in e.additionalHeaders)n!==r.q.CONTENT_TYPE&&"GET"!==e.method&&(t+="".concat(n,": ").concat(e.additionalHeaders[n],"\n"));return"GET"!==e.method&&(t+="".concat(r.q.CONTENT_TYPE,": application/json;type=entry\n")),t+="\n",e.body&&(t+=e.body,t+="\n"),t}function c(e,t,n,c){if(!e||!e.length)return{serializationFailure:"Attempted to create an OData batch with empty list of requests"};var u="";for(var l of(n||(n=s("batch")),e)){u+="--"+n+"\n";var d="";if(Array.isArray(l)){var f=l,p=s("changeset");d=i(p,f),u+="Content-Type: multipart/mixed;boundary=".concat(p,"\n")}else{var h=l;if(h.serializationFailure)return h;d=o(h),u+="Content-Type: application/http\nContent-Transfer-Encoding: binary\n"}u+="\n",u+=d,u+="\n"}var v="--".concat(n,"--\r\n\0");u.endsWith(v+"\n")?u=u.substr(0,u.length-1):u+=v;var m={urlParameters:"$batch",additionalHeaders:{[r.q.CONTENT_TYPE]:"multipart/mixed;boundary=".concat(n),Accept:a.d.APPLICATION_JSON},body:u,method:"POST"};return c&&(m.additionalHeaders.Prefer="odata.continue-on-error"),m}function s(e){return"".concat(e,"_").concat(new Date(Date.now()).getTime())}},20795:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return u}));var r=n(20796),a=n(20797),i=n(20798),o=n(20585),c=n(20684);class s{constructor(e){this._operator=void 0,this._terms=void 0,this._hint="",this._operator=e;for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this._terms=n}get operator(){return this._operator}set operator(e){this._operator=e}get hint(){return this._hint}set hint(e){this._hint=e}get terms(){return this._terms}set terms(e){this._terms=e}static _isSimpleCondition(e){return e.terms.every(e=>!Object(r.c)(e))}static _toLegacyConditionParameters(e){var t,n="",a="";for(var i of e.terms)Object(r.a)(i)?n=i.attributeName:Object(r.d)(i)?t=i.value:Object(r.b)(i)&&(a=i.entityName);return{attributeName:n,operator:e.operator,value:t,entityName:a}}static toLegacyFilterExpression(e,t){var n="or"===e.operator?a.a.Or:a.a.And,r=o.a.newGuid().guid,c=new i.a(n,r,null,t?null:e.hint);if(s._isSimpleCondition(e)){var{attributeName:u,operator:l,value:d,entityName:f}=s._toLegacyConditionParameters(e);c.addCondition(u,l,d,f)}else{var p=t;for(var h of e.terms)c.addFilterExpression(s.toLegacyFilterExpression(h,p)),p=p||!!h.hint}return c}static isSimpleCondition(e){return e.terms.every(e=>!Object(r.c)(e))}static getHintFromExpression(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.Hints,n="";if(null==e||!e.terms||0===e.terms.length)return"";if(this.isSimpleCondition(e))return this.getODataUriForSimpleCondition(e,t);if(1===e.terms.length){var r,a=null===(r=e.operator)||void 0===r?void 0:r.toLowerCase();switch(a){case c.h.and:case c.h.or:return this.getHintFromExpression(e.terms[0],t);case c.h.not:return n="".concat(this.getHintFromExpression(e.terms[0],t)),this.isSimpleCondition(e.terms[0])||(n="(".concat(n,")")),n;default:throw new Error("Invalid logical operator ".concat(a,"."))}}else{n=this.getHintFromExpression(e.terms[0],t),this.isSimpleCondition(e.terms[0])||(n="(".concat(n,")"));for(var i=1;i<e.terms.length;i++){var o=this.getHintFromExpression(e.terms[i],t);this.isSimpleCondition(e.terms[i])||(o="(".concat(o,")")),n="".concat(n," ").concat(e.operator," ").concat(o)}}return n}static getODataUriForSimpleCondition(e,t){var n,a=e.terms.find(e=>Object(r.a)(e)),i=e.terms.find(e=>Object(r.d)(e));if(t===u.Hints)return this.getHintsForSimpleCondition(e);switch(e.operator){case"like":n="Contains";break;case"in":n="In";break;case"equalsUserId":n="EqualUserId"}switch(e.operator){case"eq":case"ne":case"gt":case"ge":case"lt":case"le":var o="number"==typeof(null==i?void 0:i.value)?i.value:"'".concat(null==i?void 0:i.value,"'");return"".concat(a.attributeName," ").concat(e.operator," ").concat(o);case"like":case"in":case"equalsUserId":var c,s=["PropertyName=@p1"],l=["&@p1='".concat(a.attributeName,"'")];if(i)Array.isArray(i.value)?(s.push("PropertyValues=@p2"),c="&@p2=["+i.value.map(e=>"'".concat(e,"'")).join(",")+"]"):(s.push("PropertyValue=@p2"),c="&@p2='".concat(i.value,"'")),l.push(c);return"Microsoft.Dynamics.CRM.".concat(n,"(").concat(s.join(","),")").concat(l.join(""));default:throw Error("Unsupported expression operation type ".concat(e.operator))}}static getHintsForSimpleCondition(e){var t=e.terms.find(e=>Object(r.a)(e)),n=e.terms.find(e=>Object(r.d)(e));return null!=n&&n.value?"".concat(t.attributeName," ").concat(e.operator," '").concat(n.value,"'"):"".concat(t.attributeName," ").concat(e.operator)}}var u=function(e){return e[e.Hints=0]="Hints",e[e.ODataUri=1]="ODataUri",e}({})},20796:function(e,t,n){"use strict";function r(e){return!!e.attributeName}function a(e){return null!==e.value&&void 0!==e.value}function i(e){return!!e.entityName}function o(e){return!!e.terms}n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o}))},20797:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return e[e.And=0]="And",e[e.Or=1]="Or",e[e.Not=2]="Not",e}({})},20798:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(20799),a=n(20797),i=n(20800),o=n(20622);class c{constructor(e,t,n,r){this._FilterExpressionId=void 0,this._FilterOperator=0,this._IsQuickFindFields=!1,this._Hint=void 0,this._Conditions=void 0,this._FilterExpressions=void 0,this._set_filterOperator(e),this.set_filterExpressionId(t),this._set_filterExpressions([]),Object(o.a)(n)?this._set_isQuickFindFields(!1):this._set_isQuickFindFields(n),Object(o.a)(r)?this._set_hint(null):this._set_hint(r)}get_filterExpressionId(){return this._FilterExpressionId}set_filterExpressionId(e){this._FilterExpressionId=e}get_filterOperator(){return this._FilterOperator}_set_filterOperator(e){return this._FilterOperator=e,e}get_isQuickFindFields(){return this._IsQuickFindFields}_set_isQuickFindFields(e){return this._IsQuickFindFields=e,e}get_hint(){return this._Hint}_set_hint(e){this._Hint=e}get_conditions(){return this._Conditions}_set_conditions(e){return this._Conditions=e,e}get_filterExpressions(){return this._FilterExpressions}_set_filterExpressions(e){return this._FilterExpressions=e,e}addCondition(e,t,n,a,i){n=n,i=Object(o.a)(i)?"":i;var c=new r.a(e,t,n);return c.set_entityName(a),c.set_conditionName(i),this.get_conditions()||this._set_conditions([]),this.get_conditions().push(c),this}addFilterExpression(e){return e?(this.get_filterExpressions()||this._set_filterExpressions([]),this.get_filterExpressions().push(e),this):this}clone(){var e=new c(this.get_filterOperator(),this.get_filterExpressionId());if(this.get_conditions()){e._set_conditions([]);for(var t=0;t<this.get_conditions().length;t++)e.get_conditions().push(this.get_conditions()[t].clone())}else e._set_conditions(null);if(this.get_filterExpressions()){e._set_filterExpressions([]);for(var n=0;n<this.get_filterExpressions().length;n++)e.get_filterExpressions().push(this.get_filterExpressions()[n].clone())}else e._set_filterExpressions(null);return e}toFetchXml(){return c._CreateXmlFilter(this)}static _CreateXmlFilter(e){var t="";if(!e||!(e.get_filterExpressions()&&e.get_filterExpressions().length||e.get_conditions()&&e.get_conditions().length))return t;if(e.get_conditions()){e.get_conditions().length>0&&(t+='<filter type="'+a.a[e.get_filterOperator()].toLowerCase()+'"',e.get_isQuickFindFields()&&(t+=' isquickfindfields="1"'),t+=">",Object(o.b)(e.get_hint())||(t+=' hint="'+e.get_hint().toLowerCase()+'"'));for(var n=0;n<e.get_conditions().length;n++){var r=e.get_conditions()[n];if(t+="<condition ",Object(o.b)(r.get_entityName())||(t+='entityname="'+r.get_entityName()+'" '),r.get_value())if("string"==typeof r.get_value())t+='attribute="'+r.get_attributeName()+'" operator="'+r.get_operator()+'" value="'+Object(i.a)(r.get_value())+'" />';else{var s=r.get_value();t+='attribute="'+r.get_attributeName()+'" operator="'+r.get_operator()+'">';for(var u=0;u<s.length;u++)t+="<value>"+Object(i.b)(s[u])+"</value>";t+="</condition>"}else t+='attribute="'+r.get_attributeName()+'" operator="'+r.get_operator()+'"/>'}e.get_conditions().length>0&&(t+="</filter>")}else{e.get_filterExpressions().length>1&&(t+='<filter type="'+a.a[e.get_filterOperator()].toLowerCase()+'"',e.get_hint()&&(t+=' hint="'+e.get_hint().toLowerCase()+'"'),t+=">");for(var l=0;l<e.get_filterExpressions().length;l++)t+=c._CreateXmlFilter(e.get_filterExpressions()[l]);e.get_filterExpressions().length>1&&(t+="</filter>")}return t}}},20799:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(20622);class a{constructor(e,t,n){this._entityName=void 0,this._AttributeName=void 0,this._Operator=void 0,this._Value=void 0,this._ConditionName=void 0,this._set_attributeName(e),this.set_operator(t),this.set_value(n)}get_entityName(){return Object(r.a)(this._entityName)&&(this._entityName=""),this._entityName}set_entityName(e){return this._entityName=e,e}get_attributeName(){return this._AttributeName}_set_attributeName(e){return this._AttributeName=e,e}get_operator(){return this._Operator}set_operator(e){return this._Operator=e,e}get_value(){return this._Value}set_value(e){this._Value=e}_get_conditionName(){return this._ConditionName}set_conditionName(e){return this._ConditionName=e,e}clone(){var e=new a(this.get_attributeName(),this.get_operator(),this.get_value());return e.set_entityName(this.get_entityName()),e.set_conditionName(this._get_conditionName()),e}}},20800:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i}));var r=n(20622);function a(e){return Object(r.a)(e)?"":c(e)}function i(e){return Object(r.a)(e)?"":c(e)}function o(e){return"CRMEntityReferenceOpen"+(1024*(e.charCodeAt(0)-55296)+(1023&e.charCodeAt(1))+65536).toString(16)+"CRMEntityReferenceClose"}function c(e,t){if(Object(r.b)(e))return e;if("string"!=typeof e&&(e=e),null!=t){t.length>1&&(t=t.charAt(0));var n=s(t),a=new RegExp(t,"g");return e.replace(a,n)}return function(e,t){return e=(e=(e=t(e=(e=e.replace(new RegExp("([\\uD800-\\uDBFF][\\uDC00-\\uDFFF])","g"),o)).replace(new RegExp("[\\uD800-\\uDFFF]","g"),"�"))).replace(/CRMEntityReferenceOpen/g,"&#x")).replace(/CRMEntityReferenceClose/g,";")}(e,s)}function s(e){return function(e){var t,n="",r="",a=0;if(null===e)return null;if(""===e)return"";for(var i=0;i<e.length;i++)r+=(t=e.charCodeAt(i))>96&&t<123||t>64&&t<91||32===t||t>47&&t<58||46===t||44===t||45===t||95===t?String.fromCharCode(t):"&#"+t+";",500==++a&&(n+=r,r="",a=0);return r.length&&(n+=r),n}(e)}},20801:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return l}));var r=n(20583),a=n(20802),i=n(20803);function o(e){return e&&e.clientHost?e.clientHost.type:a.a.Unknown}function c(e){return function(e){switch(e){case a.a.Browser:return"Browser";case a.a.MobileApplication:return"MobileApplication";case a.a.MailApp:return"MailApp";default:return r.G}return r.G}(o(e))}function s(e){var t=function(e){return e&&e.clientHost?e.clientHost.version:null}(e);return t&&t.version?t.version+"."+t.build+" ("+t.revision+","+t.nativeRevision+")":""}function u(e){switch(function(e){return e&&e.clientHost?e.clientHost.subtype:i.a.Unknown}(e)){case i.a.Phone:return"Phone";case i.a.Tablet:return"Tablet";default:return r.G}return""}function l(e){var t,n=null==e||null===(t=e.session)||void 0===t?void 0:t.hostSubtype;return n||u(e)}},20802:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return e[e.Browser=1]="Browser",e[e.MobileApplication=2]="MobileApplication",e[e.MailApp=3]="MailApp",e[e.Unknown=4]="Unknown",e}(r||{})},20803:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return e[e.Phone=1]="Phone",e[e.Tablet=2]="Tablet",e[e.Unknown=3]="Unknown",e}(r||{})},20804:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(20805),a=n(20806);function i(e,t){return Object(a.c)(e)&&-1!==function(e){var t=Object(r.a)(e)||[],n=function(e){return e&&e.offline&&e.offline.client&&e.offline.client.offlineDisabledEntities?e.offline.client.offlineDisabledEntities:null}(e)||[];return t.filter(e=>-1===n.indexOf(e))}(e).indexOf(t)}},20805:function(e,t,n){"use strict";function r(e){return e&&e.offline&&e.offline.server&&e.offline.server.profileAvailableEntities?e.offline.server.profileAvailableEntities:null}n.d(t,"a",(function(){return r}))},20806:function(e,t,n){"use strict";n.d(t,"c",(function(){return d})),n.d(t,"a",(function(){return f})),n.d(t,"d",(function(){return p})),n.d(t,"b",(function(){return h}));var r=n(20622),a=n(20807),i=(n(20808),n(20809)),o=n(20757),c=n(20810),s=n(20813);function u(e){var t;return null==e||null===(t=e.offline)||void 0===t?void 0:t.client}function l(e){var t=u(e);return t&&!Object(r.a)(t.offlineFeatureStatus)?t.offlineFeatureStatus:null}function d(e){return l(e)===a.a.Enabled&&function(e){var t=u(e);return t&&!Object(r.a)(t.status)?t.status:null}(e)===i.a.Available&&Object(c.b)(e)}function f(e){return l(e)!==a.a.Disabled&&Object(s.a)(e)}function p(e){return Object(o.c)(e)&&d(e)}function h(e){var t=u(e);return!(!t||!t.isOfflineFirstTimeSyncCompleted)&&t.isOfflineFirstTimeSyncCompleted}},20807:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return e[e.Default=0]="Default",e[e.Enabled=1]="Enabled",e[e.Disabled=2]="Disabled",e}({})},20808:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return e[e.NotCompleted=0]="NotCompleted",e[e.Completed=1]="Completed",e[e.Initializing=2]="Initializing",e}({})},20809:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return e[e.NotAvailable=0]="NotAvailable",e[e.Initializing=1]="Initializing",e[e.Available=2]="Available",e}({})},20810:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var r=n(20811),a=n(20812);function i(e){var t;return!(null===(t=e.cache)||void 0===t||!t.isCacheEnabled)}function o(e){var t;return!!Object(r.e)(e)||(null===(t=e.cache)||void 0===t?void 0:t.codeCacheState)===a.a.Ready}},20811:function(e,t,n){"use strict";n.d(t,"e",(function(){return s})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return d})),n.d(t,"d",(function(){return f}));var r=n(20802),a=n(20801),i=n(20759),o=n(20758),c=n(20780);function s(e){return(Object(i.a)(e,o.b)||Object(i.a)(e,o.n))&&(t="openDatabase",void 0!==window.self[t])&&Object(a.a)(e)===r.a.Browser&&-1!==window.navigator.userAgent.indexOf("Chrome");var t}function u(e){var t,n,r;return{type:(null===(t=e.additionalParameters)||void 0===t?void 0:t[c.a.TYPE])||c.d,subType:(null===(n=e.additionalParameters)||void 0===n?void 0:n[c.a.SUB_TYPE])||c.d,source:(null===(r=e.additionalParameters)||void 0===r?void 0:r[c.a.SOURCE])||c.b.Default}}function l(e){return Object(i.a)(e,o.h)}function d(e){return Object(i.a)(e,o.i)}function f(e){var t=null==e?void 0:e.pages;if(t){var n=Object.keys(t);return 0===n.length||1===n.length}return!0}},20812:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return e[e.Waiting=1]="Waiting",e[e.Initializing=2]="Initializing",e[e.Ready=3]="Ready",e[e.Error=4]="Error",e}({})},20813:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(20622),a=n(20811);function i(e){return e&&e.offline&&e.offline.server&&!Object(r.a)(e.offline.server.isMocaOfflineFeatureEnabled)?e.offline.server.isMocaOfflineFeatureEnabled||Object(a.e)(e):!!Object(a.e)(e)}},20814:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(20737),a=n(20760);function i(e,t){var n=function(e){var t=e.urlParameters;if(!t)return null;"PATCH"===e.method&&t.indexOf(a.f)>0&&(t=t.substring(0,t.lastIndexOf("/")));var n=t.substring(t.lastIndexOf("/")+1),r=n.indexOf("("),i=n.indexOf("?"),o=-1;return r>0&&i>0?o=Math.min(r,i):r>0?o=r:i>0?o=i:r<0&&"DELETE"===e.method&&(o=(n=(t=t.substr(0,t.lastIndexOf("/"))).substring(t.lastIndexOf("/")+1)).indexOf("(")),o>0?n.substring(0,o):n}(t);return n&&Object(r.c)(e,n)}},20815:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(20752),a=n(20816);function i(e,t){return e!==r.a.BusinessProcessFlow&&e!==r.a.MetadataVersion&&e!==r.a.UserMetadataVersion&&t!==a.a.UserContext}},20816:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return e[e.Unknown=0]="Unknown",e[e.OnDemandWithContext=1]="OnDemandWithContext",e[e.OnDemandWithoutContext=2]="OnDemandWithoutContext",e[e.OnDemandContextOnly=3]="OnDemandContextOnly",e[e.Offline=4]="Offline",e[e.Mobile=5]="Mobile",e[e.UserContext=6]="UserContext",e}({})},20817:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i}));var r=n(20734);function a(e){return e&&e.metadata&&e.metadata.userMetadataVersion?e.metadata.userMetadataVersion:null}function i(e){var t=a(e);return t?t.initialized:r.a.Uninitialized}},20818:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i}));var r=n(20734);function a(e){return e&&e.metadata&&e.metadata.metadataVersion?e.metadata.metadataVersion:null}function i(e){var t=a(e);return t?t.initialized:r.a.Uninitialized}},20819:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"g",(function(){return a})),n.d(t,"i",(function(){return i})),n.d(t,"h",(function(){return o})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return s})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"j",(function(){return d})),n.d(t,"f",(function(){return f}));var r="&api-version=9.1",a="Request-Details",i="Request-Url",o="Method",c="Entity-Name",s="Is-Offline-By-Default-Request",u="Client-Request-Id",l="Crm-Error-Code",d="Storage:WebAPIService",f="OfflineDataSync"},20820:function(e,t,n){"use strict";function r(e){return!!(e&&e.metadata&&e.metadata.consistencyStrong)&&e.metadata.consistencyStrong}n.d(t,"a",(function(){return r}))},20821:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));function r(e){return{type:"preview.form.setConsistencyStrong",payload:e}}},20822:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n(20757),n(20806);function r(e){var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return!!e.serverStatus&&(null!==(t=e.serverStatus.isAvailable)&&void 0!==t?t:n)}},20823:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i}));var r=n(20622);function a(e){if(Object(r.a)(e))return e;if(i(e))return e;if(-1!==e.indexOf("fetchXml=")){var t=e.indexOf("fetchXml="),n=decodeURIComponent(e.substring(e.indexOf("fetchXml=")+"fetchXml=".length,e.length));return e.substring(0,t+"fetchXml=".length)+function(e){var t=new DOMParser,n=new XMLSerializer;if(e){var r=t.parseFromString(e,"text/xml");if(r){var a=Array.prototype.slice.call(r.getElementsByTagName("condition"));return a&&a.forEach(e=>{e.getAttribute("value")&&e.setAttribute("value","X"),e.getAttribute("uiname")&&e.setAttribute("uiname","X");var t=Array.prototype.slice.call(e.getElementsByTagName("value"));t&&t.forEach(e=>{e.getAttribute("uiname")&&e.setAttribute("uiname","X"),e.textContent="X"})}),n.serializeToString(r)}return null}return null}(n)}var a=e.indexOf("?");if(-1===a){var o=e.indexOf("=");return-1===o?e:e.substring(0,o)}return e.substring(0,a)}function i(e){return!Object(r.a)(e)&&(-1!==e.indexOf("GetClientMetadata")||-1!==e.indexOf("EntityDefinitions")||-1!==e.indexOf("SyncClientMetadata"))}},20824:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return d}));var r=n(20741),a=n(20825),i=n(20751),o=n(20819),c=n(20738),s=function(e){return e[e.MetadataNoMapping=2147749377]="MetadataNoMapping",e[e.ObjectDoesNotExist=2147746327]="ObjectDoesNotExist",e}(s||{}),u=function(e){return e[e.InvalidEntity=2147868684]="InvalidEntity",e[e.unknownBadRequestError=2147951697]="unknownBadRequestError",e[e.UnknownUnauthorizedError=2147951872]="UnknownUnauthorizedError",e[e.unknownForbiddenError=2147951873]="unknownForbiddenError",e[e.unknownNotFoundError=2147951874]="unknownNotFoundError",e[e.UnknownTooManyRequestsError=2147951875]="UnknownTooManyRequestsError",e[e.unknownInternalServerError=2147951876]="unknownInternalServerError",e[e.unknownNotImplementedServerError=2147951877]="unknownNotImplementedServerError",e[e.unknownBadGatewayError=2147951878]="unknownBadGatewayError",e[e.unknownServiceUnavailableError=2147951879]="unknownServiceUnavailableError",e[e.unknownGatewayTimeoutError=2147951880]="unknownGatewayTimeoutError",e[e.UnknownUnexpectedGenericError=2147951881]="UnknownUnexpectedGenericError",e}({});function l(e){e<0&&(e=4294967295+e+1);var t=[s.MetadataNoMapping,s.ObjectDoesNotExist];return null!=e&&t.indexOf(e)>-1}function d(e,t,n){return function(e,t,n){switch(e){case i.d.ModernDataSource:case i.d.ModernDataSourceGCM:case o.j:return function(e){var t=Object(c.e)(e),n=[r.a.MetadataNoMapping,r.a.ObjectDoesNotExist,r.a.isvAborted,r.a.isvUnexpected];if(null!=t&&n.indexOf(t)>-1)return!1;return!0}(t);case o.f:return function(e,t){var n=Object(c.e)(e),i=[a.a.InvalidSubscription,a.a.InvalidMetadata,a.a.AuthenticationError,a.a.InvalidSubscriptionInLoop,a.a.SyncHandlerNotAvailable,r.a.DataSourceOfflineErrorCode],o=["Synchronization interrupted by the user!"];if(null!=n&&i.indexOf(n)>-1||o.indexOf(t)>-1)return!1;return!0}(t,n);default:return!0}}(e,t,n)}},20825:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return e[e.InvalidSubscription=-2147220969]="InvalidSubscription",e[e.InvalidMetadata=-2147015408]="InvalidMetadata",e[e.AuthenticationError=-2147093995]="AuthenticationError",e[e.InvalidSubscriptionInLoop=-2147015405]="InvalidSubscriptionInLoop",e[e.SyncHandlerNotAvailable=-6]="SyncHandlerNotAvailable",e}({})},20826:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));n(20585),n(20750),n(20738);var r=n(20791),a=n(20752);function i(e,t,n){var i=Object(a.b)(e,n);i.ClientMetadataQuery=Object(a.c)(e);Object(r.a)(n(),i);return e.toString()+(null==t?void 0:t.toString())}function o(e){var t;return null!==(t=null==e?void 0:e.urlParameters)&&void 0!==t?t:null}},20827:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return c}));var r=n(20738),a=n(20622);function i(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function o(e,t,n,o,c,s,u,l){return{type:"promiseCache.executeOperationWithCommonPromiseCache.async",execute(d,f){return(p=function*(){var{getState:i,dispatch:f}=d;try{if(function(e,t,n){if(e&&t){var r=n();if(!Object(a.b)(r)&&r.length<=1500)return!0}return!1}(e,t,n)){var p=n();return t.containsKey(p)?t.get(p):yield t.put(p,f(o),l,c)}return yield f(o)}catch(v){var h=r.a.toLegacyErrorStatus(Object(r.c)(v));throw null==s||s.error("".concat(c," failed. Unexpected error ").concat(h.get_Message()),u),h}},function(){var e=this,t=arguments;return new Promise((function(n,r){var a=p.apply(e,t);function o(e){i(a,n,r,o,c,"next",e)}function c(e){i(a,n,r,o,c,"throw",e)}o(void 0)}))})();var p}}}function c(e,t){return"".concat(e,"-").concat(t)}},20828:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(20622),a=n(20816);class i{constructor(e,t,n,r,a,i,o,c,s,u){this.MetadataType=void 0,this.MetadataSubtype=void 0,this.EntityLogicalName=void 0,this.MetadataId=void 0,this.MetadataNames=void 0,this.GetDefault=!1,this.DependencyDepth=0,this.ChangedAfter=void 0,this.Exclude=null,this.AppId=null,this.IsPreloadCall=!1,this.MetadataType=e,this.MetadataSubtype=t,this.EntityLogicalName=n,this.MetadataId=r,this.MetadataNames=a,this.GetDefault=i,this.DependencyDepth=o,this.ChangedAfter=c,this.Exclude=s,this.AppId=u}toString(){var e="";if(Object(r.b)(this.MetadataType)||(e+="MT: ".concat(this.MetadataType,"; ")),Object(r.b)(this.MetadataSubtype)||(e+="MST: ".concat(this.MetadataSubtype,"; ")),Object(r.b)(this.EntityLogicalName)||(e+="ELN: ".concat(this.EntityLogicalName,"; ")),this.MetadataId&&(e+="MI: ".concat(this.MetadataId.toString(),"; ")),this.MetadataNames&&this.MetadataNames.length>0){for(var t of(e+="MNS: ",this.MetadataNames))e+="".concat(t," ");e+="; "}if(e+="GD: ".concat(this.GetDefault.toString()," "),e+="DD: ".concat(a.a[this.DependencyDepth]," "),Object(r.b)(this.ChangedAfter)||(e+="CA: ".concat(this.ChangedAfter,"; ")),this.Exclude&&this.Exclude.length>0){for(var n of(e+="EX: ",this.Exclude))e+="".concat(n," ");e+="; "}return this.AppId&&(e+="AI: ".concat(this.AppId.toString(),"; ")),e}}},20829:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(20734),a=n(20830),i=n(20833),o=n(20834);function c(e){return e&&1===e.length?e[0]:-1}function s(e,t,n,s){return function(e,t,n){if(!e)return{};var s=c(e.EntityMetadataVersionStamp),u=c(e.MetadataVersion),{entities:l,attributes:d}=Object(a.b)(e.Entities,s,u,t,r.a.Initialized,n),f=d,p=l,h=Object(i.a)(e.MetadataVersion),v=Object(o.a)(e.UserMetadataVersion);return{entities:p,attributes:f,metadataVersion:h,userMetadataVersion:v}}(e,t(),s)}},20830:function(e,t,n){"use strict";n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return d}));var r=n(20734),a=n(20585),i=n(20831),o=n(20622),c=n(20832),s=n(20592),u=n(20610),l=n(20811);function d(e,t,n,s){var u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:r.a.Initialized,l=arguments.length>5?arguments[5]:void 0,d=c.a.defaulticon;e.LogicalName&&c.a[e.LogicalName]&&(d=c.a[e.LogicalName]);var m={Initialized:u,Id:a.a.tryParseOrNull(e.MetadataId),EntityLogicalName:e.LogicalName,EntityIcon:d,DisplayName:Object(i.a)(e.DisplayName),EntitySetName:e.EntitySetName,PrimaryKeyName:e.PrimaryIdAttribute,ObjectTypeCode:e.ObjectTypeCode,PrimaryIdAttribute:e.PrimaryIdAttribute,PrimaryNameAttribute:e.PrimaryNameAttribute,PrimaryImageAttribute:e.PrimaryImageAttribute,EntityColor:e.EntityColor,ActivityTypeMask:e.ActivityTypeMask,AutoRouteToOwnerQueue:e.AutoRouteToOwnerQueue,DisplayCollectionName:Object(i.a)(e.DisplayCollectionName),CanTriggerWorkflow:e.CanTriggerWorkflow,Description:Object(i.a)(e.Description),IsDocumentManagementEnabled:e.IsDocumentManagementEnabled,IsOneNoteIntegrationEnabled:e.IsOneNoteIntegrationEnabled,IsMSTeamsIntegrationEnabled:e.IsMSTeamsIntegrationEnabled,IsDocumentRecommendationsEnabled:e.IsDocumentRecommendationsEnabled,IsInteractionCentricEnabled:e.IsInteractionCentricEnabled,IsKnowledgeManagementEnabled:e.IsKnowledgeManagementEnabled,IsActivity:e.IsActivity,IsActivityParty:e.IsActivityParty,IsChildEntity:e.IsChildEntity,IsCollaboration:p(e.IsValidForQueue),IsConnectionsEnabled:p(e.IsConnectionsEnabled),IsCustomEntity:e.IsCustomEntity,IsBusinessProcessEnabled:e.IsBusinessProcessEnabled,IsCustomizable:p(e.IsCustomizable),IsOptimisticConcurrencyEnabled:e.IsOptimisticConcurrencyEnabled,IsImportable:e.IsImportable,IsIntersect:e.IsIntersect,IsMailMergeEnabled:p(e.IsMailMergeEnabled),IsEnabledForCharts:e.IsEnabledForCharts,IsValidForAdvancedFind:e.IsValidForAdvancedFind,IsVisibleInMobileClient:p(e.IsVisibleInMobileClient),IsReadOnlyInMobileClient:p(e.IsReadOnlyInMobileClient),IsOfflineInMobileClient:p(e.IsOfflineInMobileClient),IsQuickCreateEnabled:e.IsQuickCreateEnabled,EntityClientSetting:e.EntityClientSetting,OwnershipType:s?h(e.OwnershipType):e.OwnershipType,HasChanged:e.HasChanged,HasStateCode:j(e),IsStateModelAware:e.IsStateModelAware,EnforceStateTransitions:e.EnforceStateTransitions,Privileges:s?v(e.Privileges):e.Privileges||[],IconVectorName:e.IconVectorName,IsBPFEntity:e.IsBPFEntity,DataProviderId:a.a.tryParseOrNull(e.DataProviderId),IsEnabledInUnifiedInterface:!!Object(o.a)(e.IsVisibleInMobileClient)||(e.IsVisibleInMobileClient.Value||e.IsVisibleInMobileClient.CanBeChanged),VersionNumber:t||e.VersionNumber,OverallVersionNumber:n||e.OverallVersionNumber,AttributeNames:e.AttributeNames,IsAuditEnabled:e.IsAuditEnabled,TableType:e.TableType};return e.OneToManyRelationships&&(m.OneToManyRelationships=T(e.OneToManyRelationships,e,s,C,l),m.HasActivities=f(e.OneToManyRelationships,"activitypointer","regardingobjectid"),m.HasNotes=f(e.OneToManyRelationships,"annotation","objectid")),e.ManyToOneRelationships&&(m.ManyToOneRelationships=T(e.ManyToOneRelationships,e,s,C,l)),e.ManyToManyRelationships&&(m.ManyToManyRelationships=T(e.ManyToManyRelationships,e,s,w,l)),m}function f(e,t,n){for(var r of e)if(r.ReferencingEntity===t&&r.ReferencingAttribute===n)return!0;return!1}function p(e){return e?e.Value:null}function h(e){if("string"!=typeof e)return"number"==typeof e?e:void 0;switch(e){case"None":return 0;case"UserOwned":return 1;case"TeamOwned":return 2;case"BusinessOwned":return 3;case"OrganizationOwned":return 4;case"BusinessParented":return 5;default:return 0}}function v(e){if(null===e)return[];for(var t of e)if(null!==t&&"string"==typeof t.PrivilegeType)switch(t.PrivilegeType){case"None":t.PrivilegeType=0;continue;case"Create":t.PrivilegeType=1;continue;case"Read":t.PrivilegeType=2;continue;case"Write":t.PrivilegeType=3;continue;case"Delete":t.PrivilegeType=4;continue;case"Assign":t.PrivilegeType=5;continue;case"Share":t.PrivilegeType=6;continue;case"Append":t.PrivilegeType=7;continue;case"AppendTo":t.PrivilegeType=8;continue;default:t.PrivilegeType=0;continue}return e}function m(e,t,n,a){var o,c,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:r.a.Initialized,u=arguments.length>5?arguments[5]:void 0,l=!1;if(e)for(var f of(o={},c={},e)){var p=d(f,t,n,l,s,null!=a?a:void 0),h=Object(i.c)(f,u);p.EntityLogicalName&&(o[p.EntityLogicalName]=p,c[p.EntityLogicalName]=h)}var v={entities:o,attributes:c};return v}function y(e,t,n){if(Object(o.a)(e))return null;var r=!!n&&Object(l.a)(n),c=!!n&&Object(l.b)(n);return{Behavior:t?g(e.Behavior):e.Behavior,Group:t?b(e.Group):e.Group,Label:Object(u.h)(r,c,e.Label)||Object(i.a)(e.Label),Order:e.Order,AvailableOffline:Object(s.d)(r,e.AvailableOffline),Icon:e.Icon,IsCustomizable:Object(s.e)(r,e.IsCustomizable),MenuId:e.MenuId,QueryApi:e.QueryApi,ViewId:Object(s.s)(r,a.a.tryParseOrNull(e.ViewId)),ExtensionData:e.ExtensionData}}function g(e){if("string"!=typeof e)return"number"==typeof e?e:0;switch(e){case"UseCollectionName":return 0;case"UseLabel":return 1;case"DoNotDisplay":return 2;default:return 0}}function b(e){if("string"!=typeof e)return"number"==typeof e?e:0;switch(e){case"Details":return 0;case"Sales":return 1;case"Service":return 2;case"Marketing":return 3;default:return 0}}function O(e){if("string"!=typeof e)return"number"==typeof e?e:0;switch(e){case"NoCascade":return 0;case"Cascade":return 1;case"Active":return 2;case"UserOwned":return 3;case"RemoveLink":return 4;case"Restrict":return 5;default:return 0}}function E(e,t,n){var r=!!n&&Object(l.a)(n),a=!!n&&Object(l.b)(n);return{IsCustomRelationship:e.IsCustomRelationship,IsCustomizable:p(e.IsCustomizable),IsValidForAdvancedFind:e.IsValidForAdvancedFind,SchemaName:e.SchemaName,SecurityTypes:t?_(e.SecurityTypes):e.SecurityTypes,IsManaged:Object(u.g)(r,a,e),RelationshipType:t?S(e.RelationshipType):Object(s.o)(r,e.RelationshipType),IntroducedVersion:e.IntroducedVersion}}function _(e){if("string"!=typeof e)return"number"==typeof e?e:0;switch(e){case"None":return 0;case"Append":return 1;case"ParentChild":return 2;case"Pointer":return 4;case"Inheritance":return 8;default:return 0}}function S(e){if("string"!=typeof e)return"number"==typeof e?e:-1;switch(e){case"OneToManyRelationship":return 0;case"ManyToManyRelationship":return 1;default:return-1}}function C(e,t,n,r){var a=y(e.AssociatedMenuConfiguration,n,r),i=function(e,t){return t?{Assign:O(e.Assign),Delete:O(e.Delete),Merge:O(e.Merge),Reparent:O(e.Reparent),Share:O(e.Share),Unshare:O(e.Unshare),Archive:O(e.Archive),ExtensionData:O(e.ExtensionData)}:{Assign:e.Assign,Delete:e.Delete,Merge:e.Merge,Reparent:e.Reparent,Share:e.Share,Unshare:e.Unshare,Archive:e.Archive,ExtensionData:e.ExtensionData}}(e.CascadeConfiguration,n),o=!!r&&Object(l.a)(r),c=!!r&&Object(l.b)(r);return Object.assign({AssociatedMenuConfiguration:a,CascadeConfiguration:i,ReferencedAttribute:e.ReferencedAttribute,ReferencedEntity:Object(u.j)(o,c,e,t),ReferencingAttribute:e.ReferencingAttribute,ReferencingEntity:Object(u.l)(o,c,e,t),IsHierarchical:Object(u.f)(o,c,e.IsHierarchical),ReferencedEntityNavigationPropertyName:Object(s.n)(o,e),ReferencingEntityNavigationPropertyName:Object(u.k)(o,c,e)},E(e,n,r))}function w(e,t,n,r){var a=!!r&&Object(l.a)(r);return Object.assign({Entity1AssociatedMenuConfiguration:y(e.Entity1AssociatedMenuConfiguration,n,r),Entity2AssociatedMenuConfiguration:y(e.Entity2AssociatedMenuConfiguration,n,r),Entity1LogicalName:e.Entity1LogicalName,Entity2LogicalName:e.Entity2LogicalName,IntersectEntityName:Object(s.k)(a,e),Entity1IntersectAttribute:e.Entity1IntersectAttribute,Entity2IntersectAttribute:e.Entity2IntersectAttribute,Entity1NavigationPropertyName:Object(s.f)(a,e),Entity2NavigationPropertyName:Object(s.g)(a,e)},E(e,n,r))}function T(e,t,n,r,a){if(!e)return null;var i={};for(var o of e){var c=r(o,t,n,a);i[o.SchemaName]=c}return i}function j(e){if(!e||!e.AttributeNames)return!1;for(var t of e.AttributeNames)if("statecode"===t.toLowerCase())return!0;return!1}},20831:function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return v}));var r=n(20586),a=n(20593),i=n(20585),o=n(20622),c=n(20589),s=n(20734);function u(e,t){var n=e.Attributes,r={};if(n)for(var a of n){var i=f(a,t);r[i.LogicalName]=i}return r}function l(e){if("string"!=typeof e)return"number"==typeof e?e:null;switch(e){case"Auto":return 0;case"Inactive":return 1;case"Active":return 2;case"Disabled":return 3;default:return null}}function d(e,t,n){if(Object(o.a)(e))null==t||t.warn("RequiredLevel is set to Unknown with null or undefined value",n);else{var r;if("string"==typeof(r=Object(o.a)(e.Value)?e:e.Value))switch(r){case"None":return a.c.None;case"SystemRequired":return a.c.SystemRequired;case"ApplicationRequired":return a.c.ApplicationRequired;case"Recommended":return a.c.Recommended;default:return null==t||t.warn("RequiredLevel is set to Unknown with value "+r,n),a.c.Unknown}if("number"==typeof r)return r}return a.c.Unknown}function f(e,t){var n,a,o=e,u=function(e){var t=r.a.Unknown;return e?("AttributeTypeName"in e&&e.AttributeTypeName.Value?t=e.AttributeTypeName.Value.replace(/Type/g,""):"AttributeType"in e&&e.AttributeType&&"string"==typeof e.AttributeType&&(t=e.AttributeType),t?"Float"===t?r.a.Double:t.toLowerCase():t):t}(e),f=null;if(o.DateTimeBehavior)for(var h in o.DateTimeBehavior)switch(o.DateTimeBehavior[h]){case"None":f=c.a.None;break;case"DateOnly":f=c.a.DateOnly;break;case"TimeZoneIndependent":f=c.a.TimeZoneIndependent;break;case"UserLocal":f=c.a.UserLocal;break;default:f=c.a.None}var y=[{name:"EntityName",value:e.EntityLogicalName},{name:"AttributeName",value:e.LogicalName}];return{Initialized:s.a.Initialized,LogicalName:e.LogicalName,Id:null!==(n=i.a.tryParseOrNull(e.MetadataId))&&void 0!==n?n:i.a.EMPTY,EntityLogicalName:o.EntityLogicalName,Type:u,DisplayName:v(o.DisplayName),Description:v(o.Description),IsGlobalFilterEnabled:!!o.IsGlobalFilterEnabled&&o.IsGlobalFilterEnabled.Value,IsSecured:o.IsSecured,IsSortableEnabled:!!o.IsSortableEnabled&&o.IsSortableEnabled.Value,IsEntityReferenceStored:o.IsEntityReferenceStored,IsValidForAdvancedFind:!!o.IsValidForAdvancedFind&&o.IsValidForAdvancedFind.Value,IsValidForCreate:o.IsValidForCreate,IsValidForRead:o.IsValidForRead,IsValidForUpdate:o.IsValidForUpdate,IsRetrievable:o.IsRetrievable,IsCustomAttribute:o.IsCustomAttribute,ColumnNumber:o.ColumnNumber,MaxLength:o.MaxLength,MinValue:o.MinValue,MaxValue:o.MaxValue,Precision:o.Precision,PrecisionSource:o.PrecisionSource,Format:m(o,u),AutoNumberFormat:o.AutoNumberFormat,Behavior:f,DefaultFormValue:o.DefaultFormValue,DefaultValue:"boolean"==typeof o.DefaultValue?o.DefaultValue:o.DefaultFormValue,IsBaseCurrency:o.IsBaseCurrency,Targets:o.Targets,AttributeOf:o.AttributeOf,HasChanged:o.HasChanged,ImeMode:l(o.ImeMode),OptionSetId:o.OptionSet&&o.OptionSet.MetadataId?o.OptionSet.MetadataId:void 0,OptionSetName:o.OptionSet&&o.OptionSet.Name?o.OptionSet.Name:void 0,OptionSetType:o.OptionSet?o.OptionSet.OptionSetType:void 0,OptionSet:p(o.OptionSet)||void 0,IsGlobalOptionSet:null===(a=o.OptionSet)||void 0===a?void 0:a.IsGlobal,ParentPicklistLogicalName:o.OptionSet&&o.ParentPicklistLogicalName?o.ParentPicklistLogicalName:void 0,ChildPicklistLogicalNames:o.OptionSet&&o.ChildPicklistLogicalNames?o.ChildPicklistLogicalNames:void 0,RequiredLevel:d(o.RequiredLevel,t,y),SourceType:o.SourceType,SourceTypeMask:o.SourceTypeMask,InheritsFrom:o.InheritsFrom,CanBeSecuredForCreate:o.CanBeSecuredForCreate,CanBeSecuredForRead:o.CanBeSecuredForRead,CanBeSecuredForUpdate:o.CanBeSecuredForUpdate}}function p(e){var t=void 0;if(e&&(t=[],e.FalseOption&&t.push(h(e.FalseOption)),e.TrueOption&&t.push(h(e.TrueOption)),e.Options)){var n=e.Options;for(var r of n)t.push(h(r))}return t}function h(e){var t=[],n=e.TransitionData;if(n){var r=(new DOMParser).parseFromString(n,"text/xml");if("parsererror"!==r.documentElement.nodeName)for(var a=0;a<r.documentElement.childNodes.length;a++){var i=r.documentElement.childNodes[a];if("allowedtransition"===i.nodeName)for(var o in i.attributes){"tostatusid"===i.attributes[o].name&&t.push(Number(i.attributes[o].value))}}}return{Color:e.Color,Label:v(e.Label),Value:e.Value,DefaultStatus:e.DefaultStatus,State:e.State,TransitionData:n?t:void 0,InvariantName:e.InvariantName,ParentValues:e.ParentValues}}function v(e){return e&&e.UserLocalizedLabel?e.UserLocalizedLabel.Label:null}function m(e,t){var n=e;return function(e,t,n){if(t)return t;var i="";if(null==n)i=n;else if(e&&e===r.a.DateTime)switch(n){case a.e.DateOnly:i=r.a.Date;break;case a.e.DateAndTime:i=r.a.DateTime;break;default:i=n.toString()}else i=n.toString();return i}(t,n.FormatName?n.FormatName.Value:null,n.Format)}},20832:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={activitypointer:"",account:"",audit:"",contact:"",connection:"",customeraddress:"",lead:"",opportunity:"",position:"",competitor:"",quote:"",salesorder:"",invoice:"",product:"",salesliterature:"",list:"",bulkoperation:"",goal:"",metric:"",goalrollupquery:"",report:"",task:"",appointment:"",email:"",phonecall:"",incident:"",queueitem:"",knowledgearticle:"",opportunityproduct:"",systemform:"",team:"",transactioncurrency:"",userform:"",defaulticon:"",defaultrecenticon:"",sharepointdocument:"",service:"",serviceappointment:"",equipment:"",routingrule:"",routingruleitem:"",msdyn_knowledgearticletemplate:"",msdyn_servicelevelagreement:"",msdyn_servicelevelagreementkpi:"",msdyn_servicelevelagreementinstance:"",site:""}},20833:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(20734);function a(e){if(!e||!e.length)return{initialized:r.a.Uninitialized};if(e.length>1)throw new Error("MetadataVersion response is not correct");var t=Number(e[0]);return{initialized:r.a.Initialized,lastVersion:t,currentVersion:t}}},20834:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(20734);function a(e){if(!e||!e.length)return{initialized:r.a.Uninitialized};if(e.length>1)throw new Error("UserMetadataVersion response is not correct");var t=Number(e[0]);return{initialized:r.a.Initialized,lastVersion:t,currentVersion:t}}},20835:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(20583),a=n(20584),i=n(20622),o=n(20738),c=n(20784),s=n(20760),u=n(20626),l=n(20824),d=n(20741);function f(e,t,n,l){var f,v=(null==e?void 0:e.toLowerCase().indexOf("<!doctype html"))>-1;(f=401===t.status?new o.a(e,d.a.UnknownUnauthorizedError):v?function(e,t,n){var r=h(0,t.status);return new o.a(e,r)}(e,t):function(e,t,n,r){try{var c,s=JSON.parse(e),u=s.error;return Object(i.a)(u)?(n.error("Unexpected server error response - no error at top level",r),c=p(s,t,n)):c=p(u,t,n),c}catch(u){return r.push({name:a.c.ERROR_COMPLETE_TEXT,value:e}),n.error("Failure during error parsing: ".concat(u.message),r),new o.a(e,h(0,t.status))}}(e,t,l,n)).httpStatusCode=t.status;var m=t.headers?Object(c.a)(t.headers,s.c.RETRY_AFTER):null;f.retryAfter=m;var y=t.headers?Object(c.a)(t.headers,s.c.CONTENT_ID):null;if(y){var g=Number.parseInt(y,10);g>-1&&(f.faultedRequestIndex=g)}var b=t.headers?Object(c.a)(t.headers,s.c.SERVER_REQUEST_ID):r.G,O=t.headers?Object(c.a)(t.headers,s.c.CLIENT_REQUEST_ID):r.G;f.serverResponseId=b,f.clientRequestId=O;var E=t&&0===t.status;return n.push({name:u.a.ODATA_ERROR_RESPONSE_IS_HTML_TYPE,value:v}),n.push({name:u.a.IS_ERROR_IN_OFFLINE,value:E}),f}function p(e,t,n){var r,a,c,s,u,l=null===(r=e.code)||void 0===r?void 0:r.toString();Object(i.b)(l)&&(l=null===(s=e.ErrorCode)||void 0===s?void 0:s.toString(),Object(i.b)(l)?n.error("Unexpected server error response - no error code"):n.error("Unexpected server error response - error code provided as ErrorCode"));if(!Object(i.b)(l)){var d=l.toLowerCase().startsWith("0x")?16:10;u=parseInt(l.toString(),d)}var f,v=null===(a=e.message)||void 0===a?void 0:a.toString();Object(i.b)(v)&&(v=null===(f=e.Message)||void 0===f?void 0:f.toString(),Object(i.b)(v)?n.error("Unexpected server error response - no message"):n.error("Unexpected server error response - message provided as Message"));var m,y=null===(c=e.stacktrace)||void 0===c?void 0:c.toString();Object(i.b)(y)&&(y=null===(m=e.StackTrace)||void 0===m?void 0:m.toString(),Object(i.b)(y)||n.error("Unexpected server error response - message provided as Message"));var g=e.innererror,b=null;Object(i.a)(g)||(b=p(g,t,n));var O=h(u,t.status);return new o.a(v,O,null,b,null,null,null,null,null,null,y)}function h(e,t){if(0!==e)return e;switch(t){case 400:return l.a.unknownBadRequestError;case 401:return l.a.UnknownUnauthorizedError;case 403:return l.a.unknownForbiddenError;case 404:return l.a.unknownNotFoundError;case 429:return l.a.UnknownTooManyRequestsError;case 500:return l.a.unknownInternalServerError;case 501:return l.a.unknownNotImplementedServerError;case 502:return l.a.unknownBadGatewayError;case 503:return l.a.unknownServiceUnavailableError;case 504:return l.a.unknownGatewayTimeoutError;default:return l.a.UnknownUnexpectedGenericError}}},20836:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return m}));var r=n(20622),a=n(20766),i=n(20837),o=n(20847),c=n(20623),s=n(20736),u=n(20737),l=n(20846),d=n(20793),f=n(20588);function p(e,t,n,r,a,c,p,m){var y,g=arguments.length>8&&void 0!==arguments[8]?arguments[8]:d.a.OData,b=arguments.length>9?arguments[9]:void 0,O=arguments.length>10?arguments[10]:void 0,E=t instanceof o.a?null==t?void 0:t.get_EntityLogicalName():null==t?void 0:t.entityLogicalName,_=!1;null!==(y=a.AdditionalParameters)&&void 0!==y&&y.EnableCanvasOffline&&Object(f.y)(E)&&(E=Object(f.m)(E),_=!0);var S=Object(u.b)(e,E),C=Object(s.b)(e,E),w=Object(i.b)(t instanceof o.a?null==t?void 0:t.get_FetchXml():null==t?void 0:t.fetchXml),T=t instanceof o.a?null==t?void 0:t.GetColumnNamesFromFetch():Object(l.j)(w),j=h(r,g),N=j.map(r=>Object(d.b)(e,r,S,C,T,t instanceof o.a?null==t?void 0:t.get_ColumnSet():Object(l.k)(w),null,n,m,g,void 0,_));return v(r,t,N,c,p,b,O)}function h(e,t){var n=[];if(t===d.a.SQL&&e.rows&&e.rows.length){n=[];for(var r=0;r<e.rows.length;r++)n.push(e.rows.item(r))}else n=t===d.a.OData&&e&&e.value&&e.value.length?e.value:[];return n}function v(e,t,n,c,s,u,l){return Object(r.a)(l)&&(l=function(e){return e["@Microsoft.Dynamics.CRM.totalrecordcountlimitexceeded"]||!1}(e)),l?c=-1:Object(r.a)(c)&&(c=function(e,t){return e["@Microsoft.Dynamics.CRM.totalrecordcount"]||t}(e,n.length)),Object(r.a)(u)&&(u=function(e){return e["@Microsoft.Dynamics.CRM.morerecords"]||!1}(e)),s||(s=function(e){var t,n=e["@Microsoft.Dynamics.CRM.fetchxmlpagingcookie"];if(n){var r=Object(i.b)(n);(t=null==r?void 0:r.documentElement.getAttribute("pagingcookie"))&&(t=decodeURIComponent(decodeURIComponent(t)))}return t}(e)),new a.a(n,u,c,l,t instanceof o.a?t:null,null,s)}function m(e){for(var t={},n={},r=(new DOMParser).parseFromString(e,"text/xml"),a=r.getElementsByTagName("link-entity"),i=0;i<a.length;++i){var o=a[i],s=o.getAttribute("alias"),u=o.getAttribute("name"),l=o.getElementsByTagName("attribute");if(l.length)for(var d=0;d<l.length;++d){var f=l.item(d),p=f?f.getAttribute("name"):null,h="".concat(s).concat(".").concat(p),v="".concat(s).concat("_x002e_").concat(p);t[h]={alias:s,aliasedEtn:u,aliasedValueFieldName:p,oDataAlias:[h,v],oDataSeparator:[".","_x002e_"]},t[v]={alias:s,aliasedEtn:u,aliasedValueFieldName:p,oDataAlias:[v,h],oDataSeparator:["_x002e_","."]},Object(c.a)(n,u,[p])}}for(var m=r.querySelectorAll("entity > attribute[alias]"),y=r.getElementsByTagName("entity"),g=y&&y[0]?y[0].getAttribute("name"):"",b=0;b<m.length;++b){var O=m[b],E=O.getAttribute("alias"),_=O.getAttribute("name"),S=O.getAttribute("rowaggregate");t["".concat(_)]={alias:E,aliasedValueEtn:g,aliasedValueFieldName:_,oDataAlias:["".concat(E)],oDataSeparator:[""],isAttributeAlias:!0,rowaggregate:S}}return{aliasedValueDescriptors:t,entity2AttributesMap:n}}},20837:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return p}));var r=n(20621),a=n(20838),i=n(20842),o=n(20845),c=n(20622),s=n(20846),u=o.a.undefined;function l(){return u}function d(e){return u=e,e}function f(e){return Object(c.a)(e)?null:(l()===o.a.undefined&&function(e){if(function(e){var t=document.evaluate,n=document.createNSResolver&&document.createNSResolver(e);return!Object(c.a)(t)&&n&&!0}(e)){var t=new i.a(e);try{t.selectSingleNode("/root"),d(0)}catch(a){}}l()===o.a.undefined&&(n=window.DOMParser,Object(c.a)(n)||d(o.a.domParser));var n;l()===o.a.undefined&&Object(r.a)(l(),"PreferredXmlEvaluator")}(e),l()?new a.a(e):new i.a(e))}function p(e){var t=Object(s.a)(e);if(null!=t){var n=t.getElementsByTagName("parsererror");!Object(c.a)(n)&&n.length>0&&(t=null)}return t}},20838:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(20839),a=n(20840),i=n(20841),o=n(20622);class c extends r.a{constructor(e,t){super(),this._element=void 0,this._namespaces=void 0,Object(a.a)(!Object(o.a)(e),"The element should not be null"),this._element=e,this._namespaces=Object(o.a)(t)?{}:t}get_innerText(){return this._element.hasChildNodes()?this._element.firstChild.nodeValue:null}get_outerXml(){return(new XMLSerializer).serializeToString(this._element)}get_tagName(){return this._element.nodeName}get_domParserElement(){return this._element}getAttribute(e){return this._element.getAttribute(e)}addNamespace(e,t){this._namespaces[e]=t}selectSingleNode(e){var t=this._SelectDOMParserElements(e,!0);if(t.get_count())return t.get_item(0)}selectNodes(e){return this._SelectDOMParserElements(e,!1)}getElementsByTagName(e){var t;t=Object(o.a)(this._element.ownerDocument)?this._element.getElementsByTagName(e):this._element.ownerDocument.getElementsByTagName(e);for(var n=[],r=0;r<t.length;r++)n.push(t[r]);var a=this._GetElementsByTagNameWithDefaultNamespace(e);n.push(...a);var s=n.map(e=>new c(e,this._namespaces));return new i.a(s)}childNodes(){for(var e=[],t=0,n=this._element.childNodes.length;t<n;t++)e.push(new c(this._element.childNodes[t],this._namespaces));return new i.a(e)}hasChildNodes(){return this._element.hasChildNodes()}_SelectDOMParserElements(e,t){var n=[];if(e.startsWith("// ")||e.startsWith(".// ")){var r=2,a=!1;e.startsWith(".")&&(r++,a=!0);var s,u,l,d,f,p=(e=e.substr(r)).indexOf("/");p<0?(s=e,u=null):(s=e.substr(0,p),u=e.substr(p+1)),(p=s.indexOf("["))<0?(l=s,d=null):(l=s.substr(0,p),p=(d=s.substr(p+1)).indexOf("]"),d=d.substr(0,p)),f=a||Object(o.a)(this._element.ownerDocument)?this._element.getElementsByTagName(l):this._element.ownerDocument.getElementsByTagName(l);for(var h=[],v=0;v<f.length;v++)h.push(f[v]);var m=this._GetElementsByTagNameWithDefaultNamespace(l);h.push(...m);var y=h;h.length>0&&null!==d&&(y=this._FilterDOMParserElementList(h,d)),n=y.length&&null!==u?this._SearchDOMParserElementList(y,u,t):y}else e.startsWith("/")?(Object(o.a)(this._element.ownerDocument)?n.push(this._element):n.push(this._element.ownerDocument),n=this._SearchDOMParserElementList(n,e.substr(1),t)):(n.push(this._element),n=this._SearchDOMParserElementList(n,e,t));var g=n.map(e=>new c(e,this._namespaces));return new i.a(g)}_SearchDOMParserElementList(e,t,n){return n?this._SearchSingleNodeDOMParserElementList(e,t):this._SearchNodesDOMParserElementList(e,t)}_SearchSingleNodeDOMParserElementList(e,t){if(Object(o.a)(t)||t.length<1)return e;for(var n=[],r=0;r<e.length;r++){var a=this._SearchSingleNodeDOMParserElement(e[r],t);if(a){n.push(a);break}}return n}_SearchSingleNodeDOMParserElement(e,t){if(Object(o.a)(t)||t.length<1)return e;var n,r,a,i,c=t.indexOf("/");c<0?(n=t,r=null):(n=t.substr(0,c),r=t.substr(c+1)),(c=n.indexOf("["))<0?(a=n,i=null):(a=n.substr(0,c),c=(i=n.substr(c+1)).indexOf("]"),i=i.substr(0,c));for(var s=null,u=0,l=e.childNodes.length;u<l;u++)if(this._IsNodeNameEqual(e.childNodes[u],a)){var d=[e.childNodes[u]],f=d;if(null!==i&&(f=this._FilterDOMParserElementList(d,i)),f.length>0){if(null===r){s=f[0];break}if(s=this._SearchSingleNodeDOMParserElement(f[0],r))break}}return s}_SearchNodesDOMParserElementList(e,t){if(Object(o.a)(t)||t.length<1)return e;var n,r,a=t.indexOf("/");a<0?(n=t,r=null):(n=t.substr(0,a),r=t.substr(a+1));for(var i,c=[],s=0;s<e.length;s++)(i=this._SearchDOMParserElement(e[s],n)).length>0&&c.push(...i);return c.length&&null!==r?this._SearchNodesDOMParserElementList(c,r):c}_SearchDOMParserElement(e,t){var n,r,a=t.indexOf("[");a<0?(n=t,r=null):(n=t.substr(0,a),a=(r=t.substr(a+1)).indexOf("]"),r=r.substr(0,a));for(var i=[],o=0,c=e.childNodes.length;o<c;o++)this._IsNodeNameEqual(e.childNodes[o],n)&&i.push(e.childNodes[o]);var s=i;return i.length>0&&null!==r&&(s=this._FilterDOMParserElementList(i,r)),s}_FilterDOMParserElementList(e,t){var n=t.startsWith("@");n&&(t=t.substr(1));var r,a,i=t.indexOf("=");i<0?(r=t,a=null):(r=t.substr(0,i),a=(a=(a=t.substr(i+1)).substr(1)).substr(0,a.length-1));for(var o=[],c=0;c<e.length;c++){var s=e[c];(n&&this._FilterDOMParserElementAttribute(s,r,a)||this._FilterDOMParserElementChildElement(s,r,a))&&o.push(s)}return o}_FilterDOMParserElementAttribute(e,t,n){return null===n?e.hasAttribute(t):n===e.getAttribute(t)}_FilterDOMParserElementChildElement(e,t,n){for(var r=0,a=null==e||null===(i=e.childNodes)||void 0===i?void 0:i.length;r<a;r++){var i;if(this._IsNodeNameEqual(e.childNodes[r],t)){var o,c;if(null===n)return!0;if((null===(o=e.childNodes[r])||void 0===o||null===(c=o.firstChild)||void 0===c?void 0:c.nodeValue)===n)return!0}}return!1}_GetElementsByTagNameWithDefaultNamespace(e){var t=[],n=this._GetNamespaceForFullName(e);if(Object(o.a)(n)||n.length<1)return t;var r,a=this._GetLocalNameForFullName(e);r=Object(o.a)(this._element.ownerDocument)?this._element.getElementsByTagName(a):this._element.ownerDocument.getElementsByTagName(a);for(var i=0;i<r.length;i++)r[i].namespaceURI===n&&t.push(r[i]);return t}_GetNamespaceForFullName(e){var t=e.indexOf(":");if(t<0)return"";var n=e.substr(0,t);return this._namespaces[n]}_GetLocalNameForFullName(e){var t=e.indexOf(":");return t<0?e:e.substr(t+1)}_IsNodeNameEqual(e,t){if(e.nodeName===t||"*"===t)return!0;var n=this._GetNamespaceForFullName(t);if(Object(o.a)(n)||n.length<1)return!1;var r=this._GetLocalNameForFullName(t);return e.namespaceURI===n&&e.localName===r}}},20839:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));class r{static createAttribute(e,t,n){if(e){var r=e.createAttribute(t);return r.value=n,r}return null}}},20840:function(e,t,n){"use strict";function r(e,t){}n.d(t,"a",(function(){return r}))},20841:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(20840),a=n(20622);class i{constructor(e){this._list=void 0,Object(r.a)(!Object(a.a)(e),"Node list obj should not be null"),this._list=e}get_count(){return this._list.length}get_item(e){return this._list[e]}}},20842:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(20839),a=n(20840),i=n(20843),o=n(20844),c=n(20622);class s extends r.a{constructor(e,t,n){super(),this._namespaces=void 0,this._evaluator=void 0,this._element=void 0,this._namespaces=null,this._evaluator=null,this._element=null,Object(a.a)(!Object(c.a)(e),"The XPathEvaluator should not be null"),this._evaluator=e,this._element=Object(c.a)(t)?e:t,this._namespaces=Object(c.a)(n)?{}:n}get_innerText(){var e,t,n;return null!==(e=this._element)&&void 0!==e&&e.hasChildNodes()?null===(t=this._element)||void 0===t||null===(n=t.firstChild)||void 0===n?void 0:n.nodeValue:null}get_outerXml(){return(new XMLSerializer).serializeToString(this._element)}get_tagName(){var e;return null===(e=this._element)||void 0===e?void 0:e.tagName}get_domParserElement(){return this._element}addNamespace(e,t){this._namespaces&&(this._namespaces[e]=t)}selectSingleNode(e){var t,n=null===(t=this._evaluator)||void 0===t?void 0:t.evaluate(e,this._element,null,i.a.FIRST_ORDERED_NODE_TYPE,null);return Object(c.a)(null==n?void 0:n.singleNodeValue)?null:new s(this._evaluator,null==n?void 0:n.singleNodeValue,this._namespaces)}selectNodes(e){var t;return new o.a(this._evaluator,null===(t=this._evaluator)||void 0===t?void 0:t.evaluate(e,this._element,null,i.a.ORDERED_NODE_SNAPSHOT_TYPE,null),this._namespaces)}getAttribute(e){var t;return null===(t=this._element)||void 0===t?void 0:t.getAttribute(e)}getElementsByTagName(e){var t;return new o.a(this._evaluator,null===(t=this._element)||void 0===t?void 0:t.getElementsByTagName(e),this._namespaces)}childNodes(){var e;return new o.a(this._evaluator,null===(e=this._element)||void 0===e?void 0:e.childNodes,this._namespaces)}hasChildNodes(){var e;return null===(e=this._element)||void 0===e?void 0:e.hasChildNodes()}}},20843:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return e[e.ANY_TYPE=0]="ANY_TYPE",e[e.NUMBER_TYPE=1]="NUMBER_TYPE",e[e.STRING_TYPE=2]="STRING_TYPE",e[e.BOOLEAN_TYPE=3]="BOOLEAN_TYPE",e[e.UNORDERED_NODE_ITERATOR_TYPE=4]="UNORDERED_NODE_ITERATOR_TYPE",e[e.ORDERED_NODE_ITERATOR_TYPE=5]="ORDERED_NODE_ITERATOR_TYPE",e[e.UNORDERED_NODE_SNAPSHOT_TYPE=6]="UNORDERED_NODE_SNAPSHOT_TYPE",e[e.ORDERED_NODE_SNAPSHOT_TYPE=7]="ORDERED_NODE_SNAPSHOT_TYPE",e[e.ANY_UNORDERED_NODE_TYPE=8]="ANY_UNORDERED_NODE_TYPE",e[e.FIRST_ORDERED_NODE_TYPE=9]="FIRST_ORDERED_NODE_TYPE",e}({})},20844:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(20840),a=n(20842),i=n(20622);class o{constructor(e,t,n){if(this._list=void 0,Object(r.a)(!Object(i.a)(e),"XPathEvaluator should not be null"),Object(r.a)(!Object(i.a)(t),"Node list obj should not be null"),this._list=[],t instanceof XPathResult)for(var o=t,c=0;c<o.snapshotLength;c++)this._list.push(new a.a(e,o.snapshotItem(c),n));else for(var s=t,u=0;u<s.length;u++)this._list.push(new a.a(e,s[u],n))}get_count(){return this._list.length}get_item(e){return this._list[e]}}},20845:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return e[e[void 0]=-1]="undefined",e[e.xPath=0]="xPath",e[e.domParser=1]="domParser",e}({})},20846:function(e,t,n){"use strict";n.d(t,"n",(function(){return s})),n.d(t,"j",(function(){return p})),n.d(t,"l",(function(){return h})),n.d(t,"m",(function(){return v})),n.d(t,"c",(function(){return m})),n.d(t,"f",(function(){return g})),n.d(t,"h",(function(){return y})),n.d(t,"b",(function(){return b})),n.d(t,"g",(function(){return E})),n.d(t,"o",(function(){return _})),n.d(t,"d",(function(){return S})),n.d(t,"p",(function(){return C})),n.d(t,"k",(function(){return w})),n.d(t,"i",(function(){return f})),n.d(t,"a",(function(){return T})),n.d(t,"e",(function(){return O}));var r=n(20622),a=n(20769),i=n(20770),o=n(20837),c=n(20623);function s(e){return(new DOMParser).parseFromString(e,"text/xml")}function u(e,t){if(!Object(r.a)(e)&&!Object(r.a)(e.attributes)){var n=e.attributes.getNamedItem(t);if(!Object(r.a)(n))return null==n?void 0:n.nodeValue}return null}function l(e,t,n){var r=e.createAttribute(t);return r.value=n,r}function d(e,t,n){return u(e,n)===u(t,n)}function f(e){var t=Object(o.b)(e);if(!t)return{};for(var n=t.getElementsByTagName("entity")[0].getAttribute("name"),a={[n]:[]},i=t.getElementsByTagName("attribute"),s=0;s<i.length;s++){var u,l=i[s],d=null===(u=l.attributes.getNamedItem("name"))||void 0===u?void 0:u.nodeValue;if(l&&l.parentNode&&"link-entity"===l.parentNode.nodeName&&!Object(r.a)(l.parentNode.getAttribute("name"))){var f=l.parentNode.getAttribute("name"),p=l.getAttribute("name");f&&p&&Object(c.a)(a,f,[p])}else n&&Object(c.a)(a,n,[d])}return a}function p(e){if(Object(r.a)(e)||null==e)return null;if(v(e))return null;for(var t=[],n=e.getElementsByTagName("attribute"),a=0;a<n.length;a++){var i,o,c=n[a],s=null===(i=c.attributes.getNamedItem("name"))||void 0===i?void 0:i.nodeValue;if("link-entity"!==(null===(o=c.parentNode)||void 0===o?void 0:o.nodeName)||Object(r.a)(c.parentNode.attributes.getNamedItem("alias")))t[a]=s;else{var u,l=null===(u=c.parentNode.attributes.getNamedItem("alias"))||void 0===u?void 0:u.nodeValue;t[a]=l+"."+s}}return t}function h(e){var t=e.getElementsByTagName("entity");return Object(r.a)(t)||Object(r.a)(t[0])?null:t[0].getAttribute("name")}function v(e){return!!e&&e.getElementsByTagName("all-attributes").length>0}function m(e,t){if(!Object(r.a)(t)&&t.length&&!Object(r.a)(e)){var n=p(e),a=e.getElementsByTagName("entity");if(a&&a[0])for(var i=a[0].firstChild,o=0;o<t.length;o++)if(-1===(null==n?void 0:n.indexOf(t[o]))){var c=e.createElement("attribute");c.attributes.setNamedItem(l(e,"name",t[o])),a[0].insertBefore(c,i)}}}function y(e,t){var n='<link-entity name="'+e.name+'" from="'+e.from+'" to="'+e.to+'"';if(n+=e.linkType?' link-type="'+e.linkType+'"':"",n+=e.alias?' alias="'+e.alias+'"':"",0===t.length)return n+=" />";n+=">";for(var r=0;r<t.length;r++)n+='<attribute name="'+t[r]+'" />';return n+="</link-entity>"}function g(e,t){Object(r.b)(t)||function(){var n=e.getElementsByTagName("entity")[0],a=!1,i=s(t),o=e.getElementsByTagName("link-entity");if(!Object(r.a)(o))for(var c=["alias","name","from","to","link-type"],u=function(e){if(c.every(t=>d(o[e],i.documentElement,t))){for(var t=0;t<i.documentElement.childNodes.length;t++)o[e].appendChild(i.documentElement.childNodes[t].cloneNode());a=!0}},l=0;l<o.length;l++)u(l);a||Object(r.a)(n)||n.appendChild(i.documentElement)}()}function b(e,t){var n=e.createElement("attribute");n.attributes.setNamedItem(l(e,"name",t)),n.attributes.setNamedItem(l(e,"rowaggregate","CountChildren")),n.attributes.setNamedItem(l(e,"alias","HierarchyDataChildCount6dcd9e4c001441b09237d51a34853d55")),e.getElementsByTagName("entity")[0].appendChild(n)}function O(e,t){if(!e)throw new Error("Invalid fetch xml document is passed");var n=Object(o.b)(t),r=e.getElementsByTagName("entity")[0];n&&r.appendChild(n.firstChild)}function E(e,t,n){var r;if(-1===t.indexOf("."))r=e.getElementsByTagName("entity")[0];else{var a=t.split(".");if(2===a.length)r=function(e,t,n){for(var r=e.getElementsByTagName("link-entity"),a=0;a<r.length;a++){var i,o=r[a];if(o.attributes.getNamedItem("alias")&&(null===(i=o.attributes.getNamedItem("alias"))||void 0===i?void 0:i.nodeValue)===t)for(var c=o.childNodes,s=0;s<c.length;s++){var u,l=c[s];if("attribute"===l.nodeName&&(null===(u=l.attributes.getNamedItem("name"))||void 0===u?void 0:u.nodeValue)===n)return o}}return null}(e,a[0],t=a[1])}if(r){for(var i=r.getElementsByTagName("order"),o=function(e,t,n){var r=e.createElement("order");return r.attributes.setNamedItem(l(e,"attribute",t)),r.attributes.setNamedItem(l(e,"descending",n.toString())),r}(e,t,n),c=!1,s=0;s<i.length;s++)if(d(i[s],o,"attribute")){c=!0,i[s].setAttribute("descending",n?"true":"false");break}c||r.appendChild(o)}}function _(e){for(var t=e.getElementsByTagName("order");t.length;){var n,r=t[0];null===(n=r.parentNode)||void 0===n||n.removeChild(r)}}function S(e,t,n){if(!Object(r.b)(n)&&!Object(r.b)(t)){var a=e.getElementsByTagName("entity")[0],i=s(t),o=i.getElementsByTagName("condition")[0];Object(r.a)(o)||o.attributes.setNamedItem(l(i,"value",n)),Object(r.a)(a)||a.appendChild(i.firstChild)}}function C(e,t,n,a,i,o){if(e){if(e&&e.firstChild&&"fetch"!==e.firstChild.nodeName)return;Object(r.a)(e.firstChild.attributes.getNamedItem("returntotalrecordcount"))&&e.firstChild.attributes.setNamedItem(l(e,"returntotalrecordcount",i.toString())),e.firstChild.attributes.setNamedItem(l(e,"page",n.toString())),e.firstChild.attributes.setNamedItem(l(e,"count",t.toString())),a&&e.firstChild.attributes.setNamedItem(l(e,"paging-cookie",a)),e.firstChild.attributes.setNamedItem(l(e,"no-lock",o.toString()))}}function w(e){if(v(e))return a.a.get_instance();var t=Object(o.a)(e),n=[],r=null==t?void 0:t.selectNodes("/fetch/entity/attribute");if(r&&r.get_count())for(var c=0;c<r.get_count();c++){var s=r.get_item(c);s&&n.push(s.getAttribute("name"))}return new i.a(n)}function T(e){if(window.hasOwnProperty("DOMParser"))return(new DOMParser).parseFromString(e,"text/xml");if(window.hasOwnProperty("ActiveXObject")){var t=new window.ActiveXObject("Microsoft.XMLDOM");return t.async=!1,t.loadXML(e),t}return null}},20847:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(20837),a=n(20769),i=n(20770),o=n(20848),c=n(20849),s=n(20850),u=n(20622),l=n(20846);class d{constructor(e){this._columnSet=null,this._descriptorSet=null,this._pagingCookie=void 0,this._noLock=!1,this._pageNumber=1,this._pageSize=1,this._entityLogicalName=null,this._returnTotalRecordCount=!1,this._columnNames=void 0,this._fetchXmlForAliasedValues=void 0,this._status=[],this.rawFetchXmlDoc=void 0,this._pagingCookie="",Object(u.a)(e)||this._CreateQuery(e)}get_ColumnSet(){return this._columnSet}set_ColumnSet(e){return this._columnSet=e,e}set_ColumnNames(e){return this._columnNames=e,e}get_DescriptorSet(){return this._descriptorSet}get queryStatus(){return this._status}_set_DescriptorSet(e){return this._descriptorSet=e,e}get_FetchXml(){var e,t,n,a=this.rawFetchXmlDoc;return a&&a.firstChild&&null!==(e=a.firstChild)&&void 0!==e&&e.nodeName&&(null===(t=a.firstChild)||void 0===t?void 0:t.nodeName)!==d._FetchXmlNodeName?this.get_rawFetchXml():(Object(l.p)(this.rawFetchXmlDoc,this.get_PageSize(),this.get_PageNumber(),this.get_PagingCookie(),!0,this._get_NoLock()),null===(n=Object(r.a)(a))||void 0===n?void 0:n.get_outerXml())}set_FetchXml(e){if(Object(u.b)(e)||"<"!==e.substr(0,1))this.set_ColumnSet(new i.a(new Array(0)));else{var t=Object(r.b)(e);if(this.rawFetchXmlDoc=t,!Object(u.a)(t)){var n=Object(r.a)(t),o=null==n?void 0:n.selectSingleNode("/"+d._FetchXmlNodeName);if(o&&!Object(u.a)(o)){var c=o.getAttribute(d._PageNumberXmlAttributeName);Object(u.a)(c)||this.set_PageNumber(+c),c=o.getAttribute(d._PageSizeXmlAttributeName),Object(u.a)(c)||this.set_PageSize(+c),c=o.getAttribute(d._PagingCookieXmlAttributeName),Object(u.a)(c)||this.set_PagingCookie(c);var s=null==n?void 0:n.selectSingleNode("/fetch/entity");if(s&&!Object(u.a)(s)&&this.set_EntityLogicalName(s.getAttribute("name")),n&&!Object(u.a)(n.selectSingleNode("/fetch/entity/all-attributes")))this.set_ColumnSet(a.a.get_instance());else{var l=[],f=null==n?void 0:n.selectNodes("/fetch/entity/attribute");if(f)for(var p=0;p<f.get_count();p++){var h=f.get_item(p);if(h&&h.getAttribute("name")){var v=h.getAttribute("name");l.push(v)}}this.set_ColumnSet(new i.a(l))}var m=!!t&&t.firstChild.attributes.getNamedItem(d._ReturnTotalRecordCountAttributeName);this._returnTotalRecordCount=Object(u.a)(m)?d._DefaultReturnTotalRecordCountValue:"true"===m}}}return e}get_PageNumber(){return this._pageNumber}set_PageNumber(e){if(e<1)throw Error("PageNumber cannot be less than 1");return this._pageNumber=e,e}_get_NoLock(){return this._noLock}set_NoLock(e){return this._noLock=e,e}get_PageSize(){return this._pageSize}set_PageSize(e){return this._pageSize=e,e}get_PagingCookie(){return this._pagingCookie}set_PagingCookie(e){return Object(u.b)(e)&&(this._pagingCookie=""),this._pagingCookie=e,e}get_EntityLogicalName(){return this._entityLogicalName}set_EntityLogicalName(e){return this._entityLogicalName=e,e}get_returnTotalRecordCount(){return this._returnTotalRecordCount}get_id(){return this.get_rawFetchXml()}get_RawSql(){var e;return null===(e=this.get_DescriptorSet())||void 0===e?void 0:e.tryGetDescriptor(o.a.Sql)}set_RawSql(e){var t;Object(u.a)(this._descriptorSet)||(null===(t=this._descriptorSet)||void 0===t||t.updateDescriptorSet(o.a.Sql,e));return e}get_rawFetchXml(){var e;return this.rawFetchXmlDoc?null===(e=Object(r.a)(this.rawFetchXmlDoc))||void 0===e?void 0:e.get_outerXml():""}get_FetchXmlForAliasedValues(){return this._fetchXmlForAliasedValues}set_FetchXmlForAliasedValues(e){this._fetchXmlForAliasedValues=e}_CreateQuery(e){if(e instanceof s.a)for(var t in this._descriptorSet=new s.a,e.get_descriptors()){var n=e.get_descriptors()[t];this._descriptorSet.get_descriptors()[o.a[n.Format]]=new c.a(n.Format,n.Data),n.Format===o.a.FetchXml&&this.set_FetchXml(n.Data)}else this.set_FetchXml(e.toString()),this._set_DescriptorSet(s.a.createFromFetchXml(e.toString()))}toString(){return"Query: "+this.get_rawFetchXml()}GetColumnNamesFromFetch(){return Object(u.a)(this._columnNames)?Object(l.j)(this.rawFetchXmlDoc):this._columnNames}generateOfflineAttributeName(e,t,n){return t}static get_empty(){return new d("")}}d._PageNumberXmlAttributeName="page",d._PageSizeXmlAttributeName="count",d._PagingCookieXmlAttributeName="paging-cookie",d._ReturnTotalRecordCountAttributeName="returntotalrecordcount",d._FetchXmlNodeName="fetch",d._DefaultReturnTotalRecordCountValue=!0},20848:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return e[e.Json=0]="Json",e[e.FetchXml=1]="FetchXml",e[e.Sql=2]="Sql",e[e.LayoutXml=3]="LayoutXml",e}({})},20849:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));class r{constructor(e,t){this.Format=0,this.Data=void 0,this.Format=e,this.Data=t}}},20850:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(20616),a=n(20622),i=n(20849),o=n(20848);class c{constructor(){this._descriptors=void 0,this._descriptors={}}get_descriptors(){return this._descriptors}tryGetDescriptor(e){return Object(a.a)(this._descriptors[o.a[e]])?"":this._descriptors[o.a[e]].Data}updateDescriptorSet(e,t){o.a[e]in this.get_descriptors()?this._descriptors[o.a[e]].Data=t:this._descriptors[o.a[e]]=new i.a(e,t)}static createFromFetchXml(e){var t=new c;return t._descriptors[o.a[o.a.FetchXml]]=new i.a(o.a.FetchXml,e),t}static createDescriptorSet(e,t,n){var a=new c;if(t===r.c.fetchXml)if(e instanceof Array)for(var s=0;s<e.length;s++){var u=e[s];(u.Format!==o.a.Sql||n)&&(a.get_descriptors()[o.a[u.Format]]=new i.a(u.Format,u.Data))}else"string"==typeof e&&(a.get_descriptors()[o.a[o.a.FetchXml]]=new i.a(o.a.FetchXml,e));else a.get_descriptors()[o.a[0]]=new i.a(0,e);return a}}},20851:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(20738),a=n(20622),i=n(20751),o=n(20852);class c{constructor(e,t,n){this._cachedPromises=void 0,this._promiseTimeout=void 0,this._tracer=void 0,this._store=void 0,this._cachedPromises={},this._tracer=t,this._store=e,n&&n>0&&(this._promiseTimeout=n)}put(e,t,n,c,s){if(Object(a.b)(e)){var u,l=new r.a("Promise cache key must not be empty");throw null===(u=this._tracer)||void 0===u||u.error("".concat(i.g.ModernDataSourcePromiseCache," ").concat(l.message)),l}if(this.containsKey(e)){var d,f=new r.a("Another promise exists with this key");throw null===(d=this._tracer)||void 0===d||d.error("".concat(i.g.ModernDataSourcePromiseCache," ").concat(f.message," ").concat(e,":").concat(c)),f}var p,h=this._promiseTimeout||Object(o.a)(this._store,c,s),v=new Promise((t,o)=>{p=window.setTimeout(()=>{var t,s;null===(t=this._tracer)||void 0===t||t.info("".concat(i.g.ModernDataSourcePromiseCache," Promise cache timeout exceeded"));var u=new r.a("Promise cache timed out. Operation: ".concat(c),void 0,void 0,new r.a("Promise cache timeout Operation: ".concat(c,". CacheKey: ").concat(e,". Cache timeout: ").concat(h)));null===(s=this._tracer)||void 0===s||s.warn("".concat(i.g.ModernDataSourcePromiseCache," ").concat(u.message)),n&&!Object(a.a)(n.get_Stack())&&(u.stack=n.get_Stack()),o(u)},h)}),m=Promise.race([v,t]);return m.finally(()=>{var t,n,r=this.get(e);(null===(t=this._tracer)||void 0===t||t.info("".concat(i.g.ModernDataSourcePromiseCache," Promise cache attempting to clear cache entry after timeout/fulfillment")),Object(a.a)(r))?null===(n=this._tracer)||void 0===n||n.info("".concat(i.g.ModernDataSourcePromiseCache," Cache object with key=").concat(e," is undefined")):delete this._cachedPromises[e];window.clearTimeout(p)}),this._cachedPromises[e]=m,m}get(e){return this._cachedPromises[e]}containsKey(e){return e in this._cachedPromises}getSize(){var e;return null===(e=Object.keys(this._cachedPromises))||void 0===e?void 0:e.length}}},20852:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));n(20761);var r=n(20759),a=n(20751),i=n(20780),o=n(20758);function c(e,t,n){var c=a.b;if(e)switch(t){case i.c.GCM:c=function(e){var t=e.getState();if(Object(r.a)(t,o.l))return a.c.SixtySeconds;if(Object(r.a)(t,o.k))return a.c.FifteenSeconds;if(Object(r.a)(t,o.j))return a.c.FiveSeconds;return a.b}(e);break;case i.c.RETRIEVE:case i.c.RETRIEVE_MULTIPLE:c=function(e){var t=e.getState();if(Object(r.a)(t,o.e))return a.a.SixtySeconds;if(Object(r.a)(t,o.d))return a.a.FifteenSeconds;if(Object(r.a)(t,o.c))return a.a.FiveSeconds;return a.b}(e);break;default:c=a.b}return c}},20853:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n(20583),a=n(20584),i=n(20585),o=n(20619),c=n(20624),s=n(20626),u=n(20751),l=n(20781),d=n(20737),f=n(20738),p=n(20824),h=n(20733);function v(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function m(e,t){var n=[];return{type:"oData.delete.async",execute(m,y){return(g=function*(){var{getState:v,dispatch:g}=m;try{var b=new c.a(i.a.newGuid().guid);!function(e,t){e.push({name:a.c.CLIENT_REQUEST_ID,value:t&&t.RequestId?t.RequestId():r.G})}(n,b),yield g(Object(h.c)(e.etn,!1,[]));var O=function(e,t,n,r){if(n&&e&&t&&n.length){for(var a of n)if(!Object(d.d)(e,a)){var i=t.TraceManager.getTracer(u.d.ODataBuilder),o=new f.a(r+": Entity "+a+" metadata does not exist on the server",p.a.InvalidEntity,null,null,null,null,null,[{name:"EntityLogicalName",value:a}]);return i.warn(o.message),o}return null}return null}(v(),y,[e.etn],"oData.delete.async");if(O)throw O;var E=o.a.toExternalEntityReference(e),_=new l.b(E,t);yield g(Object(s.c)(_))}finally{}},function(){var e=this,t=arguments;return new Promise((function(n,r){var a=g.apply(e,t);function i(e){v(a,n,r,i,o,"next",e)}function o(e){v(a,n,r,i,o,"throw",e)}i(void 0)}))})();var g},getFailureParameters:()=>n}}},20854:function(e,t,n){"use strict";n.d(t,"b",(function(){return C})),n.d(t,"a",(function(){return N}));var r=n(20584),a=n(20585),i=n(20735),o=n(20855),c=n(20745),s=n(20734),u=n(20622),l=n(20624),d=n(20626),f=n(20859),p=n(20861),h=n(20765),v=n(20737),m=n(20746),y=n(20751),g=n(20864),b=n(20738),O=n(20846),E=n(20733);function _(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function S(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){_(i,r,a,o,c,"next",e)}function c(e){_(i,r,a,o,c,"throw",e)}o(void 0)}))}}function C(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[];return{type:"gridData.retrieve.async",execute:(i,o,c)=>S((function*(){var{getState:s,dispatch:u}=i;try{var p,m=new l.a(a.a.newGuid().guid,null==c?void 0:c.isPreloadCall);n.push({name:r.c.CLIENT_REQUEST_ID,value:m.RequestId()}),n.push({name:"isRefresh",value:t});var _=e.key||"query";if(!e.entityLogicalName&&e.fetchXml&&(e.entityLogicalName=Object(O.l)(Object(O.n)(e.fetchXml))),!e.entityLogicalName)throw new b.a("Unable to execute query without entity logical name");var S=f.a.fromState(e);yield u(Object(E.c)(e.entityLogicalName,!1,[],m));var C=s(),N=Object(v.h)(C,e.entityLogicalName);if(!N)throw new b.a("Unable to identify primary id of entity ".concat(e.entityLogicalName));var P=Object(h.f)(C,_,S.pageNumber-1);o.DataLayerConfiguration.addStateCodeToGridData&&Object(v.e)(C,e.entityLogicalName)&&S.selectInternal("statecode",!1),S.selectInternal(N,!1),P&&(S.pagingCookie=P);var I=S.getQueryState(!1,s);n.push({name:g.a,value:Object(g.c)(e)}),u(w(_,I,t));var R=yield u(Object(d.g)(I)),M=j(C,u,_,I,R,null===(p=o.DataLayerConfiguration.GarbageCollectionProvider)||void 0===p?void 0:p.getCurrentPage());return u(T(M)),o.EventManager.ReportComponentSuccess(y.h,n),M}catch(x){o.EventManager.ReportComponentFailure(y.h,n),Object(b.b)(x)}}))(),getFailureParameters:()=>n,getSuccessParameters:()=>n}}function w(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r={lists:{[e]:{initialized:n?s.a.Refreshing:s.a.Initializing,pageSize:t.pageSize}}};return{type:i.e,payload:r}}function T(e){return{type:i.e,payload:e}}function j(e,t,n,r,i,c){for(var l=Object(p.a)(i),d={},f=[],h={},v=0;v<l.length;v++){var m,y=null===(m=l[v].identifier)||void 0===m?void 0:m.etn;if(y){var g,b,O=a.a.toString(null===(g=l[v].identifier)||void 0===g?void 0:g.id);if(Object(u.a)(y)||Object(u.a)(O)||d[y]||(d[y]={}),d[y][O]=l[v],f.push(null===(b=l[v])||void 0===b?void 0:b.identifier),e){var E=N(e,y,c,O);if(y&&E)if(h[y])h[y][O]=E;else{var _={[O]:E};h[y]=_}}}}var S={entities:d,lists:{[n]:{initialized:s.a.Initialized,lastRetrieved:new Date,records:f,pages:{[r.pageNumber]:{pagingCookie:i.get_pagingCookie(),startGuid:f&&f.length&&f[0].id,startIndex:0,moreRecords:i.get_moreRecords()}},pageSize:null==r?void 0:r.pageSize,totalRecordCount:i.get_totalRecordCount(),totalRecordCountLimitExceeded:i.get_totalRecordCountLimitExceeded()}}};return function(e,t,n,r,a,i,c){var s={},u=N(e,n,r,a,i);a&&u&&(s[a]=u);if(c&&Object.keys(c).length>0||s&&Object.keys(s).length>0){var l={entities:c,lists:s};t(Object(o.a)(l))}}(e,t,c,null,null,n,h),S}function N(e,t,n,r,a){if(!e)return null;if(r&&""!==r)if(a){var i,o=Object(m.e)(e,a),s=null==o?void 0:o.slice();if(s)return null!==(i=Object(c.a)(s,r))&&void 0!==i?i:null}else if(t&&n){var u,l=Object(m.d)(e,t,n),d=null==l?void 0:l.slice();if(d)return null!==(u=Object(c.a)(d,r))&&void 0!==u?u:null}return null}},20855:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n(20585),n(20745),n(20735);var r=n(20856);n(20746),n(20854);function a(e){return{type:r.a,payload:e}}},20856:function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return i}));var r=n(20857),a=n(20858),i="gc.data.update",o={},c=[i,"gc.data.remove"],s=[i,"gc.data.remove"],u={};function l(e,t){if(0===Object.keys(t).length)return e;var n=Object.assign({},e);for(var r in t){var a=t[r];for(var i in a)n[r]||(n[r]=t[r]),n[r][i]=t[r][i]}return Object.freeze(n)}function d(e,t){if(0===Object.keys(t).length)return e;var n={};for(var r in e){var a=e[r];if(void 0===t[r])n[r]=e[r];else for(var i in a)void 0===t[r][i]&&(n[r]||(n[r]={}),n[r][i]=t[r][i])}return Object.freeze(n)}var f=[i,"gc.data.remove"];var p={entities:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;return-1!==c.indexOf(t.type)&&t&&t.payload&&t.payload.entities?"gc.data.remove"===t.type?d(e,t.payload.entities):l(e,t.payload.entities):e},lists:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;return-1!==f.indexOf(t.type)&&t&&t.payload&&t.payload.lists?"gc.data.remove"===t.type?Object(a.b)(e,t.payload.lists):Object(a.a)(e,t.payload.lists):e},charts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;return-1!==s.indexOf(t.type)&&t&&t.payload&&t.payload.charts?"gc.data.remove"===t.type?d(e,t.payload.charts):l(e,t.payload.charts):e},chartData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;return-1!==s.indexOf(t.type)&&t&&t.payload&&t.payload.chartData?"gc.data.remove"===t.type?Object(a.b)(e,t.payload.chartData):Object(a.a)(e,t.payload.chartData):e}},h=Object(r.a)(p)},20857:function(e,t,n){"use strict";function r(e){return function(e){return(t,n)=>{var r=void 0===t?{}:t,a={},i=!1,o=Object.keys(e);for(var c of o){var s=e[c],u=r[c],l=s(u,n);a[c]=l,i=i||l!==u}var d=i?a:r;return Object.freeze(d)}}(function(e){var t={},n=Object.keys(e);for(var r of n)t[r]=e[r];return t}(e))}n.d(t,"a",(function(){return r}))},20858:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return c})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return u}));var r=n(20744),a=[r.b,r.a],i={};function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;return-1!==a.indexOf(t.type)&&t&&t.payload&&t.payload.entities?t.type===r.a?u(e,t.payload.entities):s(e,t.payload.entities):e}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;return-1!==a.indexOf(t.type)&&t&&t.payload&&t.payload.ribbons?t.type===r.a?u(e,t.payload.ribbons):s(e,t.payload.ribbons):e}function s(e,t){if(0===Object.keys(t).length)return e;var n=Object.assign({},e);for(var r in t)n[r]=Object.freeze(t[r]);return Object.freeze(n)}function u(e,t){if(0===Object.keys(t).length)return e;var n={};for(var r in e)void 0===t[r]&&(n[r]=e[r]);return Object.freeze(n)}},20859:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(20846),a=n(20585),i=n(20860),o=n(20739),c=n(20795),s=n(20684);class u{constructor(e){this._query=void 0,this._fetchDocument=void 0,this._isFetchXmlParsed=void 0,this._selectsInKey=void 0,this._childCountAttributes=void 0,this._resetSort=void 0,this._query=e?Object.assign({},e):{},this._query.selects=this._query.selects||[],this._selectsInKey=this._query.selects?this._query.selects.map(e=>!0):[],this._query.linkEntities=this._query.linkEntities||[],this._query.sorts=this._query.sorts||[],this._query.wheres=this._query.wheres||[],this._query.contextFiltersAndIds=this._query.contextFiltersAndIds||[],this._query.searchString=this._query.searchString||"",this._query.isQuickFindSearch=this._query.isQuickFindSearch||!1,this._childCountAttributes=[],this._isFetchXmlParsed=!1,this._query.isFetchXmlModified=this._query.isFetchXmlModified||!1,this._resetSort=!1}get fetchDocument(){return this._isFetchXmlParsed||this._parseFetchXmlFromString(this._query.fetchXml),this._fetchDocument}_parseFetchXmlFromString(e){e&&(this._fetchDocument=Object(r.n)(e),this._isFetchXmlParsed=!0)}static fromView(e,t){var n=new u;return n._query.viewId=e,n._query.searchString=t||"",n}static fromXml(e,t,n){var r=new u;return r._query.fetchXml=e,r._query.viewId=t,r._query.searchString=n,r}static fromState(e){return new u(e)}select(){for(var e=[],t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var a=0;a<n.length;a++)this._query.selects&&-1===this._query.selects.indexOf(n[a])&&e.push(n[a]);return this._query.selects&&this._query.selects.push(...e),this._selectsInKey.push(...e.map(e=>!0)),this}selectAll(){return this._query.isAllColumns=!0,this}from(e){return this._query.entityLogicalName=e,this}selectInternal(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this._query.selects&&-1===this._query.selects.indexOf(e)&&(this._query.selects.push(e),this._selectsInKey.push(t)),this}addLinkedEntity(e,t){var n=Object(r.h)(e,t);return this._query.linkEntities&&this._query.linkEntities.push(n),this}orderBy(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this._query.sorts&&this._query.sorts.push(e+(t?" desc":" asc")),this._resetSort=n,this}addChildCountAttribute(e){return this._childCountAttributes.push(e),this}applyContextFilter(e,t,n){arguments.length>3&&void 0!==arguments[3]||i.a.Referencing,this._query.entityLogicalName||Object(r.l)(this.fetchDocument);var o=a.a.toString(t);return this._query.contextFiltersAndIds&&this._query.contextFiltersAndIds.push("".concat(o,"=").concat(null)),this}toFetchXml(e){if(function(e){e&&!e.pageNumber&&(e.pageNumber=1);e&&!e.pageSize&&(e.pageSize=25);e&&(e.useModernQueryBuilder=!0)}(this._query),!this.fetchDocument){if(!e)throw Object(o.b)("ModernQueryBuilder: getState function not provided");if(!this._query.viewId)throw Error("ModernQueryBuilder: view id not provided to retrieve fetch xml for the view")}if(!this.fetchDocument)throw Error("ModernQueryBuilder: fetch xml not provided");return this._query.isFetchXmlModified||this._applyModificationsToFetchXml(),Object(r.p)(this.fetchDocument,this._query.pageSize,this._query.pageNumber,this._query.pagingCookie,!0,!1),(new XMLSerializer).serializeToString(this.fetchDocument)}getQueryState(){var e=arguments.length>1?arguments[1]:void 0;return arguments.length>0&&void 0!==arguments[0]&&arguments[0]||(this._query.fetchXml=this.toFetchXml(e),this._query.entityLogicalName||(this._query.entityLogicalName=Object(r.l)(this.fetchDocument)),this._query.key=this.getKey()),this._query}get pageSize(){return this._query.pageSize}set pageSize(e){this._query.pageSize=e}set pageNumber(e){this._query.pageNumber=e}get pageNumber(){return this._query.pageNumber}get pagingCookie(){return this._query.pagingCookie}set pagingCookie(e){this._query.pagingCookie=e}getKey(){return this._query.selects?"".concat(this._getBaseKey(),": ").concat(this._query.selects.filter((e,t)=>this._selectsInKey[t]),": ").concat(this._query.wheres,": ").concat(this._query.sorts,": ").concat(this._query.contextFiltersAndIds,": ").concat(this._query.linkEntities,": ").concat(this._query.isQuickFindSearch,": ").concat(this._query.searchString,": ").concat(this._query.pageSize):null}getPublicKey(){return this._query.selects?"".concat(this._getBaseKey(),": ").concat(this._query.selects.filter((e,t)=>this._selectsInKey[t]),": ").concat(this._query.sorts,": ").concat(this._query.contextFiltersAndIds,": ").concat(this._query.linkEntities,": ").concat(this._query.pageSize):null}_getBaseKey(){return this._query.viewId?"".concat(this._query.entityLogicalName,"-").concat(a.a.toString(this._query.viewId)):a.a.toString(this._query.viewId)}_applyModificationsToFetchXml(){this._query.selects&&this._query.selects.length>0&&(Object(r.m)(this.fetchDocument)||Object(r.c)(this.fetchDocument,this._query.selects)),this._query.linkEntities&&this._query.linkEntities.length>0&&this._query.linkEntities.forEach(e=>Object(r.f)(this.fetchDocument,e)),this._query.wheres&&this._query.wheres.length>0&&this._query.wheres.forEach(e=>Object(r.e)(this.fetchDocument,e)),this._resetSort&&Object(r.o)(this.fetchDocument),this._query.sorts&&this._query.sorts.length>0&&this._query.sorts.forEach(e=>{var t=e.split(" ");Object(r.g)(this.fetchDocument,t[0],"desc"===t[1])}),this._childCountAttributes.length>0&&this._childCountAttributes.forEach(e=>Object(r.b)(this.fetchDocument,e)),this._query.contextFiltersAndIds&&this._query.contextFiltersAndIds.length>0&&this._query.contextFiltersAndIds.forEach(e=>{var t=e.indexOf("="),n=e.substring(0,t),a=e.substring(t+1,e.length);Object(r.d)(this.fetchDocument,a,n)}),this._query.isFetchXmlModified=!0}applyRollupContextFilter(){throw new Error("Not implemented")}where(e,t,n){var r=c.a.toLegacyFilterExpression(e,n).toFetchXml();return this._query&&(t?this._query.wheres=[r]:this._query.wheres&&this._query.wheres.push(r)),this._query.expression?this._query.expression.terms.push(e):this._query.expression=new c.a(s.h.and,e),this}setDefaultPageSize(){throw new Error("Not implemented")}getFirstError(){throw new Error("Not implemented")}addExistingContextFilterToKey(){throw new Error("Not implemented")}validateLinkedEntity(){throw new Error("Not implemented")}get fetchXml(){throw new Error("Not implemented")}}},20860:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return e[e.Referencing=1]="Referencing",e[e.AssociationEntity=2]="AssociationEntity",e}(r||{})},20861:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(20862);function a(e){var t=e.get_entities(),n=e.get_query(),a=[];n&&null!=n&&n.GetColumnNamesFromFetch&&(a=null==n?void 0:n.GetColumnNamesFromFetch());for(var i=[],o=0;o<t.length;o++){var c=Object(r.a)(t[o]);c.queryColumnNames=a,delete c.accessRights,i.push(c)}return i}},20862:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(20586),a=n(20585),i=n(20619),o=n(20734),c=n(20863);function s(e){if(!e)throw new Error("Legacy entity record is null");var t=e.get_fieldNames(),n=e.get_fieldTypes(),r={},a=new Date;if(t)for(var s of t){var l=n[s],d=e.getValue(s);null!==d?r[s]=u(s,l,d,e,a):r[s]=null}var f,p,h=e.get_globalNavigationData();if(h){var v=i.a.fromLegacyEntityReference(h.get_identifier());v&&(p=v.id);var m=h.getValue("processid");if(m)f=i.a.fromLegacyEntityReference(m).id}return{initialized:o.a.Initialized,identifier:i.a.fromLegacyEntityReference(e.get_identifier()),accessRights:Object(c.a)(e),fields:r,businessProcessFlowId:f,businessProcessFlowInstanceId:p}}function u(e,t,n,o,c){var l={errorId:null,errorMessage:null,isValueValid:!0,userInput:null,isOfflineSyncError:!1};switch(t){case r.a.Boolean:case r.a.PickList:case r.a.State:case r.a.Status:var d=n;return{label:d.get_Label(),valueString:d.get_ValueString(),timestamp:c,validationResult:l};case r.a.UniqueIdentifier:var f=n;return{id:a.a.fromLegacyGuid(f),timestamp:c,validationResult:l};case r.a.Customer:case r.a.Lookup:case r.a.Owner:var p=n;return{reference:i.a.fromLegacyEntityReference(p),timestamp:c,validationResult:l};case r.a.AliasedValue:var h=n,v=h.get_entityLogicalName(),m=h.get_attributeLogicalName(),y=h.get_attributeType();return{attributeLogicalName:m,entityLogicalName:v,innerValue:u(e,y,h.get_value(),o,c),timestamp:c,validationResult:l,innerType:y};case r.a.PartyList:var g=n,b=[];for(var O of g.get_entities())b.push(s(O));return{list:b,timestamp:c,validationResult:l};case r.a.NavigationProperty:var E=n,_=[];for(var S of E)_.push(s(S));return{list:_,timestamp:c,validationResult:l};default:t===r.a.DateTime&&(n=n&&n.toISOString());var C=o.get_formattedValues();if(C.hasOwnProperty(e))return{value:n,formatted:C[e],timestamp:c,validationResult:l};var w=o.get_numericFormattedValues();return w.hasOwnProperty(e)?{value:n,formatted:w[e],timestamp:c,validationResult:l}:{value:n,timestamp:c,validationResult:l}}}},20863:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(20585);function a(e){var t={recordPrivileges:e.get_accessRights()},n=e.get_userSharedAttributePrivileges();if(n){var a={};for(var i in n){var o=n[i];a[i]={accessRightsMask:o.get_AccessRightsMask(),attributeId:r.a.fromLegacyGuid(o.get_AttributeId()),canCreate:o.get_CanCreate(),canRead:o.get_CanRead(),canUpdate:o.get_CanUpdate()}}t.attributePrivileges=a}return t}},20864:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return a}));var r=n(20585),a="QueryBuilder";class i{constructor(){this._telemetryMessage=void 0,this._telemetryParameters=void 0,this._operations=void 0,this._telemetryMessage="",this._telemetryParameters=[],this._operations=[]}addOperation(e,t){this._telemetryMessage="to"===e||"from"===e?this._telemetryMessage?"".concat(this._telemetryMessage,", ").concat(t):t:this._telemetryMessage?"".concat(this._telemetryMessage,", ").concat(e):e,t&&this._operations.push({name:e,value:t})}addQueryInfoAndSendLog(e,t){i.tracer&&(this._addTelemetryParameter("viewId",e),this._addTelemetryParameter("entityLogicalName",t),this._addTelemetryParameter("operations",this._operations),i.tracer.info("[".concat(a,"] ").concat(t,"-").concat(e,": ")+this._telemetryMessage,this._telemetryParameters))}_addTelemetryParameter(e,t){t&&this._telemetryParameters.push({name:e,value:t})}}function o(e){var t=[];if(e){var n,a,i,o,c,s,u;null!=e&&e.viewId&&t.push({name:"viewId",value:r.a.toString(null==e?void 0:e.viewId)}),null!=e&&e.entityLogicalName&&t.push({name:"entityLogicalName",value:null==e?void 0:e.entityLogicalName}),null!=e&&e.useModernQueryBuilder&&t.push({name:"useModernQueryBuilder",value:null==e?void 0:e.useModernQueryBuilder});var l,d,f=[];if(f.push({name:"isQuickFindSearch",value:null==e?void 0:e.isQuickFindSearch}),null==e||null===(n=e.sorts)||void 0===n||n.forEach(e=>{f.push({name:"orderBy",value:e})}),null!=e&&null!==(a=e.wheres)&&void 0!==a&&a.length&&(null==e||null===(i=e.wheres)||void 0===i?void 0:i.length)>0)f.push({name:"where",value:null==e||null===(l=e.wheres)||void 0===l?void 0:l.length});if(null!=e&&null!==(o=e.selects)&&void 0!==o&&o.length&&(null==e||null===(c=e.selects)||void 0===c?void 0:c.length)>0)f.push({name:"select",value:null==e||null===(d=e.selects)||void 0===d?void 0:d.toString()});null==e||null===(s=e.linkEntities)||void 0===s||s.forEach(e=>{f.push({name:"addLinkedEntity",value:e})}),null==e||null===(u=e.contextFiltersAndIds)||void 0===u||u.forEach(e=>{f.push({name:"applyContextFilter",value:e})}),null!=e&&e.rollupType&&f.push({name:"applyRollupContextFilter",value:null==e?void 0:e.rollupType.toString()}),t.push({name:"operations",value:f})}return t}i.tracer=void 0},20865:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n(20585),a=n(20828),i=n(20755),o=n(20753),c=n(20816),s=n(20626),u=n(20866),l=n(20751),d=n(20738),f=n(20867),p=n(20870);function h(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function v(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){h(i,r,a,o,c,"next",e)}function c(e){h(i,r,a,o,c,"throw",e)}o(void 0)}))}}function m(){return{type:"user.retrieve.async",execute:(e,t)=>v((function*(){var{dispatch:n}=e,r=t.TraceManager.getTracer(l.d.UserContext);try{var o=new a.a(null,null,null,null,[],!1,c.a.UserContext,null,[],null),u={cultureInfo:{},timeZoneDefinitions:[],name:"",id:""},p=new i.a;p.ClientMetadataQuery=g(o);var h=yield n(Object(s.c)(p)),v=yield Object(s.e)(h,r);if(v.Metadata){var m=JSON.parse(v.Metadata);if(m&&m.UserContext&&m.UserContext[0]){var b;if(null===(b=t.AdditionalParameters)||void 0===b||!b.EnableCanvasOffline||m.UserContext[0].UserSettings||m.UserContext[0].OrganizationSettings){var O,E=JSON.parse(m.UserContext[0].UserSettings.ClientCultureInfo);u.cultureInfo=E,u.timeZoneDefinitions=m.UserContext[0].TimeZoneDefinitions,u.name=m.UserContext[0].UserName||"",u.id=m.UserContext[0].UserId||"",null!==(O=t.AdditionalParameters)&&void 0!==O&&O.EnableCanvasOffline&&(u=Object.assign(u,Object(f.a)(m)),yield n(y(u,t)))}else u=Object.assign(u,Object(f.b)(m)),yield n(y(u,t));return u}var _="UserContext response is empty or null";throw r.error(_),new Error(_)}var S="UserContext response.Metadata is empty or null";throw r.error(S),new Error(S)}catch(C){Object(d.b)(C)}}))()}}function y(e,t){return{type:"user.retrieve.async",execute:(n,r)=>v((function*(){var{dispatch:r}=n;try{var a=yield Object(u.a)(e,t);return r({type:"user.retrieve",payload:a}),r(Object(p.a)(a.fcbs)),a}catch(i){Object(d.b)(i)}}))()}}function g(e){var t=e&&Array.isArray(e.Exclude)&&e.Exclude.map(r.a.fromLegacyGuid)||[],n=new o.a;return n.MetadataType=e.MetadataType,n.MetadataSubtype=e.MetadataSubtype,n.EntityLogicalName=e.EntityLogicalName,n.MetadataId=r.a.fromLegacyGuid(e.MetadataId),n.MetadataNames=e.MetadataNames,n.GetDefault=e.GetDefault,n.DependencyDepth=e.DependencyDepth,n.ChangedAfter=e.ChangedAfter,n.Exclude=t,n.AppId=e.AppId&&r.a.fromLegacyGuid(e.AppId)||null,n}},20866:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(20734),a=n(20585),i=n(20592),o=n(20588);function c(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){c(i,r,a,o,s,"next",e)}function s(e){c(i,r,a,o,s,"throw",e)}o(void 0)}))}}function u(e,t){return l.apply(this,arguments)}function l(){return(l=s((function*(e,t){var n,i,o,c={};e.usersettings&&(c=yield d(t,e.usersettings,e.timezonedefinitionsbycode));var s={initialized:r.a.Initialized,userId:null!==(n=e.userid)&&void 0!==n&&n.rawguid?a.a.tryParse(null===(i=e.userid)||void 0===i?void 0:i.rawguid):a.a.EMPTY,userDisplayName:null!==(o=e.username)&&void 0!==o?o:"",userSettings:c},u={};return e.organizationsettings&&(u=p(e.organizationsettings)),{user:s,organization:{initialized:r.a.Initialized,organizationSettings:u},fcbs:{clientFCBs:e.fcbscontext}}}))).apply(this,arguments)}function d(e,t,n){return f.apply(this,arguments)}function f(){return(f=s((function*(e,t,n){var r={};r.timeZoneUtcOffsetMinutes=null==t?void 0:t.timezoneutcoffsetminutes,r.languageId=null==t?void 0:t.languageid,r.timeZoneAdjusters=h(t.timezoneadjusters),r.dateFormatInfo=null==t?void 0:t.datetimeformatinfo;var a={};for(var c in n){var s=n[c];a[c]={bias:s.get_Bias(),timeZoneCode:s.get_TimeZoneCode(),userInterfaceName:s.get_UserInterfaceName()}}r.timeZoneDefinitionByCode=a;var u=yield Object(i.a)(e),l=[];if(!Object(o.v)(u)&&u.length>0)for(var d=0;d<u.length;d++)l.push(u.item(d).logicalname);return r.offlineProfileAvailableEntities=l,r}))).apply(this,arguments)}function p(e){var t={};return t.languageCode=null==e?void 0:e.languagecode,t.fullNameConventionCode=e.fullnameconventioncode,t.orgCultureInfoLCID=null==e?void 0:e.orgcultureinfolcid,t.pricingDecimalPrecision=null==e?void 0:e.pricingdecimalprecision,t.mobileOfflineSyncInterval=null==e?void 0:e.mobileofflinesyncinterval,t}function h(e){return e.map(e=>({dateStart:e.datestart,dateEnd:e.dateend,daylightStart:{day:e.daylightstart.day,month:e.daylightstart.month,dayOfWeek:e.daylightstart.dayofweek,week:e.daylightstart.week,timeOfDay:e.daylightstart.timeofday,isFixedDateRule:e.daylightstart.isfixeddaterule},delta:e.delta,daylightEnd:{day:e.daylightend.day,month:e.daylightend.month,dayOfWeek:e.daylightend.dayofweek,week:e.daylightend.week,timeOfDay:e.daylightend.timeofday,isFixedDateRule:e.daylightend.isfixeddaterule}}))}},20867:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return s}));var r=n(20587),a=n(20868),i=n(20869),o=n(20705);function c(e){var t={};t.username=e.UserContext[0].UserName||"",t.userid=new r.a(e.UserContext[0].UserId.replace(/-/g,"")).getObjectData(),t.usersettings=function(e){var t=JSON.parse(e.UserContext[0].UserSettings.ClientCultureInfo);return{timezoneutcoffsetminutes:e.UserContext[0].UserSettings.TimeZoneUtcOffsetMinutes,languageid:e.UserContext[0].UserSettings.LanguageId,userculturelcid:e.UserContext[0].UserSettings.UserCultureLcid,userCultureName:e.UserContext[0].UserSettings.UserCultureName,isfareastlanguage:[1041,2052,1028].indexOf(e.UserContext[0].UserSettings.UserCultureLcid)>=0,timezoneadjusters:e.UserContext[0].UserSettings.TimeZoneAdjustmentRules.map(e=>Object(a.a)(e)),numberformatinfo:t.numberFormat,datetimeformatinfo:t.dateTimeFormat,showweeknumber:e.UserContext[0].UserSettings.ShowWeekNumber,isrtl:[1037,1025].indexOf(e.UserContext[0].UserSettings.LanguageId)>=0,workDayStartTime:e.UserContext[0].UserSettings.WorkDayStartTime}}(e),t.organizationsettings=function(e){return{fullnameconventioncode:e.UserContext[0].OrganizationSettings.FullNameConventionCode,languagecode:e.UserContext[0].OrganizationSettings.LanguageCode,orgcultureinfolcid:e.UserContext[0].OrganizationSettings.OrgCultureInfoLcid,pricingdecimalprecision:e.UserContext[0].OrganizationSettings.PricingDecimalPrecision,mobileofflinesyncinterval:e.UserContext[0].OrganizationSettings.MobileOfflineSyncInterval}}(e),t.fcbscontext=function(e){var t={};if(void 0!==e.UserContext[0].SimpleFCBContext&&null!==e.UserContext[0].SimpleFCBContext)return e.UserContext[0].SimpleFCBContext;if(void 0!==e.UserContext[0].ReducedFCBContext&&null!==e.UserContext[0].ReducedFCBContext){var n=e.UserContext[0].ReducedFCBContext;if(void 0!==n.Reduced&&null!==n.Reduced)for(var r of n.Reduced){for(var a of r.Enabled)t[a]=!0;for(var i of r.Disabled)t[i]=!1}if(void 0!==n.NonReduced&&null!==n.NonReduced)for(var o of n.NonReduced)t[o.FeatureName]=o.Value}else if(void 0!==e.UserContext[0].FCBContext&&null!==e.UserContext[0].FCBContext){if(void 0!==e.UserContext[0].FCBContext.length&&0===e.UserContext[0].FCBContext.length)return t;for(var c of e.UserContext[0].FCBContext)t[c.FeatureName]=c.Value}return t}(e);var n={};return e.UserContext[0].TimeZoneDefinitions.map(e=>{var t=new i.a(e.Bias,e.TimeZoneCode,e.UserInterfaceName);n[t.get_TimeZoneCode().toString()]=t}),t.timezonedefinitionsbycode=n,t}function s(e){var t,n=e.UserContext[0];if(null!=n&&null!==(t=n.usersettings)&&void 0!==t&&t.timezoneadjusters&&(n.usersettings.timezoneadjusters=Object(o.f)(n.usersettings.timezoneadjusters)),n.timezonedefinitionsbycode){var r={};Object.keys(n.timezonedefinitionsbycode).map(e=>{var t;r[e]=i.a.createFromObjectData(null===(t=n.timezonedefinitionsbycode)||void 0===t?void 0:t[e])}),n.timezonedefinitionsbycode=r}return n}},20868:function(e,t,n){"use strict";function r(e){var t,n;return{datestart:new Date(e.DateStart),dateend:new Date(e.DateEnd),delta:(t=e.DaylightDelta,n=t.toString().split(":"),36e5*Number.parseInt(n[0],10)+6e4*Number.parseInt(n[1],10)+1e3*Number.parseInt(n[2],10)),daylightstart:{day:e.DaylightTransitionStart.Day,dayofweek:e.DaylightTransitionStart.DayOfWeek,month:e.DaylightTransitionStart.Month-1,week:e.DaylightTransitionStart.Week,timeofday:new Date(e.DaylightTransitionStart.TimeOfDay),isfixeddaterule:e.DaylightTransitionStart.IsFixedDateRule},daylightend:{day:e.DaylightTransitionEnd.Day,dayofweek:e.DaylightTransitionEnd.DayOfWeek,month:e.DaylightTransitionEnd.Month-1,week:e.DaylightTransitionEnd.Week,timeofday:new Date(e.DaylightTransitionEnd.TimeOfDay),isfixeddaterule:e.DaylightTransitionEnd.IsFixedDateRule}}}n.d(t,"a",(function(){return r}))},20869:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));class r{constructor(e,t,n){this._bias=0,this._timeZoneCode=0,this._userInterfaceName=void 0,this._bias=e,this._timeZoneCode=t,this._userInterfaceName=n}get_Bias(){return this._bias}get_TimeZoneCode(){return this._timeZoneCode}get_UserInterfaceName(){return this._userInterfaceName}getObjectData(){var e={};return e.bias=this._bias,e.timezonecode=this._timeZoneCode,e.userinterfacename=this._userInterfaceName,e}static createFromObjectData(e){var t=e.bias,n=e.timezonecode,a=e.userinterfacename;return new r(t,n,a)}}},20870:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(20611),a=n(20758);r.g,r.j,r.h,r.d,r.e,r.c,r.b,r.f,a.j,a.k,a.l,a.c,a.d,a.e,a.f,a.g,r.i,r.a;function i(e){return{type:"featureControlManager.setFCBs",payload:e}}},20871:function(e,t,n){"use strict";n.d(t,"a",(function(){return I})),n.d(t,"b",(function(){return w})),n.d(t,"c",(function(){return j}));var r=n(20585),a=n(20619),i=n(20781),o=n(20782),c=n(20767),s=n(20626),u=n(20777),l=n(20872),d=n(20737),f=n(20792),p=(n(20873),n(20738)),h=n(20623),v=n(20733),m=n(20874),y=n(20875),g=n(20876),b=n(20763);function O(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function E(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){O(i,r,a,o,c,"next",e)}function c(e){O(i,r,a,o,c,"throw",e)}o(void 0)}))}}function _(e,t,n,r){return{type:"multipledataSnapshot.savefromMultipleSnapshot.async",execute:(a,i)=>E((function*(){var{getState:o,dispatch:c}=a,s=[],u=new Map,l=i.TraceManager.getTracer("Forms.SaveForms"),d=0;for(var f of e)yield c(Object(v.b)(N({},f)));for(var h of e){var y=S(o(),h,l,t);s.push(y),u.set(d++,h);var g=h.snapshotId;g&&c(Object(m.a)(g,!0))}try{for(var O=[s],E=yield c(Object(b.b)(O)),_=[],w=0;w<E.length;w++){var T=s[w].getMetadata().operationName;if("Update"===T||"Create"===T){var j=u.get(w);if(j){var P=n&&n[j.identifier.etn];_.push(c(C(j,E[w],j.snapshotId,P,r)))}}}return Promise.all(_)}catch(A){var I=Object(p.c)(A),R=I.faultedRequestIndex;if(R>-1&&u.size>R){var M=u.get(R);M&&(I.faultedSnapshotId=M.snapshotId),I.snapshot=M}for(var x of e){var D=x.snapshotId;D&&c(Object(m.a)(D,!1))}throw I}}))()}}function S(e,t,n,a){if(t&&t.identifier){var o=I(e,t,n),c=Object(f.b)(e,o);if(t.mode===l.a.Create){if(!r.a.isNullOrEmpty(t.identifier.id)){var s=t.identifier.etn,u=Object(d.b)(e,s);if(u){var p=u.PrimaryIdAttribute;p&&!c.hasOwnProperty(p)&&(c[p]=r.a.toString(t.identifier.id))}}return new i.a(t.identifier.etn,c,a)}return new i.f(t.identifier.etn,r.a.toString(t.identifier.id),c,null,null,!1,a)}throw P()}function C(e,t,n,i,c){return{type:"dataSnapshot.refreshRecordAndUpdateSnapshot.async",execute:(s,u)=>E((function*(){var{dispatch:f,getState:p}=s,h=e.mode===l.a.Create,v=Object(d.h)(p(),e.identifier.etn),m=yield Object(o.a)(v,t),b=new a.a(e.identifier.etn,m);return n&&h&&f(Object(g.a)(n,l.a.Update)),n&&r.a.isNullOrEmpty(e.identifier.id)&&f(Object(y.a)(n,b)),i&&u.DataLayerConfiguration.DataProvider&&(yield u.DataLayerConfiguration.DataProvider.refreshRecordData(b,h,i,c)),n&&f(function(e){return{type:"dataSnapshot.removeLockedChanges",payload:null,meta:e}}(n)),b}))()}}function w(e,t,n,r){return{type:"dataSnapshot.savefromSnapshot.async",execute:a=>E((function*(){var{dispatch:i}=a;return i(T(e,t,null,n,r))}))()}}function T(e,t,n,r,a){return{type:"dataSnapshot.save.async",execute:(i,o)=>E((function*(){var{getState:c,dispatch:u}=i;null!=e&&e.identifier||P(),yield u(Object(v.b)(N({},e,r)));var l=o.TraceManager.getTracer("Forms.SaveForm"),d=S(c(),e,l,t);n&&u(Object(m.a)(n,!0));try{var f=yield u(Object(s.c)(d));return u(C(e,f,n,r,a))}catch(h){n&&u(Object(m.a)(n,!1)),Object(p.b)(h)}}))()}}function j(e,t){return{type:"multipledataSnapshot.savefromMultipleSnapshot.async",execute:n=>E((function*(){var{dispatch:r}=n;return r(_(e,t))}))()}}function N(e,t,n){var r=n?n.slice(0):[];for(var a in Object(h.a)(e,t.identifier.etn,r),t.activeChanges){r.push(a);var i=t.activeChanges[a];if(Object(u.e)(i)){var o=i;if(o.list)for(var c of o.list){var s,l=null===(s=c.identifier)||void 0===s?void 0:s.etn;l&&Object(h.a)(e,l,c.fields?Object.keys(c.fields):[])}}else if(Object(u.h)(i)){var d,f=i;(null===(d=f.reference)||void 0===d?void 0:d.etn)&&Object(h.a)(e,f.reference.etn,[])}}return e}function P(e){var t=new p.a("Invalid snapshot");throw e&&(t.errorParameters=[{name:"SnapshotId",value:e}]),t}function I(e,t,n){return c.a.recordDataToLegacyEntityRecord(e,t.identifier,t.activeChanges,t.snapshotId,n)}},20872:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return e[e.Create=2]="Create",e[e.Update=3]="Update",e}({})},20873:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n(20619),n(20765);function r(e,t){return e&&e.data&&e.data.snapshots&&t&&e.data.snapshots.hasOwnProperty(t)?e.data.snapshots[t]:null}},20874:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));function r(e,t,n){return{type:"dataSnapshot.setLock",payload:t,meta:{snapshotId:e,selectedFields:n}}}},20875:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));function r(e,t){return{type:"dataSnapshot.updateIdentifier",payload:t,meta:e}}},20876:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));function r(e,t){return{type:"dataSnapshot.updateMode",payload:t,meta:e}}},20877:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(11401),a=n(20751),i=n(20622);function o(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}class c{constructor(){this._context=void 0}initialize(e){this._context=e}getAuthToken(){var e,t=this;return(e=function*(){var e,n=null===(e=t._context)||void 0===e?void 0:e.TraceManager.getTracer(a.d.AuthenticationProvider);try{var o,c=yield Object(r.b)(null===(o=t._context)||void 0===o?void 0:o.DataLayerConfiguration.baseUri);if(Object(i.a)(c)||Object(i.a)(c.accessToken))throw null==n||n.error("getAuthToken failed to acquire token"),new Error("getAuthToken failed to acquire token");return c.accessToken}catch(s){throw null==n||n.error(s.message),s}},function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function c(e){o(i,r,a,c,s,"next",e)}function s(e){o(i,r,a,c,s,"throw",e)}c(void 0)}))})()}getUserObjectId(){return"00000000-0000-0000-0000-000000000000"}getTenantId(){return"00000000-0000-0000-0000-000000000000"}}},20878:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(20744);class a{constructor(){this._currentPage=void 0,this._store=void 0}initialize(e){this._store=e}getCurrentPage(){return this._currentPage}setCurrentPage(e){this._currentPage=e}runGarbageCollection(e){this._store&&this._store.dispatch(Object(r.c)(e))}}},20879:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return h}));var r=n(15046),a=n(20831),i=n(20830),o=n(20751),c=n(20880),s=n(20884);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}class p{constructor(e){this.metadataChangeListenerList=void 0,this._innerMetadataProvider=void 0,this._store=void 0,this._context=void 0,this.metadataChangeListenerList=[],this._innerMetadataProvider=e}initialize(e,t){this._store=e,this._context=t}get metadataProvider(){return this._innerMetadataProvider}retrieveEntities(e){var t,n=this;return(t=function*(){var t,a=yield n._innerMetadataProvider,i=e&&Object.keys(e).sort(),c={},u=null===(t=n._context)||void 0===t?void 0:t.TraceManager.getTracer("RetrieveEntity");for(var l of i){Object(s.a)(l,n,n._store.getState,n._store.dispatch,n._context);var d={solutionId:"",solutionName:"",entityName:l,entityId:""},f={fetchModelComponents:!1,retryOnFailure:!1,solutionFilterMode:r.SolutionFilterMode.RemoveOtherSolutions,fetchAutoNumberDetails:!1,fetchLookupRelatedEntityLabels:!1},p={scenarioName:"".concat(o.e).concat("RetrieveEntity")},h=yield a.fetchExpandedEntity(d,f,p),v=n._convertMclEntityToMetadataState(h,u);Object.assign(c,v)}return c},function(){var e=this,n=arguments;return new Promise((function(r,a){var i=t.apply(e,n);function o(e){f(i,r,a,o,c,"next",e)}function c(e){f(i,r,a,o,c,"throw",e)}o(void 0)}))})()}_convertMclEntityToMetadataState(e,t){var n=[],r={};for(var a of e.Attributes)n.push(a.LogicalName),r[a.LogicalName]=h(a,e.LogicalName,t);var o=l(l({},e),{},{AttributeNames:n}),s=Object(i.b)([o],0,0,null,c.f.Initialized,t);return s.attributes&&(s.attributes[null==e?void 0:e.LogicalName]=r),s}}function h(e,t,n){var r=l(l({},e),{},{EntityLogicalName:t,ColumnNumber:0,IntroducedVersion:"",DeprecatedVersion:"",HasChanged:!1,IsEntityReferenceStored:!1,LinkedAttributeId:null,ExtensionData:null,AttributeOf:e||""});return Object(a.b)(r,n)}},20880:function(e,t,n){"use strict";n(20881);var r=n(20586);n.d(t,"b",(function(){return r.a}));var a=n(20585);n.d(t,"e",(function(){return a.a}));var i=n(20619);n.d(t,"c",(function(){return i.a}));var o=n(20734);n.d(t,"f",(function(){return o.a}));var c=n(20882);n.d(t,"a",(function(){return c.a}));var s=n(20795);n.d(t,"d",(function(){return s.a}));var u=n(20859);n.d(t,"g",(function(){return u.a}));var l=n(20883);n.d(t,"i",(function(){return l.a}));var d=n(20777);n.d(t,"j",(function(){return d.a})),n.d(t,"k",(function(){return d.b})),n.d(t,"l",(function(){return d.d}));var f=n(20872);n.d(t,"h",(function(){return f.a}))},20881:function(e,t,n){},20882:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));class r{constructor(e,t){this._etn=void 0,this._attributeName=void 0,this._etn=e,this._attributeName=t}get etn(){return this._etn}set etn(e){this._etn=e}get attributeName(){return this._attributeName}set attributeName(e){this._attributeName=e}}},20883:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));class r{constructor(e){this._value=void 0,this._value=e}get value(){return this._value}set value(e){this._value=e}}},20884:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(20744);function a(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function c(e){a(o,r,i,c,s,"next",e)}function s(e){a(o,r,i,c,s,"throw",e)}c(void 0)}))}}function o(e,t,n,a){return i((function*(){var i;(null===(i=a.TraceManager)||void 0===i?void 0:i.getTracer("MetadataChangeHandler")).info("metadata change listener was invoked for entity : "+e),n(function(e,t){var n={},a={};return Object(r.e)(e,t,n,a),Object(r.d)({entities:n,attributes:a})}(t(),e))}))}function c(e,t,n,r,a){return s.apply(this,arguments)}function s(){return(s=i((function*(e,t,n,r,a){-1===t.metadataChangeListenerList.indexOf(e)&&(t.metadataChangeListenerList.push(e),(yield t.metadataProvider).subscribe({logicalName:e},o(e,n,r,a)))}))).apply(this,arguments)}},20885:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(11021),a=n(20886),i=n(20584),o=n(20889);class c{getCurrentSessionId(){return Object(r.y)()}getActivityId(){return""}ReportComponentPerformance(e,t,n,c,s){var u=Object(a.b)(t,c,s);Object(o.c)(i.h+e,u,r.g.Complete,r.h.Information,n)}ReportComponentSuccess(e,t){var n=Object(o.a)(t);Object(o.c)(i.i+e,n,r.g.Complete,r.h.Information)}ReportComponentFailure(e,t,n,c){if(!t||!t.blockErrorReporting){var s=Object(a.a)(t,n,c);Object(o.c)(i.f+e,s,r.g.Failure,r.h.Error)}}getScenarioTracker(e,t,n){var a;switch(e){case i.p.Create:a=Object(r.N)(i.j,t,Object(o.a)(n));break;case i.p.Delete:a=Object(r.Q)(i.j,t,Object(o.a)(n));break;case i.p.Update:a=Object(r.eb)(i.j,t,Object(o.a)(n));break;case i.p.Load:a=Object(r.X)(i.j,t,Object(o.a)(n))}return{complete:e=>{var n,r=Object(o.a)(e);null===(n=a)||void 0===n||n.complete(r),t&&this.ReportComponentSuccess(t,e)},progress:e=>{var t,n=Object(o.a)(e);null===(t=a)||void 0===t||t.progress(n)},failure:e=>{var n,r=Object(o.a)(e);null===(n=a)||void 0===n||n.failure(r),t&&this.ReportComponentFailure(t,e)},completeWithError:e=>{var n,r=Object(o.a)(e);null===(n=a)||void 0===n||n.completeWithError(r),t&&this.ReportComponentFailure(t,e)}}}ReportEvent(e,t){}}},20886:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return s}));var r=n(20887),a=n(20888),i=n(20584);function o(e){var t={};return Object(a.a)(e)||null==e||e.forEach(e=>{t[null==e?void 0:e.name]=null==e?void 0:e.value}),t}function c(e,t,n){var r=o(t);return e&&(r[i.l]=e),n&&(r[i.n]=n),r}function s(e,t,n){var a=Object(r.a)(e),c=o(n);return a&&a.message&&(c[i.k]=a.message),a&&a.stack&&(c[i.m]=a.stack),t&&(c[i.o]=t),function(e,t){if(!e||!t)return;if(t.errorParameters)for(var n of t.errorParameters)e[n.name]=n.value;if(t.innerError){var r;r="string"==typeof t.innerError||t.innerError instanceof String?t.innerError.valueOf():JSON.stringify(t.innerError),e[i.e]=r}t.errorCode&&(e[i.b]=t.errorCode)}(c,e),c}},20887:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));function r(e,t){if(e instanceof Error)return e;if(!e){return null==t||t.info("No error data provided."),Error("No error data provided.")}var n=function(e,t){var n,r=Error("blank"),a="";e.source&&(e.source.actionType&&(a+="\nactionType: "+e.source.actionType),e.source.contextId&&(a+="\ncontextId: "+e.source.contextId));e.reason&&(e=e.reason);if(e.errorFault&&(e.errorFault.get_Message||e.errorFault.get_message)&&e.errorFault.get_responseText)return r.message=(e.errorFault.get_message?e.errorFault.get_message():e.errorFault.get_Message())+a,r.stack=e.errorFault.get_responseText(),n=[{name:"ErrorMessage",value:r.message}],null==t||t.warn("Unsupported codepath: Error object for telemetry being created from ErrorFault.",n),r;if(e.get_organizationServiceFault){var i=e.get_organizationServiceFault().get_innerFault();if(i&&i.get_message&&i.get_callStack)r.message=i.get_message()+a,r.stack=i.get_callStack();else{if(!e.get_error)return n=[{name:"OrganizationServiceFault",value:JSON.stringify(e.get_organizationServiceFault())}],null==t||t.warn("Unsupported codepath: Error object for telemetry being created from OrganizationServiceFault. Unable to get errordetails.",n),null;r.message=e.get_error()+a,r.stack="No stack available."}return n=[{name:"ErrorMessage",value:r.message}],null==t||t.warn("Unsupported codepath: Error object for telemetry being created from OrganizationServiceFault.",n),r}if(e.get_Message)return r.message=e.get_Message()+a,r.stack=e.get_Stack?e.get_Stack():"No stack available.",n=[{name:"ErrorMessage",value:r.message}],null==t||t.warn("Unsupported codepath: Error object for telemetry being created from CrmErrorStatus.",n),r;if(e.message)return r.message=e.message+a,r.stack=e.stack||"No stack available.",r;return null}(e,t);if(n)return n;var r=Error("blank");if("string"==typeof e||e instanceof String)r.message=e.valueOf();else if(e.message)r.message=e.message;else{var a="";try{a=JSON.stringify(e)}catch(o){a="Error provided failed to be stringified: "+o.message}r.message=a;var i="Error provided lacks error message: "+a;null==t||t.info(i)}return e.stack?r.stack=e.stack:r.stack="No stack available.",r}},20888:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));function r(e){return null==e}},20889:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return l}));var r=n(11021),a=n(20584),i=n(20622),o=n(20738),c=function(e){return e[e.PrivilegeDenied=2147746336]="PrivilegeDenied",e[e.IntegerValueOutOfRange=2147762991]="IntegerValueOutOfRange",e[e.InvalidDateTime=2147746361]="InvalidDateTime",e[e.InvalidCharactersInField=2147746424]="InvalidCharactersInField",e[e.StringLengthTooLong=2147762993]="StringLengthTooLong",e[e.DecimalValueOutOfRange=2147762992]="DecimalValueOutOfRange",e[e.ObjectDoesNotExist=2147746327]="ObjectDoesNotExist",e[e.SdkEntityDoesNotSupportMessage=2147747840]="SdkEntityDoesNotSupportMessage",e[e.InvalidArgument=2147746307]="InvalidArgument",e[e.CrmSecurityError=2147746390]="CrmSecurityError",e[e.ProcessImageFailure=2147951955]="ProcessImageFailure",e[e.CrmHttpError=2147879050]="CrmHttpError",e[e.CannotUpdateNameDefaultTeam=2147779338]="CannotUpdateNameDefaultTeam",e[e.CannotDeleteDefaultTeam=2147779335]="CannotDeleteDefaultTeam",e[e.CannotDeleteDueToAssociation=2147746343]="CannotDeleteDueToAssociation",e[e.CannotDeleteSystemForm=2147808850]="CannotDeleteSystemForm",e[e.FallbackQuickFormDeactivation=2147808869]="FallbackQuickFormDeactivation",e[e.CascadeOperationConcurrentRequested=2147778821]="CascadeOperationConcurrentRequested",e[e.UserNotAssignedRoles=2147757833]="UserNotAssignedRoles",e}(c||{});function s(e){var t={};return Object(i.a)(e)||null==e||e.forEach(e=>{t[null==e?void 0:e.name]=null==e?void 0:e.value}),t}function u(e,t,n,i,o){var c={eventName:e,eventData:t,eventDuration:o,eventModifier:n,eventSeverity:i};Object(r.O)(a.j,c)}function l(e,t){var n=Object(o.f)(e),r=[c.PrivilegeDenied,c.IntegerValueOutOfRange,c.InvalidDateTime,c.InvalidCharactersInField,c.StringLengthTooLong,c.DecimalValueOutOfRange,c.ObjectDoesNotExist,c.SdkEntityDoesNotSupportMessage,c.InvalidArgument,c.CrmSecurityError,c.UserNotAssignedRoles,c.CannotDeleteDefaultTeam,c.CannotDeleteDueToAssociation,c.CannotDeleteSystemForm,c.FallbackQuickFormDeactivation,c.CascadeOperationConcurrentRequested,c.CannotUpdateNameDefaultTeam];return!(null!=n&&r.indexOf(n)>-1)&&(!(t&&n===c.ProcessImageFailure&&(null==t?void 0:t.indexOf("We don't allow uploading of non-primary image attribute during Create operation."))>-1)&&(!t||n!==c.CrmHttpError||null==t||!t.startsWith("Resource not found for the segment")))}},20890:function(e,t,n){"use strict";n.d(t,"k",(function(){return r})),n.d(t,"h",(function(){return a})),n.d(t,"j",(function(){return i})),n.d(t,"i",(function(){return o})),n.d(t,"g",(function(){return c})),n.d(t,"l",(function(){return s})),n.d(t,"m",(function(){return u})),n.d(t,"f",(function(){return l})),n.d(t,"v",(function(){return d})),n.d(t,"r",(function(){return f})),n.d(t,"u",(function(){return p})),n.d(t,"s",(function(){return h})),n.d(t,"q",(function(){return v})),n.d(t,"w",(function(){return m})),n.d(t,"x",(function(){return y})),n.d(t,"b",(function(){return g})),n.d(t,"c",(function(){return b})),n.d(t,"o",(function(){return O})),n.d(t,"y",(function(){return E})),n.d(t,"a",(function(){return _})),n.d(t,"d",(function(){return S})),n.d(t,"p",(function(){return C})),n.d(t,"e",(function(){return w})),n.d(t,"n",(function(){return T})),n.d(t,"t",(function(){return j}));var r="MDLDataProvider.RetrieveUserContext",a="MDLDataProvider.RetrieveGridData",i="MDLDataProvider.RetrieveRecordData",o="MDLDataProvider.RetrieveMultipleRecordsData",c="MDLDataProvider.RetrieveEntity",s="MDLDataProvider.SaveDataSnapshot",u="MDLDataProvider.SaveMultipleDataSnapshots",l="MDLDataProvider.DeleteRecords",d="RetrieveUserContext",f="RetrieveGridData",p="RetrieveRecordData",h="RetrieveMultipleRecordsData",v="RetrieveEntity",m="SaveDataSnapshot",y="SaveMultipleDataSnapshots",g="DeleteRecords",b="DeleteRecordsCount",O="OperationName",E="SuppressDuplicateDetection",_="ContextId",S="EntityLogicalName",C="RefreshContext",w="IsCachedResponse",T="MultipleDataSnapshotsRecordCount",j="RetrieveRecordsCount"},20891:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(20892),a=n(20584),i=n(20893);class o{getTracer(e){return new i.a(null!=e?e:a.g)}getLogLevel(e){return r.a.Info}setLogLevel(e,t){}addDefaultTransport(e){}setTraceAreas(e){}}},20892:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return e[e.Off=0]="Off",e[e.Error=1]="Error",e[e.Warning=2]="Warning",e[e.Info=3]="Info",e[e.Verbose=4]="Verbose",e}({})},20893:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(11021),a=n(20892),i=n(20584),o=n(20889);class c{constructor(e){this.componentName=void 0,this.componentName=e}getLogLevel(){return a.a.Warning}error(e,t){var n=this.getTraceEvent(e,t),a=new Error(JSON.stringify(e));Object(r.U)(i.j,n,a)}warn(e,t){var n=this.getTraceEvent(e,t);Object(r.jb)(i.j,n)}info(e,t){var n=this.getTraceEvent(e,t);Object(r.W)(i.j,n)}debug(e,t){var n=this.getTraceEvent(e,t);Object(r.P)(i.j,n)}getTraceEvent(e,t){var n=Object(o.a)(t);return n[i.k]=e,{eventName:this.componentName,eventData:n}}}},20894:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(20895);class a{constructor(){this._store=void 0}getStore(){return this._store}initialize(e){return this._store=Object(r.a)(e),this._store}getActions(){return{}}}},20895:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(20896),a=n(20897),i=n(20898),o=n(20901),c=n(20904);function s(e){var t={metadata:o.a,data:i.a,garbageCollector:r.a},n=Object(a.a)(t),s=Object(c.a)(n,e);s.currentReducerMap=t;var u=Math.random().toString(36).slice(2);return window["__storeMDL$".concat(u)]=s,s}},20896:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(20857),a=n(20856),i=n(20858),o={ribbons:i.d,entities:i.c},c={metadata:Object(r.a)(o),data:a.b},s=Object(r.a)(c)},20897:function(e,t,n){"use strict";function r(e){return function(e){return(t,n)=>{var r=void 0===t?{}:t,a={},i=!1,o=Object.keys(e);for(var c of o){var s=e[c],u=r[c],l=s(u,n);a[c]=l,i=i||l!==u}var d=i?a:r;return Object.freeze(d)}}(a(e))}function a(e){var t={},n=Object.keys(e);for(var r of n)t[r]=e[r];return t}n.d(t,"a",(function(){return r}))},20898:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(20899),a=n(20900),i=n(20897),o={entities:r.a,lists:a.a},c=Object(i.a)(o)},20899:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(20734),a=n(20735),i=[a.c,a.g,a.e,a.a,a.d],o={};function c(e,t){var n=Object.assign({},e.fields,t.fields),r=null;for(var a in e.accessRights?r=t.accessRights?{recordPrivileges:t.accessRights.recordPrivileges,attributePrivileges:Object.assign({},e.accessRights.attributePrivileges,t.accessRights.attributePrivileges)}:e.accessRights:t.accessRights&&(r=t.accessRights),n){var i;(null===n[a]||t.queryColumnNames&&-1!==t.queryColumnNames.indexOf(a)&&(null===(i=t.fields)||void 0===i||!i.hasOwnProperty(a))&&n.hasOwnProperty(a))&&delete n[a]}var o={initialized:t.initialized,fields:n};return e.businessProcessFlowId&&(o.businessProcessFlowId=e.businessProcessFlowId),e.businessProcessFlowInstanceId&&(o.businessProcessFlowInstanceId=e.businessProcessFlowInstanceId),e.processInstanceModifiedTimestamp&&(o.processInstanceModifiedTimestamp=e.processInstanceModifiedTimestamp),r&&(o.accessRights=r),t.identifier&&(o.identifier=t.identifier),o}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0,n={};for(var r in e){var a,i,c=e[r],s=null==t||null===(a=t.payload)||void 0===a||null===(i=a.entities)||void 0===i?void 0:i[r];if(s)for(var u in c)void 0===s[u]&&(n[r]||(n[r]={}),n[r][u]=c[u]);else n[r]=c}return Object.freeze(n)}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0,n=e;return t&&t.payload&&t.payload.entities&&Object.keys(t.payload.entities).forEach(e=>{var r,a,i=null==t||null===(r=t.payload)||void 0===r||null===(a=r.entities)||void 0===a?void 0:a[e];i&&Object.keys(i).forEach(t=>{n&&n[e]&&n[e][t]&&delete n[e][t]})}),Object.freeze(n)}function l(e,t,n,a){var i,o,s=null==a||null===(i=a.payload)||void 0===i||null===(o=i.entities)||void 0===o?void 0:o[t];if(s)if(n.hasOwnProperty(t))for(var u of(n[t]=Object.assign({},e[t]),Object.keys(s)))if(n[t].hasOwnProperty(u)){var l=n[t][u];s[u].initialized!==r.a.Initialized?(n[t][u]=Object.assign({},e[t][u]),n[t][u].initialized=s[u].initialized):(a.type,n[t][u]=c(l,s[u]))}else n[t][u]=s[u];else n[t]=s}function d(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,r=arguments.length>1?arguments[1]:void 0;if(-1===i.indexOf(r.type)||!r.payload||null==r||null===(e=r.payload)||void 0===e||!e.entities||0===Object.keys(null==r||null===(t=r.payload)||void 0===t?void 0:t.entities).length)return n;if(r.type===a.a)return s(n,r);if(r.type===a.d)return u(n,r);var c=Object.assign({},n);for(var d of Object.keys(null==r||null===(f=r.payload)||void 0===f?void 0:f.entities)){var f;l(n,d,c,r)}return Object.freeze(c)}},20900:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(20734),a=n(20735),i=[a.e,a.a],o={};function c(e,t){if(t&&t.payload&&t.payload.lists&&Object.keys(t.payload.lists)&&0===Object.keys(t.payload.lists).length)return e;var n={};for(var r in e){var a;void 0===(null===(a=t.payload.lists)||void 0===a?void 0:a[r])&&(n[r]=e[r])}return Object.freeze(n)}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;if(-1===i.indexOf(t.type)||!t||!t.payload||!t.payload.lists)return e;if(t.type===a.a)return c(e,t);var n=null,s=Object.keys(t.payload.lists);if(!s||!s.length)return e;for(var u=0;u<s.length;u++){var l=s[u];if(e.hasOwnProperty(l)){n=Object.assign({},e);var d=t.payload.lists[l];if(d.initialized===r.a.Initialized&&d.pages){var f,p,h=0,v=Number(Object.keys(d.pages)[0]),m=e[l];if(m&&m.pages&&m.pages[v])if(h=m.pages[v].startIndex,0!==d.totalRecordCount)null===(f=n[l])||void 0===f||null===(p=f.records)||void 0===p||p.splice(h,m.pageSize,...d.records);else n[l].records=[];else m&&m.records?(h=m.records.length,d&&d.records&&(n[l].records=m.records.concat(d.records))):n[l].records=d.records;var y=d.pages[v];n[l].pages=Object.assign({},n[l].pages,{[v]:{startIndex:h,startGuid:y.startGuid,pagingCookie:y.pagingCookie,moreRecords:y.moreRecords}})}n[l].initialized=d.initialized,n[l].lastRetrieved=d.lastRetrieved,n[l].totalRecordCount=d.totalRecordCount,n[l].totalRecordCountLimitExceeded=d.totalRecordCountLimitExceeded}else n=Object.assign({},e,t.payload.lists)}return Object.freeze(n)}},20901:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(20902),a=n(20903),i=n(20897),o={attributes:a.a,entities:r.b,entitiesByTypeCode:r.a},c=Object(i.a)(o);function s(e,t){if(t&&"purge.app.related.metadata"===t.type){var n=Object.freeze(Object.assign({},e,t.payload));return c(n,t)}return c(e,t)}},20902:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return u}));var r=n(20734),a=n(20735),i=n(20744),o=[a.b,i.a,a.f],c={1030:"systemform",1031:"userform"};function s(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1?arguments[1]:void 0;if(!(r&&r.payload&&null!=r&&null!==(e=r.payload)&&void 0!==e&&e.entities&&0!==Object.keys(null==r||null===(t=r.payload)||void 0===t?void 0:t.entities).length&&r.type&&-1!==o.indexOf(r.type)))return n;var a=Object.assign({},n),c=!1;if(r.type===i.a)for(var s in c=!0,null==r||null===(u=r.payload)||void 0===u?void 0:u.entities){var u,d,f;a[s]=null==r||null===(d=r.payload)||void 0===d||null===(f=d.entities)||void 0===f?void 0:f[s]}else for(var p in null==r||null===(h=r.payload)||void 0===h?void 0:h.entities){var h,v,m,y,g,b,O,E,_;if(!a.hasOwnProperty(p)||null!=r&&null!==(v=r.payload)&&void 0!==v&&null!==(m=v.entities)&&void 0!==m&&m[p].VersionNumber&&a[p].VersionNumber!==(null==r||null===(y=r.payload)||void 0===y||null===(g=y.entities)||void 0===g?void 0:g[p].VersionNumber)||l(a[p],null==r||null===(b=r.payload)||void 0===b||null===(O=b.entities)||void 0===O?void 0:O[p]))c=!0,a[p]=Object.assign({},a[p],null==r||null===(E=r.payload)||void 0===E||null===(_=E.entities)||void 0===_?void 0:_[p])}return c?Object.freeze(a):n}function u(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,n=arguments.length>1?arguments[1]:void 0;if(!(n&&n.payload&&null!=n&&null!==(e=n.payload)&&void 0!==e&&e.entities&&n.type&&-1!==o.indexOf(n.type)))return t;var r=Object.assign({},t);for(var a in null==n||null===(i=n.payload)||void 0===i?void 0:i.entities){var i,s,u,l=null==n||null===(s=n.payload)||void 0===s||null===(u=s.entities)||void 0===u?void 0:u[a].ObjectTypeCode;null!=l&&(r[l]=a)}return Object.freeze(r)}function l(e,t){return(e.Initialized===r.a.Uninitialized||e.Initialized===r.a.Partial)&&t.Initialized===r.a.Initialized}},20903:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(20735),a=n(20744),i=[r.b,r.f,a.a];function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;if(-1===i.indexOf(t.type)||!t||!t.payload||!t.payload.attributes)return e;if(t.type===a.a)return c(e,t);var n=Object.assign({},e);for(var o in t.payload.attributes)if(n[o])if(t.type===r.f)for(var s in n[o]=Object.assign({},n[o]),t.payload.attributes[o])n[o].hasOwnProperty(s)||(n[o][s]=Object.assign({},t.payload.attributes[o][s]));else n[o]=Object.assign({},n[o],t.payload.attributes[o]);else n[o]=t.payload.attributes[o];return Object.freeze(n)}function c(e,t){if(!t.payload.attributes||0===Object.keys(t.payload.attributes).length)return e;var n={};for(var r in e){var a=!1;for(var i in t.payload.attributes)if(r===i){a=!0;break}a||(n[r]=e[r])}return n}},20904:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(20905),a=n(20910),i=n(20911),o=n(17480),c=n(20912);function s(e,t,n,s){var u=[];if(n){var l=Object(i.a)(n);u.push(l)}u.push(Object(r.a)(t),a.a,c.a);var d=Object(o.compose)(...u);return Object(o.createStore)(e,s,d)}},20905:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(20906),a=n(20585);function i(e){return t=>(n,i)=>{var o=t(n,i);return function(e,t){var n={subscribe:t.subscribe,getState:t.getState,dispatch:function(e,n){return t.dispatch(e,n)}},i=e.TraceManager.getTracer("ActionLogging"),o=new r.a(n,t.dispatch,e,i);return t.dispatch=function(e,t){return t=t?{entryStack:t.entryStack,stack:(t.stack||"")+" :"+e.type,correlationId:t.correlationId||a.a.toString(a.a.newGuid()),contextId:a.a.toString(a.a.newGuid()),parentContextId:t.contextId||"",isPreloadCall:t.isPreloadCall}:{entryStack:void 0,stack:e.type,correlationId:a.a.toString(a.a.newGuid()),contextId:a.a.toString(a.a.newGuid()),parentContextId:""},o.executeAction(e,t)},t}(e,o)}}},20906:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(20907),a=n(20908),i=n(20909),o=n(20887),c=n(20739),s=n(20622);class u{constructor(e,t,n,r){this._store=void 0,this._dispatch=void 0,this._applicationContext=void 0,this._tracer=void 0,this._pendingActionCache={},this._store=e,this._dispatch=t,this._applicationContext=n,this._tracer=r}executeAction(e,t){return Object(r.a)(e)?this._executeAsync(e,t):this._executeSync(e,t)}_executeSync(e,t){try{return this._beginExecution(e,this._store,this._applicationContext,t),Object(r.b)(e)?void this._executePlainAction(e,t):this._executeSyncAction(e,t)}catch(n){this._handleFailure(n,e,this._store,this._applicationContext,t,!0)}}_executePlainAction(e,t){this._dispatch(e),this._handleSuccess(e,void 0,this._store,this._applicationContext,t)}_executeSyncAction(e,t){var n=this._store,r=e.execute(n,this._applicationContext,t);return this._handleSuccess(e,r,this._store,this._applicationContext,t),r}_executeAsync(e,t){var n=e.cacheKey;return n&&this._pendingActionCache[n]?this._pendingActionCache[n]:this._executeAsyncAction(e,t)}_executeAsyncAction(e,t){var n=new Promise(n=>{this._beginExecution(e,this._store,this._applicationContext,t);var r=function(e,t,n){var r={getState:e.getState,dispatch:n=>e.dispatch(n,t)};n&&(r.subscribe=e.subscribe);return r}(this._store,t,Object(i.a)(e));try{var a=e.execute(r,this._applicationContext,t);a||this._tracer.warn("No promise returned from execute method, ActionType: ".concat(e.type,".")),n(a)}finally{}}).then(n=>(this._handleSuccess(e,n,this._store,this._applicationContext,t),n)).catch(n=>this._handleFailure(n,e,this._store,this._applicationContext,t)),r=e.cacheKey;if(r){this._pendingActionCache[r]=n;var a=()=>delete this._pendingActionCache[r];n.then(a,a)}return n}_beginExecution(e,t,n,r){var a=this._getExecutionParameters(e,r);if("function"==typeof e.getInitialParameters){var i=n.EventManager;try{Array.prototype.push.apply(a,e.getInitialParameters(t,n))}catch(o){this._tracer.error("AsyncActionExecutor.getInitialParameters failed, message : ".concat(o.message),a)}i.ReportComponentSuccess("AsyncActionExecutor.BeginExecute",a)}else this._tracer.info("Begin executing action",this._getExecutionParameters(e,r))}_handleSuccess(e,t,n,r,a){var i=this._getExecutionParameters(e,a);if("function"==typeof e.getSuccessParameters){var o=r.EventManager;try{Array.prototype.push.apply(i,e.getSuccessParameters(t,n,r))}catch(c){this._tracer.error("AsyncActionExecutor.getSuccessParameters failed, message : ".concat(c.message),i)}o.ReportComponentSuccess("AsyncActionExecutor.EndExecute",i)}else this._tracer.info("Finished executing action successfully",this._getExecutionParameters(e,a))}_handleFailure(e,t,n,r,i){var u,l=arguments.length>5&&void 0!==arguments[5]&&arguments[5],d=r.EventManager,f={actionType:t.type,actionStack:i.stack,contextId:i.contextId},p="";if(e){var h=Object(o.a)(e);if("object"==typeof e){if(Object.isFrozen(e)){var v=Object(c.b)(h.message);v.innerError=e,u=v}else u=e;try{u.message=h.message,u.name=u.name||h.name,u.stack=h.stack}catch(O){O&&O.message&&this._tracer.error("Copying ensuredError properties to error object failed, message : ".concat(O.message)),p=JSON.stringify(h,Object.getOwnPropertyNames(h))}}else u=h;Object(a.a)(e)||(u.__action={source:f})}else(u=new Error("Action Executor detected an error, but the action (".concat(t.type,") failed to supply an error object."))).__action={source:f};var m=u.__action,y=this._getExecutionFailureParameters(t,m,i);Object(s.b)(p)||y.push({name:"ReadOnlyErrorObjectString",value:p});var g=!i.parentContextId;if("function"==typeof t.getFailureParameters)try{Array.prototype.push.apply(y,t.getFailureParameters(u,m,n,r)),g=!0}catch(E){this._tracer.error("AsyncActionExecutor.getFailureParameters failed, message : ".concat(E.message),y)}if(g){var b="This is a failure that ".concat(i.parentContextId?"is yet to reach":"reached uncaught to"," the entry level dispatch. For additional information, query for all events with the same CorrelationId.");d.ReportComponentFailure("AsyncActionExecutor.EndExecute",u,b,y)}if(m.child=f,l)throw u;return Promise.reject(u)}_getExecutionParameters(e,t){var n=[{name:"ActionType",value:e.type},{name:"CorrelationId",value:t.correlationId},{name:"ContextId",value:t.contextId},{name:"EntryStack",value:t.entryStack},{name:"ActionStack",value:t.stack}];return t.parentContextId&&n.push({name:"ParentContextId",value:t.parentContextId}),n}_getExecutionFailureParameters(e,t,n){var r=[{name:"ActionType",value:e.type},{name:"CorrelationId",value:n.correlationId},{name:"ContextId",value:n.contextId},{name:"EntryStack",value:n.entryStack},{name:"ActionStack",value:t.source.actionStack},{name:"SourceContextId",value:t.source.contextId}];return n.parentContextId&&r.push({name:"ParentContextId",value:n.parentContextId}),r}}},20907:function(e,t,n){"use strict";function r(e){return void 0===e.execute}function a(e){return!r(e)&&!e.sync}n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}))},20908:function(e,t,n){"use strict";function r(e){return"object"==typeof e&&null!==e&&"object"==typeof e.__action}n.d(t,"a",(function(){return r}))},20909:function(e,t,n){"use strict";function r(e){return!!e.shouldReceiveFullStore}n.d(t,"a",(function(){return r}))},20910:function(e,t,n){"use strict";function r(e){return(t,n)=>{var r=e(t,n);return r.subscribe=function(e){var t=e.subscribe;return function(n,r){var a;if(void 0===r)return t(a=n);var i=n;return a=function(e,t,n){var r;return function(){var a=t(e());a!==r&&(r=a,n(a))}}(e.getState,i,r),t(a)}}(r),r}}n.d(t,"a",(function(){return r}))},20911:function(e,t,n){"use strict";function r(e){return t=>(n,r)=>{var a=t(n,r);return a.dispatch=function(e,t,n){return function(r){return n(e,r),t.apply(void 0,arguments)}}(a,a.dispatch,e),a}}n.d(t,"a",(function(){return r}))},20912:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));n(11678);var r=n(20907),a=[],i=!1,o=[],c=o;function s(){i||(i=!0)}function u(){c===o&&(c=o.slice())}function l(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return u(),c.push(e),function(){if(t){t=!1,u();var n=c.indexOf(e);c.splice(n,1)}}}function d(e,t){var n=e(t);return Object(r.b)(t)&&(a.push(t.type),s()),n}function f(e){return(t,n)=>{var r=e(t,n),a=d.bind(null,r.dispatch);return r.dispatch=a,r.subscribeImmediate=r.subscribe,r.subscribe=l,r}}}}]);
//# sourceMappingURL=https://sourcemaps.powerapps.com/srcmaps/static/js/module/465.3b9fd589.chunk.js.map