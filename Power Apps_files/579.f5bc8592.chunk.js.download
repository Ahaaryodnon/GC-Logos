/*! For license information please see 579.f5bc8592.chunk.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[579],{25014:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.flush=t.flushOnce=t.queue=void 0,o(n(25015),t),o(n(25016),t),o(n(25017),t),o(n(25019),t),o(n(25020),t);var i=n(25018),a=n(25018);Object.defineProperty(t,"EventQueue",{enumerable:!0,get:function(){return a.default}}),t.queue=function(){return i.default.global()},t.flushOnce=function(){i.default.global().flushOnce()},t.flush=function(e){void 0===e&&(e=10),i.default.global().flush(e)}},25015:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseEvent=void 0;var r=function(){function e(){}return e.prototype.attach=function(e,t){return this._attach(e,t,!1)},e.prototype.once=function(e,t){return this._attach(e,t,!0)},e.prototype._attach=function(e,t,n){var r,o,i,a,s=this;if("function"==typeof e)o=e,a=function(){return s.detach(o)};else if(t||"function"!=typeof e.post){if("object"!=typeof e||void 0===e)throw new Error("Expect a function or object as first argument");if("function"!=typeof t)throw new Error("Expect a function as second argument");r=e,o=t,a=function(){return s.detach(r,o)}}else i=e,a=function(){return s.detach(i)};return this._listeners?this._listeners=this._listeners.slice():this._listeners=[],this._listeners.push({deleted:!1,boundTo:r,handler:o,event:i,once:n}),a},e.prototype.detach=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._detach.apply(this,e)},e.prototype._detach=function(){for(var e,t,n,r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];this._listeners&&0!==this._listeners.length&&(r.length>=1&&("function"==typeof r[0]?t=r[0]:1===r.length&&"function"==typeof r[0].post?n=r[0]:e=r[0]),r.length>=2&&(t=r[1]),this._listeners=this._listeners.filter((function(r){return void 0!==t&&r.handler!==t||void 0!==n&&r.event!==n||void 0!==e&&r.boundTo!==e||(r.deleted=!0,!1)})),0===this._listeners.length&&delete this._listeners)},e.prototype.post=function(e){throw new Error("abstract")},e.prototype.listenerCount=function(){return this._listeners?this._listeners.length:0},e.prototype._call=function(e,t){this._listeners&&(e.deleted||(e.once&&(e.deleted=!0,this._listeners=this._listeners.filter((function(t){return t!==e})),0===this._listeners.length&&delete this._listeners),e.event?e.event.post.apply(e.event,t):e.handler&&e.handler.apply("object"==typeof e.boundTo?e.boundTo:this,t)))},e}();t.BaseEvent=r},25016:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorSyncEvent=t.VoidSyncEvent=t.SyncEvent=void 0;var i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._recursion=0,t}return o(t,e),Object.defineProperty(t.prototype,"evtListenersChanged",{get:function(){return this._listenersChanged||(this._listenersChanged=new a),this._listenersChanged},enumerable:!1,configurable:!0}),t.prototype.post=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(this._listeners&&0!==this._listeners.length){if(this._recursion++,"number"==typeof t.MAX_RECURSION_DEPTH&&Number.isInteger(t.MAX_RECURSION_DEPTH)&&t.MAX_RECURSION_DEPTH>0&&this._recursion>t.MAX_RECURSION_DEPTH)throw new Error("event fired recursively");for(var r=this._listeners,o=0;o<r.length;++o){var i=r[o];this._call(i,e)}this._recursion--}},t.prototype._attach=function(t,n,r){var o,i,a,s,u=null!==(i=null===(o=this._listeners)||void 0===o?void 0:o.length)&&void 0!==i?i:0,c=e.prototype._attach.call(this,t,n,r);return this.evtListenersChanged&&u!==(null!==(s=null===(a=this._listeners)||void 0===a?void 0:a.length)&&void 0!==s?s:0)&&this.evtListenersChanged.post(),c},t.prototype._detach=function(){for(var t,n,r,o,i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var s=null!==(n=null===(t=this._listeners)||void 0===t?void 0:t.length)&&void 0!==n?n:0,u=e.prototype._detach.apply(this,i);return this.evtListenersChanged&&s!==(null!==(o=null===(r=this._listeners)||void 0===r?void 0:r.length)&&void 0!==o?o:0)&&this.evtListenersChanged.post(),u},t.MAX_RECURSION_DEPTH=10,t}(n(25015).BaseEvent);t.SyncEvent=i;var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.post=function(){e.prototype.post.call(this,void 0)},t}(i);t.VoidSyncEvent=a;var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.post=function(t){if(0===this.listenerCount())throw new Error("error event posted while no listeners attached. Error: "+t.message);e.prototype.post.call(this,t)},t}(i);t.ErrorSyncEvent=s},25017:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorQueuedEvent=t.VoidQueuedEvent=t.QueuedEvent=void 0;var i=n(25015),a=n(25018),s=n(25016),u=function(e){function t(t){void 0===t&&(t={});var n=e.call(this)||this;return n._queued=!1,n.options=t,"boolean"==typeof t.condensed?n._condensed=t.condensed:n._condensed=!1,"object"==typeof t.queue&&null!==t.queue&&(n._queue=t.queue),n}return o(t,e),Object.defineProperty(t.prototype,"evtListenersChanged",{get:function(){return this._listenersChanged||(this._listenersChanged=new s.VoidSyncEvent),this._listenersChanged},enumerable:!1,configurable:!0}),t.prototype.post=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(this._listeners&&0!==this._listeners.length){var r=this._queue?this._queue:a.default.global();if(this._condensed){if(this._queuedData=t,this._queuedListeners=this._listeners,this._queued)return;this._queued=!0,r.add((function(){e._queued=!1;for(var t=e._queuedData,n=e._queuedListeners,r=0;r<n.length;++r){var o=n[r];e._call(o,t)}}))}else{var o=this._listeners;r.add((function(){for(var n=0;n<o.length;++n){var r=o[n];e._call(r,t)}}))}}},t.prototype._attach=function(t,n,r){var o,i,a,s,u=null!==(i=null===(o=this._listeners)||void 0===o?void 0:o.length)&&void 0!==i?i:0,c=e.prototype._attach.call(this,t,n,r);return this.evtListenersChanged&&u!==(null!==(s=null===(a=this._listeners)||void 0===a?void 0:a.length)&&void 0!==s?s:0)&&this.evtListenersChanged.post(),c},t.prototype._detach=function(){for(var t,n,r,o,i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var s=null!==(n=null===(t=this._listeners)||void 0===t?void 0:t.length)&&void 0!==n?n:0,u=e.prototype._detach.apply(this,i);return this.evtListenersChanged&&s!==(null!==(o=null===(r=this._listeners)||void 0===r?void 0:r.length)&&void 0!==o?o:0)&&this.evtListenersChanged.post(),u},t}(i.BaseEvent);t.QueuedEvent=u;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.post=function(){e.prototype.post.call(this,void 0)},t}(u);t.VoidQueuedEvent=c;var f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.post=function(t){if(!this._listeners||0===this._listeners.length)throw new Error("error event posted while no listeners attached. Error: "+t.message);e.prototype.post.call(this,t)},t}(u);t.ErrorQueuedEvent=f},25018:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(25016),o=function(){function e(){this.evtFilled=new r.SyncEvent,this.evtDrained=new r.SyncEvent,this._queue=[],this._flushing=!1}return e.global=function(){return e._instance||e.resetGlobal(),e._instance},e.resetGlobal=function(){e._instance=new e},e.prototype.empty=function(){return 0===this._queue.length},e.prototype.add=function(e){this._queue.push(e),1!==this._queue.length||this._flushing||this.evtFilled.post(this)},e.prototype.flushOnce=function(){var e=0===this._queue.length,t=this._flushing;this._flushing=!0;try{var n=this._queue;this._queue=[];for(var r=0;r<n.length;++r)n[r]()}finally{this._flushing=t,e||t||0!==this._queue.length||this.evtDrained.post(this)}},e.prototype.flush=function(e){void 0===e&&(e=10);var t=0===this._queue.length,n=this._flushing;this._flushing=!0;try{for(var r=0;this._queue.length>0;){if("number"==typeof e&&r>=e)throw this._queue=[],new Error("unable to flush the queue due to recursively added event. Clearing queue now");this.flushOnce(),++r}}finally{this._flushing=n,t||n||0!==this._queue.length||this.evtDrained.post(this)}},e}();t.default=o},25019:function(e,t,n){"use strict";(function(e){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorAsyncEvent=t.VoidAsyncEvent=t.AsyncEvent=void 0;var i=n(25015),a=n(25016),s=function(t){function n(e){void 0===e&&(e={});var n=t.call(this)||this;return n._queued=!1,n.options=e,"boolean"==typeof e.condensed?n._condensed=e.condensed:n._condensed=!1,n}return o(n,t),Object.defineProperty(n.prototype,"evtListenersChanged",{get:function(){return this._listenersChanged||(this._listenersChanged=new a.VoidSyncEvent),this._listenersChanged},enumerable:!1,configurable:!0}),n.defaultScheduler=function(t){"undefined"!=typeof window?setTimeout(t,0):e(t)},n.setScheduler=function(e){n._scheduler=e},n.prototype.post=function(){for(var e=this,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(this._listeners&&0!==this._listeners.length)if(this._condensed){if(this._queuedData=t,this._queuedListeners=this._listeners,this._queued)return;this._queued=!0,n._scheduler((function(){e._queued=!1;for(var t=e._queuedData,n=e._queuedListeners,r=0;r<n.length;++r){var o=n[r];e._call(o,t)}}))}else{var o=this._listeners;n._scheduler((function(){for(var n=0;n<o.length;++n){var r=o[n];e._call(r,t)}}))}},n.prototype._call=function(e,r){e.event&&e.event instanceof n?e.event._postDirect(r):t.prototype._call.call(this,e,r)},n.prototype._postDirect=function(e){if(this._listeners&&0!==this._listeners.length)for(var t=this._listeners,n=0;n<t.length;++n){var r=t[n];this._call(r,e)}},n.prototype._attach=function(e,n,r){var o,i,a,s,u=null!==(i=null===(o=this._listeners)||void 0===o?void 0:o.length)&&void 0!==i?i:0,c=t.prototype._attach.call(this,e,n,r);return this.evtListenersChanged&&u!==(null!==(s=null===(a=this._listeners)||void 0===a?void 0:a.length)&&void 0!==s?s:0)&&this.evtListenersChanged.post(),c},n.prototype._detach=function(){for(var e,n,r,o,i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var s=null!==(n=null===(e=this._listeners)||void 0===e?void 0:e.length)&&void 0!==n?n:0,u=t.prototype._detach.apply(this,i);return this.evtListenersChanged&&s!==(null!==(o=null===(r=this._listeners)||void 0===r?void 0:r.length)&&void 0!==o?o:0)&&this.evtListenersChanged.post(),u},n._scheduler=n.defaultScheduler,n}(i.BaseEvent);t.AsyncEvent=s;var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.post=function(){e.prototype.post.call(this,void 0)},t}(s);t.VoidAsyncEvent=u;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.post=function(t){if(0===this.listenerCount())throw new Error("error event posted while no listeners attached. Error: "+t.message);e.prototype.post.call(this,t)},t}(s);t.ErrorAsyncEvent=c}).call(this,n(12588).setImmediate)},25020:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorAnyEvent=t.VoidAnyEvent=t.AnyEvent=t.EventType=void 0;var i,a=n(25021),s=n(25016),u=n(25019),c=n(25017);!function(e){e[e.Sync=0]="Sync",e[e.Async=1]="Async",e[e.Queued=2]="Queued"}(i=t.EventType||(t.EventType={}));var f=function(){function e(e){this._events=[],e&&e.monitorAttach&&(this.evtFirstAttached=new l,this.evtLastDetached=new l)}return Object.defineProperty(e.prototype,"evtListenersChanged",{get:function(){return this._listenersChanged||(this._listenersChanged=new s.VoidSyncEvent),this._listenersChanged},enumerable:!1,configurable:!0}),e.prototype.attach=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=i.Sync;e.length>0&&"number"==typeof e[0]&&(n=e.shift());var r,o,a,s=this;return"function"==typeof e[0]||e[0]&&"object"==typeof e[0]&&"function"==typeof e[0].post?("function"==typeof e[0]?r=e[0]:a=e[0],o=e[1]):(s=e[0],r=e[1],o=e[2]),this._attach(n,s,r,a,o,!1)},e.prototype.once=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=i.Sync;e.length>0&&"number"==typeof e[0]&&(n=e.shift());var r,o,a,s=this;return"function"==typeof e[0]||e[0]&&"object"==typeof e[0]&&"function"==typeof e[0].post?("function"==typeof e[0]?r=e[0]:a=e[0],o=e[1]):(s=e[0],r=e[1],o=e[2]),this._attach(n,s,r,a,o,!0)},e.prototype._attach=function(e,t,n,r,o,f){var l,d,h=this,p=this.evtFirstAttached?this.listenerCount():0;switch(e){case i.Sync:for(var v=0,y=this._events;v<y.length;v++){(b=y[v])instanceof s.SyncEvent&&(l=b)}l||(l=new s.SyncEvent,this._events.push(l));break;case i.Async:for(var _=0,g=this._events;_<g.length;_++){(b=g[_])instanceof u.AsyncEvent&&a.shallowEquals(b.options,o)&&(l=b)}l||(l=new u.AsyncEvent(o),this._events.push(l));break;case i.Queued:for(var w=0,m=this._events;w<m.length;w++){var b;(b=m[w])instanceof c.QueuedEvent&&a.shallowEquals(b.options,o)&&(l=b)}l||(l=new c.QueuedEvent(o),this._events.push(l));break;default:throw new Error("unknown EventType")}return d=f?r?l.once(r):l.once(t,n):r?l.attach(r):l.attach(t,n),this.evtFirstAttached&&0===p&&this.evtFirstAttached.post(),this.evtListenersChanged&&p!==this.listenerCount()&&this.evtListenersChanged.post(),function(){var e=h.evtLastDetached?h.listenerCount():0;d(),h.evtLastDetached&&e>0&&0===h.listenerCount()&&h.evtLastDetached.post(),h.evtListenersChanged&&e!==h.listenerCount()&&h.evtListenersChanged.post()}},e.prototype.attachSync=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.unshift(i.Sync),this.attach.apply(this,e)},e.prototype.onceSync=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.unshift(i.Sync),this.once.apply(this,e)},e.prototype.attachAsync=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.unshift(i.Async),this.attach.apply(this,e)},e.prototype.onceAsync=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.unshift(i.Async),this.once.apply(this,e)},e.prototype.attachQueued=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.unshift(i.Queued),this.attach.apply(this,e)},e.prototype.onceQueued=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.unshift(i.Queued),this.once.apply(this,e)},e.prototype.detach=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=this.listenerCount(),r=0;r<this._events.length;++r)this._events[r].detach.apply(this._events[r],e);this.evtListenersChanged&&n!==this.listenerCount()&&this.evtListenersChanged.post(),this.evtLastDetached&&n>0&&0===this.listenerCount()&&this.evtLastDetached.post()},e.prototype.post=function(e){for(var t=[],n=0;n<this._events.length;++n)t.push(this._events[n]);for(n=0;n<t.length;++n)t[n].post(e)},e.prototype.listenerCount=function(){for(var e=0,t=0;t<this._events.length;++t)e+=this._events[t].listenerCount();return e},e}();t.AnyEvent=f;var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.post=function(){e.prototype.post.call(this,void 0)},t}(f);t.VoidAnyEvent=l;var d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.post=function(t){if(0===this.listenerCount())throw new Error("error event posted while no listeners attached. Error: "+t.message);e.prototype.post.call(this,t)},t}(f);t.ErrorAnyEvent=d},25021:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shallowEquals=void 0,t.shallowEquals=function(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;switch(typeof e){case"boolean":case"number":case"string":case"function":case"symbol":case"undefined":return!1;case"object":if(null===e||null===t)return!1;if(Array.isArray(e)||Array.isArray(t)){if(!Array.isArray(e)||!Array.isArray(t))return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}var r=[],o=[];for(var i in e)e.hasOwnProperty(i)&&r.push(i);for(var a in t)t.hasOwnProperty(a)&&o.push(a);if(r.sort(),o.sort(),r.join(",")!==o.join(","))return!1;for(n=0;n<r.length;++n)if(e[r[n]]!==t[r[n]])return!1;return!0;default:return!1}}},25026:function(e,t,n){e.exports=n(25027),e.exports.default=e.exports},25027:function(e,t,n){e.exports=function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=25)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(21);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}));var o=n(10);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})}))},function(e,t,n){"use strict";function r(e){var t=e.location;if(!t)throw new Error("Can not read window location");var n=t.protocol;if(!n)throw new Error("Can not read window protocol");if(n===P.FILE_PROTOCOL)return"file://";var r=t.host;if(!r)throw new Error("Can not read window host");return n+"//"+r}function o(e){var t=r(e=e||window);return t&&e.mockDomain&&0===e.mockDomain.indexOf(P.MOCK_PROTOCOL)?e.mockDomain:t}function i(e){try{if(!e.location.href)return!0;if("about:blank"===e.location.href)return!0}catch(t){}return!1}function a(e){try{var t=Object.getOwnPropertyDescriptor(e,"location");if(t&&!1===t.enumerable)return!1}catch(n){}try{if(i(e))return!0;if(r(e)===r(window))return!0}catch(n){}return!1}function s(e){if(!a(e))return!1;try{if(i(e))return!0;if(o(window)===o(e))return!0}catch(t){}return!1}function u(e){if(e)try{if(e.parent&&e.parent!==e)return e.parent}catch(t){return}}function c(e){if(e&&!u(e))try{return e.opener}catch(t){return}}function f(e){var t=[];try{for(;e.parent!==e;)t.push(e.parent),e=e.parent}catch(n){}return t}function l(e,t){if(!e||!t)return!1;var n=u(t);return n?n===e:-1!==f(t).indexOf(e)}function d(e){var t=[],n=void 0;try{n=e.frames}catch(u){n=e}var r=void 0;try{r=n.length}catch(u){}if(0===r)return t;if(r){for(var o=0;o<r;o++){var i=void 0;try{i=n[o]}catch(u){continue}t.push(i)}return t}for(var a=0;a<100;a++){var s=void 0;try{s=n[a]}catch(u){return t}if(!s)return t;t.push(s)}return t}function h(e){var t=[],n=d(e),r=Array.isArray(n),o=0;for(n=r?n:n[Symbol.iterator]();;){var i;if(r){if(o>=n.length)break;i=n[o++]}else{if((o=n.next()).done)break;i=o.value}var a=i;t.push(a);var s=h(a),u=Array.isArray(s),c=0;for(s=u?s:s[Symbol.iterator]();;){var f;if(u){if(c>=s.length)break;f=s[c++]}else{if((c=s.next()).done)break;f=c.value}var l=f;t.push(l)}}return t}function p(e){if(e){try{if(e.top)return e.top}catch(a){}if(u(e)===e)return e;try{if(l(window,e)&&window.top)return window.top}catch(a){}try{if(l(e,window)&&window.top)return window.top}catch(a){}var t=h(e),n=Array.isArray(t),r=0;for(t=n?t:t[Symbol.iterator]();;){var o;if(n){if(r>=t.length)break;o=t[r++]}else{if((r=t.next()).done)break;o=r.value}var i=o;try{if(i.top)return i.top}catch(a){}if(u(i)===i)return i}}}function v(e){var t=p(e);return h(t).concat(t)}function y(e){if(!e.contentWindow)return!0;if(!e.parentNode)return!0;var t=e.ownerDocument;return!(!t||!t.body||t.body.contains(e))}function _(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];try{if(e===window)return!1}catch(o){return!0}try{if(!e)return!0}catch(o){return!0}try{if(e.closed)return!0}catch(o){return!o||"Call was rejected by callee.\r\n"!==o.message}if(t&&s(e))try{if(e.mockclosed)return!0}catch(o){}try{if(!e.parent||!e.top)return!0}catch(o){}try{var n=C.indexOf(e);if(-1!==n){var r=j[n];if(r&&y(r))return!0}}catch(o){}return!1}function g(e,t){var n=d(e),r=n,o=Array.isArray(r),i=0;for(r=o?r:r[Symbol.iterator]();;){var a;if(o){if(i>=r.length)break;a=r[i++]}else{if((i=r.next()).done)break;a=i.value}var u=a;try{if(s(u)&&u.name===t&&-1!==n.indexOf(u))return u}catch(c){}}try{if(-1!==n.indexOf(e.frames[t]))return e.frames[t]}catch(c){}try{if(-1!==n.indexOf(e[t]))return e[t]}catch(c){}}function w(e,t){var n=g(e,t);if(n)return n;var r=d(e),o=Array.isArray(r),i=0;for(r=o?r:r[Symbol.iterator]();;){var a;if(o){if(i>=r.length)break;a=r[i++]}else{if((i=r.next()).done)break;a=i.value}var s=w(a,t);if(s)return s}}function m(e){var t=c(e=e||window);return t||u(e)||void 0}function b(){return Boolean(c(window))}function O(){return Boolean(u(window))}function S(e,t){var n=e,r=Array.isArray(n),o=0;for(n=r?n:n[Symbol.iterator]();;){var i;if(r){if(o>=n.length)break;i=n[o++]}else{if((o=n.next()).done)break;i=o.value}var a=i,s=t,u=Array.isArray(s),c=0;for(s=u?s:s[Symbol.iterator]();;){var f;if(u){if(c>=s.length)break;f=s[c++]}else{if((c=s.next()).done)break;f=c.value}if(a===f)return!0}}}function E(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,t=0;e;)(e=u(e))&&(t+=1);return t}function A(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=0;n<t;n++)e=u(e);return e}Object.defineProperty(t,"__esModule",{value:!0}),t.getActualDomain=r,t.getDomain=o,t.isBlankDomain=i,t.isActuallySameDomain=a,t.isSameDomain=s,t.getParent=u,t.getOpener=c,t.getParents=f,t.isAncestorParent=l,t.getFrames=d,t.getAllChildFrames=h,t.getTop=p,t.getAllFramesInWindow=v,t.isTop=function(e){return e===p(e)},t.isFrameWindowClosed=y,t.isWindowClosed=_,t.linkFrameWindow=function(e){if(function(){for(var e=0;e<j.length;e++)y(j[e])&&(j.splice(e,1),C.splice(e,1));for(var t=0;t<C.length;t++)_(C[t])&&(j.splice(t,1),C.splice(t,1))}(),e&&e.contentWindow)try{C.push(e.contentWindow),j.push(e)}catch(t){}},t.getUserAgent=function(e){return(e=e||window).navigator.mockUserAgent||e.navigator.userAgent},t.getFrameByName=g,t.findChildFrameByName=w,t.findFrameByName=function(e,t){return g(e,t)||w(p(e),t)},t.isParent=function(e,t){var n=u(t);if(n)return n===e;var r=d(e),o=Array.isArray(r),i=0;for(r=o?r:r[Symbol.iterator]();;){var a;if(o){if(i>=r.length)break;a=r[i++]}else{if((i=r.next()).done)break;a=i.value}if(a===t)return!0}return!1},t.isOpener=function(e,t){return e===c(t)},t.getAncestor=m,t.getAncestors=function(e){for(var t=[],n=e;n;)(n=m(n))&&t.push(n);return t},t.isAncestor=function(e,t){var n=m(t);if(n)return n===e;if(t===e)return!1;if(p(t)===t)return!1;var r=d(e),o=Array.isArray(r),i=0;for(r=o?r:r[Symbol.iterator]();;){var a;if(o){if(i>=r.length)break;a=r[i++]}else{if((i=r.next()).done)break;a=i.value}if(a===t)return!0}return!1},t.isPopup=b,t.isIframe=O,t.isFullpage=function(){return Boolean(!O()&&!b())},t.getDistanceFromTop=E,t.getNthParent=A,t.getNthParentFromTop=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return A(e,E(e)-t)},t.isSameTopWindow=function(e,t){var n=p(e),r=p(t);try{if(n&&r)return n===r}catch(u){}var o=v(e),i=v(t);if(S(o,i))return!0;var a=c(n),s=c(r);return(!a||!S(v(a),i))&&(!s||!S(v(s),o))&&void 0},t.matchDomain=function e(t,n){if("string"==typeof t){if("string"==typeof n)return t===P.WILDCARD||n===t;if((0,T.isRegex)(n))return!1;if(Array.isArray(n))return!1}return(0,T.isRegex)(t)?(0,T.isRegex)(n)?t.toString()===n.toString():!Array.isArray(n)&&Boolean(n.match(t)):!!Array.isArray(t)&&(Array.isArray(n)?JSON.stringify(t)===JSON.stringify(n):!(0,T.isRegex)(n)&&t.some((function(t){return e(t,n)})))},t.getDomainFromUrl=function(e){return e.match(/^(https?|mock|file):\/\//)?e.split("/").slice(0,3).join("/"):o()},t.onCloseWindow=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,o=void 0;return function i(){if(_(e))return o&&clearTimeout(o),t();r<=0?clearTimeout(o):(r-=n,o=setTimeout(i,n))}(),{cancel:function(){o&&clearTimeout(o)}}},t.isWindow=function(e){try{if(e&&e.self===e)return!0}catch(t){}return!1};var T=n(16),P={MOCK_PROTOCOL:"mock:",FILE_PROTOCOL:"file:",WILDCARD:"*"},C=[],j=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(18);Object.defineProperty(t,"ZalgoPromise",{enumerable:!0,get:function(){return r.ZalgoPromise}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.global=void 0;var r=n(0);(t.global=window[r.CONSTANTS.WINDOW_PROPS.POSTROBOT]=window[r.CONSTANTS.WINDOW_PROPS.POSTROBOT]||{}).registerSelf=function(){}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}));var o=n(9);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})}));var i=n(27);Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})}));var a=n(26);Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}})}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(13);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}));var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(r);t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(22);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}));var o=n(12);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})}));var i=n(11);Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})}))},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<e.length;n++)t(e[n],n)}function o(e,t){for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)}function i(e,t){Array.isArray(e)?r(e,t):"object"===(void 0===e?"undefined":a(e))&&null!==e&&o(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.weakMapMemoize=t.once=void 0;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.stringifyError=function(e){if(!e)return"<unknown error: "+Object.prototype.toString.call(e)+">";if("string"==typeof e)return e;if(e instanceof Error){var t=e&&e.stack,n=e&&e.message;if(t&&n)return-1!==t.indexOf(n)?t:n+"\n"+t;if(t)return t;if(n)return n}return"function"==typeof e.toString?e.toString():Object.prototype.toString.call(e)},t.noop=function(){},t.addEventListener=function(e,t,n){return e.addEventListener?e.addEventListener(t,n):e.attachEvent("on"+t,n),{cancel:function(){e.removeEventListener?e.removeEventListener(t,n):e.detachEvent("on"+t,n)}}},t.uniqueID=function(){var e="0123456789abcdef";return"xxxxxxxxxx".replace(/./g,(function(){return e.charAt(Math.floor(Math.random()*e.length))}))},t.eachArray=r,t.eachObject=o,t.each=i,t.replaceObject=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(r>=100)throw new Error("Self-referential object passed, or object contained too many layers");var o=void 0;if("object"!==(void 0===t?"undefined":a(t))||null===t||Array.isArray(t)){if(!Array.isArray(t))throw new Error("Invalid type: "+(void 0===t?"undefined":a(t)));o=[]}else o={};return i(t,(function(t,i){var s=n(t,i);void 0!==s?o[i]=s:"object"===(void 0===t?"undefined":a(t))&&null!==t?o[i]=e(t,n,r+1):o[i]=t})),o},t.safeInterval=function(e,t){var n=void 0;return n=setTimeout((function r(){n=setTimeout(r,t),e.call()}),t),{cancel:function(){clearTimeout(n)}}},t.isRegex=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},t.getWindowType=function(){return(0,u.isPopup)()?c.CONSTANTS.WINDOW_TYPES.POPUP:(0,u.isIframe)()?c.CONSTANTS.WINDOW_TYPES.IFRAME:c.CONSTANTS.WINDOW_TYPES.FULLPAGE},t.jsonStringify=function(e,t,n){var r=void 0,o=void 0;try{if("{}"!==JSON.stringify({})&&(r=Object.prototype.toJSON,delete Object.prototype.toJSON),"{}"!==JSON.stringify({}))throw new Error("Can not correctly serialize JSON objects");if("[]"!==JSON.stringify([])&&(o=Array.prototype.toJSON,delete Array.prototype.toJSON),"[]"!==JSON.stringify([]))throw new Error("Can not correctly serialize JSON objects")}catch(a){throw new Error("Can not repair JSON.stringify: "+a.message)}var i=JSON.stringify.call(this,e,t,n);try{r&&(Object.prototype.toJSON=r),o&&(Array.prototype.toJSON=o)}catch(a){throw new Error("Can not repair JSON.stringify: "+a.message)}return i},t.jsonParse=function(e){return JSON.parse(e)};var s=n(5),u=n(1),c=n(0);t.once=function(e){if(!e)return e;var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}},t.weakMapMemoize=function(e){var t=new s.WeakMap;return function(n){var r=t.get(n);return void 0!==r||void 0!==(r=e.call(this,n))&&t.set(n,r),r}}},function(e,t,n){"use strict";function r(){c.global.initialized||((0,u.listenForMessages)(),(0,s.initOnReady)(),(0,s.listenForMethods)()),c.global.initialized=!0}Object.defineProperty(t,"__esModule",{value:!0}),t.Promise=t.cleanUpWindow=void 0;var o=n(20);Object.defineProperty(t,"cleanUpWindow",{enumerable:!0,get:function(){return o.cleanUpWindow}}),t.init=r;var i=n(30);Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})}));var a=n(2);Object.defineProperty(t,"Promise",{enumerable:!0,get:function(){return a.ZalgoPromise}});var s=n(4),u=n(6),c=n(3);r()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.log=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n(7),i=n(0),a=["debug","info","warn","error"];Function.prototype.bind&&window.console&&"object"===r(console.log)&&["log","info","warn","error"].forEach((function(e){console[e]=this.bind(console[e],console)}),Function.prototype.call);var s=t.log={clearLogs:function(){if(window.console&&window.console.clear&&window.console.clear(),i.CONFIG.LOG_TO_PAGE){var e=document.getElementById("postRobotLogs");e&&e.parentNode&&e.parentNode.removeChild(e)}},writeToPage:function(e,t){setTimeout((function(){var n=document.getElementById("postRobotLogs");n||((n=document.createElement("div")).id="postRobotLogs",n.style.cssText="width: 800px; font-family: monospace; white-space: pre-wrap;",document.body&&document.body.appendChild(n));var r=document.createElement("div"),i=(new Date).toString().split(" ")[4],a=Array.prototype.slice.call(t).map((function(e){if("string"==typeof e)return e;if(!e)return Object.prototype.toString.call(e);var t=void 0;try{t=(0,o.jsonStringify)(e,null,2)}catch(n){t="[object]"}return"\n\n"+t+"\n\n"})).join(" "),s=i+" "+e+" "+a;r.innerHTML=s;var u={log:"#ddd",warn:"orange",error:"red",info:"blue",debug:"#aaa"}[e];r.style.cssText="margin-top: 10px; color: "+u+";",n.childNodes.length?n.insertBefore(r,n.childNodes[0]):n.appendChild(r)}))},logLevel:function(e,t){setTimeout((function(){try{var n=window.LOG_LEVEL||i.CONFIG.LOG_LEVEL;if(a.indexOf(e)<a.indexOf(n))return;if((t=Array.prototype.slice.call(t)).unshift(""+window.location.host+window.location.pathname),t.unshift("::"),t.unshift(""+(0,o.getWindowType)().toLowerCase()),t.unshift("[post-robot]"),i.CONFIG.LOG_TO_PAGE&&s.writeToPage(e,t),!window.console)return;if(window.console[e]||(e="log"),!window.console[e])return;window.console[e].apply(window.console,t)}catch(r){}}),1)},debug:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];s.logLevel("debug",t)},info:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];s.logLevel("info",t)},warn:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];s.logLevel("warn",t)},error:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];s.logLevel("error",t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.CONSTANTS={POST_MESSAGE_TYPE:{REQUEST:"postrobot_message_request",RESPONSE:"postrobot_message_response",ACK:"postrobot_message_ack"},POST_MESSAGE_ACK:{SUCCESS:"success",ERROR:"error"},POST_MESSAGE_NAMES:{METHOD:"postrobot_method",READY:"postrobot_ready",OPEN_TUNNEL:"postrobot_open_tunnel"},WINDOW_TYPES:{FULLPAGE:"fullpage",POPUP:"popup",IFRAME:"iframe"},WINDOW_PROPS:{POSTROBOT:"__postRobot__"},SERIALIZATION_TYPES:{METHOD:"postrobot_method",ERROR:"postrobot_error",PROMISE:"postrobot_promise",ZALGO_PROMISE:"postrobot_zalgo_promise",REGEX:"regex"},SEND_STRATEGIES:{POST_MESSAGE:"postrobot_post_message",BRIDGE:"postrobot_bridge",GLOBAL:"postrobot_global"},MOCK_PROTOCOL:"mock:",FILE_PROTOCOL:"file:",BRIDGE_NAME_PREFIX:"__postrobot_bridge__",POSTROBOT_PROXY:"__postrobot_proxy__",WILDCARD:"*"};t.POST_MESSAGE_NAMES_LIST=Object.keys(r.POST_MESSAGE_NAMES).map((function(e){return r.POST_MESSAGE_NAMES[e]}))},function(e,t,n){"use strict";function r(e){var t=e.name,n=e.win,r=e.domain;if(n===u.CONSTANTS.WILDCARD&&(n=null),r===u.CONSTANTS.WILDCARD&&(r=null),!t)throw new Error("Name required to get request listener");var o=a.global.requestListeners[t];if(o)for(var s=[n,a.global.WINDOW_WILDCARD],f=0;f<s.length;f++){var l=s[f],d=l&&o.get(l);if(d){for(var h=[r,u.CONSTANTS.WILDCARD],p=0;p<h.length;p++){var v=h[p];if(v&&d[v=v.toString()])return d[v]}if(d[c]){var y=d[c],_=Array.isArray(y),g=0;for(y=_?y:y[Symbol.iterator]();;){var w;if(_){if(g>=y.length)break;w=y[g++]}else{if((g=y.next()).done)break;w=g.value}var m=w,b=m.regex,O=m.listener;if((0,i.matchDomain)(b,r))return O}}}}}Object.defineProperty(t,"__esModule",{value:!0}),t.resetListeners=function(){a.global.responseListeners={},a.global.requestListeners={}},t.addResponseListener=function(e,t){a.global.responseListeners[e]=t},t.getResponseListener=function(e){return a.global.responseListeners[e]},t.deleteResponseListener=function(e){delete a.global.responseListeners[e]},t.getRequestListener=r,t.addRequestListener=function e(t,n){var i=t.name,f=t.win,l=t.domain;if(!i||"string"!=typeof i)throw new Error("Name required to add request listener");if(Array.isArray(f)){var d=[],h=f,p=Array.isArray(h),v=0;for(h=p?h:h[Symbol.iterator]();;){var y;if(p){if(v>=h.length)break;y=h[v++]}else{if((v=h.next()).done)break;y=v.value}var _=y;d.push(e({name:i,domain:l,win:_},n))}return{cancel:function(){var e=d,t=Array.isArray(e),n=0;for(e=t?e:e[Symbol.iterator]();;){var r;if(t){if(n>=e.length)break;r=e[n++]}else{if((n=e.next()).done)break;r=n.value}r.cancel()}}}}if(Array.isArray(l)){var g=[],w=l,m=Array.isArray(w),b=0;for(w=m?w:w[Symbol.iterator]();;){var O;if(m){if(b>=w.length)break;O=w[b++]}else{if((b=w.next()).done)break;O=b.value}var S=O;g.push(e({name:i,win:f,domain:S},n))}return{cancel:function(){var e=g,t=Array.isArray(e),n=0;for(e=t?e:e[Symbol.iterator]();;){var r;if(t){if(n>=e.length)break;r=e[n++]}else{if((n=e.next()).done)break;r=n.value}r.cancel()}}}}var E=r({name:i,win:f,domain:l});if(f&&f!==u.CONSTANTS.WILDCARD||(f=a.global.WINDOW_WILDCARD),l=l||u.CONSTANTS.WILDCARD,E)throw f&&l?new Error("Request listener already exists for "+i+" on domain "+l.toString()+" for specified window"):f?new Error("Request listener already exists for "+i+" for specified window"):l?new Error("Request listener already exists for "+i+" on domain "+l.toString()):new Error("Request listener already exists for "+i);var A=a.global.requestListeners,T=A[i];T||(T=new o.WeakMap,A[i]=T);var P=T.get(f);P||(P={},T.set(f,P));var C=l.toString();P[C]=n;var j=P[c],N=void 0;return(0,s.isRegex)(l)&&(j||(j=[],P[c]=j),N={regex:l,listener:n},j.push(N)),{cancel:function(){P&&(delete P[C],f&&0===Object.keys(P).length&&T.delete(f),N&&j.splice(j.indexOf(N,1)))}}},n(2);var o=n(5),i=n(1),a=n(3),s=n(4),u=n(0);a.global.responseListeners=a.global.responseListeners||{},a.global.requestListeners=a.global.requestListeners||{},a.global.WINDOW_WILDCARD=a.global.WINDOW_WILDCARD||new function(){};var c="__domain_regex__"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.sendMessage=function(e,t,n){return i.ZalgoPromise.try((function(){var c;if(t=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=(0,s.uniqueID)(),a=(0,s.getWindowType)(),u=(0,o.getDomain)(window);return r({},t,n,{sourceDomain:u,id:t.id||i,windowType:a})}(e,t,{data:(0,s.serializeMethods)(e,n,t.data),domain:n}),c=-1!==a.POST_MESSAGE_NAMES_LIST.indexOf(t.name)||t.type===a.CONSTANTS.POST_MESSAGE_TYPE.ACK?"debug":"error"===t.ack?"error":"info",s.log.logLevel(c,["\n\n\t","#send",t.type.replace(/^postrobot_message_/,""),"::",t.name,"::",n||a.CONSTANTS.WILDCARD,"\n\n",t]),e===window)throw new Error("Attemping to send message to self");if((0,o.isWindowClosed)(e))throw new Error("Window is closed");s.log.debug("Running send message strategies",t);var f,l,d,h=[],p=(0,s.jsonStringify)((f={},l=a.CONSTANTS.WINDOW_PROPS.POSTROBOT,d=t,l in f?Object.defineProperty(f,l,{value:d,enumerable:!0,configurable:!0,writable:!0}):f[l]=d,f),null,2);return i.ZalgoPromise.map(Object.keys(u.SEND_MESSAGE_STRATEGIES),(function(t){return i.ZalgoPromise.try((function(){if(!a.CONFIG.ALLOWED_POST_MESSAGE_METHODS[t])throw new Error("Strategy disallowed: "+t);return u.SEND_MESSAGE_STRATEGIES[t](e,p,n)})).then((function(){return h.push(t+": success"),!0}),(function(e){return h.push(t+": "+(0,s.stringifyError)(e)+"\n"),!1}))})).then((function(e){var n=e.some(Boolean),r=t.type+" "+t.name+" "+(n?"success":"error")+":\n  - "+h.join("\n  - ")+"\n";if(s.log.debug(r),!n)throw new Error(r)}))}))};var o=n(1),i=n(2),a=n(0),s=n(4),u=n(24)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(15);Object.defineProperty(t,"WeakMap",{enumerable:!0,get:function(){return r.CrossDomainSafeWeakMap}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasNativeWeakMap=function(){if(!window.WeakMap)return!1;if(!window.Object.freeze)return!1;try{var e=new window.WeakMap,t={};return window.Object.freeze(t),e.set(t,"__testvalue__"),"__testvalue__"===e.get(t)}catch(n){return!1}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CrossDomainSafeWeakMap=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),i=n(14),a=Object.defineProperty,s=Date.now()%1e9;t.CrossDomainSafeWeakMap=function(){function e(){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),s+=1,this.name="__weakmap_"+(1e9*Math.random()>>>0)+"__"+s,(0,i.hasNativeWeakMap)())try{this.weakmap=new window.WeakMap}catch(t){}this.keys=[],this.values=[]}return r(e,[{key:"_cleanupClosedWindows",value:function(){for(var e=this.weakmap,t=this.keys,n=0;n<t.length;n++){var r=t[n];if((0,o.isWindowClosed)(r)){if(e)try{e.delete(r)}catch(i){}t.splice(n,1),this.values.splice(n,1),n-=1}}}},{key:"isSafeToReadWrite",value:function(e){if((0,o.isWindow)(e))return!1;try{e&&e.self,e&&e[this.name]}catch(t){return!1}return!0}},{key:"set",value:function(e,t){if(!e)throw new Error("WeakMap expected key");var n=this.weakmap;if(n)try{n.set(e,t)}catch(c){delete this.weakmap}if(this.isSafeToReadWrite(e)){var r=this.name,o=e[r];o&&o[0]===e?o[1]=t:a(e,r,{value:[e,t],writable:!0})}else{this._cleanupClosedWindows();var i=this.keys,s=this.values,u=i.indexOf(e);-1===u?(i.push(e),s.push(t)):s[u]=t}}},{key:"get",value:function(e){if(!e)throw new Error("WeakMap expected key");var t=this.weakmap;if(t)try{if(t.has(e))return t.get(e)}catch(o){delete this.weakmap}if(!this.isSafeToReadWrite(e)){this._cleanupClosedWindows();var n=this.keys.indexOf(e);if(-1===n)return;return this.values[n]}var r=e[this.name];if(r&&r[0]===e)return r[1]}},{key:"delete",value:function(e){if(!e)throw new Error("WeakMap expected key");var t=this.weakmap;if(t)try{t.delete(e)}catch(i){delete this.weakmap}if(this.isSafeToReadWrite(e)){var n=e[this.name];n&&n[0]===e&&(n[0]=n[1]=void 0)}else{this._cleanupClosedWindows();var r=this.keys,o=r.indexOf(e);-1!==o&&(r.splice(o,1),this.values.splice(o,1))}}},{key:"has",value:function(e){if(!e)throw new Error("WeakMap expected key");var t=this.weakmap;if(t)try{return t.has(e)}catch(r){delete this.weakmap}if(this.isSafeToReadWrite(e)){var n=e[this.name];return!(!n||n[0]!==e)}return this._cleanupClosedWindows(),-1!==this.keys.indexOf(e)}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isRegex=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dispatchPossiblyUnhandledError=function(e){if(-1===o.indexOf(e)){o.push(e),setTimeout((function(){throw e}),1);for(var t=0;t<r.length;t++)r[t](e)}},t.onPossiblyUnhandledException=function(e){return r.push(e),{cancel:function(){r.splice(r.indexOf(e),1)}}};var r=[],o=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ZalgoPromise=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(19),i=n(17),a=function(){function e(t){var n=this;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.resolved=!1,this.rejected=!1,this.errorHandled=!1,this.handlers=[],t){var r=void 0,o=void 0,i=!1,a=!1,s=!1;try{t((function(e){s?n.resolve(e):(i=!0,r=e)}),(function(e){s?n.reject(e):(a=!0,o=e)}))}catch(u){return void this.reject(u)}s=!0,i?this.resolve(r):a&&this.reject(o)}}return r(e,[{key:"resolve",value:function(e){if(this.resolved||this.rejected)return this;if((0,o.isPromise)(e))throw new Error("Can not resolve promise with another promise");return this.resolved=!0,this.value=e,this.dispatch(),this}},{key:"reject",value:function(e){var t=this;if(this.resolved||this.rejected)return this;if((0,o.isPromise)(e))throw new Error("Can not reject promise with another promise");if(!e){var n=e&&"function"==typeof e.toString?e.toString():Object.prototype.toString.call(e);e=new Error("Expected reject to be called with Error, got "+n)}return this.rejected=!0,this.error=e,this.errorHandled||setTimeout((function(){t.errorHandled||(0,i.dispatchPossiblyUnhandledError)(e)}),1),this.dispatch(),this}},{key:"asyncReject",value:function(e){this.errorHandled=!0,this.reject(e)}},{key:"dispatch",value:function(){var t=this,n=this.dispatching,r=this.resolved,i=this.rejected,a=this.handlers;if(!n&&(r||i)){this.dispatching=!0;for(var s=0;s<a.length;s++)!function(n){var s=a[n],u=s.onSuccess,c=s.onError,f=s.promise,l=void 0;if(r)try{l=u?u(t.value):t.value}catch(d){return f.reject(d),"continue"}else if(i){if(!c)return f.reject(t.error),"continue";try{l=c(t.error)}catch(d){return f.reject(d),"continue"}}l instanceof e&&(l.resolved||l.rejected)?(l.resolved?f.resolve(l.value):f.reject(l.error),l.errorHandled=!0):(0,o.isPromise)(l)?l instanceof e&&(l.resolved||l.rejected)?l.resolved?f.resolve(l.value):f.reject(l.error):l.then((function(e){f.resolve(e)}),(function(e){f.reject(e)})):f.resolve(l)}(s);a.length=0,this.dispatching=!1}}},{key:"then",value:function(t,n){if(t&&"function"!=typeof t&&!t.call)throw new Error("Promise.then expected a function for success handler");if(n&&"function"!=typeof n&&!n.call)throw new Error("Promise.then expected a function for error handler");var r=new e;return this.handlers.push({promise:r,onSuccess:t,onError:n}),this.errorHandled=!0,this.dispatch(),r}},{key:"catch",value:function(e){return this.then(void 0,e)}},{key:"finally",value:function(t){return this.then((function(n){return e.try(t).then((function(){return n}))}),(function(n){return e.try(t).then((function(){throw n}))}))}},{key:"timeout",value:function(e,t){var n=this;if(this.resolved||this.rejected)return this;var r=setTimeout((function(){n.resolved||n.rejected||n.reject(t||new Error("Promise timed out after "+e+"ms"))}),e);return this.then((function(e){return clearTimeout(r),e}))}},{key:"toPromise",value:function(){if(!window.Promise)throw new Error("Could not find window.Promise");return window.Promise.resolve(this)}}],[{key:"resolve",value:function(t){return t instanceof e?t:(0,o.isPromise)(t)?new e((function(e,n){return t.then(e,n)})):(new e).resolve(t)}},{key:"reject",value:function(t){return(new e).reject(t)}},{key:"all",value:function(t){var n=new e,r=t.length,o=[];if(!r)return n.resolve(o),n;for(var i=0;i<t.length;i++)!function(i){e.resolve(t[i]).then((function(e){o[i]=e,0==(r-=1)&&n.resolve(o)}),(function(e){n.reject(e)}))}(i);return n}},{key:"map",value:function(t,n){var r=new e,o=t.length,i=[];if(!o)return r.resolve(i),r;for(var a=0;a<t.length;a++)!function(a){e.try((function(){return n(t[a])})).then((function(e){i[a]=e,0==(o-=1)&&r.resolve(i)}),(function(e){r.reject(e)}))}(a);return r}},{key:"onPossiblyUnhandledException",value:function(e){return(0,i.onPossiblyUnhandledException)(e)}},{key:"try",value:function(t,n,r){var o=void 0;try{o=t.apply(n,r||[])}catch(i){return e.reject(i)}return e.resolve(o)}},{key:"delay",value:function(t){return new e((function(e){setTimeout(e,t)}))}},{key:"hash",value:function(t){var n={},r=[];for(var o in t)!function(o){t.hasOwnProperty(o)&&r.push(e.resolve(t[o]).then((function(e){n[o]=e})))}(o);return e.all(r).then((function(){return n}))}},{key:"isPromise",value:function(t){return!!(t&&t instanceof e)||(0,o.isPromise)(t)}}]),e}();t.ZalgoPromise=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isPromise=function(e){try{if(!e)return!1;if(window.Promise&&e instanceof window.Promise)return!0;if(window.Window&&e instanceof window.Window)return!1;if(window.constructor&&e instanceof window.constructor)return!1;if(r){var t=r.call(e);if("[object Window]"===t||"[object global]"===t||"[object DOMWindow]"===t)return!1}if("function"==typeof e.then)return!0}catch(n){return!1}return!1};var r={}.toString},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cleanUpWindow=function(e){var t=r.global.requestPromises.get(e);if(t){var n=t,o=Array.isArray(n),i=0;for(n=o?n:n[Symbol.iterator]();;){var a;if(o){if(i>=n.length)break;a=n[i++]}else{if((i=n.next()).done)break;a=i.value}a.reject(new Error("No response from window - cleaned up"))}}r.global.popupWindowsByWin&&r.global.popupWindowsByWin.delete(e),r.global.remoteWindows&&r.global.remoteWindows.delete(e),r.global.requestPromises.delete(e),r.global.methods.delete(e),r.global.readyPromises.delete(e)};var r=n(3)},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.CONFIG=void 0;var o,i=n(10),a=t.CONFIG={ALLOW_POSTMESSAGE_POPUP:!0,LOG_LEVEL:"info",BRIDGE_TIMEOUT:5e3,ACK_TIMEOUT:1e3,RES_TIMEOUT:1/0,LOG_TO_PAGE:!1,ALLOWED_POST_MESSAGE_METHODS:(o={},r(o,i.CONSTANTS.SEND_STRATEGIES.POST_MESSAGE,!0),r(o,i.CONSTANTS.SEND_STRATEGIES.BRIDGE,!0),r(o,i.CONSTANTS.SEND_STRATEGIES.GLOBAL,!0),o)};0===window.location.href.indexOf(i.CONSTANTS.FILE_PROTOCOL)&&(a.ALLOW_POSTMESSAGE_POPUP=!0)},function(e,t,n){"use strict";function r(e){if(!window||window.closed)throw new Error("Message recieved in closed window");try{if(!e.source)return}catch(l){return}var t=e.source,n=e.origin,r=function(e){var t=void 0;try{t=(0,u.jsonParse)(e)}catch(l){return}if(t&&"object"===(void 0===t?"undefined":i(t))&&null!==t&&(t=t[s.CONSTANTS.WINDOW_PROPS.POSTROBOT])&&"object"===(void 0===t?"undefined":i(t))&&null!==t&&t.type&&"string"==typeof t.type&&f.RECEIVE_MESSAGE_TYPES[t.type])return t}(e.data);if(r){if(!r.sourceDomain||"string"!=typeof r.sourceDomain)throw new Error("Expected message to have sourceDomain");if(0!==r.sourceDomain.indexOf(s.CONSTANTS.MOCK_PROTOCOL)&&0!==r.sourceDomain.indexOf(s.CONSTANTS.FILE_PROTOCOL)||(n=r.sourceDomain),-1===c.global.receivedMessages.indexOf(r.id)){var o;if(c.global.receivedMessages.push(r.id),o=-1!==s.POST_MESSAGE_NAMES_LIST.indexOf(r.name)||r.type===s.CONSTANTS.POST_MESSAGE_TYPE.ACK?"debug":"error"===r.ack?"error":"info",u.log.logLevel(o,["\n\n\t","#receive",r.type.replace(/^postrobot_message_/,""),"::",r.name,"::",n,"\n\n",r]),(0,a.isWindowClosed)(t))return void u.log.debug("Source window is closed - can not send "+r.type+" "+r.name);r.data&&(r.data=(0,u.deserializeMethods)(t,n,r.data)),f.RECEIVE_MESSAGE_TYPES[r.type](t,n,r)}}}function o(e){try{e.source}catch(t){return}r({source:e.source||e.sourceElement,origin:e.origin||e.originalEvent&&e.originalEvent.origin,data:e.data})}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.receiveMessage=r,t.messageListener=o,t.listenForMessages=function(){(0,u.addEventListener)(window,"message",o)};var a=n(1),s=n(0),u=n(4),c=n(3),f=n(23);c.global.receivedMessages=c.global.receivedMessages||[]},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.RECEIVE_MESSAGE_TYPES=void 0;var o,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(2),s=n(1),u=n(0),c=n(4),f=n(12),l=n(11);t.RECEIVE_MESSAGE_TYPES=(r(o={},u.CONSTANTS.POST_MESSAGE_TYPE.ACK,(function(e,t,n){var r=(0,l.getResponseListener)(n.hash);if(!r)throw new Error("No handler found for post message ack for message: "+n.name+" from "+t+" in "+window.location.protocol+"//"+window.location.host+window.location.pathname);if(!(0,s.matchDomain)(r.domain,t))throw new Error("Ack origin "+t+" does not match domain "+r.domain.toString());r.ack=!0})),r(o,u.CONSTANTS.POST_MESSAGE_TYPE.REQUEST,(function(e,t,n){function r(r){return n.fireAndForget||(0,s.isWindowClosed)(e)?a.ZalgoPromise.resolve():(0,f.sendMessage)(e,i({target:n.originalSource,hash:n.hash,name:n.name},r),t)}var o=(0,l.getRequestListener)({name:n.name,win:e,domain:t});return a.ZalgoPromise.all([r({type:u.CONSTANTS.POST_MESSAGE_TYPE.ACK}),a.ZalgoPromise.try((function(){if(!o)throw new Error("No handler found for post message: "+n.name+" from "+t+" in "+window.location.protocol+"//"+window.location.host+window.location.pathname);if(!(0,s.matchDomain)(o.domain,t))throw new Error("Request origin "+t+" does not match domain "+o.domain.toString());var r=n.data;return o.handler({source:e,origin:t,data:r})})).then((function(e){return r({type:u.CONSTANTS.POST_MESSAGE_TYPE.RESPONSE,ack:u.CONSTANTS.POST_MESSAGE_ACK.SUCCESS,data:e})}),(function(e){var t=(0,c.stringifyError)(e).replace(/^Error: /,"");return r({type:u.CONSTANTS.POST_MESSAGE_TYPE.RESPONSE,ack:u.CONSTANTS.POST_MESSAGE_ACK.ERROR,error:t})}))]).then(c.noop).catch((function(e){if(o&&o.handleError)return o.handleError(e);c.log.error((0,c.stringifyError)(e))}))})),r(o,u.CONSTANTS.POST_MESSAGE_TYPE.RESPONSE,(function(e,t,n){var r=(0,l.getResponseListener)(n.hash);if(!r)throw new Error("No handler found for post message response for message: "+n.name+" from "+t+" in "+window.location.protocol+"//"+window.location.host+window.location.pathname);if(!(0,s.matchDomain)(r.domain,t))throw new Error("Response origin "+t+" does not match domain "+r.domain);if((0,l.deleteResponseListener)(n.hash),n.ack===u.CONSTANTS.POST_MESSAGE_ACK.ERROR)return r.respond(new Error(n.error),null);if(n.ack===u.CONSTANTS.POST_MESSAGE_ACK.SUCCESS){var o=n.data||n.response;return r.respond(null,{source:e,origin:t,data:o})}})),o)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SEND_MESSAGE_STRATEGIES=void 0;var r=n(1),o=n(0);(t.SEND_MESSAGE_STRATEGIES={})[o.CONSTANTS.SEND_STRATEGIES.POST_MESSAGE]=function(e,t,n){(Array.isArray(n)?n:n?[n]:[o.CONSTANTS.WILDCARD]).map((function(t){if(0===t.indexOf(o.CONSTANTS.MOCK_PROTOCOL)){if(window.location.protocol===o.CONSTANTS.FILE_PROTOCOL)return o.CONSTANTS.WILDCARD;if(!(0,r.isActuallySameDomain)(e))throw new Error("Attempting to send messsage to mock domain "+t+", but window is actually cross-domain");return(0,r.getActualDomain)(e)}return 0===t.indexOf(o.CONSTANTS.FILE_PROTOCOL)?o.CONSTANTS.WILDCARD:t})).forEach((function(n){return e.postMessage(t,n)}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}));var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(r);t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initOnReady=function(){(0,s.on)(a.CONSTANTS.POST_MESSAGE_NAMES.READY,{window:a.CONSTANTS.WILDCARD,domain:a.CONSTANTS.WILDCARD},(function(e){var t=e.source,n=c.global.readyPromises.get(t);n?n.resolve(e):(n=(new i.ZalgoPromise).resolve(e),c.global.readyPromises.set(t,n))}));var e=(0,o.getAncestor)();e&&(0,s.send)(e,a.CONSTANTS.POST_MESSAGE_NAMES.READY,{},{domain:a.CONSTANTS.WILDCARD,timeout:1/0}).catch((function(e){u.log.debug((0,f.stringifyError)(e))}))},t.onWindowReady=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Window",r=c.global.readyPromises.get(e);return r||(r=new i.ZalgoPromise,c.global.readyPromises.set(e,r),setTimeout((function(){return r.reject(new Error(n+" did not load after "+t+"ms"))}),t),r)};var r=n(5),o=n(1),i=n(2),a=n(0),s=n(8),u=n(9),c=n(3),f=n(7);c.global.readyPromises=c.global.readyPromises||new r.WeakMap},function(e,t,n){"use strict";function r(e,t){return"object"===(void 0===e?"undefined":f(e))&&null!==e&&e.__type__===t}function o(e,t,n,r){var o=(0,v.uniqueID)(),i=g.global.methods.get(e);return i||(i={},g.global.methods.set(e,i)),i[o]={domain:t,method:n},{__type__:p.CONSTANTS.SERIALIZATION_TYPES.METHOD,__id__:o,__name__:r}}function i(e,t,n){function r(){var r=Array.prototype.slice.call(arguments);return _.log.debug("Call foreign method",n.__name__,r),(0,y.send)(e,p.CONSTANTS.POST_MESSAGE_NAMES.METHOD,{id:n.__id__,name:n.__name__,args:r},{domain:t,timeout:1/0}).then((function(e){var t=e.data;return _.log.debug("Got foreign method result",n.__name__,t.result),t.result}),(function(e){throw _.log.debug("Got foreign method error",(0,v.stringifyError)(e)),e}))}return r.__name__=n.__name__,r.__xdomain__=!0,r.source=e,r.origin=t,r}function a(e,t,n){return new Error(n.__message__)}function s(e,t,n){return new h.ZalgoPromise((function(r,o){return i(e,t,n.__then__)(r,o)}))}function u(e,t,n){return window.Promise?new window.Promise((function(r,o){return i(e,t,n.__then__)(r,o)})):s(e,t,n)}function c(e,t,n){return new RegExp(n.__source__)}Object.defineProperty(t,"__esModule",{value:!0}),t.listenForMethods=void 0;var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.serializeMethod=o,t.serializeMethods=function(e,t,n){return(0,v.replaceObject)({obj:n},(function(n,r){return"function"==typeof n?o(e,t,n,r.toString()):n instanceof Error?(a=n,{__type__:p.CONSTANTS.SERIALIZATION_TYPES.ERROR,__message__:(0,v.stringifyError)(a)}):window.Promise&&n instanceof window.Promise?function(e,t,n,r){return{__type__:p.CONSTANTS.SERIALIZATION_TYPES.PROMISE,__then__:o(e,t,(function(e,t){return n.then(e,t)}),r+".then")}}(e,t,n,r.toString()):h.ZalgoPromise.isPromise(n)?function(e,t,n,r){return{__type__:p.CONSTANTS.SERIALIZATION_TYPES.ZALGO_PROMISE,__then__:o(e,t,(function(e,t){return n.then(e,t)}),r+".then")}}(e,t,n,r.toString()):(0,v.isRegex)(n)?(i=n,{__type__:p.CONSTANTS.SERIALIZATION_TYPES.REGEX,__source__:i.source}):void 0;var i,a})).obj},t.deserializeMethod=i,t.deserializeError=a,t.deserializeZalgoPromise=s,t.deserializePromise=u,t.deserializeRegex=c,t.deserializeMethods=function(e,t,n){return(0,v.replaceObject)({obj:n},(function(n,o){if("object"===(void 0===n?"undefined":f(n))&&null!==n)return r(n,p.CONSTANTS.SERIALIZATION_TYPES.METHOD)?i(e,t,n):r(n,p.CONSTANTS.SERIALIZATION_TYPES.ERROR)?a(0,0,n):r(n,p.CONSTANTS.SERIALIZATION_TYPES.PROMISE)?u(e,t,n):r(n,p.CONSTANTS.SERIALIZATION_TYPES.ZALGO_PROMISE)?s(e,t,n):r(n,p.CONSTANTS.SERIALIZATION_TYPES.REGEX)?c(0,0,n):void 0})).obj};var l=n(5),d=n(1),h=n(2),p=n(0),v=n(7),y=n(8),_=n(9),g=n(3);g.global.methods=g.global.methods||new l.WeakMap,t.listenForMethods=(0,v.once)((function(){(0,y.on)(p.CONSTANTS.POST_MESSAGE_NAMES.METHOD,{window:p.CONSTANTS.WILDCARD,origin:p.CONSTANTS.WILDCARD},(function(e){var t=e.source,n=e.origin,r=e.data,o=g.global.methods.get(t);if(!o)throw new Error("Could not find any methods this window has privileges to call");var i=o[r.id];if(!i)throw new Error("Could not find method with id: "+r.id);if(!(0,d.matchDomain)(i.domain,n))throw new Error("Method domain "+i.domain+" does not match origin "+n);return _.log.debug("Call local method",r.name,r.args),h.ZalgoPromise.try((function(){return i.method.apply({source:t,origin:n,data:r},r.args)})).then((function(e){return{result:e,id:r.id,name:r.name}}))}))}))},function(e,t,n){"use strict";function r(e){return a.ZalgoPromise.try((function(){if(!e.name)throw new Error("Expected options.name");var t,n=e.name,r=e.window;if("string"==typeof r){var o=document.getElementById(r);if(!o)throw new Error("Expected options.window "+Object.prototype.toString.call(r)+" to be a valid element id");if("iframe"!==o.tagName.toLowerCase())throw new Error("Expected options.window "+Object.prototype.toString.call(r)+" to be an iframe");if(!o.contentWindow)throw new Error("Iframe must have contentWindow.  Make sure it has a src attribute and is in the DOM.");r=o.contentWindow}else if(r instanceof HTMLElement){if("iframe"!==r.tagName.toLowerCase())throw new Error("Expected options.window "+Object.prototype.toString.call(r)+" to be an iframe");if(r&&!r.contentWindow)throw new Error("Iframe must have contentWindow.  Make sure it has a src attribute and is in the DOM.");r&&r.contentWindow&&(r=r.contentWindow)}if(!r)throw new Error("Expected options.window to be a window object, iframe, or iframe element id.");t=e.domain||u.CONSTANTS.WILDCARD;var i=e.name+"_"+(0,f.uniqueID)();if((0,s.isWindowClosed)(r))throw new Error("Target window is closed");var d=!1,h=l.global.requestPromises.get(r);h||(h=[],l.global.requestPromises.set(r,h));var p=a.ZalgoPromise.try((function(){if((0,s.isAncestor)(window,r))return a.ZalgoPromise.resolve((0,f.onWindowReady)(r))})).then((function(){return new a.ZalgoPromise((function(o,a){var f={name:n,window:r,domain:t,respond:function(e,t){e||(d=!0,h.splice(h.indexOf(p,1))),e?a(e):o(t)}};if((0,c.addResponseListener)(i,f),(0,c.sendMessage)(r,{type:u.CONSTANTS.POST_MESSAGE_TYPE.REQUEST,hash:i,name:n,data:e.data,fireAndForget:e.fireAndForget},t).catch(a),e.fireAndForget)return o();var l=u.CONFIG.ACK_TIMEOUT,v=e.timeout||u.CONFIG.RES_TIMEOUT,y=100;setTimeout((function t(){if(!d){if((0,s.isWindowClosed)(r))return a(f.ack?new Error("Window closed for "+n+" before response"):new Error("Window closed for "+n+" before ack"));if(l-=y,v-=y,f.ack){if(v===1/0)return;y=Math.min(v,2e3)}else{if(l<=0)return a(new Error("No ack for postMessage "+n+" in "+u.CONFIG.ACK_TIMEOUT+"ms"));if(v<=0)return a(new Error("No response for postMessage "+n+" in "+(e.timeout||u.CONFIG.RES_TIMEOUT)+"ms"))}setTimeout(t,y)}}),y)}))}));return p.catch((function(){(0,c.deleteResponseListener)(i)})),h.push(p),p}))}function o(e,t,n,o){return(o=o||{}).window=e,o.name=t,o.data=n,r(o)}Object.defineProperty(t,"__esModule",{value:!0}),t.send=void 0,t.request=r,t.sendToParent=function(e,t,n){var r=(0,s.getAncestor)();return r?o(r,e,t,n):new a.ZalgoPromise((function(e,t){return t(new Error("Window does not have a parent"))}))},t.client=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e.window)throw new Error("Expected options.window");return{send:function(t,n){return o(e.window,t,n,e)}}};var i=n(5),a=n(2),s=n(1),u=n(0),c=n(6),f=n(4),l=n(3);l.global.requestPromises=l.global.requestPromises||new i.WeakMap,t.send=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CONSTANTS=t.CONFIG=void 0;var r=n(0);Object.defineProperty(t,"CONFIG",{enumerable:!0,get:function(){return r.CONFIG}}),Object.defineProperty(t,"CONSTANTS",{enumerable:!0,get:function(){return r.CONSTANTS}}),t.disable=function(){delete window[r.CONSTANTS.WINDOW_PROPS.POSTROBOT],window.removeEventListener("message",o.messageListener)};var o=n(6)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bridge=t.parent=void 0;var r=n(28);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}));var o=n(31);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})}));var i=n(29);Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})}));var a=n(1);t.parent=(0,a.getAncestor)(),t.bridge=void 0},function(e,t,n){"use strict";function r(e){if(!e.name)throw new Error("Expected options.name");if(!e.handler)throw new Error("Expected options.handler");var t={handler:e.handler,handleError:e.errorHandler||function(e){throw e},window:e.window,domain:e.domain||c.CONSTANTS.WILDCARD,name:e.name},n=(0,u.addRequestListener)({name:t.name,win:t.window,domain:t.domain},t);if(e.once){var r=t.handler;t.handler=(0,s.once)((function(){return n.cancel(),r.apply(this,arguments)}))}if(t.window&&e.errorOnClose)var o=(0,s.safeInterval)((function(){(0,i.isWindowClosed)(t.window)&&(o.cancel(),t.handleError(new Error("Post message target window is closed")))}),50);return{cancel:function(){n.cancel()}}}function o(e,t,n){return"function"==typeof t&&(n=t,t={}),(t=t||{}).name=e,t.handler=n||t.handler,r(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.on=void 0,t.listen=r,t.once=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];"function"==typeof t&&(n=t,t={}),t=t||{},n=n||t.handler;var o=t.errorHandler,i=new a.ZalgoPromise((function(r,i){(t=t||{}).name=e,t.once=!0,t.handler=function(e){if(r(e),n)return n(e)},t.errorHandler=function(e){if(i(e),o)return o(e)}})),s=r(t);return i.cancel=s.cancel,i},t.listener=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{on:function(t,n){return o(t,e,n)}}};var i=n(1),a=n(2),s=n(4),u=n(6),c=n(0);t.on=o}])},25043:function(e,t,n){"use strict";n(25044);var r=n(25045);n.d(t,"a",(function(){return r.a}));var o=n(25048);n.d(t,"d",(function(){return o.e}));var i=n(25049);n.d(t,"b",(function(){return i.a})),n.d(t,"c",(function(){return i.c}))},25044:function(e,t){},25045:function(e,t,n){"use strict";var r=n(25046);n.d(t,"a",(function(){return r.a})),n.d(t,"b",(function(){return r.b}));var o=n(25047);n.d(t,"c",(function(){return o.a})),n.d(t,"d",(function(){return o.b})),n.d(t,"e",(function(){return o.c})),n.d(t,"f",(function(){return o.d})),n.d(t,"g",(function(){return o.e})),n.d(t,"h",(function(){return o.f})),n.d(t,"i",(function(){return o.g})),n.d(t,"j",(function(){return o.h}))},25046:function(e,t,n){"use strict";var r,o;n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),function(e){e.AuthFrame="AuthFrame",e.AuthFrameWithCookie="AuthFrameWithCookie",e.Host="Host",e.Proxy="Proxy"}(r||(r={})),function(e){e.AdalError="AdalError",e.CookiesBlocked="CookiesBlocked",e.Error="Error",e.PopupError="PopupError",e.StorageBlocked="StorageBlocked",e.TokenRequestError="TokenRequestError",e.UserCancelled="UserCancelled"}(o||(o={}))},25047:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return l})),n.d(t,"f",(function(){return d})),n.d(t,"e",(function(){return h})),n.d(t,"h",(function(){return p})),n.d(t,"g",(function(){return v})),n.d(t,"b",(function(){return y}));var r,o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i={},a={},s=0,u=window.parent;function c(){i={},a={},s=0}function f(e){r=e}function l(e,t){a[e]=t}function d(e,t){h(u,e,t)}function h(e,t,n){if(e){var r=_(t)?t:function(e){return o({id:s++,protocol:"PAAF"},e)}(t);e.postMessage(r,"*"),n&&(i[r.id]=n)}else g("Failed to send "+t.action+" request. No targetWindow")}function p(e,t,n){v(e.source,e.origin,t,n)}function v(e,t,n,r){if(e){var i=function(e,t){return o({id:e,protocol:"PAAF"},t)}(n,r);e.postMessage(i,t)}else g("Failed to send response. No targetWindow")}function y(e){if(e.data&&"PAAF"===e.data.protocol){var t,n,r=e.data;_(r)?function(e,t){var n=a[e.action];n?n(e,t):g("Received a "+e.action+" request without a handler")}(r,e):(n=i[(t=r).id])?(n(t),delete i[t.id]):g("Received a response without a callback")}}function _(e){return"id"in e&&"action"in e}function g(e){null==r||r(e)}},25048:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return u}));var r=n(25045);function o(e){var t="Unknown error occurred";try{e&&(t=e instanceof Error?JSON.stringify(e,Object.getOwnPropertyNames(e)):JSON.stringify(e))}catch(n){}return{errorCode:r.b.Error,errorMessage:t}}function i(e){return{errorCode:r.b.PopupError,errorMessage:e}}function a(e){return{errorCode:r.b.TokenRequestError,errorMessage:e}}function s(){return{errorCode:r.b.UserCancelled,errorMessage:"User cancelled the auth flow"}}function u(e){return function(e){return!(!e||"string"!=typeof e.errorCode||"string"!=typeof e.errorMessage)}(e)?e:o(e)}},25049:function(e,t,n){"use strict";n.d(t,"c",(function(){return p})),n.d(t,"b",(function(){return _})),n.d(t,"a",(function(){return g})),n.d(t,"d",(function(){return w}));var r,o=n(25045),i=n(25050),a=n(25051),s=n(25048),u=n(25052),c=n(25054),f=n(25053),l=function(){return(l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},d=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r},h=!1;function p(e){void 0===e&&(e={}),r=function(e){var t=l({frameId:window.name,hostFunctions:{},hostWindow:window,loadFrameTimeout:a.d},e),n=t.authenticationMode;switch(n){case o.a.AuthFrame:v(t,"openPopup");break;case o.a.AuthFrameWithCookie:v(t,"getAccessTokenCookie");break;case o.a.Host:v(t,"getAccessToken");break;case o.a.Proxy:if(!window.name)throw new Error("Proxy frames must have a name.")}if(Object(i.c)(n)){if(!t.region)throw new Error("Region must be set when using "+n+" mode.");if(!t.telemetryLocation)throw new Error("telemetryLocation must be set when using "+t.authenticationMode+" mode.")}return t}(e),h=!0;var t=r.authenticationMode,n=r.logger;n&&u.a(n),Object(o.f)("frameInitialized",m),t&&(Object(o.f)("getAccessToken",b),t===o.a.Host&&Object(o.f)("getAccessTokenFromHost",S),t===o.a.AuthFrameWithCookie&&Object(o.f)("getAccessTokenCookie",O)),Object(i.c)(t)&&Object(o.f)("openPopup",E),Object(o.e)((function(e){u.b("PowerAppsAuthFlow","messageError",{message:e})})),window.addEventListener("message",o.d)}function v(e,t){if(!e.hostFunctions[t])throw new Error("The host must implement "+t+" when using "+e.authenticationMode+" mode.")}function y(e){var t=new f.a(e);for(var n in a.b)if(a.b[n]===t.origin)return!0;return!1}function _(){if(!h)throw new Error("Auth flow has not been initialized.");return r}function g(){window.removeEventListener("message",o.d),Object(o.c)(),Object(o.e)(void 0),Object(i.a)(),r=void 0,h=!1}function w(e,t){var n=_().hostWindow,r=Object(c.b)(e.frameIds,n);Object(o.i)(r,e.origin,e.id,t)}function m(e,t){var n=_(),r=n.sessionId,s=n.tenantId,u=n.authenticationMode,c=n.hostType,f=n.loginHint;Object(o.j)(t,e.id,{sessionId:r,tenantId:s,authenticationMode:u,hostType:c,loginHint:f}),e.frameId===a.a&&Object(i.b)()}function b(e){var t,n=_(),r=n.authenticationMode,a=n.frameId,s=e.options;switch(s.correlationId=null!==(t=s.correlationId)&&void 0!==t?t:Object(c.a)(),u.c("PowerAppsAuthFlow","handleGetAccessToken",{authenticationMode:r,correlationId:s.correlationId,resource:s.resource}),r){case o.a.Host:case o.a.AuthFrame:case o.a.AuthFrameWithCookie:Object(i.d)(e);break;case o.a.Proxy:Object(o.h)(l(l({},e),{frameIds:d(e.frameIds,[a])}))}}function O(e,t){if(y(t.origin)){var n=_().hostFunctions,r=e.options,i=e.origin,a=e.cookieDetails;n.getAccessTokenCookie(r,i,a.name,a.domain,(function(n){Object(o.j)(t,e.id,{error:n&&Object(s.e)(n)})}))}else Object(o.j)(t,e.id,{error:Object(s.c)("Invalid request.")})}function S(e,t){y(t.origin)?_().hostFunctions.getAccessToken(e.options,(function(n,r){Object(o.j)(t,e.id,{error:n&&Object(s.e)(n),token:r})})):Object(o.j)(t,e.id,{error:Object(s.c)("Invalid request.")})}function E(e,t){if(y(t.origin)){var n,r=_().hostFunctions,i=function(i){clearInterval(n),Object(o.j)(t,e.id,{error:i}),i&&r.handlePopupError&&r.handlePopupError(i)};Object(o.f)("popupComplete",(function(e){var t=e.error;i(t),Object(o.f)("popupComplete",null)})),r.openPopup(e.url,(function(e,t){!e&&t?(t.focus&&t.focus(),n=window.setInterval((function(){t&&!t.closed||i(Object(s.d)())}),500)):i(e?Object(s.e)(e):Object(s.b)("Failed to open the popup"))}))}else Object(o.j)(t,e.id,{error:Object(s.b)("Invalid request.")})}},25050:function(e,t,n){"use strict";n.d(t,"c",(function(){return v})),n.d(t,"b",(function(){return _})),n.d(t,"a",(function(){return g})),n.d(t,"d",(function(){return w}));var r,o,i=n(25045),a=n(25051),s=n(25048),u=n(25052),c=n(25049),f=n(25053),l=n(25054);!function(e){e[e.NotStarted=0]="NotStarted",e[e.Started=1]="Started",e[e.Completed=2]="Completed",e[e.Failed=3]="Failed"}(r||(r={}));var d,h=r.NotStarted,p=[];function v(e){return e===i.a.AuthFrame||e===i.a.AuthFrameWithCookie||e===i.a.Host}function y(){if(h===r.NotStarted){var e=Object(c.b)(),t=e.loadFrameTimeout,n=e.region,i=e.telemetryLocation;h=r.Started;var s=function(e,t){var n=a.b[e];return t?new f.a(n+"/"+a.c+"?telemetryLocation="+t):new f.a(n+"/"+a.c)}(n,i).href;u.c("AuthenticationFrame","loadAuthFrame",{region:n,url:s}),d=setTimeout((function(){h=r.Failed,u.b("AuthenticationFrame","loadAuthFrameFailure"),b((function(e){return O(e)}))}),t),o=Object(l.c)(s,a.a)}}function _(){clearTimeout(d),function(){if(h!==r.Started)return;h=r.Completed,u.c("AuthenticationFrame","loadAuthFrameSuccess"),b((function(e,t){return m(e,t)}))}()}function g(){o&&(document.body.removeChild(o),o=void 0,h=r.NotStarted)}function w(e,t){switch(Object(c.b)(),h===r.NotStarted&&y(),h){case r.Completed:m(e,t);break;case r.Failed:O(e);break;default:p.push([e,t])}}function m(e,t){var n=o&&o.contentWindow;n?Object(i.g)(n,e,t):u.b("AuthenticationFrame","sendMessageRequestToAuthFrame",{message:"No frame window"})}function b(e){for(var t=0,n=p;t<n.length;t++){var r=n[t];e(r[0],r[1])}p=[]}function O(e){"getAccessToken"!==e.action&&"getAccessTokenCookie"!==e.action||Object(c.d)(e,{error:Object(s.a)("Failed to load the auth frame"),token:void 0})}},25051:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return a}));var r="powerAppsAuthFlowFrame",o="authflow/authframe",i={local:"https://apps.local.powerapps.com:44329",dev:"https://apps.dev.powerapps.com",test:"https://apps.test.powerapps.com",int:"https://apps.int.powerapps.com",preprod:"https://apps.preprod.powerapps.com",preview:"https://apps.preview.powerapps.com",prod:"https://apps.powerapps.com",gccmoderate:"https://apps.gov.powerapps.us",gcchigh:"https://apps.high.powerapps.us",dod:"https://play.apps.appsplatform.us",mooncake:"https://apps.powerapps.cn",ex:"https://apps.powerapps.eaglex.ic.gov",rx:"https://apps.powerapps.microsoft.scloud"},a=15e3},25052:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a}));var r=null;function o(e){r=e}function i(e,t,n){r&&r.trackError(e+"."+t,n)}function a(e,t,n){r&&r.trackEvent(e+"."+t,n)}},25053:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(e){this._anchor=document.createElement("a"),this._anchor.href=e}return Object.defineProperty(e.prototype,"host",{get:function(){return this._anchor.host},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hostname",{get:function(){return this._anchor.hostname},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"href",{get:function(){return this._anchor.href},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"port",{get:function(){return this._anchor.port},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"origin",{get:function(){return this.protocol+"//"+this.host},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"protocol",{get:function(){return this._anchor.protocol},enumerable:!1,configurable:!0}),e}()},25054:function(e,t,n){"use strict";function r(e,t){for(var n=t,r=e.length;r>0;r--)n=n.frames[e[r-1]];return n}function o(e,t,n){var r=document.createElement("iframe");return r.setAttribute("id",t),r.setAttribute("name",t),r.height="0px",r.width="0px",r.style.display="none",n&&r.addEventListener("load",n),r.src=e,document.body.appendChild(r),r}function i(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){return function(e,t){var n=(e+16*Math.random())%16|0;return("x"===t?n:3&n|8).toString(16)}(e,t)}))}n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i}))},25062:function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty,o="~";function i(){}function a(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function s(e,t,n,r,i){if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new a(n,r||e,i),u=o?o+t:t;return e._events[u]?e._events[u].fn?e._events[u]=[e._events[u],s]:e._events[u].push(s):(e._events[u]=s,e._eventsCount++),e}function u(e,t){0==--e._eventsCount?e._events=new i:delete e._events[t]}function c(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(o=!1)),c.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)r.call(e,t)&&n.push(o?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},c.prototype.listeners=function(e){var t=o?o+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,i=n.length,a=new Array(i);r<i;r++)a[r]=n[r].fn;return a},c.prototype.listenerCount=function(e){var t=o?o+e:e,n=this._events[t];return n?n.fn?1:n.length:0},c.prototype.emit=function(e,t,n,r,i,a){var s=o?o+e:e;if(!this._events[s])return!1;var u,c,f=this._events[s],l=arguments.length;if(f.fn){switch(f.once&&this.removeListener(e,f.fn,void 0,!0),l){case 1:return f.fn.call(f.context),!0;case 2:return f.fn.call(f.context,t),!0;case 3:return f.fn.call(f.context,t,n),!0;case 4:return f.fn.call(f.context,t,n,r),!0;case 5:return f.fn.call(f.context,t,n,r,i),!0;case 6:return f.fn.call(f.context,t,n,r,i,a),!0}for(c=1,u=new Array(l-1);c<l;c++)u[c-1]=arguments[c];f.fn.apply(f.context,u)}else{var d,h=f.length;for(c=0;c<h;c++)switch(f[c].once&&this.removeListener(e,f[c].fn,void 0,!0),l){case 1:f[c].fn.call(f[c].context);break;case 2:f[c].fn.call(f[c].context,t);break;case 3:f[c].fn.call(f[c].context,t,n);break;case 4:f[c].fn.call(f[c].context,t,n,r);break;default:if(!u)for(d=1,u=new Array(l-1);d<l;d++)u[d-1]=arguments[d];f[c].fn.apply(f[c].context,u)}}return!0},c.prototype.on=function(e,t,n){return s(this,e,t,n,!1)},c.prototype.once=function(e,t,n){return s(this,e,t,n,!0)},c.prototype.removeListener=function(e,t,n,r){var i=o?o+e:e;if(!this._events[i])return this;if(!t)return u(this,i),this;var a=this._events[i];if(a.fn)a.fn!==t||r&&!a.once||n&&a.context!==n||u(this,i);else{for(var s=0,c=[],f=a.length;s<f;s++)(a[s].fn!==t||r&&!a[s].once||n&&a[s].context!==n)&&c.push(a[s]);c.length?this._events[i]=1===c.length?c[0]:c:u(this,i)}return this},c.prototype.removeAllListeners=function(e){var t;return e?(t=o?o+e:e,this._events[t]&&u(this,t)):(this._events=new i,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=o,c.EventEmitter=c,e.exports=c}}]);
//# sourceMappingURL=https://sourcemaps.powerapps.com/srcmaps/static/js/module/579.f5bc8592.chunk.js.map