/*! For license information please see AppMagic.Functions.js.LICENSE.txt */
(function(){return this?this:window}())["@pa-client/appmagic-functions"]=function(r){var e={};function t(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return r[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=r,t.c=e,t.d=function(r,e,n){t.o(r,e)||Object.defineProperty(r,e,{enumerable:!0,get:n})},t.r=function(r){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},t.t=function(r,e){if(1&e&&(r=t(r)),8&e)return r;if(4&e&&"object"==typeof r&&r&&r.__esModule)return r;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:r}),2&e&&"string"!=typeof r)for(var o in r)t.d(n,o,function(e){return r[e]}.bind(null,o));return n},t.n=function(r){var e=r&&r.__esModule?function(){return r.default}:function(){return r};return t.d(e,"a",e),e},t.o=function(r,e){return Object.prototype.hasOwnProperty.call(r,e)},t.p="",t(t.s=33)}([function(r,e,t){"use strict";t.r(e),t.d(e,"passThroughArguments",(function(){return l})),t.d(e,"returnIfErrorArgument",(function(){return s})),t.d(e,"returnIfErrorOrNullArgument",(function(){return d})),t.d(e,"standardErrorHandling",(function(){return g})),t.d(e,"standardErrorHandlingAsync",(function(){return p})),t.d(e,"standardErrorHandlingEC",(function(){return m})),t.d(e,"standardErrorHandlingECAsync",(function(){return E})),t.d(e,"standardErrorHandlingECBC",(function(){return v})),t.d(e,"standardErrorHandlingECBCAsync",(function(){return A})),t.d(e,"createNonFiniteResultError",(function(){return h})),t.d(e,"createNonFiniteArgumentError",(function(){return C}));var n=t(2),o=t(16),a=AppMagic.Data.DataValue.isErrorValue,i=AppMagic.Data.DataValue.isBlankValue,u=AppMagic.Data.DataValue.isBlankOrErrorValue,c=AppMagic.Data.ErrorValue.isErrorHandlingFeatureEnabled;function l(){}function s(r,e,t){for(var n=[],o=3;o<arguments.length;o++)n[o-3]=arguments[o];for(var i=[],u=0;u<n.length;u++){var l=n[u];a(l)&&i.push(l),"number"!=typeof l||isFinite(l)||i.push(C(r,e))}if(i.length)return c()?AppMagic.Data.ErrorValue.normalizeErrors(i):!t&&null}function d(r,e,t){for(var n=[],o=3;o<arguments.length;o++)n[o-3]=arguments[o];for(var l=[],s=0;s<n.length;s++){var d=n[s];u(d)&&l.push(d),"number"!=typeof d||isFinite(d)||l.push(C(r,e))}if(l.length){if(i(l[0]))return c()?l[0]:!t&&null;var f=l.filter((function(r){return a(r)})),g=AppMagic.Data.ErrorValue.normalizeErrors(f);return c()?g:!t&&null}for(var p=0,m=n;p<m.length;p++){d=m[p];if(u(d))return c()?d:!t&&null}}function f(r,e){if(e&&(Object(n.isPowerFxV1CompatEnabled)()||e.alwaysReplaceNulls)){var t=e.nullValueReplacements;if(t)for(var o=Math.min(t.length,r.length),a=0;a<o;a++)i(r[a])&&void 0!==t[a]&&(r[a]=t[a])}}function g(r,e,t,n){return function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];f(o,n);var i=e.apply(void 0,__spreadArray([null,t,!!(null==n?void 0:n.nullReturnIsFalse)],o,!1));if(void 0!==i)return i;var u=r.apply(void 0,o);return b(null,u,t,!!(null==n?void 0:n.nullReturnIsFalse))}}function p(r,e,t,n){return function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];f(o,n);var i=e.apply(void 0,__spreadArray([null,t,!!(null==n?void 0:n.nullReturnIsFalse)],o,!1));if(void 0!==i)return Promise.resolve(i);var u=r.apply(void 0,o);return y(null,u,t,!!(null==n?void 0:n.nullReturnIsFalse))}}function m(r,e,t,n){return function(o){for(var a=[],i=1;i<arguments.length;i++)a[i-1]=arguments[i];f(a,n);var u=e.apply(void 0,__spreadArray([o,t,!!(null==n?void 0:n.nullReturnIsFalse)],a,!1));if(void 0!==u)return u;var c=r.apply(void 0,__spreadArray([o],a,!1));return b(o,c,t,!!(null==n?void 0:n.nullReturnIsFalse))}}function E(r,e,t,n){return function(a){for(var i,u=[],c=1;c<arguments.length;c++)u[c-1]=arguments[c];if(null===(i=null==a?void 0:a.abortSignal)||void 0===i?void 0:i.aborted)throw Object(o.createCanceledError)();f(u,n);var l=e.apply(void 0,__spreadArray([a,t,!!(null==n?void 0:n.nullReturnIsFalse)],u,!1));if(void 0!==l)return Promise.resolve(l);var s=r.apply(void 0,__spreadArray([a],u,!1));return y(a,s,t,!!(null==n?void 0:n.nullReturnIsFalse))}}function v(r,e,t,n){return function(o,a){for(var i=[],u=2;u<arguments.length;u++)i[u-2]=arguments[u];f(i,n);var c=e.apply(void 0,__spreadArray([o,t,!!(null==n?void 0:n.nullReturnIsFalse)],i,!1));if(void 0!==c)return c;var l=r.apply(void 0,__spreadArray([o,a],i,!1));return b(o,l,t,!!(null==n?void 0:n.nullReturnIsFalse))}}function A(r,e,t,n){return function(a,i){for(var u,c=[],l=2;l<arguments.length;l++)c[l-2]=arguments[l];if(null===(u=null==a?void 0:a.abortSignal)||void 0===u?void 0:u.aborted)throw Object(o.createCanceledError)();f(c,n);var s=e.apply(void 0,__spreadArray([a,t,!!(null==n?void 0:n.nullReturnIsFalse)],c,!1));if(void 0!==s)return Promise.resolve(s);var d=r.apply(void 0,__spreadArray([a,i],c,!1));return y(a,d,t,!!(null==n?void 0:n.nullReturnIsFalse))}}function b(r,e,t,n){return"number"!=typeof e||isFinite(e)||(e=h(r,t)),c()?e:u(e)?!n&&null:e}function y(r,e,t,n){return e.then((function(e){return b(r,e,t,n)}))}function h(r,e){var t=e?Core.Utility.formatString(AppMagic.Strings.InvalidFunctionUsage_Function_NonFiniteResult,e):AppMagic.Strings.InvalidFunctionUsage_Generic_NonFiniteResult;return AppMagic.Data.ErrorValue.createGatedError(AppMagic.Data.ErrorKind.Numeric,AppMagic.Data.ErrorSeverity.Severe,t,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:t,skipDisplayRuntimeError:!0,functionName:e}))}function C(r,e){var t=e?Core.Utility.formatString(AppMagic.Strings.InvalidFunctionUsage_Function_NonFiniteNumber,e):AppMagic.Strings.InvalidFunctionUsage_Generic_NonFiniteNumber;return AppMagic.Data.ErrorValue.createGatedError(AppMagic.Data.ErrorKind.Numeric,AppMagic.Data.ErrorSeverity.Severe,t,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:t,skipDisplayRuntimeError:!0,functionName:e}))}},function(r,e,t){"use strict";t.d(e,"E",(function(){return E})),t.d(e,"a",(function(){return v})),t.d(e,"b",(function(){return A})),t.d(e,"e",(function(){return b})),t.d(e,"A",(function(){return y})),t.d(e,"H",(function(){return h})),t.d(e,"G",(function(){return C})),t.d(e,"h",(function(){return D})),t.d(e,"B",(function(){return R})),t.d(e,"i",(function(){return F})),t.d(e,"j",(function(){return I})),t.d(e,"r",(function(){return N})),t.d(e,"u",(function(){return x})),t.d(e,"s",(function(){return P})),t.d(e,"o",(function(){return U})),t.d(e,"p",(function(){return w})),t.d(e,"t",(function(){return V})),t.d(e,"v",(function(){return k})),t.d(e,"n",(function(){return H})),t.d(e,"q",(function(){return G})),t.d(e,"w",(function(){return B})),t.d(e,"x",(function(){return K})),t.d(e,"y",(function(){return q})),t.d(e,"m",(function(){return W})),t.d(e,"d",(function(){return z})),t.d(e,"c",(function(){return J})),t.d(e,"f",(function(){return Q})),t.d(e,"k",(function(){return Y})),t.d(e,"C",(function(){return $})),t.d(e,"g",(function(){return Z})),t.d(e,"I",(function(){return X})),t.d(e,"D",(function(){return rr})),t.d(e,"z",(function(){return tr})),t.d(e,"F",(function(){return nr})),t.d(e,"l",(function(){return or}));var n=t(3),o=t(2),a=AppMagic.Data,i=AppMagic.Data.DataValue.isBlankValue,u=AppMagic.Data.DataValue.isBlankOrErrorValue,c=AppMagic.Data.ErrorValue.isErrorHandlingFeatureEnabled,l=AppMagic.Data.DataValue.isErrorValue,s=a.DataEntityRecord.isDataEntityRecord,d=a.DataEntityRecord.isUncommittedEntityRecord,f=a.DataEntityRecord.makeEntityRecordSameAsOther,g=AppMagic.Data.TraceSeverity,p=Core.Telemetry.AppInsightsSeverityLevel,m=Core.Diagnostics.MonitorLogLevel,E="PowerAppsClient.Functions.InternalError",v=new Map([[g.Critical,p.Critical],[g.Error,p.Error],[g.Warning,p.Warning],[g.Information,p.Information]]),A=new Map([[g.Critical,m.Critical],[g.Error,m.Error],[g.Warning,m.Warning],[g.Information,m.Info]]);function b(r,e,t,n,s,d){if(l(e))return e;if(i(e))return Object(o.isPowerFxV1CompatEnabled)()?null:[];if(!(e instanceof Array))return k(r,s,"source",e);for(var f=[],g=0;g<e.length;g++){var p=e[g];if(u(p))f.push(p);else{if("object"!=typeof p)return G(r,s,g+1,p);var m=Object.keys(p);if(0!==m.length){if(1!==m.length)return L(r,s,g+1);var E=m[0],v=p[E];null===n&&(n=E);var A=void 0;if(l(v))A=v;else{if(!i(v)&&typeof v!==t)return a.ErrorValue.createGatedError(a.ErrorKind.Unknown,a.ErrorSeverity.Warning,AppMagic.Strings.InvalidFunctionUsage_ResultTypeMismatch,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:AppMagic.Strings.InvalidFunctionUsage_ResultTypeMismatch,skipDisplayRuntimeError:!0,functionName:s}));A=d(v),l(A)&&!c()&&(A=null)}var b={};b[n]=A,f.push(b)}else f.push(p)}}return f}function y(r,e,t){for(var n=[],o=0,a=r;o<a.length;o++){var i=e(a[o]);n.push(i.catch(t))}return Core.PromiseUtils.join(n)}function h(r,e){return Core.Diagnostics.createPerformanceWrapperAsync(Core.Diagnostics.CategoryNames.Function,r,e)}function C(r,e){return Core.Diagnostics.createPerformanceWrapper(Core.Diagnostics.CategoryNames.Function,r,e)}function S(r,e){if(!(r instanceof Array))return{value:r,colName:null,errorRow:!1};if(e>=r.length)return{value:null,colName:null,errorRow:!1};var t=null,n=null,o=!1,a=r[e];if(u(a))t=a,o=l(a);else{var i=Object.keys(a);i.length>0&&(t=a[n=i[0]])}return{value:t,colName:n,errorRow:o}}function O(r,e,t,n){var i,c=0;for(i=0;i<t.length;i++){var l=t[i].arg;if(Object(o.isPowerFxV1CompatEnabled)()&&n&&"T"===n[i]&&u(l))return l;if(!(u(l)||l instanceof Array||typeof l===t[i].type))return N(r,e,"arg".concat(i),t[i].type,l);if("number"==typeof l&&!isFinite(l))return B(r,e,i);l instanceof Array&&c++}if(0===c){for(i=0;i<t.length;i++){l=t[i].arg;if(u(l)&&(!Object(o.isPowerFxV1CompatEnabled)()||n&&"T"==n[i]))return l}return a.ErrorValue.createGatedError(a.ErrorKind.Internal,a.ErrorSeverity.Severe,"None of the parameters is an array")}}function M(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];for(var t=void 0,n=void 0,o=0;o<r.length;o++)if(r[o]instanceof Array){var a=r[o].length;void 0===t||void 0===n?t=n=a:(t=Math.min(t,a),n=Math.max(n,a))}return{minLen:t,maxLen:n}}function D(r,e,t,a,i,u,c,l,s){var d,f=O(r,c,[{arg:e,type:t},{arg:a,type:i}],s);if(void 0!==f)return f;for(var g,p=M(e,a),m=[],E=Object(o.isPowerFxV1CompatEnabled)()?p.minLen:p.maxLen,v=0;v<E;v++){var A=S(e,v),b=S(a,v);A.errorRow?m.push(A.value):b.errorRow?m.push(b.value):(g||(g=u(A.colName,b.colName)),m.push(((d={})[g]=l(A.value,b.value),d)))}return Object(o.isPowerFxV1CompatEnabled)()&&R(r,m,c,g||u(n._valueColumnName,n._valueColumnName),p.maxLen),m}function R(r,e,t,n,o){for(var i,u=e.length;u<o;u++){var c=AppMagic.Strings.ErrorDefaultMessage_NotApplicable;e.push(((i={})[n]=a.ErrorValue.createError(a.ErrorKind.NotApplicable,a.ErrorSeverity.Severe,c,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:c,skipDisplayRuntimeError:!0,functionName:t})),i))}}function F(r,e,t,a,i,u,c,l,s,d,f){var g,p=O(r,s,[{arg:e,type:t},{arg:a,type:i},{arg:u,type:c}],f);if(void 0!==p)return p;for(var m,E=M(e,a,u),v=[],A=Object(o.isPowerFxV1CompatEnabled)()?E.minLen:E.maxLen,b=0;b<A;b++){var y=S(e,b),h=S(a,b),C=S(u,b);y.errorRow?v.push(y.value):h.errorRow?v.push(h.value):C.errorRow?v.push(C.value):(m||(m=l(y.colName,h.colName,C.colName)),v.push(((g={})[m]=d(y.value,h.value,C.value),g)))}return Object(o.isPowerFxV1CompatEnabled)()&&R(r,v,s,m||l(n._valueColumnName,n._valueColumnName,n._valueColumnName),E.maxLen),v}function I(r,e,t,a,i,u,c,l,s,d,f,g,p){var m,E=O(r,f,[{arg:e,type:t},{arg:a,type:i},{arg:u,type:c},{arg:l,type:s}],p);if(void 0!==E)return E;for(var v,A=M(e,a,u,l),b=[],y=Object(o.isPowerFxV1CompatEnabled)()?A.minLen:A.maxLen,h=0;h<y;h++){var C=S(e,h),D=S(a,h),F=S(u,h),I=S(l,h);C.errorRow?b.push(C.value):D.errorRow?b.push(D.value):F.errorRow?b.push(F.value):I.errorRow?b.push(I.value):(v||(v=d(C.colName,D.colName,F.colName,I.colName)),b.push(((m={})[v]=g(C.value,D.value,F.value,I.value),m)))}return Object(o.isPowerFxV1CompatEnabled)()&&R(r,b,f,v||d(n._valueColumnName,n._valueColumnName,n._valueColumnName,n._valueColumnName),A.maxLen),b}function T(r){return Array.isArray(r)?"array(".concat(r.length,")"):null===r?"null":typeof r}function j(r){return"[".concat(r.length," columns]")}function _(r,e,t,n,o,i){var u={type:"TypeMismatch",expectedType:n,functionName:e,paramName:t,paramType:T(o),columns:o&&"object"==typeof o?j(Object.keys(o)):""};return Core.Telemetry.Log.trackErrorEvent(E,u),a.ErrorValue.createGatedError(a.ErrorKind.Internal,a.ErrorSeverity.Warning,i,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:i,skipDisplayRuntimeError:!0,functionName:e}))}function N(r,e,t,n,o){return _(r,e,t,n,o,AppMagic.Strings.InvalidFunctionUsage_TypeMismatch)}function x(r,e,t,n){return _(r,e,t,"string",n,AppMagic.Strings.InvalidFunctionUsage_TypeMismatch)}function P(r,e,t,n){return _(r,e,t,"function",n,AppMagic.Strings.InvalidFunctionUsage_TypeMismatch)}function U(r,e,t,n){return Core.Telemetry.Log.trackErrorEvent(E,{type:"InvalidArgument",functionName:e,paramName:t,paramType:T(n),columns:n&&"object"==typeof n?j(Object.keys(n)):""}),a.ErrorValue.createGatedError(a.ErrorKind.Internal,a.ErrorSeverity.Warning,AppMagic.Strings.InvalidFunctionUsage_TypeMismatch,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:AppMagic.Strings.InvalidFunctionUsage_TypeMismatch,skipDisplayRuntimeError:!0,functionName:e}))}function w(r,e,t){Core.Telemetry.Log.trackErrorEvent(E,{type:"InvalidNullArgument",functionName:e,paramName:t,paramType:"null",columns:""});var n=Core.Utility.formatString(AppMagic.Strings.InvalidFunctionUsage_InvalidArgument_ArgumentNull,e);return a.ErrorValue.createGatedError(a.ErrorKind.Internal,a.ErrorSeverity.Warning,n,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:n,skipDisplayRuntimeError:!0,functionName:e}))}function V(r,e,t,n){return _(r,e,t,"number",n,AppMagic.Strings.InvalidFunctionUsage_TypeMismatchNumber)}function k(r,e,t,n){return _(r,e,t,"Table",n,AppMagic.Strings.InvalidFunctionUsage_TypeMismatchTable)}function H(r,e,t){if(Core.Utility.isCanceledError(t))return Core.Telemetry.Log.trackErrorEvent(E,{type:"PromiseRejection",functionName:e,reason:"Canceled"}),Core.Diagnostics.trace(Core.Diagnostics.CategoryNames.Function,e,{canceled:!0,info:Core.Utility.formatString(AppMagic.Strings.FunctionCanceled,e)},Core.Diagnostics.MonitorLogLevel.Info),null;Core.Telemetry.Log.trackErrorEvent(E,{type:"PromiseRejection",functionName:e,reason:t});var n=Core.Utility.formatString(AppMagic.Strings.InvalidFunctionUsage_InternalErrorGenericDetails,e,t);return a.ErrorValue.createGatedError(a.ErrorKind.Internal,a.ErrorSeverity.Severe,n,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:n,skipDisplayRuntimeError:!0,functionName:e}))}function G(r,e,t,n){Core.Telemetry.Log.trackErrorEvent(E,{type:"InvalidRecord",functionName:e,oneBasedRecordIndex:t,recordType:T(n)});var o=Core.Utility.formatString(AppMagic.Strings.InvalidFunctionUsage_InvalidRecordInTable,t);return a.ErrorValue.createGatedError(a.ErrorKind.Internal,a.ErrorSeverity.Warning,o,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:o,skipDisplayRuntimeError:!0,functionName:e}))}function L(r,e,t){Core.Telemetry.Log.trackErrorEvent(E,{type:"InvalidRecordMultipleColumn",functionName:e,oneBasedRecordIndex:t});var n=Core.Utility.formatString(AppMagic.Strings.InvalidFunctionUsage_SingleColumnTableExpected,e,t);return a.ErrorValue.createGatedError(a.ErrorKind.InvalidArgument,a.ErrorSeverity.Warning,n,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:n,skipDisplayRuntimeError:!0,functionName:e}))}function B(r,e,t){var n;switch(t){case 1:n=Core.Utility.formatString(AppMagic.Strings.InvalidFunctionUsage_InvalidArgument_FirstArgument,e);break;case 2:n=Core.Utility.formatString(AppMagic.Strings.InvalidFunctionUsage_InvalidArgument_SecondArgument,e);break;case 3:n=Core.Utility.formatString(AppMagic.Strings.InvalidFunctionUsage_InvalidArgument_ThirdArgument,e);break;case 4:n=Core.Utility.formatString(AppMagic.Strings.InvalidFunctionUsage_InvalidArgument_FourthArgument,e);break;default:n=Core.Utility.formatString(AppMagic.Strings.InvalidFunctionUsage_InvalidArgument,e)}return a.ErrorValue.createGatedError(a.ErrorKind.InvalidArgument,a.ErrorSeverity.Warning,n,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:n,skipDisplayRuntimeError:!0,functionName:e}))}function K(r,e,t){var n;switch(t){case 1:n=AppMagic.Strings.InvalidFunctionUsage_InvalidArgument_FirstArgumentNull;break;case 2:n=AppMagic.Strings.InvalidFunctionUsage_InvalidArgument_SecondArgumentNull;break;case 3:n=AppMagic.Strings.InvalidFunctionUsage_InvalidArgument_ThirdArgumentNull;break;default:n=AppMagic.Strings.InvalidFunctionUsage_InvalidArgument_ArgumentNull}var o=Core.Utility.formatString(n,e);return a.ErrorValue.createGatedError(a.ErrorKind.InvalidArgument,a.ErrorSeverity.Warning,o,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:o,skipDisplayRuntimeError:!0,functionName:e}))}function q(r,e,t,n,o){var i;switch(t){case 1:i=Core.Utility.isDefined(o)?AppMagic.Strings.InvalidFunctionUsage_ArgumentOutOfRange_Between_FirstArgument:AppMagic.Strings.InvalidFunctionUsage_ArgumentOutOfRange_GreaterThanOrEqualTo_FirstArgument;break;case 2:i=Core.Utility.isDefined(o)?AppMagic.Strings.InvalidFunctionUsage_ArgumentOutOfRange_Between_SecondArgument:AppMagic.Strings.InvalidFunctionUsage_ArgumentOutOfRange_GreaterThanOrEqualTo_SecondArgument;break;case 3:i=Core.Utility.isDefined(o)?AppMagic.Strings.InvalidFunctionUsage_ArgumentOutOfRange_Between_ThirdArgument:AppMagic.Strings.InvalidFunctionUsage_ArgumentOutOfRange_GreaterThanOrEqualTo_ThirdArgument;break;case 4:i=Core.Utility.isDefined(o)?AppMagic.Strings.InvalidFunctionUsage_ArgumentOutOfRange_Between_FourthArgument:AppMagic.Strings.InvalidFunctionUsage_ArgumentOutOfRange_GreaterThanOrEqualTo_FourthArgument;break;default:i=Core.Utility.isDefined(o)?AppMagic.Strings.InvalidFunctionUsage_ArgumentOutOfRange_Between:AppMagic.Strings.InvalidFunctionUsage_ArgumentOutOfRange_GreaterThanOrEqualTo}var u=Core.Utility.formatString(i,e,n,o);return a.ErrorValue.createGatedError(a.ErrorKind.InvalidArgument,a.ErrorSeverity.Warning,u,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:u,skipDisplayRuntimeError:!0,functionName:e}))}function W(r,e){return a.ErrorValue.createGatedError(a.ErrorKind.Div0,a.ErrorSeverity.Severe,AppMagic.Strings.Error_DivisionByZero,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:AppMagic.Strings.Error_DivisionByZero,skipDisplayRuntimeError:!0,functionName:e}))}function z(r,e){return"number"==typeof r&&isFinite(r)?(void 0===e&&(e=r<0?Math.ceil(r):Math.floor(r)),parseFloat((r-e).toFixed(10))):null}function J(r,e){if(u(r)||u(e))return r;if("number"!=typeof r||!isFinite(r)||"number"!=typeof e||!isFinite(e))return null;var t=r<0?-1:1,n=Math.pow(10,e);return t*(Math.round(t*r*n)/n)}function Q(r){if(u(r))return r;if("number"!=typeof r||!isFinite(r))return null;var e=z(r);return"number"==typeof e&&isFinite(e)?.5===Math.abs(e)?r<0?Math.floor(r):Math.ceil(r):Math.round(r):null}function Y(r){var e=AppMagic.Data.DataTable.create();return e.push(r),e}function $(r,e){if(!(r instanceof Array))return k(null,"GetOneColumnTable","table",r);for(var t=[],n=r.length,o=0;o<n;o++){var a=void 0,i=r[o];if(u(i))a=i;else{a={};var c=r[o][e];void 0===c&&(c=null),a[e]=c}t.push(a)}return t}function Z(r,e,t){for(var n=AppMagic.Data.DataRecord.create(),o=r.length-1;o>=0;o--){var a=r[o];if(null!==a)for(var i=Object.keys(a),u=0,c=i.length;u<c;u++){var l=i[u];Core.Utility.isUndefined(n[l])&&(n[l]=t?AppMagic.Utility.clone(a[l],!0,!0):a[l])}}return e&&r.length>0&&(s(r[0])||d(r[0]))&&f(n,r[0]),n}function X(r){var e=Core.Telemetry.Log.startScenario(Core.Telemetry.ScenarioName.ScanBarcodeFunction,{functionSource:"sharedReplacementFunctions"});return(Core.Environment.getDeviceId()===Core.Environment.DeviceId.iOSDevice||Core.Environment.getDeviceId()===Core.Environment.DeviceId.AndroidDevice)&&cordova&&cordova.plugins&&cordova.plugins.barcodeScanner?new Promise((function(t,n){cordova.plugins.barcodeScanner.scan((function(r){r.cancelled?Core.Telemetry.Log.cancelScenario(e):Core.Telemetry.Log.passScenario(e,{message:r.format}),t(r.text)}),(function(n){Core.Telemetry.Log.failScenario(e,{error:n});var o=Core.Utility.formatString(AppMagic.Strings.ScanBarcodeError,n.message||""),i=a.ErrorValue.createGatedError(a.ErrorKind.InvalidFunctionUsage,a.ErrorSeverity.Moderate,o,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:o,skipDisplayRuntimeError:!0,functionName:"ScanBarcode"}));t(i)}),{preferFrontCamera:!1,showFlipCameraButton:!0,showTorchButton:!0,torchOn:!1,prompt:"",resultDisplayDuration:500,disableAnimations:!0,disableSuccessBeep:!1})})):(Core.Telemetry.Log.endScenario(e),Promise.resolve(null))}function rr(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return er.apply(void 0,__spreadArray([r],e,!1)).catch((function(e){return H(r,"IfError",e)}))}function er(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return __awaiter(this,void 0,Promise,(function(){var t,n,o,i;return __generator(this,(function(u){switch(u.label){case 0:t=0,u.label=1;case 1:return t<e.length?(n=e[t],t>0&&(n=n()),[4,n]):[3,4];case 2:if(o=u.sent(),t===e.length-1)return[2,o];if(AppMagic.Data.DataValue.isErrorValue(o))return[2,e[t+1](a.ErrorValue.extractErrorScope(o,r.entityName,r.propertyName))];if(t===e.length-2)return[2,o];u.label=3;case 3:return t+=2,[3,1];case 4:return i=Core.Utility.formatString(AppMagic.Strings.InvalidFunctionUsage_InternalErrorGeneric,"IfError"),[2,a.ErrorValue.createGatedError(a.ErrorKind.Unknown,a.ErrorSeverity.Severe,i,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:i,skipDisplayRuntimeError:!0,functionName:"IfError"}))]}}))}))}function tr(r,e){if(!a.ErrorValue.isErrorHandlingFeatureEnabled())return null;if("string"==typeof e){var t={errorContext:r,errorMessage:e,raiseToastNotification:!1,wasReported:!1,functionName:"Error"};return a.ErrorValue.createError(a.ErrorKind.Custom,AppMagic.Data.ErrorSeverity.Severe,e,t)}var n=Array.isArray(e)?e:[e];if(0===n.length)return null;var o=[];return n.forEach((function(e){var t,n,i=null!==(t=e.Kind)&&void 0!==t?t:a.ErrorKind.Unknown;if(l(i))o.push(i);else{var u,c=e.Message||function(r){switch(r){case AppMagic.Data.ErrorKind.None:return AppMagic.Strings.ErrorDefaultMessage_None;case AppMagic.Data.ErrorKind.Sync:case AppMagic.Data.ErrorKind.Unknown:case AppMagic.Data.ErrorKind.Internal:return AppMagic.Strings.ErrorDefaultMessage_SystemError;case AppMagic.Data.ErrorKind.MissingRequired:return AppMagic.Strings.ErrorDefaultMessage_MissingRequired;case AppMagic.Data.ErrorKind.Validation:return AppMagic.Strings.ErrorDefaultMessage_Validation;case AppMagic.Data.ErrorKind.GeneratedValue:return AppMagic.Strings.ErrorDefaultMessage_GeneratedValue;case AppMagic.Data.ErrorKind.CreatePermission:return AppMagic.Strings.ErrorDefaultMessage_CreatePermission;case AppMagic.Data.ErrorKind.DeletePermission:return AppMagic.Strings.ErrorDefaultMessage_DeletePermission;case AppMagic.Data.ErrorKind.EditPermission:return AppMagic.Strings.ErrorDefaultMessage_EditPermission;case AppMagic.Data.ErrorKind.Conflict:return AppMagic.Strings.ErrorDefaultMessage_Conflict;case AppMagic.Data.ErrorKind.NotFound:return AppMagic.Strings.ErrorDefaultMessage_NotFound;case AppMagic.Data.ErrorKind.ConstraintViolated:return AppMagic.Strings.ErrorDefaultMessage_ConstraintViolated;case AppMagic.Data.ErrorKind.ReadOnlyValue:return AppMagic.Strings.ErrorDefaultMessage_ReadOnlyValue;case AppMagic.Data.ErrorKind.Div0:return AppMagic.Strings.ErrorDefaultMessage_Div0;case AppMagic.Data.ErrorKind.BadLanguageCode:return AppMagic.Strings.ErrorDefaultMessage_BadLanguageCode;case AppMagic.Data.ErrorKind.BadRegex:return AppMagic.Strings.ErrorDefaultMessage_BadRegex;case AppMagic.Data.ErrorKind.InvalidFunctionUsage:return AppMagic.Strings.ErrorDefaultMessage_InvalidFunctionUsage;case AppMagic.Data.ErrorKind.FileNotFound:return AppMagic.Strings.ErrorDefaultMessage_FileNotFound;case AppMagic.Data.ErrorKind.AnalysisError:return AppMagic.Strings.ErrorDefaultMessage_AnalysisError;case AppMagic.Data.ErrorKind.ReadPermission:return AppMagic.Strings.ErrorDefaultMessage_ReadPermission;case AppMagic.Data.ErrorKind.NotSupported:return AppMagic.Strings.ErrorDefaultMessage_NotSupported;case AppMagic.Data.ErrorKind.InsufficientMemory:return AppMagic.Strings.ErrorDefaultMessage_InsufficientMemory;case AppMagic.Data.ErrorKind.QuotaExceeded:return AppMagic.Strings.ErrorDefaultMessage_QuotaExceeded;case AppMagic.Data.ErrorKind.Network:return AppMagic.Strings.ErrorDefaultMessage_Network;case AppMagic.Data.ErrorKind.Numeric:return AppMagic.Strings.ErrorDefaultMessage_Numeric;case AppMagic.Data.ErrorKind.InvalidArgument:return AppMagic.Strings.ErrorDefaultMessage_InvalidArgument;case AppMagic.Data.ErrorKind.NotApplicable:return AppMagic.Strings.ErrorDefaultMessage_NotApplicable;case AppMagic.Data.ErrorKind.Timeout:return AppMagic.Strings.ErrorDefaultMessage_Timeout;default:var e=r;return 1e3===e?AppMagic.Strings.ErrorDefaultMessage_CustomError:e<1e3?Core.Utility.formatString(AppMagic.Strings.ErrorDefaultMessage_ReservedErrorArg,e):Core.Utility.formatString(AppMagic.Strings.ErrorDefaultMessage_CustomErrorArg,e)}}(i),s={errorContext:r,errorMessage:c,raiseToastNotification:!1,wasReported:!1,sourceOverride:e.Source,observedOverride:e.Observed,functionName:"Error"};e.Details&&(u={status:null!==(n=e.Details.HttpStatusCode)&&void 0!==n?n:null,headers:{},responseType:"text",responseText:e.Details.HttpResponse||""}),o.push(a.ErrorValue.createError(i,AppMagic.Data.ErrorSeverity.Severe,c,s,u))}})),o.length>1&&(o[0].nextErrors=o.slice(1)),o[0]}function nr(r){return AppMagic.Data.DataValue.isErrorValue(r)}function or(){return a.ErrorValue.createGatedError(a.ErrorKind.AnalysisError,a.ErrorSeverity.NoError,"CodeGen error")}},function(r,e,t){"use strict";t.r(e),t.d(e,"setPowerFxV1CompatEnabled",(function(){return o})),t.d(e,"isPowerFxV1CompatEnabled",(function(){return a})),t.d(e,"setPdfFunctionEnabled",(function(){return u})),t.d(e,"isPdfFunctionEnabled",(function(){return c})),t.d(e,"setPdfFunctionTestModeEnabled",(function(){return s})),t.d(e,"isPdfFunctionTestModeEnabled",(function(){return d})),t.d(e,"isConsistentTabularFunctionReturnSchemaEnabled",(function(){return g})),t.d(e,"setConsistentTabularFunctionReturnSchemaEnabled",(function(){return p}));var n=!1;function o(r){n=r}function a(){return n}var i=!1;function u(r){i=r}function c(){return i}var l=!1;function s(r){l=r}function d(){return l}var f=!0;function g(){return f}function p(r){f=r}},function(r,e,t){"use strict";t.r(e),t.d(e,"_resultColumnName",(function(){return n})),t.d(e,"_valueColumnName",(function(){return o})),t.d(e,"epochYear",(function(){return a})),t.d(e,"epochMonth",(function(){return i})),t.d(e,"epochDay",(function(){return u})),t.d(e,"excelEpochYear",(function(){return c})),t.d(e,"excelEpochMonth",(function(){return l})),t.d(e,"excelEpochDay",(function(){return s})),t.d(e,"_fullMatchColumnName",(function(){return d})),t.d(e,"_capturesColumnName",(function(){return f})),t.d(e,"_startMatchColumnName",(function(){return g})),t.d(e,"getSafeHTML",(function(){return p})),t.d(e,"isSafeHTML",(function(){return m}));var n="Result",o="Value",a=1970,i=0,u=1,c=1899,l=11,s=30,d="FullMatch",f="SubMatches",g="StartMatch";function p(r,e){var t="_"+Core.Utility.generateNonDashedUUID();return globalScopeObject.DOMPurify&&!Core.FallbackSwitch.isActivated("DOMPurify")?function(r,e,t){var n=globalScopeObject.DOMPurify;n.setConfig({html:!0,FORBID_TAGS:["style"]}),n.addHook("afterSanitizeAttributes",(function(r){var n=r.getAttribute("href");if(n&&(e?r.setAttribute("href",e(n)):r.removeAttribute("href")),t){var o=r.getAttribute("id");o&&r.setAttribute("id",t(o));var a=r.getAttribute("class");a&&r.setAttribute("class",t(a))}}));var o=n.sanitize(r);return n.removeHook("afterSanitizeAttributes"),o}(r,e?function(r){return r}:null,(function(r){return r+t})):html_sanitize(r,e?function(r){return r}:null,(function(r){return r+t}))}function m(r){return p(r,!1)===r}},function(r,e,t){"use strict";t.d(e,"x",(function(){return f})),t.d(e,"g",(function(){return g})),t.d(e,"r",(function(){return v})),t.d(e,"u",(function(){return A})),t.d(e,"H",(function(){return b})),t.d(e,"N",(function(){return y})),t.d(e,"E",(function(){return h})),t.d(e,"y",(function(){return C})),t.d(e,"B",(function(){return S})),t.d(e,"D",(function(){return O})),t.d(e,"G",(function(){return M})),t.d(e,"M",(function(){return F})),t.d(e,"L",(function(){return j})),t.d(e,"C",(function(){return _})),t.d(e,"k",(function(){return N})),t.d(e,"l",(function(){return x})),t.d(e,"m",(function(){return P})),t.d(e,"n",(function(){return U})),t.d(e,"o",(function(){return V})),t.d(e,"p",(function(){return k})),t.d(e,"q",(function(){return H})),t.d(e,"F",(function(){return G})),t.d(e,"J",(function(){return L})),t.d(e,"K",(function(){return B})),t.d(e,"d",(function(){return K})),t.d(e,"b",(function(){return q})),t.d(e,"h",(function(){return W})),t.d(e,"i",(function(){return z})),t.d(e,"e",(function(){return Q})),t.d(e,"c",(function(){return Y})),t.d(e,"j",(function(){return X})),t.d(e,"z",(function(){return er})),t.d(e,"A",(function(){return tr})),t.d(e,"s",(function(){return nr})),t.d(e,"t",(function(){return ar})),t.d(e,"w",(function(){return lr})),t.d(e,"I",(function(){return dr})),t.d(e,"v",(function(){return fr})),t.d(e,"f",(function(){return mr})),t.d(e,"a",(function(){return yr}));var n=t(20),o=t(23),a=t(3),i=t(1),u=t(8),c=t(2),l=AppMagic.Data,s=AppMagic.Data.DataValue.isErrorValue,d=AppMagic.Data.DataValue.isBlankValue,f=new Date(a.excelEpochYear,a.excelEpochMonth,a.excelEpochDay).getTime(),g=864e5,p=null,m={replacementPrefix:"",replacementSuffix:"",suffixKey:"replacementSuffix",replacementToOriginalStringMapKey:"replacementToOriginalStringMap"};function E(r,e,t){var n=Core.Utility.formatString(AppMagic.Strings.InvalidFunctionUsage_CannotConvertToDateTime,e);return l.ErrorValue.createGatedError(l.ErrorKind.InvalidArgument,l.ErrorSeverity.Severe,n,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:n,skipDisplayRuntimeError:!0,functionName:t}))}function v(r,e,t,n){if("number"!=typeof e)return Object(i.t)(r,"Date","year",e);if("number"!=typeof t)return Object(i.t)(r,"Date","month",t);if("number"!=typeof n)return Object(i.t)(r,"Date","day",n);if(e<0||e>=1e4){var o=Core.Utility.formatString(AppMagic.Strings.InvalidFunctionUsage_Date_YearArgumentOutOfRange,0,9999);return l.ErrorValue.createGatedError(l.ErrorKind.InvalidArgument,l.ErrorSeverity.Severe,o,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:o,skipDisplayRuntimeError:!0,functionName:"Date"}))}t-=1,!Object(c.isPowerFxV1CompatEnabled)()&&e<1900&&(e+=1900);var a=new Date(0);a.setHours(0,0,0,0),a.setFullYear(e,t,n);var u=$(null,a,"+");return void 0!==u?u:a.valueOf()}function A(r,e,t,n,o,a,u,c){var l=v(r,e=e||0,t=t||0,n=n||0);if(s(l))return l;if(a=a||0,u=u||0,c=c||0,"number"!=typeof(o=o||0))return Object(i.t)(r,"DateTime","hour",o);if("number"!=typeof a)return Object(i.t)(r,"DateTime","minute",a);if("number"!=typeof u)return Object(i.t)(r,"DateTime","second",u);if("number"!=typeof c)return Object(i.t)(r,"DateTime","millisecond",c);var d=new Date(l);d.setHours(o,a,u,c);var f=$(null,d,"+");return void 0!==f?f:d.getTime()}function b(r,e,t,n,o){if(null===e&&(e=0),null===t&&(t=0),null===n&&(n=0),null==o&&(o=0),"number"!=typeof e)return Object(i.t)(r,"Time","hour",e);if("number"!=typeof t)return Object(i.t)(r,"Time","minute",t);if("number"!=typeof n)return Object(i.t)(r,"Time","second",n);if("number"!=typeof o)return Object(i.t)(r,"Time","millisecond",o);var u=Object(c.isPowerFxV1CompatEnabled)()?new Date(a.excelEpochYear,a.excelEpochMonth,a.excelEpochDay):new Date(a.epochYear,a.epochMonth,a.epochDay);u.setHours(e,t,n,o);var l=$(null,u,"+");return void 0!==l?l:(Object(c.isPowerFxV1CompatEnabled)()||u.setFullYear(a.epochYear,a.epochMonth,a.epochDay),u.getTime())}function y(r,e){return null===e?1900:"number"!=typeof e?Object(i.t)(r,"Year","date",e):new Date(e).getFullYear()}function h(r,e){return null===e?1:"number"!=typeof e?Object(i.t)(r,"Month","date",e):new Date(e).getMonth()+1}function C(r,e){return null===e?0:"number"!=typeof e?Object(i.t)(r,"Day","date",e):new Date(e).getDate()}function S(r,e){return null===e?0:"number"!=typeof e?Object(i.t)(r,"Hour","date",e):new Date(e).getHours()}function O(r,e){return null===e?0:"number"!=typeof e?Object(i.t)(r,"Minute","date",e):new Date(e).getMinutes()}function M(r,e){return null===e?0:"number"!=typeof e?Object(i.t)(r,"Second","date",e):new Date(e).getSeconds()}function D(r,e,t,n){null===r&&null!=t&&Core.Diagnostics.trace(Core.Diagnostics.CategoryNames.Function,e,{context:n,info:Core.Utility.formatString(AppMagic.Strings.CustomPageDataFormattingError,e,t)},Core.Diagnostics.MonitorLogLevel.Error)}function R(){return new Date(1899,11,30).getTime()}function F(r,e,t){var o,a,i=!1;if(Core.Utility.isDefined(t)&&Object(c.isPowerFxV1CompatEnabled)()&&(t=Math.floor(t)),!e){if(!Object(c.isPowerFxV1CompatEnabled)())return 0;e=R()}if(arguments.length<=2&&Object(n.shouldUseHostFormatterSettings)()){var u=Object(n.tryGetHostFormatter)(),s=null===(o=null==u?void 0:u.getFormattingSettings())||void 0===o?void 0:o.dateTimeFormat.FirstDayOfWeek;i=!0,a=I(s)}else{Core.Utility.isNullOrUndefined(t)&&(t=1),3===t&&(i=!0);var d=T(t,r);if(l.ErrorValue.isGatedError(d))return d;a=d}var f=new Date(e),g=(f.getDay()+a)%7;return i||g++,g}function I(r){return 7-(r=r||0)}function T(r,e){return r<=0||17<r||3<r&&r<11||r!==Math.floor(r)?l.ErrorValue.createGatedError(l.ErrorKind.InvalidArgument,l.ErrorSeverity.Severe,AppMagic.Strings.ErrStartOfWeekExpected,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:e,errorMessage:AppMagic.Strings.ErrStartOfWeekExpected,functionName:"Weekday"})):(3===r&&(r=2),11<=r&&r<=17&&(r-=2),15-r)}function j(r,e,t){if(!e){if(!Object(c.isPowerFxV1CompatEnabled)())return 0;e=R()}if(Core.Utility.isNullOrUndefined(t)&&(t=1),3===t)return l.ErrorValue.createGatedError(l.ErrorKind.InvalidArgument,l.ErrorSeverity.Severe,AppMagic.Strings.ErrMondayZeroNotSupported,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:AppMagic.Strings.ErrMondayZeroNotSupported,functionName:"WeekNum"}));if(t<=0||17<t||3<t&&t<11||t!==Math.floor(t))return l.ErrorValue.createGatedError(l.ErrorKind.InvalidArgument,l.ErrorSeverity.Severe,AppMagic.Strings.ErrStartOfWeekExpected,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:AppMagic.Strings.ErrStartOfWeekExpected,functionName:"WeekNum"}));var n=function(r){return 1===r||2===r?r:r>=11&&r<=16?r-9:17===r?1:0}(t),o=new Date(e);o.beginningOfYear();var a=F(r,o.valueOf());if("number"==typeof a){var i=(a-n+7)%7,u=new Date(e);return u.beginningOfDay(),Math.floor((u.daysSince(o)+i)/7)+1}return a}function _(r){if(!r){if(!Object(c.isPowerFxV1CompatEnabled)())return null;r=R()}return new Date(r).getISOWeek()}function N(){var r=Core.Globalization.currentCulture().monthNames,e=[];return r.forEach((function(r){r&&e.push({Value:r})})),e}function x(){var r=Core.Globalization.currentCulture().abbreviatedMonthNames,e=[];return r.forEach((function(r){r&&e.push({Value:r})})),e}function P(){return Core.Globalization.currentCulture().dayNames.map((function(r){return{Value:r}}))}function U(){return Core.Globalization.currentCulture().abbreviatedDayNames.map((function(r){return{Value:r}}))}function w(r){var e=Core.Globalization.currentCulture().AMDesignator,t=Core.Globalization.currentCulture().PMDesignator;return[{Value:r(e)},{Value:r(t)}]}function V(){return w((function(r){return r}))}function k(){return w((function(r){return r?r[0]:""}))}function H(){return Core.Globalization.currentCulture().clock24}function G(){return Date.now()}function L(r,e){var t;if(Core.Utility.isUndefined(e))t=new Date;else if("number"==typeof e)t=new Date(e);else{if(!Object(c.isPowerFxV1CompatEnabled)()||null!==e){var n=Core.Utility.formatString(AppMagic.Strings.ErrTimezoneOffsetInvalidDate,e);return l.ErrorValue.createGatedError(l.ErrorKind.InvalidArgument,l.ErrorSeverity.Severe,n,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:n,functionName:"TimeZoneOffset"}))}t=new Date(R())}return t.getTimezoneOffset()}function B(){var r=new Date;return r.setHours(0,0,0,0),r.getTime()}function K(r,e,t,n){if(d(r)){if(!Object(c.isPowerFxV1CompatEnabled)())return null;r=f}if(d(e)&&(e=0),"number"!=typeof r)return Object(i.t)(null,"_datePlusDay","date",r);if("number"!=typeof e)return Object(i.t)(null,"_datePlusDay","days",e);if(Object(c.isPowerFxV1CompatEnabled)()){if(n)return J(null);t=!1}var o=r+e*g,a=o+6e4*(new Date(o).getTimezoneOffset()-new Date(r).getTimezoneOffset()),u=new Date(a),l=$(null,u,"+");return void 0!==l?l:t?(u.setHours(0,0,0,0),u.getTime()):a}function q(r,e){return d(r)?d(e)?0:-e/g:d(e)?r/g:(r-e)/g}function W(r,e){return Object(c.isPowerFxV1CompatEnabled)()?(r-e)/g:r-e}function z(r,e,t){if("number"!=typeof r)return Object(i.t)(null,"_timePlusNumber","time",r);if("number"!=typeof e)return Object(i.t)(null,"_timePlusNumber","value",e);if(Object(c.isPowerFxV1CompatEnabled)()&&t)return J(null);var n=r+(Object(c.isPowerFxV1CompatEnabled)()?e*g:e),o=n+6e4*(new Date(n).getTimezoneOffset()-new Date(r).getTimezoneOffset()),u=new Date(o),l=$(null,u,"+");return void 0!==l?l:(Object(c.isPowerFxV1CompatEnabled)()||u.setFullYear(a.epochYear,a.epochMonth,a.epochDay),u.getTime())}function J(r){var e=AppMagic.Strings.InvalidOperator_SubtractingNumberTimeDates;return l.ErrorValue.createGatedError(l.ErrorKind.NotSupported,l.ErrorSeverity.Severe,e,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:e,skipDisplayRuntimeError:!0,functionName:"-"}))}function Q(r,e){if("number"!=typeof r)return Object(i.t)(null,"_datePlusTime","date",r);if("number"!=typeof e)return Object(i.t)(null,"_datePlusTime","time",e);var t=Object(c.isPowerFxV1CompatEnabled)()?f:b(null,0,0,0),n=new Date(r+e-t),o=$(null,n,"+");return void 0!==o?o:n.valueOf()}function Y(r,e){if("number"!=typeof r)return Object(i.t)(null,"_dateMinusTime","date",r);if("number"!=typeof e)return Object(i.t)(null,"_dateMinusTime","time",e);var t=Object(c.isPowerFxV1CompatEnabled)()?f:b(null,0,0,0),n=new Date(r-(e-t)),o=$(null,n,"-");return void 0!==o?o:n.valueOf()}function $(r,e,t){if(isNaN(e.valueOf()))return Z(r,t);if(Object(c.isPowerFxV1CompatEnabled)()){var n=e.getFullYear();if(n<1||n>9999)return Z(r,t)}}function Z(r,e){var t=Core.Utility.formatString(AppMagic.Strings.InvalidFunctionUsage_InvalidDateTimeResult,e);return l.ErrorValue.createGatedError(l.ErrorKind.InvalidArgument,l.ErrorSeverity.Severe,t,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:t,skipDisplayRuntimeError:!0,functionName:e}))}function X(r,e){if("number"!=typeof r)return Object(i.t)(null,"_timePlusTime","timeValue1",r);if("number"!=typeof e)return Object(i.t)(null,"_timePlusTime","timeValue2",e);var t=Object(c.isPowerFxV1CompatEnabled)()?f:b(null,0,0,0),n=new Date(r+e-t),o=$(null,n,"+");return void 0!==o?o:n.valueOf()}function rr(r,e,t,n){var o=r+e*t,a=0;return n&&(a=6e4*(new Date(o).getTimezoneOffset()-new Date(r).getTimezoneOffset())),o+a}function er(r,e,t){if("number"!=typeof e)return Object(i.t)(r,"EDate","date",e);if("number"!=typeof t)return Object(i.t)(r,"EDate","months",t);t=t<0?Math.ceil(t):Math.floor(t);var n=new Date(e),o=n.getFullYear(),a=n.getMonth(),u=n.getDate();a+=t;var c=new Date(o,a+1,0).getDate();u>c&&(u=c),n.setFullYear(o,a,u),n.setHours(0,0,0,0);var l=$(r,n,"EDate");return void 0!==l?l:n.getTime()}function tr(r,e,t){if("number"!=typeof e)return Object(i.t)(r,"EOMonth","date",e);if("number"!=typeof t)return Object(i.t)(r,"EOMonth","months",t);t=t<0?Math.ceil(t):Math.floor(t);var n=new Date(e),o=n.getFullYear(),a=n.getMonth();a+=t;var u=new Date(o,a+1,0).getDate();n.setFullYear(o,a,u),n.setHours(0,0,0,0);var c=$(r,n,"EDate");return void 0!==c?c:n.getTime()}function nr(r,e,t,n,o){if((void 0===o||d(o))&&(o="days"),d(e)){if(!Object(c.isPowerFxV1CompatEnabled)())return null;e=R()}if(d(t)&&(t=0),"number"!=typeof e)return Object(i.t)(r,"DateAdd","date",e);if("number"!=typeof t)return Object(i.t)(r,"DateAdd","delta",t);if("string"!=typeof o)return Object(i.u)(r,"DateAdd","units",o);var a="months"!=(o=o.toLowerCase())&&"quarters"!=o&&"years"!=o;Object(c.isPowerFxV1CompatEnabled)()&&a||(t=t<0?Math.ceil(t):Math.floor(t));var u=new Date(e),s=u.getFullYear(),f=u.getMonth(),p=null;switch(o.toLowerCase()){case"years":s+=t;break;case"quarters":((f+=3*t)>=12||f<0)&&(s+=Math.floor(f/12),(f%=12)<0&&(f+=12));break;case"months":((f+=t)>=12||f<0)&&(s+=Math.floor(f/12),(f%=12)<0&&(f+=12));break;case"days":p=rr(e,t,g,!0);break;case"hours":p=rr(e,t,36e5,!1);break;case"minutes":p=rr(e,t,6e4,!1);break;case"seconds":p=rr(e,t,1e3,!1);break;case"milliseconds":p=rr(e,t,1,!1);break;default:var m=Core.Utility.formatString(AppMagic.Strings.InvalidFunctionUsage_InvalidArgument_ThirdArgument,"DateAdd");return l.ErrorValue.createGatedError(l.ErrorKind.InvalidArgument,l.ErrorSeverity.Severe,m,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:m,skipDisplayRuntimeError:!0,functionName:"DateAdd"}))}if(null===p){var E=new Date(s,f+1,0).getDate(),v=u.getDate();v>E&&(v=E),u.setFullYear(s,f,v),p=u.getTime()}var A=$(r,u=new Date(p),"DateAdd");return void 0!==A?A:!n||Object(c.isPowerFxV1CompatEnabled)()?p:(u.setHours(0,0,0,0),u.getTime())}function or(r,e,t,n){var o=new Date(r),a=new Date(e),i=n?r-6e4*o.getTimezoneOffset():r,u=n?e-6e4*a.getTimezoneOffset():e,c=Math.floor(i/t);return Math.floor(u/t)-c}function ar(r,e,t,n){if((void 0===n||d(n))&&(n="days"),d(e)){if(!Object(c.isPowerFxV1CompatEnabled)())return null;e=R()}if(d(t)){if(!Object(c.isPowerFxV1CompatEnabled)())return null;t=R()}if("number"!=typeof e)return Object(i.t)(r,"DateDiff","start",e);if("number"!=typeof t)return Object(i.t)(r,"DateDiff","end",t);if("string"!=typeof n)return Object(i.u)(r,"DateDiff","units",n);var o,a=new Date(e),u=new Date(t);switch(n.toLowerCase()){case"years":o=u.getFullYear()-a.getFullYear();break;case"quarters":o=4*(u.getFullYear()-a.getFullYear())+Math.floor(u.getMonth()/3)-Math.floor(a.getMonth()/3);break;case"months":o=12*(u.getFullYear()-a.getFullYear())+u.getMonth()-a.getMonth();break;case"days":o=or(e,t,g,!0);break;case"hours":o=or(e,t,36e5,!1);break;case"minutes":o=or(e,t,6e4,!1);break;case"seconds":o=or(e,t,1e3,!1);break;case"milliseconds":o=or(e,t,1,!1);break;default:return Object(i.w)(r,"DateDiff",3)}return o}function ir(r,e){var t=function(r){if(null===p&&(p={}),!p[r]){var e=void 0;try{e=Date.getLocale(r)}catch(r){return null}var t=e.modifiers;if(0===t.length)return null;for(var n=t[0].src,o=e.ampm.toString(),a=1,i=t.length;a<i;a++){var u=t[a].src;o.search(u)<0&&(n+="|"+u)}p[r]=new RegExp(n,"ig")}return p[r]}(e);return r.search(/\d/g)<0||null!==t&&r.search(t)>=0}function ur(r,e,t,n,o){var a=Object(c.isPowerFxV1CompatEnabled)()?"1899-12-30":"1970-01-01";if(/^\s*[0-9]{4,4}(-[0-1][0-9](-[0-3][0-9]){0,1}){0,1}\s*$/.test(e)?e=e.trim()+"T00:00:00":o.timeOnly&&/^\s*[0-9]:[0-5][0-9]:[0-5][0-9](\.[0-9]{1,7})?\s*$/.test(e)?e=a+"T0"+e.trim():(o.timeOnly||Object(c.isPowerFxV1CompatEnabled)())&&/^\s*[0-2][0-9]:[0-5][0-9]:[0-5][0-9](\.[0-9]{1,7})?\s*$/.test(e)?e=a+"T"+e.trim():Object(c.isPowerFxV1CompatEnabled)()&&/^\s*[0-2][0-9]:[0-5][0-9](:[0-5][0-9])?(\s?[aApP][mM])?\s*$/.test(e)&&(e=a+" "+e.trim()),!(t=Core.Globalization.checkCultureSupported(t)))return function(r,e,t){var n=Core.Utility.formatString(AppMagic.Strings.BadLanguageCode,e);return l.ErrorValue.createGatedError(l.ErrorKind.BadLanguageCode,l.ErrorSeverity.Severe,n,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:n,skipDisplayRuntimeError:!0,functionName:t}))}(r,t,n);if(ir(e,t))return null;e=e.replace(/([\+\-]\d{4,4})[\s]+(\d{4,4})\s*$/,"$2 $1");var i=Date.create(e,t);if(isNaN(i.valueOf())){var u=Core.Globalization.tryGetCulture(t,!0);u.clock24||(e=e.replace(u.AMDesignator,"am").replace(u.PMDesignator,"pm"),i=Date.create(e,t))}var s=/([0-9]{4,4})-([0-1][0-9])-([0-3][0-9])T([0-5][0-9]):([0-5][0-9]):([0-5][0-9])\.[0-9]{1,7}$/;if(isNaN(i.valueOf())){e=e.replace(/([0-9]{4,4}-[0-1][0-9]-[0-3][0-9])\s([0-5][0-9]:[0-5][0-9]:[0-5][0-9]\.[0-9]{1,7}.*)$/,"$1T$2");var d=s.exec(e);d&&(e=cr(d,e)),i=Date.create(e,t)}else s.exec(e)&&i.valueOf()===Date.create(e+"Z",t).valueOf()&&(i=Date.create(cr(s.exec(e),e),t));return i}function cr(r,e){var t=new Date(Number(r[1]),Number(r[2])-1,Number(r[3]),Number(r[4]),Number(r[5]),Number(r[6])).getTimezoneOffset(),n=t>0?"-":"+";return n+=(t=Math.abs(t))/60<10?"0"+Math.floor(t/60):Math.floor(t/60),n+=":",e+(n+=t%60<10?"0"+t%60:t%60)}function lr(r,e,t){if(void 0===t&&(t=o.language()),null===e||null===t||""===e)return null;if("string"!=typeof e)return Object(i.u)(r,"DateValue","dateString",e);if("string"!=typeof t)return Object(i.u)(r,"DateValue","languageCode",t);var a;if(arguments.length<3&&Object(n.shouldUseHostFormatterSettings)()){var u=Object(n.tryGetHostFormatter)();D(a=null==u?void 0:u.getParsedDateValue(e),"DateValue",e,r)}else a=ur(r,e,t,"DateValue",{timeOnly:!1});if(s(a))return a;if(null===a||isNaN(a.valueOf()))return E(r,e,"DateValue");if(a.getFullYear()<0)return E(r,e,"DateValue");var c=$(r,a,"DateValue");return void 0!==c?c:(a.setHours(0,0,0,0),a.getTime())}function sr(r,e,t,u,l){if(null===t||""===t)return null;if("string"!=typeof t)return Object(i.u)(r,e,"timeString",t);var d;if(!u&&Object(n.shouldUseHostFormatterSettings)()){var f=Object(n.tryGetHostFormatter)();if(!l.legacyMode){var g=function(r,e,t){var o=Object(n.tryGetHostFormatter)(),a=null==o?void 0:o.getParsedTimeValue(r);return!a||isNaN(a.valueOf())?E(e,r,t):a}(t,r,e);return D(g,e,t,r),g}D(d=null==f?void 0:f.getParsedDateTimeValue(t),e,t,r)}else{if(void 0===u&&(u=o.language()),null===u)return null;if("string"!=typeof u)return Object(i.r)(r,e,"languageCode","string",u);d=ur(r,t,u,"TimeValue",{timeOnly:l.timeOnly})}if(s(d))return d;if(null===d||isNaN(d.valueOf()))return E(r,t,e);l.legacyMode||(Object(c.isPowerFxV1CompatEnabled)()?d.setFullYear(a.excelEpochYear,a.excelEpochMonth,a.excelEpochDay):d.setFullYear(a.epochYear,a.epochMonth,a.epochDay));var p=$(r,d,e);return void 0!==p?p:d.getTime()}function dr(r,e,t){return sr(r,"TimeValue",e,t,{legacyMode:!1,timeOnly:!0})}function fr(r,e,t){return sr(r,"DateTimeValue",e,t,{legacyMode:!0,timeOnly:!1})}function gr(r,e){var t,n={},o=m;n[o.suffixKey]=o.replacementSuffix,n[o.replacementToOriginalStringMapKey]={};var a=o.replacementPrefix;if(e){for(var i="",c=0;c<r.length;c++){var l=r[c];switch(e[c]){case u.e:i+=l;break;case u.d:c++,i+=a+o.replacementSuffix,n[o.replacementToOriginalStringMapKey][a+o.replacementSuffix]='"'+r[c]+'"',a+=o.replacementPrefix;break;case u.c:i+=a+o.replacementSuffix;var s=c;for(c++;c<r.length&&e[c]===u.b;)c++;var d=r.substring(s,c+1);n[o.replacementToOriginalStringMapKey][a+o.replacementSuffix]=d,a+=o.replacementPrefix}}r=i}else r=r.replace(/([\"][^\"]*[\"])/g,(function(r){var e=n[o.suffixKey];return t=o.replacementPrefix+e,n[o.replacementToOriginalStringMapKey][t]=r,n[o.suffixKey]=t,t}));return{format:r,replacementContext:n}}function pr(r,e){var t=m,n=e[t.replacementToOriginalStringMapKey];if(0===n.length)return r;var o=new RegExp(Core.Utility.formatString("[{0}]+[{1}]",t.replacementPrefix,t.replacementSuffix),"g");return r.replace(o,(function(r){var e=n[r];return e.substr(1,e.length-2)}))}function mr(r,e,t,n,o,a,u,c){if("number"!=typeof t)return Object(i.t)(r,e,"value",t);if("string"!=typeof n)return Object(i.u)(r,e,"format",n);var d=new Date(t);if(!isFinite(d.valueOf()))return function(r,e){var t=Core.Utility.formatString(AppMagic.Strings.InvalidFunctionUsage_InvalidArgument_InvalidDateTime,e);return l.ErrorValue.createGatedError(l.ErrorKind.InvalidArgument,l.ErrorSeverity.Severe,t,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:t,skipDisplayRuntimeError:!0,functionName:e}))}(r,e);if(u){var f=n.replace(/utc/gi,d.toISOString());if(f!==n)return f}var g=gr(n,c),p=g.replacementContext,m=Er(r,a,n=vr(g.format),d);return s(m)?m:n=pr(m,p)}function Er(r,e,t,n){var o=e.dayNames,a=e.monthNames,i=o[n.getDay()%7],d=n.getDate(),f=a[n.getMonth()%12],g=n.getMonth()+1,p=n.getFullYear().toString(),m=t.search(/[\u0001]/)>=0||t.search(/[\u0002]/)>=0,E=n.getHours(),v=m?E%12:E;m&&0===v&&(v=12);var A=n.getMinutes(),b=n.getSeconds(),y=n.getMilliseconds(),h=u.g(d,"00",e,e);if(s(h))return h;t=t.replace(/[\u0004][\u0004][\u0004][\u0004]+/g,i).replace(/[\u0004][\u0004][\u0004]/g,i.substring(0,3)).replace(/[\u0004][\u0004]/g,h).replace(/[\u0004]/g,d.toString());var C=u.g(g,"00",e,e);if(s(C))return C;t=(t=t.replace(/[\u0003][\u0003][\u0003][\u0003]+/g,f).replace(/[\u0003][\u0003][\u0003]/g,f.substring(0,3)).replace(/[\u0003][\u0003]/g,C).replace(/[\u0003]/g,g.toString())).replace(/[\u0005][\u0005][\u0005]+/g,p).replace(/[\u0005]+/g,p.substr(p.length-2,2));var S=u.g(v,"00",e,e);if(s(S))return S;t=t.replace(/[\u0007][\u0007]+/g,S).replace(/[\u0007]/g,v.toString()).replace(/[\u0006][\u0006]+/g,S).replace(/[\u0006]/g,v.toString());var O=u.g(A,"00",e,e);if(s(O))return O;t=t.replace(/[\u000A][\u000A]+/g,O).replace(/[\u000A]/g,A.toString());var M=u.g(b,"00",e,e);if(s(M))return M;t=t.replace(/[\u0008][\u0008]+/g,M).replace(/[\u0008]/g,b.toString());var D=u.g(y,"000",e,e);if(s(D))return D;var R=u.g(Object(c.isPowerFxV1CompatEnabled)()?Math.floor(y/10):y,"00",e,e);if(s(R))return R;var F,I=Object(c.isPowerFxV1CompatEnabled)()?u.g(Math.floor(y/100),"0",e,e):y.toString();return s(I)?I:(t=t.replace(/(\u000E+)/,(function(e){switch(e.length){case 1:return I;case 2:return R;case 3:return D;default:if(Object(c.isPowerFxV1CompatEnabled)()){if(e.length>7){var t=AppMagic.Strings.InvalidFunctionUsage_Text_InvalidFormat;return F=l.ErrorValue.createGatedError(l.ErrorKind.InvalidArgument,l.ErrorSeverity.Severe,t,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:t,skipDisplayRuntimeError:!0,functionName:"Text"})),""}return D+"0".repeat(e.length-3)}return D}})),s(F)?F:t=t.replace(/[\u0001]/g,E<12?e.AMDesignator:e.PMDesignator).replace(/[\u0002]/g,E<12?e.AMDesignator.substr(0,1).toLocaleLowerCase():e.PMDesignator.substr(0,1).toLocaleLowerCase()))}function vr(r){r=r.replace(/[aA][mM]\/[pP][mM]/g,"").replace(/[aA]\/[pP]/g,"");for(var e=Object(c.isPowerFxV1CompatEnabled)()?/[mM][^dDyYhH]+[sS]/:/m[^dyhH]+s/,t=r.search(e);t>=0;)t=(r=r.substring(0,t)+"\n"+r.substring(t+1)).search(e);var n=Object(c.isPowerFxV1CompatEnabled)()?/[hH][^dDyYmM]+[mM]/:/[hH][^dym]+m/,o=Object(c.isPowerFxV1CompatEnabled)()?/[mM]/:/m/;for(t=r.search(n);t>=0;){t+=r.substring(t).search(o),t=(r=r.substring(0,t)+"\n"+r.substring(t+1)).search(n)}return r=Object(c.isPowerFxV1CompatEnabled)()?r.replace(/[mM]/g,"").replace(/[dD]/g,"").replace(/[yY]/g,"").replace(/[hH]/g,"").replace(/[sS]/g,"\b").replace(/0/g,""):r.replace(/m/g,"").replace(/d/g,"").replace(/y/g,"").replace(/h/g,"").replace(/H/g,"").replace(/s/g,"\b").replace(/f/g,"")}var Ar=function(){return function(){}}(),br=function(){function r(r){var e=this;switch(r){case"":case"":this.name="ampm";var t=""===r;this.getValue=function(r,e){if(e.clock24)return"";var n=r.getHours()>=12?e.PMDesignator:e.AMDesignator;return t&&(n=n.substr(0,1).toLocaleLowerCase()),n},this.parse=function(r){var e=r.input.substr(r.index).toLocaleLowerCase(),n=null;return t?0===e.indexOf(r.culture.AMDesignator.substr(0,1).toLocaleLowerCase())?n=r.culture.AMDesignator:0===e.indexOf(r.culture.PMDesignator.substr(0,1).toLocaleLowerCase())&&(n=r.culture.PMDesignator):0===e.indexOf(r.culture.AMDesignator.toLocaleLowerCase())?n=r.culture.AMDesignator:0===e.indexOf(r.culture.PMDesignator.toLocaleLowerCase())&&(n=r.culture.PMDesignator),!!n&&(r.result=n,r.index+=t?1:n.length,!0)};break;case"":case"":this.name="month",this.getValue=function(r){return r.getMonth()+1},this.minDigits=r.length,this.parse=function(r){return e._parseNumber(r,1,12)};break;case"":this.name="monthnameshort",this.getValue=function(r,e){return e.abbreviatedMonthNames[r.getMonth()]},this.parse=function(r){return e._parseString(r,r.culture.abbreviatedMonthNames)};break;case"":this.name="monthname",this.getValue=function(r,e){return e.monthNames[r.getMonth()]},this.parse=function(r){return e._parseString(r,r.culture.monthNames)};break;case"":case"":this.name="day",this.getValue=function(r){return r.getDate()},this.minDigits=r.length,this.parse=function(r){return e._parseNumber(r,1,31)};break;case"":this.name="daynameshort",this.getValue=function(r,e){return e.abbreviatedDayNames[r.getDay()]},this.parse=function(r){return e._parseString(r,r.culture.abbreviatedDayNames)};break;case"":this.name="dayname",this.getValue=function(r,e){return e.dayNames[r.getDay()]},this.parse=function(r){return e._parseString(r,r.culture.dayNames)};break;case"":case"":this.name="year",this.minDigits=r.length,this.getValue=function(r){return r.getFullYear()},this.parse=function(r){return 2!==e.minDigits?e._parseNumber(r,0,9999):e._parseNumber(r,0,99,2e3)};break;case"":case"":case"":case"":this.name="hours",this.minDigits=r.length,this.getValue=function(r,e,t){var n=r.getHours();return n>12&&t.includesAmPm&&(n-=12),n},this.parse=function(r){return r.parent.includesAmPm?e._parseNumber(r,0,12):e._parseNumber(r,0,23)};break;case"\b":case"\b\b":this.name="seconds",this.minDigits=r.length,this.getValue=function(r){return r.getSeconds()},this.parse=function(r){return e._parseNumber(r,0,59)};break;case"\n":case"\n\n":this.name="minutes",this.minDigits=r.length,this.getValue=function(r){return r.getMinutes()},this.parse=function(r){return e._parseNumber(r,0,59)};break;case"":case"":case"":this.name="milliseconds",this.minDigits=r.length,this.getValue=function(r){return r.getMilliseconds()},this.parse=function(r){return e._parseNumber(r,0,999)};break;default:this.name=r,this.getValue=function(e){return r},this.constant=!0,this.parse=function(r){return r.input.indexOf(e.name,r.index)===r.index&&(r.index+=e.name.length,r.result=e.name,!0)}}}return r.prototype._parseNumber=function(r,e,t,n){for(var o=0,a=r.index;r.index<r.input.length;){var i=r.input.charCodeAt(r.index);if(i<48||i>57)break;o=10*o+(i-48),r.index++}return!(o<e||o>t||r.index-a<this.minDigits)&&(n&&(o+=n),r.result=o,!0)},r.prototype._parseString=function(r,e){var t=r.input.substring(r.index).toLocaleLowerCase();return!e.every((function(e,n){var o=0===t.indexOf(e.toLocaleLowerCase());return o&&(r.result=e,r.index+=e.length),!o}))},r}(),yr=function(){function r(r,e){var t,n;switch(e){case"D":t=!0,n=!1;break;case"d":t=!0,n=!0;break;case"T":t=!1,n=!0;break;default:Contracts.checkBoolean(!1,"Bad DType"),t=!1,n=!1}var o=u.h(r);if(!o.error){var a=gr(r=u.f(o.format,o.culture),void 0);this._tokenizedFormat=vr(a.format),n?t||(this._tokenizedFormat=this._tokenizedFormat.replace(/\u0003/g,"").replace(/\u0004/g,"").replace(/\u0005/g,"")):this._tokenizedFormat=this._tokenizedFormat.replace(/\u0001/g,"").replace(/\u0002/g,"").replace(/\u0006/g,"").replace(/\u0007/g,"").replace(/\u0008/g,"").replace(/\u000A/g,"").replace(/\u000E/g,""),this._tokenizedFormat=pr(this._tokenizedFormat,a.replacementContext)}}return Object.defineProperty(r.prototype,"includesAmPm",{get:function(){return this._includesAmPm},enumerable:!1,configurable:!0}),r.prototype._ensureDate=function(r){var e=null;if(Core.Utility.isNumber(r))e=new Date(r);else{if(!Core.Utility.isDate(r))return null;e=r}return e.isValid()?e:null},r.prototype.toString=function(r,e){var t=this._ensureDate(r);return t&&this._tokenizedFormat?l.DataValue.errorValueToNull(Er(null,this._calculateCulture(e),this._tokenizedFormat,t)):null},r.prototype._calculateCulture=function(r){var e=null;return r&&(e=Core.Globalization.tryGetCulture(r,!0)),e||Core.Globalization.currentCulture()},r.prototype.getTokens=function(){return this._tokenizedFormat?(this._tokens||(this._tokens=this._parseTokens()),this._tokens.map((function(r){return r.constant?"constant":r.name}))):[]},r.prototype.getTokenValues=function(r,e){var t=this;if(!this._tokenizedFormat)return[];var n=this._ensureDate(r);if(!n)return null;this._tokens||(this._tokens=this._parseTokens());var o=this._calculateCulture(e),a=this._tokens.map((function(r){return r.getValue(n,o,t)})),i=0;return this._tokens.forEach((function(r){!r.constant&&r.name.indexOf("name")<0&&(a[r.name]=a[i]),i++})),a},r.prototype._findTokenByName=function(r,e){for(var t=0;t<this._tokens.length;t++)if(this._tokens[t].name===e)return r[t]},r.prototype._findStringTokenByName=function(r,e,t,n){for(var o=0;o<this._tokens.length;o++)if(this._tokens[o].name===e)return t.indexOf(r[o])+n},r.prototype.calculateValue=function(r,e){if(!this._tokenizedFormat)return null;var t=new Date("01/01/1970"),n=this._calculateCulture(e),o=r.year||this._findTokenByName(r,"year");if(void 0!==o&&t.setFullYear(o),void 0!==(o=r.month||this._findTokenByName(r,"month")||this._findStringTokenByName(r,"monthname",n.monthNames,1)||this._findStringTokenByName(r,"monthnameshort",n.abbreviatedMonthNames,1))){if(o<=0)return null;t.setMonth(o-1)}if(void 0!==(o=r.day||this._findTokenByName(r,"day"))&&t.setDate(o),void 0!==(o=r.hours||this._findTokenByName(r,"hours"))){if(this.includesAmPm){var a=this._findTokenByName(r,"ampm");a&&o<12&&a[0].toLowerCase()===n.PMDesignator[0].toLowerCase()&&(o+=12)}t.setHours(o)}return void 0!==(o=r.minutes||this._findTokenByName(r,"minutes"))&&t.setMinutes(o),void 0!==(o=r.seconds||this._findTokenByName(r,"seconds"))&&t.setSeconds(o),void 0!==(o=r.milliseconds||this._findTokenByName(r,"milliseconds"))&&t.setMilliseconds(o),t.isValid()?t:null},r.prototype.tryParse=function(r,e){if(!this._tokenizedFormat)return{result:null,errorLocation:0};this._tokens||(this._tokens=this._parseTokens());var t=this._calculateCulture(e),n=new Array(this._tokens.length),o=new Ar;if(o.input=r,o.index=0,o.culture=t,o.parent=this,this._tokens.every((function(r,e){o.result=void 0;var t=r.parse(o);return t&&(n[e]=o.result),t}))){var a=this.calculateValue(n,e);if(a)return{result:a}}return{result:null,errorLocation:o.index}},r.prototype._parseTokens=function(){for(var r,e=new Array,t=0,n=0,o=0;o<this._tokenizedFormat.length;o++){var a=this._tokenizedFormat.charCodeAt(o),i=a>=1&&a<=8||10===a||14===a;if(i&&a!==t||!i&&t>0){var u=o-n;0!==u&&(r=this._tokenizedFormat.substr(n,u),e.push(new br(r))),n=o,t=i?a:0}}return 0!==(r=this._tokenizedFormat.substr(n)).length&&e.push(new br(r)),this._includesAmPm=e.some((function(r){return"ampm"===r.name})),e},r}()},function(r,e,t){"use strict";t.r(e);var n=t(0),o=t(1),a=t(2),i=AppMagic.Data,u=AppMagic.Data.DataValue.isBlankValue,c=AppMagic.Data.DataValue.isErrorValue,l=AppMagic.Data.DataValue.isBlankOrErrorValue;function s(r,e,t,n){return 0===t?null:n}function d(r,e,t,n){return 0===t?p(r,e):n/t}function f(r,e,t,n,a){if(null!==a&&"function"!=typeof a)return Object(o.s)(r,e,"valueFunc",a);for(var s=0,d=0,f=0,g=t;f<g.length;f++){var p=g[f],m=null===a?p:a(p);if(c(m))return m;if(!u(m)){if("number"!=typeof m)return i.ErrorValue.createGatedError(i.ErrorKind.Unknown,i.ErrorSeverity.Warning);d+=m,s++}}var E=n(r,e,s,d);return l(E),E}function g(r,e,t,n,a){return __awaiter(this,void 0,Promise,(function(){var s,d,f,g,p,m,E,v;return __generator(this,(function(A){switch(A.label){case 0:if(!(t instanceof Array))return[2,Object(o.v)(r,e,"source",t)];if("function"!=typeof a)return[2,Object(o.s)(r,e,"valueFunc",a)];s=0,d=0,f=0,g=t,A.label=1;case 1:if(!(f<g.length))return[3,6];p=g[f],A.label=2;case 2:return A.trys.push([2,4,,5]),[4,a(p)];case 3:return m=A.sent(),c(m)?[2,m]:u(m)?[3,5]:"number"!=typeof m?[2,i.ErrorValue.createGatedError(i.ErrorKind.Unknown,i.ErrorSeverity.Warning)]:(d+=m,s++,[3,5]);case 4:return E=A.sent(),[2,Object(o.n)(r,e,E)];case 5:return f++,[3,1];case 6:return v=n(r,e,s,d),l(v),[2,v]}}))}))}function p(r,e){var t=Core.Utility.formatString(AppMagic.Strings.DivisionByZeroError_DivisionByEmptyTable,e);return i.ErrorValue.createGatedError(i.ErrorKind.Div0,i.ErrorSeverity.Moderate,t,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:t,skipDisplayRuntimeError:!0,functionName:e}))}function m(r,e,t){var n=v(r,"StdevP",e,t);return l(n)?n:Math.sqrt(n)}function E(r,e,t,n,o){if(0===t)return p(r,e);if(t>1){var a=n/t;return o/t-a*a}return 0}function v(r,e,t,a){for(var i=0,l=0,s=0,d=0,f=t;d<f.length;d++){var g=f[d],p=null===a?g:a(g);if(c(p))return p;if(!u(p)){if("number"!=typeof p)return Object(o.t)(r,e,"value",p);if(!isFinite(p))return Object(n.createNonFiniteArgumentError)(r,e);l+=p,s+=p*p,i++}}return E(r,e,i,l,s)}function A(r,e,t,a){return __awaiter(this,void 0,Promise,(function(){var l,s,d,f,g,m,v,A;return __generator(this,(function(b){switch(b.label){case 0:if(!(t instanceof Array))return[2,Object(o.v)(r,e,"source",t)];if(0===t.length)return[2,p(r,e)];if("function"!=typeof a)return[2,Object(o.s)(r,e,"valueFunc",a)];l=0,s=0,d=0,f=0,g=t,b.label=1;case 1:if(!(f<g.length))return[3,6];m=g[f],b.label=2;case 2:return b.trys.push([2,4,,5]),[4,a(m)];case 3:return v=b.sent(),c(v)?[2,v]:u(v)?[3,5]:"number"!=typeof v?[2,i.ErrorValue.createGatedError(i.ErrorKind.Unknown,i.ErrorSeverity.Warning)]:isFinite(v)?(s+=v,d+=v*v,l++,[3,5]):[2,Object(n.createNonFiniteArgumentError)(r,e)];case 4:return A=b.sent(),[2,Object(o.n)(r,e,A)];case 5:return f++,[3,1];case 6:return[2,E(r,e,l,s,d)]}}))}))}function b(r,e,t){var n,o,l=r.length;for(n=0;n<l;n++){var s=r[n];if(o=null===t?s:t(s),c(o))return o;if(null!==o){if("number"==typeof o)break;return i.ErrorValue.createGatedError(i.ErrorKind.Unknown,i.ErrorSeverity.Warning)}}if(n>=l)return Object(a.isPowerFxV1CompatEnabled)()?null:0;var d=o;for(n++;n<l;n++){s=r[n];var f=null===t?s:t(s);if(c(f))return f;if(!u(f)&&"number"!=typeof f)return i.ErrorValue.createGatedError(i.ErrorKind.Unknown,i.ErrorSeverity.Warning);null!==f&&(e?f<d:f>d)&&(d=f)}return d}function y(r,e,t){r.length;for(var n,o=null,l=[],s=0,d=r;s<d.length;s++){var f=d[s];if(!u(o))break;l.push(t(f).then((function(r){u(o)&&c(r)?o=r:"number"==typeof r?void 0!==n?(e&&r<n||!e&&r>n)&&(n=r):n=r:null===r||u(o)||(o=Promise.resolve(i.ErrorValue.createGatedError(i.ErrorKind.Unknown,i.ErrorSeverity.Warning)))}),(function(){u(o)&&(o=i.ErrorValue.createGatedError(i.ErrorKind.Unknown,i.ErrorSeverity.Warning))})))}return Core.PromiseUtils.join(l).then((function(){return u(o)?void 0===n?Promise.resolve(Object(a.isPowerFxV1CompatEnabled)()?null:0):Promise.resolve(n):Promise.resolve(o)}),(function(){return u(o)?Promise.resolve(i.ErrorValue.createGatedError(i.ErrorKind.Unknown,i.ErrorSeverity.Warning)):Promise.resolve(o)}))}function h(r,e){if("number"!=typeof r)return Object(o.t)(null,"RoundDown","number",r);if(0===e)return r<0?Math.ceil(r):Math.floor(r);if("number"!=typeof e)return Object(o.t)(null,"RoundDown","digits",e);Object(a.isPowerFxV1CompatEnabled)()&&e>18&&(e=18);var t=Math.pow(10,e<0?Math.ceil(e):Math.floor(e));return isFinite(t)?r<0?Math.ceil(r*t)/t:Math.floor(r*t)/t:r<0?Math.ceil(r):Math.floor(r)}function C(r,e,t,n){return l(e)?e:"number"!=typeof e?Object(o.t)(r,t,"arg",e):n(e)}function S(r,e){return C(r,e,"Tan",Math.tan)}function O(r,e){return C(r,e,"Atan",Math.atan)}function M(){return Math.PI}var D=Math.pow(2,40);t.d(e,"sqrt",(function(){return R})),t.d(e,"abs",(function(){return F})),t.d(e,"rand",(function(){return I})),t.d(e,"randBetween",(function(){return T})),t.d(e,"average",(function(){return j})),t.d(e,"average_T",(function(){return _})),t.d(e,"average_TAsync",(function(){return N})),t.d(e,"sum",(function(){return x})),t.d(e,"sum_T",(function(){return P})),t.d(e,"sum_TAsync",(function(){return U})),t.d(e,"stdevP",(function(){return w})),t.d(e,"stdevP_T",(function(){return V})),t.d(e,"stdevP_TAsync",(function(){return k})),t.d(e,"varP",(function(){return H})),t.d(e,"varP_T",(function(){return G})),t.d(e,"varP_TAsync",(function(){return L})),t.d(e,"max",(function(){return B})),t.d(e,"max_T",(function(){return K})),t.d(e,"max_TAsync",(function(){return q})),t.d(e,"min",(function(){return W})),t.d(e,"min_T",(function(){return z})),t.d(e,"min_TAsync",(function(){return J})),t.d(e,"int",(function(){return Q})),t.d(e,"trunc",(function(){return Y})),t.d(e,"round",(function(){return $})),t.d(e,"roundUp",(function(){return Z})),t.d(e,"roundDown",(function(){return X})),t.d(e,"mod",(function(){return rr})),t.d(e,"sin",(function(){return er})),t.d(e,"asin",(function(){return tr})),t.d(e,"cos",(function(){return nr})),t.d(e,"acos",(function(){return or})),t.d(e,"tan",(function(){return ar})),t.d(e,"atan",(function(){return ir})),t.d(e,"atan2",(function(){return ur})),t.d(e,"cot",(function(){return cr})),t.d(e,"acot",(function(){return lr})),t.d(e,"pi",(function(){return sr})),t.d(e,"radians",(function(){return dr})),t.d(e,"degrees",(function(){return fr})),t.d(e,"ln",(function(){return gr})),t.d(e,"log",(function(){return pr})),t.d(e,"exp",(function(){return mr})),t.d(e,"power",(function(){return Er})),t.d(e,"sequence",(function(){return vr})),t.d(e,"dec2Hex",(function(){return Ar})),t.d(e,"hex2Dec",(function(){return br}));var R=Object(n.standardErrorHandlingEC)((function(r,e){return"number"!=typeof e?Object(o.t)(r,"Sqrt","arg",e):e<0?i.ErrorValue.createGatedError(i.ErrorKind.Numeric,i.ErrorSeverity.Warning,AppMagic.Strings.InvalidFunctionUsage_Sqrt_ArgumentOutOfRange,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:AppMagic.Strings.InvalidFunctionUsage_Sqrt_ArgumentOutOfRange,skipDisplayRuntimeError:!0,functionName:"Sqrt"})):Math.sqrt(e)}),n.returnIfErrorOrNullArgument,"Sqrt",{nullValueReplacements:[0]}),F=Object(n.standardErrorHandling)((function(r){return"number"!=typeof r?Object(o.t)(null,"Abs","arg",r):Math.abs(r)}),n.returnIfErrorOrNullArgument,"Abs",{nullValueReplacements:[0]}),I=function(){return Math.random()},T=Object(n.standardErrorHandlingEC)((function(r,e,t){return"number"!=typeof e?Object(o.t)(null,"RandBetween","bottom",e):"number"!=typeof t?Object(o.t)(null,"RandBetween","top",t):t<e?i.ErrorValue.createGatedError(i.ErrorKind.Numeric,i.ErrorSeverity.Warning,AppMagic.Strings.InvalidFunctionUsage_RandBetween_SecondArgumentLowerThanFirst,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:AppMagic.Strings.InvalidFunctionUsage_RandBetween_SecondArgumentLowerThanFirst,skipDisplayRuntimeError:!0,functionName:"RandBetween"})):(t=Math.floor(t))<=(e=Math.ceil(e))?e:Math.floor(Math.random()*(t-e+1)+e)}),n.returnIfErrorOrNullArgument,"RandBetween",{nullValueReplacements:[0,0]}),j=Object(n.standardErrorHandlingEC)((function(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return f(r,"Average",e,d,null)}),n.returnIfErrorArgument,"Average"),_=Object(n.standardErrorHandlingEC)((function(r,e,t){return e instanceof Array?f(r,"Average",e,d,t):Object(o.v)(r,"Average","source",e)}),n.returnIfErrorOrNullArgument,"Average"),N=Object(n.standardErrorHandlingECAsync)((function(r,e,t){return g(r,"Average",e,d,t)}),n.returnIfErrorOrNullArgument,"Average"),x=Object(n.standardErrorHandlingEC)((function(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return f(r,"Sum",e,s,null)}),n.returnIfErrorArgument,"Sum"),P=Object(n.standardErrorHandlingEC)((function(r,e,t){return e instanceof Array?f(r,"Sum",e,s,t):Object(o.v)(r,"Sum","source",e)}),n.returnIfErrorOrNullArgument,"Sum"),U=Object(n.standardErrorHandlingECAsync)((function(r,e,t){return g(r,"Sum",e,s,t)}),n.returnIfErrorOrNullArgument,"Sum"),w=Object(n.standardErrorHandlingEC)((function(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return m(r,e,null)}),n.returnIfErrorArgument,"StdevP"),V=Object(n.standardErrorHandlingEC)((function(r,e,t){return e instanceof Array?"function"!=typeof t?Object(o.s)(r,"StdevP","valueFunc",t):m(r,e,t):Object(o.v)(r,"StdevP","source",e)}),n.returnIfErrorOrNullArgument,"StdevP"),k=Object(n.standardErrorHandlingECAsync)((function(r,e,t){return __awaiter(this,void 0,Promise,(function(){var n,a;return __generator(this,(function(i){switch(i.label){case 0:i.label=1;case 1:return i.trys.push([1,3,,4]),[4,A(r,"StdevP",e,t)];case 2:return n=i.sent(),l(n)?[2,n]:[2,Math.sqrt(n)];case 3:return a=i.sent(),[2,Object(o.n)(r,"StdevP",a)];case 4:return[2]}}))}))}),n.returnIfErrorOrNullArgument,"StdevP"),H=Object(n.standardErrorHandlingEC)((function(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return v(r,"VarP",e,null)}),n.returnIfErrorArgument,"VarP"),G=Object(n.standardErrorHandlingEC)((function(r,e,t){return e instanceof Array?"function"!=typeof t?Object(o.s)(r,"VarP","valueFunc",t):v(r,"VarP",e,t):Object(o.v)(r,"VarP","source",e)}),n.returnIfErrorOrNullArgument,"VarP"),L=Object(n.standardErrorHandlingECAsync)((function(r,e,t){return A(r,"VarP",e,t)}),n.returnIfErrorOrNullArgument,"VarP"),B=Object(n.standardErrorHandling)((function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return b(r,!1,null)}),n.returnIfErrorArgument,"Max"),K=Object(n.standardErrorHandlingEC)((function(r,e,t){return e instanceof Array&&"function"==typeof t?0===e.length?null:b(e,!1,t):i.ErrorValue.createGatedError(i.ErrorKind.Unknown,i.ErrorSeverity.Warning)}),n.returnIfErrorOrNullArgument,"Max"),q=Object(n.standardErrorHandlingECAsync)((function(r,e,t){return e instanceof Array&&"function"==typeof t?0===e.length?Promise.resolve(null):y(e,!1,t):Promise.resolve(i.ErrorValue.createGatedError(i.ErrorKind.Unknown,i.ErrorSeverity.Warning))}),n.returnIfErrorOrNullArgument,"Max"),W=Object(n.standardErrorHandling)((function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return b(r,!0,null)}),n.returnIfErrorArgument,"Min"),z=Object(n.standardErrorHandlingEC)((function(r,e,t){return l(e)?e:e instanceof Array&&"function"==typeof t?0===e.length?null:b(e,!0,t):i.ErrorValue.createGatedError(i.ErrorKind.Unknown,i.ErrorSeverity.Warning)}),n.returnIfErrorOrNullArgument,"Min"),J=Object(n.standardErrorHandlingECAsync)((function(r,e,t){return e instanceof Array&&"function"==typeof t?0===e.length?Promise.resolve(null):y(e,!0,t):Promise.resolve(i.ErrorValue.createGatedError(i.ErrorKind.Unknown,i.ErrorSeverity.Warning))}),n.returnIfErrorOrNullArgument,"Min"),Q=Object(n.standardErrorHandling)((function(r){return"number"!=typeof r?Object(o.t)(null,"Int","arg",r):Math.floor(r)}),n.returnIfErrorOrNullArgument,"Int",{nullValueReplacements:[0]}),Y=Object(n.standardErrorHandling)((function(r,e){return h(r,void 0!==e?e:0)}),n.returnIfErrorArgument,"Trunc",{nullValueReplacements:[0,0],alwaysReplaceNulls:!0}),$=Object(n.standardErrorHandling)((function(r,e){if("number"!=typeof r)return Object(o.t)(null,"Round","number",r);if(0===e)return Object(o.f)(r);if("number"!=typeof e)return Object(o.t)(null,"Round","digits",e);var t=Object(a.isPowerFxV1CompatEnabled)();t&&e>18&&(e=18);var n=Math.pow(10,e<0?Math.ceil(e):Math.floor(e));if(!isFinite(n))return Object(o.f)(r);var i=r*n;return!isFinite(i)&&t?i:Object(o.f)(i)/n}),n.returnIfErrorArgument,"Round",{nullValueReplacements:[0,0],alwaysReplaceNulls:!0}),Z=Object(n.standardErrorHandling)((function(r,e){if("number"!=typeof r)return Object(o.t)(null,"RoundUp","number",r);if(0===e)return r<0?Math.floor(r):Math.ceil(r);if("number"!=typeof e)return Object(o.t)(null,"RoundUp","digits",e);Object(a.isPowerFxV1CompatEnabled)()&&e>18&&(e=18);var t=Math.sign(r),n=Math.abs(r),i=e<0?Math.ceil(e):Math.floor(e);if(i<0&&Math.log10(n)<-i)return t*Math.pow(10,-i);var u=Math.pow(10,i);return isFinite(u)?r<0?Math.floor(r*u)/u:Math.ceil(r*u)/u:Object(a.isPowerFxV1CompatEnabled)()?u:r<0?Math.floor(r):Math.ceil(r)}),n.returnIfErrorArgument,"RoundUp",{nullValueReplacements:[0,0],alwaysReplaceNulls:!0}),X=Object(n.standardErrorHandling)(h,n.returnIfErrorArgument,"RoundDown",{nullValueReplacements:[0,0],alwaysReplaceNulls:!0}),rr=Object(n.standardErrorHandlingEC)((function(r,e,t){if(0===t)return Object(o.m)(r,"Mod");if("number"!=typeof e)return Object(o.t)(r,"Mod","number",e);if("number"!=typeof t)return Object(o.t)(r,"Mod","divisor",t);if(Object(a.isPowerFxV1CompatEnabled)()){var n=e%t;return Math.sign(n)*Math.sign(t)==-1&&(n+=t),n}return e-t*Math.floor(e/t)}),n.returnIfErrorArgument,"Mod",{alwaysReplaceNulls:!0,nullValueReplacements:[0,0]}),er=Object(n.standardErrorHandlingEC)((function(r,e){return C(r,e,"Sin",Math.sin)}),n.returnIfErrorOrNullArgument,"Sin",{nullValueReplacements:[0]}),tr=Object(n.standardErrorHandlingEC)((function(r,e){return C(r,e,"Asin",Math.asin)}),n.returnIfErrorOrNullArgument,"Asin",{nullValueReplacements:[0]}),nr=Object(n.standardErrorHandlingEC)((function(r,e){return C(r,e,"Cos",Math.cos)}),n.returnIfErrorOrNullArgument,"Cos",{nullValueReplacements:[0]}),or=Object(n.standardErrorHandlingEC)((function(r,e){return C(r,e,"Acos",Math.acos)}),n.returnIfErrorOrNullArgument,"Acos",{nullValueReplacements:[0]}),ar=Object(n.standardErrorHandlingEC)(S,n.returnIfErrorOrNullArgument,"Tan",{nullValueReplacements:[0]}),ir=Object(n.standardErrorHandlingEC)(O,n.returnIfErrorOrNullArgument,"Atan",{nullValueReplacements:[0]}),ur=Object(n.standardErrorHandlingEC)((function(r,e,t){return"number"!=typeof e?Object(o.t)(r,"Atan2","arg1",e):"number"!=typeof t?Object(o.t)(r,"Atan2","arg2",t):0===e&&0===t?Object(o.m)(r,"Atan2"):Math.atan2(t,e)}),n.returnIfErrorOrNullArgument,"Atan2",{nullValueReplacements:[0,0]}),cr=Object(n.standardErrorHandlingEC)((function(r,e){return C(r,e,"Cot",(function(e){var t=S(r,e);return c(t)?t:0===t?Object(o.m)(r,"Cot"):Math.pow(t,-1)}))}),n.returnIfErrorOrNullArgument,"Cot",{nullValueReplacements:[0]}),lr=Object(n.standardErrorHandlingEC)((function(r,e){return C(r,e,"Acot",(function(e){var t=O(r,e);return c(t)?t:M()/2-t}))}),n.returnIfErrorOrNullArgument,"Acot",{nullValueReplacements:[0]}),sr=M,dr=Object(n.standardErrorHandlingEC)((function(r,e){return C(r,e,"Radians",(function(r){return r*(Math.PI/180)}))}),n.returnIfErrorOrNullArgument,"Radians",{nullValueReplacements:[0]}),fr=Object(n.standardErrorHandlingEC)((function(r,e){return C(r,e,"Degrees",(function(r){return r*(180/Math.PI)}))}),n.returnIfErrorOrNullArgument,"Degrees",{nullValueReplacements:[0]}),gr=Object(n.standardErrorHandlingEC)((function(r,e){return C(r,e,"Ln",Math.log)}),n.returnIfErrorOrNullArgument,"Ln",{nullValueReplacements:[0]}),pr=Object(n.standardErrorHandlingEC)((function(r,e,t){if("number"!=typeof e)return Object(o.t)(r,"Log","arg",e);if(Core.Utility.isUndefined(t)&&(t=10),"number"!=typeof t)return Object(o.t)(r,"Log","base",t);var n=Math.log(e);if(l(n))return n;if(!isFinite(n)){var a=Core.Utility.formatString(AppMagic.Strings.InvalidFunctionUsage_InvalidArgument_FirstArgument,"Log");return i.ErrorValue.createGatedError(i.ErrorKind.Numeric,i.ErrorSeverity.Severe,a,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:a,skipDisplayRuntimeError:!0,functionName:"Log"}))}var u=Math.log(t);if(l(u))return u;if(!isFinite(u)){a=Core.Utility.formatString(AppMagic.Strings.InvalidFunctionUsage_InvalidArgument_SecondArgument,"Log");return i.ErrorValue.createGatedError(i.ErrorKind.Numeric,i.ErrorSeverity.Severe,a,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:a,skipDisplayRuntimeError:!0,functionName:"Log"}))}return 0===u?Object(o.m)(r,"Log"):n/u}),n.returnIfErrorOrNullArgument,"Log",{nullValueReplacements:[0,0]}),mr=Object(n.standardErrorHandlingEC)((function(r,e){return C(r,e,"Exp",(function(r){return Math.pow(Math.E,r)}))}),n.returnIfErrorOrNullArgument,"Exp",{nullValueReplacements:[0]}),Er=Object(n.standardErrorHandlingEC)((function(r,e,t){return u(e)?0===t||u(t)?null:0:u(t)?0===e?null:1:0===e&&t<0?Object(o.m)(r,"Power"):Math.pow(e,t)}),n.returnIfErrorArgument,"Power",{nullValueReplacements:[0,0]}),vr=Object(n.standardErrorHandlingEC)((function(r,e,t,o){if(e<0||e>5e4)return i.ErrorValue.createGatedError(i.ErrorKind.InvalidArgument,i.ErrorSeverity.Severe,AppMagic.Strings.InvalidFunctionUsage_InvalidRecordCount,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:AppMagic.Strings.InvalidFunctionUsage_InvalidRecordCount,functionName:"Sequence"}));e=Math.floor(e),Core.Utility.isUndefined(t)&&(t=1),Core.Utility.isUndefined(o)&&(o=1);for(var a=new Array(e),u=t,c=0;c<e;u+=o,c++)isFinite(u)?a[c]={Value:u}:a[c]={Value:Object(n.createNonFiniteResultError)(r,"Sequence")};return a}),n.returnIfErrorOrNullArgument,"Sequence",{nullValueReplacements:[0,0,0]}),Ar=Object(n.standardErrorHandlingEC)((function(r,e,t){var n,o=-Math.pow(2,39),a=Math.pow(2,39)-1;return e=Math.floor(e),Core.Utility.isDefined(t)&&(t=Math.floor(t)),e<o||e>a?i.ErrorValue.createGatedError(i.ErrorKind.Numeric,i.ErrorSeverity.Severe,AppMagic.Strings.InvalidFunctionUsage_Dec2HexFirstArgumentRangeError,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:AppMagic.Strings.InvalidFunctionUsage_Dec2HexFirstArgumentRangeError,functionName:"Dec2Hex"})):Core.Utility.isDefined(t)&&(t<1||t>10)?i.ErrorValue.createGatedError(i.ErrorKind.Numeric,i.ErrorSeverity.Severe,AppMagic.Strings.InvalidFunctionUsage_Dec2HexSecondArgumentRangeError,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:AppMagic.Strings.InvalidFunctionUsage_Dec2HexSecondArgumentRangeError,functionName:"Dec2Hex"})):(e<0?n=(D+e).toString(16):(n=e.toString(16),n=Core.Utility.padLeft(n,t,"0")),n.length>t&&e>0?i.ErrorValue.createGatedError(i.ErrorKind.Numeric,i.ErrorSeverity.Severe,AppMagic.Strings.InvalidFunctionUsage_Dec2HexSecondArgumentInvalidError,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:AppMagic.Strings.InvalidFunctionUsage_Dec2HexSecondArgumentInvalidError,functionName:"Dec2Hex"})):n.toUpperCase())}),n.returnIfErrorArgument,"Dec2Hex",{nullValueReplacements:[0],alwaysReplaceNulls:!0}),br=Object(n.standardErrorHandlingEC)((function(r,e){if(!e)return 0;if(e.length>10)return i.ErrorValue.createGatedError(i.ErrorKind.Numeric,i.ErrorSeverity.Severe,AppMagic.Strings.InvalidFunctionUsage_Hex2DecFirstArgumentRangeError,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:AppMagic.Strings.InvalidFunctionUsage_Hex2DecFirstArgumentRangeError,functionName:"Hex2Dec"}));if(!e.match("^[0-9a-fA-F]+$"))return i.ErrorValue.createGatedError(i.ErrorKind.Numeric,i.ErrorSeverity.Severe,AppMagic.Strings.InvalidFunctionUsage_Hex2DecFirstArgumentInvalidError,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:AppMagic.Strings.InvalidFunctionUsage_Hex2DecFirstArgumentInvalidError,functionName:"Hex2Dec"}));var t=10===e.length&&e[0]>="8";return parseInt(e,16)-(t?D:0)}),n.returnIfErrorArgument,"Hex2Dec",{nullValueReplacements:[""],alwaysReplaceNulls:!0})},function(r,e,t){"use strict";t.r(e),t.d(e,"clear",(function(){return i})),t.d(e,"removeIf",(function(){return u})),t.d(e,"removeIfAsync",(function(){return c})),t.d(e,"removeIfDelegatedAsync",(function(){return l})),t.d(e,"remove",(function(){return s})),t.d(e,"removeAsync",(function(){return d})),t.d(e,"removeAll",(function(){return f})),t.d(e,"removeAllAsync",(function(){return g})),t.d(e,"loadDataAsync",(function(){return p})),t.d(e,"saveDataAsync",(function(){return m})),t.d(e,"clearDataAsync",(function(){return E})),t.d(e,"updateIf",(function(){return v})),t.d(e,"updateIfAsync",(function(){return A})),t.d(e,"updateIfDelegatedAsync",(function(){return b})),t.d(e,"clearCollect",(function(){return y})),t.d(e,"collect",(function(){return h})),t.d(e,"collectAsync",(function(){return C})),t.d(e,"clearCollect_S",(function(){return S})),t.d(e,"collect_S",(function(){return O})),t.d(e,"collect_SAsync",(function(){return M})),t.d(e,"update",(function(){return D})),t.d(e,"updateAsync",(function(){return R})),t.d(e,"refreshAsync",(function(){return F})),t.d(e,"table",(function(){return I})),t.d(e,"defaults",(function(){return T})),t.d(e,"choicesAsync",(function(){return j})),t.d(e,"dataSourceInfoAsync",(function(){return _})),t.d(e,"recordInfoAsync",(function(){return N})),t.d(e,"state",(function(){return x})),t.d(e,"relateAsync",(function(){return P})),t.d(e,"unrelateAsync",(function(){return U})),t.d(e,"patchAsync",(function(){return w})),t.d(e,"patchSingleRecordAsync",(function(){return V})),t.d(e,"patchAggregateAsync",(function(){return k})),t.d(e,"patchAggregateSingleTableAsync",(function(){return H})),t.d(e,"patch_Record",(function(){return G})),t.d(e,"revertAsync",(function(){return L})),t.d(e,"pending",(function(){return B})),t.d(e,"errors",(function(){return K})),t.d(e,"validate",(function(){return q})),t.d(e,"forAll",(function(){return W})),t.d(e,"map",(function(){return z})),t.d(e,"forAllAsync",(function(){return J})),t.d(e,"mapAsync",(function(){return Q})),t.d(e,"forAll_ParallelPrefetchingAsync",(function(){return Y})),t.d(e,"getOptionSetPair",(function(){return $})),t.d(e,"getBooleanOptionSetPair",(function(){return Z})),t.d(e,"getOptionSetName",(function(){return X})),t.d(e,"getOptionSetValue",(function(){return rr})),t.d(e,"getViewPair",(function(){return er})),t.d(e,"getViewName",(function(){return tr})),t.d(e,"getViewValue",(function(){return nr})),t.d(e,"isTypeAsync",(function(){return or})),t.d(e,"asTypeAsync",(function(){return ar})),t.d(e,"with_R",(function(){return ir})),t.d(e,"with_RAsync",(function(){return ur}));var n=t(9),o=t(0),a=t(1),i=Object(o.standardErrorHandlingEC)(n.e,o.returnIfErrorOrNullArgument,"Clear"),u=Object(o.standardErrorHandlingEC)(n.Q,o.returnIfErrorArgument,"RemoveIf"),c=Object(o.standardErrorHandlingECAsync)(n.R,o.returnIfErrorArgument,"RemoveIf"),l=Object(o.standardErrorHandlingECAsync)(n.S,o.returnIfErrorArgument,"RemoveIf"),s=Object(a.G)("Remove",Object(o.standardErrorHandlingEC)(n.M,o.returnIfErrorArgument,"Remove")),d=Object(a.H)("Remove",Object(o.standardErrorHandlingECAsync)(n.P,o.returnIfErrorArgument,"Remove")),f=Object(a.G)("Remove",Object(o.standardErrorHandlingEC)(n.N,o.returnIfErrorArgument,"Remove")),g=Object(a.H)("Remove",Object(o.standardErrorHandlingECAsync)(n.O,o.returnIfErrorArgument,"Remove")),p=Object(o.standardErrorHandlingECAsync)(n.A,o.returnIfErrorArgument,"LoadData"),m=Object(o.standardErrorHandlingECAsync)(n.U,o.returnIfErrorArgument,"SaveData"),E=Object(o.standardErrorHandlingECAsync)(n.h,o.returnIfErrorArgument,"ClearData"),v=Object(o.standardErrorHandlingEC)(n.ab,o.returnIfErrorArgument,"UpdateIf"),A=Object(o.standardErrorHandlingECAsync)(n.bb,o.returnIfErrorArgument,"UpdateIf"),b=Object(o.standardErrorHandlingECAsync)(n.cb,o.returnIfErrorArgument,"UpdateIf"),y=Object(o.standardErrorHandlingEC)(n.f,o.returnIfErrorArgument,"ClearCollect"),h=Object(o.standardErrorHandlingEC)(n.i,o.returnIfErrorArgument,"Collect"),C=Object(o.standardErrorHandlingECAsync)(n.j,o.returnIfErrorArgument,"Collect"),S=Object(o.standardErrorHandlingEC)(n.g,o.returnIfErrorArgument,"ClearCollect"),O=Object(o.standardErrorHandlingEC)(n.k,o.returnIfErrorArgument,"Collect"),M=Object(o.standardErrorHandlingECAsync)(n.l,o.returnIfErrorArgument,"Collect"),D=Object(a.G)("Update",Object(o.standardErrorHandlingEC)(n.Y,o.returnIfErrorArgument,"Update")),R=Object(a.H)("Update",Object(o.standardErrorHandlingECAsync)(n.Z,o.returnIfErrorArgument,"Update")),F=Object(o.standardErrorHandlingECAsync)(n.K,o.returnIfErrorOrNullArgument,"Refresh"),I=Object(o.standardErrorHandling)(n.W,o.passThroughArguments,"Table"),T=Object(o.standardErrorHandling)(n.n,o.returnIfErrorOrNullArgument,"Defaults"),j=Object(o.standardErrorHandlingECBCAsync)(n.d,o.returnIfErrorArgument,"Choices"),_=Object(o.standardErrorHandlingAsync)(n.m,o.returnIfErrorArgument,"DataSourceInfo"),N=Object(o.standardErrorHandlingECAsync)(n.J,o.returnIfErrorOrNullArgument,"RecordInfo"),x=Object(o.standardErrorHandling)(n.V,o.returnIfErrorOrNullArgument,"State"),P=Object(o.standardErrorHandlingECAsync)(n.L,o.returnIfErrorOrNullArgument,"Relate"),U=Object(o.standardErrorHandlingECAsync)(n.X,o.returnIfErrorOrNullArgument,"Unrelate"),w=Object(o.standardErrorHandlingECAsync)(n.F,o.returnIfErrorArgument,"Patch"),V=Object(o.standardErrorHandlingECAsync)(n.G,o.returnIfErrorOrNullArgument,"Patch"),k=Object(o.standardErrorHandlingECAsync)(n.D,o.returnIfErrorOrNullArgument,"Patch"),H=Object(o.standardErrorHandlingECAsync)(n.E,o.returnIfErrorOrNullArgument,"Patch"),G=Object(o.standardErrorHandling)(n.H,o.returnIfErrorArgument,"Patch"),L=Object(o.standardErrorHandlingECAsync)(n.T,o.returnIfErrorArgument,"Revert"),B=Object(o.standardErrorHandling)(n.I,o.returnIfErrorOrNullArgument,"Pending"),K=Object(o.standardErrorHandlingEC)(n.o,o.returnIfErrorArgument,"Errors"),q=Object(o.standardErrorHandling)(n.db,o.returnIfErrorArgument,"Validate"),W=Object(a.G)("ForAll",Object(o.standardErrorHandling)(n.p,o.returnIfErrorArgument,"ForAll")),z=Object(a.G)("Map",Object(o.standardErrorHandling)(n.B,o.returnIfErrorArgument,"Map")),J=Object(a.H)("ForAll",Object(o.standardErrorHandlingAsync)(n.q,o.returnIfErrorArgument,"ForAll")),Q=Object(a.H)("Map",Object(o.standardErrorHandlingAsync)(n.C,o.returnIfErrorArgument,"Map")),Y=Object(o.standardErrorHandlingAsync)(n.r,o.returnIfErrorArgument,"ForAll"),$=Object(o.standardErrorHandling)(n.u,o.returnIfErrorOrNullArgument,""),Z=Object(o.standardErrorHandling)(n.s,o.returnIfErrorOrNullArgument,""),X=Object(o.standardErrorHandling)(n.t,o.returnIfErrorOrNullArgument,""),rr=Object(o.standardErrorHandling)(n.v,o.returnIfErrorOrNullArgument,""),er=Object(o.standardErrorHandling)(n.x,o.returnIfErrorOrNullArgument,""),tr=Object(o.standardErrorHandling)(n.w,o.returnIfErrorOrNullArgument,""),nr=Object(o.standardErrorHandling)(n.y,o.returnIfErrorOrNullArgument,""),or=Object(o.standardErrorHandlingAsync)(n.z,o.returnIfErrorOrNullArgument,"IsType"),ar=Object(o.standardErrorHandlingECAsync)(n.c,o.returnIfErrorOrNullArgument,"AsType"),ir=Object(o.standardErrorHandling)(n.eb,o.returnIfErrorArgument,"With"),ur=Object(o.standardErrorHandlingAsync)(n.fb,o.returnIfErrorArgument,"With")},function(r,e,t){"use strict";t.r(e),t.d(e,"trim",(function(){return a})),t.d(e,"trimEnds",(function(){return i})),t.d(e,"mid",(function(){return u})),t.d(e,"proper",(function(){return c})),t.d(e,"lower",(function(){return l})),t.d(e,"upper",(function(){return s})),t.d(e,"encodeUrl",(function(){return d})),t.d(e,"len",(function(){return f})),t.d(e,"text",(function(){return g})),t.d(e,"jsonAsync",(function(){return p})),t.d(e,"replace",(function(){return m})),t.d(e,"substitute",(function(){return E})),t.d(e,"hashTags",(function(){return v})),t.d(e,"plainText",(function(){return A})),t.d(e,"concatenate",(function(){return b})),t.d(e,"left",(function(){return y})),t.d(e,"right",(function(){return h})),t.d(e,"value",(function(){return C})),t.d(e,"boolean",(function(){return S})),t.d(e,"booleanN",(function(){return O})),t.d(e,"find",(function(){return M})),t.d(e,"search",(function(){return D})),t.d(e,"char",(function(){return R})),t.d(e,"isMatch",(function(){return F})),t.d(e,"match",(function(){return I})),t.d(e,"matchAll",(function(){return T})),t.d(e,"startsWith",(function(){return j})),t.d(e,"endsWith",(function(){return _})),t.d(e,"split",(function(){return N})),t.d(e,"gUID",(function(){return x})),t.d(e,"_signedDecimalValue",(function(){return P})),t.d(e,"copyAsync",(function(){return U})),t.d(e,"uniChar",(function(){return w}));var n=t(0),o=(t(3),t(8)),a=Object(n.standardErrorHandling)(o.L,n.returnIfErrorArgument,"Trim",{nullValueReplacements:[""]}),i=Object(n.standardErrorHandling)(o.M,n.returnIfErrorArgument,"TrimEnds",{nullValueReplacements:[""]}),u=Object(n.standardErrorHandlingEC)(o.B,n.returnIfErrorArgument,"Mid",{nullValueReplacements:["",0,0]}),c=Object(n.standardErrorHandling)(o.D,n.returnIfErrorArgument,"Proper",{nullValueReplacements:[""]}),l=Object(n.standardErrorHandling)(o.y,n.returnIfErrorArgument,"Lower",{nullValueReplacements:[""]}),s=Object(n.standardErrorHandling)(o.O,n.returnIfErrorArgument,"Upper",{nullValueReplacements:[""]}),d=Object(n.standardErrorHandling)(o.p,n.returnIfErrorArgument,"EncodeUrl",{nullValueReplacements:[""]}),f=Object(n.standardErrorHandling)(o.x,n.returnIfErrorArgument,"Len",{nullValueReplacements:[""]}),g=Object(n.standardErrorHandlingEC)(o.K,n.returnIfErrorArgument,"Text"),p=Object(n.standardErrorHandlingECAsync)(o.v,n.returnIfErrorArgument,"JSON"),m=Object(n.standardErrorHandlingEC)(o.E,n.returnIfErrorArgument,"Replace",{nullValueReplacements:["",0,0,""]}),E=Object(n.standardErrorHandlingEC)(o.J,n.returnIfErrorArgument,"Substitute",{nullValueReplacements:["","","",0]}),v=Object(n.standardErrorHandling)(o.t,n.returnIfErrorArgument,"HashTags",{nullValueReplacements:[""]}),A=Object(n.standardErrorHandling)(o.C,n.returnIfErrorOrNullArgument,"PlainText",{nullValueReplacements:[""]}),b=Object(n.standardErrorHandling)(o.n,n.returnIfErrorArgument,"Concatenate"),y=Object(n.standardErrorHandlingEC)(o.w,n.returnIfErrorArgument,"Left",{nullValueReplacements:["",0]}),h=Object(n.standardErrorHandlingEC)(o.F,n.returnIfErrorArgument,"Right",{nullValueReplacements:["",0]}),C=Object(n.standardErrorHandlingEC)(o.P,n.returnIfErrorArgument,"Value"),S=Object(n.standardErrorHandlingEC)(o.k,n.returnIfErrorOrNullArgument,"Boolean"),O=Object(n.standardErrorHandling)(o.l,n.returnIfErrorOrNullArgument,"Boolean"),M=Object(n.standardErrorHandlingEC)(o.r,n.returnIfErrorArgument,"Find",{nullValueReplacements:["","",0]}),D=Object(n.standardErrorHandling)(o.G,n.returnIfErrorArgument,"Search"),R=Object(n.standardErrorHandlingEC)(o.m,n.returnIfErrorOrNullArgument,"Char",{nullValueReplacements:[0]}),F=Object(n.standardErrorHandlingEC)(o.u,n.returnIfErrorArgument,"IsMatch"),I=Object(n.standardErrorHandlingEC)(o.z,n.returnIfErrorArgument,"Match"),T=Object(n.standardErrorHandlingEC)(o.A,n.returnIfErrorArgument,"MatchAll"),j=Object(n.standardErrorHandling)(o.I,n.returnIfErrorArgument,"StartsWith",{nullReturnIsFalse:!0,nullValueReplacements:["",""]}),_=Object(n.standardErrorHandling)(o.q,n.returnIfErrorArgument,"EndsWith",{nullReturnIsFalse:!0,nullValueReplacements:["",""]}),N=Object(n.standardErrorHandling)(o.H,n.returnIfErrorArgument,"Split",{nullValueReplacements:["",""]}),x=Object(n.standardErrorHandlingEC)(o.s,n.returnIfErrorOrNullArgument,"GUID"),P=o.j,U=Object(n.standardErrorHandlingECAsync)(o.o,n.returnIfErrorArgument,"Copy",{nullValueReplacements:[""],alwaysReplaceNulls:!0}),w=Object(n.standardErrorHandlingEC)(o.N,n.returnIfErrorOrNullArgument,"UniChar",{nullValueReplacements:[0],alwaysReplaceNulls:!0})},function(r,e,t){"use strict";t.d(e,"L",(function(){return v})),t.d(e,"M",(function(){return A})),t.d(e,"B",(function(){return b})),t.d(e,"D",(function(){return h})),t.d(e,"y",(function(){return C})),t.d(e,"O",(function(){return S})),t.d(e,"p",(function(){return O})),t.d(e,"x",(function(){return M})),t.d(e,"f",(function(){return R})),t.d(e,"h",(function(){return F})),t.d(e,"d",(function(){return x})),t.d(e,"c",(function(){return P})),t.d(e,"b",(function(){return U})),t.d(e,"e",(function(){return w})),t.d(e,"K",(function(){return G})),t.d(e,"v",(function(){return B})),t.d(e,"i",(function(){return K})),t.d(e,"E",(function(){return z})),t.d(e,"J",(function(){return J})),t.d(e,"t",(function(){return Q})),t.d(e,"C",(function(){return Z})),t.d(e,"g",(function(){return tr})),t.d(e,"a",(function(){return ar})),t.d(e,"n",(function(){return ir})),t.d(e,"w",(function(){return ur})),t.d(e,"F",(function(){return cr})),t.d(e,"j",(function(){return lr})),t.d(e,"P",(function(){return sr})),t.d(e,"k",(function(){return dr})),t.d(e,"l",(function(){return fr})),t.d(e,"r",(function(){return gr})),t.d(e,"G",(function(){return pr})),t.d(e,"m",(function(){return mr})),t.d(e,"u",(function(){return vr})),t.d(e,"A",(function(){return Ar})),t.d(e,"z",(function(){return br})),t.d(e,"I",(function(){return Sr})),t.d(e,"q",(function(){return Or})),t.d(e,"H",(function(){return Mr})),t.d(e,"s",(function(){return Rr})),t.d(e,"o",(function(){return Fr})),t.d(e,"N",(function(){return Ir}));var n=t(4),o=t(20),a=t(3),i=t(10),u=t(1),c=t(2),l=AppMagic.Data,s=AppMagic.Utility,d=AppMagic.Data.DataValue.isErrorValue,f=AppMagic.Data.DataValue.isBlankValue,g=AppMagic.Data.DataValue.isBlankOrErrorValue,p=AppMagic.Data.ErrorValue.isErrorHandlingFeatureEnabled,m={};function E(r){var e=m[r.language];return e||(e={digitGroupingSymValueRegex:new RegExp("(\\d)(["+Core.Utility.escapeRegExpString(r.digitGroupingSymbol)+"]+)(\\d)","g"),digitGroupingSymFormatRegex:new RegExp(Core.Utility.escapeRegExpString(r.digitGroupingSymbol,"[{0}]"),"g"),negativeNumFormatRegex:new RegExp(Core.Utility.formatString("(^(\\s)*(%|{0})?(\\s)*[\\(](\\s)*([0-9]*)({3})?([0-9]*)(\\s)*[\\)](\\s)*$)|(^(\\s)*[\\(](\\s)*(%|{0})?(\\s)*([0-9]*)({3})?([0-9]*)(\\s)*[\\)](\\s)*$)|(^(\\s)*[\\(](\\s)*([0-9]*)({3})?([0-9]*)(\\s)*(%)?(\\s)*[\\)](\\s)*$)|(^(\\s)*[\\(](\\s)*([0-9]*)({3})?([0-9]*)(\\s)*[\\)](\\s)*(%)?(\\s)*$)|(^(\\s)*(%|{0})?(\\s)*[\\(](\\s)*([0-9]+)[eE]({1}|{2})?([0-9]+)(\\s)*[\\)](\\s)*$)|(^(\\s)*[\\(](\\s)*(%|{0})?(\\s)*([0-9]+)[eE]({1}|{2})?([0-9]+)(\\s)*[\\)](\\s)*$)|(^(\\s)*[\\(](\\s)*([0-9]+)[eE]({1}|{2})?([0-9]+)(\\s)*(%)?(\\s)*[\\)](\\s)*$)|(^(\\s)*[\\(](\\s)*([0-9]+)[eE]({1}|{2})?([0-9]+)(\\s)*[\\)](\\s)*(%)?(\\s)*$)",Core.Utility.escapeRegExpString(r.currencySymbol,"[{0}]"),Core.Utility.escapeRegExpString(r.positiveSymbol,"[{0}]"),Core.Utility.escapeRegExpString(r.negativeSymbol,"[{0}]"),Core.Utility.escapeRegExpString(r.decimalSymbol,"[{0}]"))),validNumFormatRegex:RegExp(Core.Utility.formatString("(^(\\s)*(%|{0})?(\\s)*({1}|{2})?(\\s)*([0-9]*)({3})?([0-9]*)(\\s)*$)|(^(\\s)*({1}|{2})?(\\s)*(%|{0})?(\\s)*([0-9]*)({3})?([0-9]*)(\\s)*$)|(^(\\s)*({1}|{2})?(\\s)*([0-9]*)({3})?([0-9]*)(\\s)*%?(\\s)*$)|(^(\\s)*(%|{0})?(\\s)*({1}|{2})?(\\s)*([0-9]+({3}[0-9]+){0,1})[eE]({1}|{2})?([0-9]+)(\\s)*$)|(^(\\s)*({1}|{2})?(\\s)*(%|{0})?(\\s)*([0-9]+({3}[0-9]+){0,1})[eE]({1}|{2})?([0-9]+)(\\s)*$)|(^(\\s)*({1}|{2})?(\\s)*([0-9]+({3}[0-9]+){0,1})[eE]({1}|{2})?([0-9]+)(\\s)*%?(\\s)*$)",Core.Utility.escapeRegExpString(r.currencySymbol,"[{0}]"),Core.Utility.escapeRegExpString(r.positiveSymbol,"[{0}]"),Core.Utility.escapeRegExpString(r.negativeSymbol,"[{0}]"),Core.Utility.escapeRegExpString(r.decimalSymbol,"[{0}]")))},m[r.language]=e),e}function v(r){return f(r)?"":"string"!=typeof r?Object(u.u)(null,"Trim","source",r):r.replace(/[^\S\xA0\n\v\f\r]+/g," ").trim()}function A(r){return f(r)?"":"string"!=typeof r?Object(u.u)(null,"TrimEnds","source",r):r.trim()}function b(r,e,t,n){if(f(e))return"";if(f(t))return Object(u.x)(r,"Mid",2);if("number"!=typeof t)return Object(u.t)(r,"Mid","start",t);if(t=Math.floor(t),"string"!=typeof e)return Object(u.u)(r,"Mid","source",e);if(Core.Utility.isDefined(n)&&!f(n)&&"number"!=typeof n)return Object(u.t)(r,"Mid","count",n);if(t<=0)return Object(u.y)(r,"Mid",2,1);if(f(n))n=0;else if(Core.Utility.isDefined(n)&&(n=Math.floor(n))<0)return Object(u.y)(r,"Mid",3,0);return e.substr(t-1,n)}var y=null;function h(r){return f(r)?"":"string"!=typeof r?Object(u.u)(null,"Proper","source",r):(y||(y=XRegExp.XRegExp("^\\p{L}|\\P{L}\\p{L}","g")),XRegExp.XRegExp.replace(r.toLocaleLowerCase(),y,(function(r){return r.toLocaleUpperCase()})))}function C(r){return f(r)?"":"string"!=typeof r?Object(u.u)(null,"Lower","source",r):r.toLocaleLowerCase()}function S(r){return f(r)?"":"string"!=typeof r?Object(u.u)(null,"Upper","source",r):r.toLocaleUpperCase()}function O(r){return f(r)?"":"string"!=typeof r?Object(u.u)(null,"EncodeUrl","source",r):encodeURIComponent(r).replace(/[\*\(\)\'\!]/g,(function(r){return"%"+r.charCodeAt(0).toString(16).toUpperCase()}))}function M(r){return f(r)?0:"string"!=typeof r?Object(u.u)(null,"Len","source",r):r.length}function D(r,e,t){for(var n=0;n<r.length;){if((n=r.indexOf(e,n))<0)return r;var o=t();r=r.slice(0,n)+o+r.slice(n+e.length),n+=o.length}return r}function R(r,e){return r.indexOf("'")<0?r:(r=D(r,"'shortdatetime24'",(function(){return e.shortDate+" "+Core.Utility.replaceTTwithAMPM(e.shortTime,!1)})),r=D(r,"'shortdatetime'",(function(){return e.shortDate+" "+Core.Utility.replaceTTwithAMPM(e.shortTime,!0)})),r=D(r,"'shorttime24'",(function(){return Core.Utility.replaceTTwithAMPM(e.shortTime,!1)})),r=D(r,"'shorttime'",(function(){return Core.Utility.replaceTTwithAMPM(e.shortTime,!0)})),r=D(r,"'shortdate'",(function(){return e.shortDate})),r=D(r,"'longdatetime24'",(function(){return e.longDate+" "+Core.Utility.replaceTTwithAMPM(e.longTime,!1)})),r=D(r,"'longdatetime'",(function(){return e.longDate+" "+Core.Utility.replaceTTwithAMPM(e.longTime,!0)})),r=D(r,"'longtime24'",(function(){return Core.Utility.replaceTTwithAMPM(e.longTime,!1)})),r=D(r,"'longtime'",(function(){return Core.Utility.replaceTTwithAMPM(e.longTime,!0)})),r=D(r,"'longdate'",(function(){return e.longDate})))}function F(r){var e="en-US",t=!1;if(r.length>4&&"[$-"===r.substring(0,3)&&r.indexOf("]",3)>=0){var n=r.indexOf("]",3);e=r.substring(3,n).trim(),t=!0,r=r.slice(n+1)}if(Object(c.isPowerFxV1CompatEnabled)()&&!t){var o=r.indexOf("[$-");if(o>=0){var a=new or;return a.error=Core.Utility.formatString(AppMagic.Strings.BadLanguageCode,r.substring(o+3)),a}}var i=new or,u=Core.Globalization.tryGetCulture(e,!1);return u?(i.format=r,i.culture=u):i.error=Core.Utility.formatString(AppMagic.Strings.BadLanguageCode,e),i}function I(r,e,t,n){null===r&&null!=t&&Core.Diagnostics.trace(Core.Diagnostics.CategoryNames.Function,e,{context:n,info:Core.Utility.formatString(AppMagic.Strings.CustomPageDataFormattingError,e,t)},Core.Diagnostics.MonitorLogLevel.Error)}function T(r){var e=AppMagic.Strings.InvalidFunctionUsage_Text_InvalidFormat;return l.ErrorValue.createGatedError(l.ErrorKind.InvalidArgument,l.ErrorSeverity.Severe,e,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:e,functionName:"Text"}))}function j(r){var e=AppMagic.Strings.InvalidFunctionUsage_Text_NumericAndDateTimeFormats;return l.ErrorValue.createGatedError(l.ErrorKind.InvalidArgument,l.ErrorSeverity.Severe,e,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:e,functionName:"Text"}))}var _=/([sS]\.)(0+)/g,N="0#mMdDyYhHsSaApP",x="0",P="1",U="2",w="3",V={},k=0;function H(r){for(var e="",t=0;t<r.length;t++)if('"'===r[t]){for(e+=P,t++;t<r.length&&'"'!==r[t];)e+=U,t++;t<r.length&&(e+=P)}else"\\"===r[t]&&t<r.length-1?(e+=x,e+=U,t++):e+=w;return e}function G(r,e,t,a,s,g){var p=Object(c.isPowerFxV1CompatEnabled)();if(f(e)){if(Core.Diagnostics.trace(Core.Diagnostics.CategoryNames.Function,"Text",{context:r,info:AppMagic.Strings.BlankNumber},Core.Diagnostics.MonitorLogLevel.Info),!p)return"";if(Core.Utility.isUndefined(t)||(null==g?void 0:g.c))return e;e=Core.Utility.isDefined(s)&&L(s)?n.x:0}if("string"==typeof e)return e;if("number"!=typeof e)return Object(u.t)(r,"Text","number",e);if(Core.Utility.isValue(a)&&"string"!=typeof a)return Object(u.u)(r,"Text","locale",a);if(Core.Utility.isValue(t)&&"string"!=typeof t)return Object(u.u)(r,"Text","format",t);if(f(t))return function(r,e,t){Core.Diagnostics.trace(Core.Diagnostics.CategoryNames.Function,r,{context:null,info:e},t)}("Text",AppMagic.Strings.BlankFormat,Core.Diagnostics.MonitorLogLevel.Info),"";if(p&&void 0!==t&&t.length>100){var m=AppMagic.Strings.InvalidFunctionUsage_Text_FormatTooLarge;return l.ErrorValue.createGatedError(l.ErrorKind.InvalidArgument,l.ErrorSeverity.Severe,m,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:m,functionName:"Text"}))}if(void 0===a&&Object(o.shouldUseHostFormatterSettings)()){var E=Object(o.tryGetHostFormatter)(),v=void 0;if(void 0===t)return I(v=null==E?void 0:E.getFormattedNumberValue(e),"Text",e,r),v;if((null==t?void 0:t.search("^'long|^'short"))>-1)return I(v=null==E?void 0:E.getFormattedDateValue(e,t),"Text",e,r),v}var A=a?Core.Globalization.tryGetCulture(a,!0):Core.Globalization.currentCulture();if(!A){m=Core.Utility.formatString(AppMagic.Strings.BadLanguageCode,a);return l.ErrorValue.createGatedError(l.ErrorKind.BadLanguageCode,l.ErrorSeverity.Severe,m,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:m,functionName:"Text"}))}if(void 0===t){if(p&&(Math.abs(e)>=1e10||Math.abs(e)<=1e-10)){var b=e.toString();return b=b.replace("e","E"),"."!==A.decimalSymbol&&(b=b.replace(".",A.decimalSymbol)),b}t="0",Math.abs(e-Math.round(e))>=1e-8&&(t+=".########")}var y=F(t);if(y.error)return l.ErrorValue.createGatedError(l.ErrorKind.BadLanguageCode,l.ErrorSeverity.Severe,y.error,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:y.error,functionName:"Text"}));t=y.format,(!p||(null==g?void 0:g.dtf))&&(t=R(t,A));var h,C=y.culture,S=p?(null==g?void 0:g.dtf)&&"utc"===t:t.search(/utc/i)>=0;if(p)if(S)h={DateTimeFormat:t};else{var O=C.language+"$"+t,M=void 0;if(V[O]){if(M=V[O],d(M))return T(r);h=M}else{if(M=function(r,e,t){if(0===e.length)return{};if("g"===e||"G"===e||e.toLowerCase().indexOf("general")>=0)return T(r);if("/"===e[0])return T(r);for(var n=t.decimalSymbol,o=t.digitGroupingSymbol,a=!1,i=!1,u=!1,c=-1,l=0,s=!1,d=!1,f=!1,g=-1,p=[],m=function(r){return r===r.toUpperCase()},E=[],v=[],A=0;A<e.length;A++){if("m"===e[A]||"M"===e[A]){if(++l>4)return T(r)}else l=0;if("a"===e[A]||"A"===e[A]){if(A<e.length-2&&"/"===e[A+1]&&("P"===e[A+2]||"p"===e[A+2])){if(m(e[A])!==m(e[A+2]))return T(r);A+=2;continue}if(A<e.length-4&&("m"===e[A+1]||"M"===e[A+1])&&"/"===e[A+2]&&("P"===e[A+3]||"p"===e[A+3])&&("m"===e[A+4]||"M"===e[A+4])){var b=(m(e[A])?1:0)+(m(e[A+1])?1:0)+(m(e[A+3])?1:0)+(m(e[A+4])?1:0);if(0!==b&&4!==b)return T(r);A+=4;continue}}if(d&&"0#".indexOf(e[A])<0&&(f=!0),(0===A||a)&&"z$bcfnpxBCFNPX".indexOf(e[A])>=0)e=e.substring(0,A)+"\\"+e[A]+e.substring(A+1),A++;else if("0#".indexOf(e[A])>=0){if(!i&&s)return T(r);if(d){if(f)return T(r);"#"==e[A]?(e=e.substring(0,A)+e.substring(A+1),g=A,A--):g=-1}if(u=!0,a=!0,p.length>0){if(e.indexOf(".")>=0&&-1===c)for(var y=p.length-1;y>=0;y--)p[y]<e.length-1&&"0#".indexOf(e[p[y]+1])<0&&(e=e.substring(0,p[y])+e.substring(p[y]+1));p.splice(0,p.length)}}else if("mMdDyYhHsSaApP".indexOf(e[A])>=0)i=!0;else if(i||e[A]!==o||u||-1!==c)if(i||e[A]!==n){if("?[_*@]".indexOf(e[A])>=0)return T(r);if("%"==e[A]&&d)return T(r);if(":"===e[A])s=!0;else if(";"===e[A]){if(g>=0&&(e=e.substring(0,g)+"0"+e.substring(g),A++),E.push(A),E.length>=3)return T(r);var h={},C=E.length>1?E[E.length-2]+1:0;if(i){if(v.filter((function(r){return r.NumberFormat})).length>0)return T(r);h.DateTimeFormat=e.substring(C,A)}else{if(v.filter((function(r){return r.DateTimeFormat})).length>0)return T(r);h.NumberFormat=e.substring(C,A)}v.push(h),a=!1,i=!1,u=!1,c=-1,l=0,s=!1,d=!1,f=!1,g=-1,p.splice(0,p.length)}else if(a&&e[A]===o&&A>0)"0#".indexOf(e[A-1])>=0&&(1==A||"\\"!=e[A-2])||p.indexOf(A-1)>=0?p.push(A):e[A-1]===o?(e=e.substring(0,A)+e.substring(A+1),A--):e[A-1]!==n&&(e=e.substring(0,A)+"\\"+e.substring(A),A++);else if("'"!==e[A]||0!==A&&"\\"===e[A-1]){if(A===e.length-1){if("\\"===e[A]||'"'===e[A])return T(r);if(!i&&("e"===e[A]||"E"===e[A]||A>1&&"\\"!==e[A-2]&&("e"===e[A-1]||"E"===e[A-1])&&("+"===e[A]||"-"===e[A])))return T(r)}else if("\\"===e[A])a||'"'===e[A+1]?A++:(e=e.substring(0,A)+'"'+e[A+1]+'"'+e.substring(A+2),A+=2);else if('"'===e[A]){if((A=e.indexOf('"',A+1))<0)return T(r)}else if(a&&("e"===e[A]||"E"===e[A])){if("-"!==e[++A]&&"+"!==e[A])return T(r);if(d=!0,++A===e.length||"0#".indexOf(e[A])<0)return T(r)}}else e=e.substring(0,A)+"\\"+e.substring(A),A++}else{if(c=A,u=!1,d)return T(r);if(p.length>0&&p[p.length-1]!==A-1){for(y=p.length-1;y>=0;y--)e=e.substring(0,p[y])+e.substring(p[y]+1),c--;p.splice(0,p.length)}}else if(!a){for(var S=A,O=0;A<e.length-1&&e[A+1]===o;)A++,O++;e=e.substring(0,S)+"\\"+o+e.substring(A+1),A+=1-O}}if(g>=0&&(e=e.substring(0,g)+"0"+e.substring(g)),p.length>0&&-1!==c){for(y=p.length-1;y>=0;y--){var M=p[y];e=e.substring(0,M)+e.substring(M+1),p[y]<c&&c--}e=e.substring(0,c)+p.map((function(r){return t.digitGroupingSymbol})).join("")+e.substring(c)}if(i&&a){var D=e.replace(_,(function(r,e,t){return e}));for(y=0;y<"0#".length;y++){if(D.indexOf("0#"[y])>=0)return j(r);a=!1}}if(a&&e.indexOf("/")>=0)return T(r);i&&(e=e.replace("\\'","'"));var R={EscapingInfo:H(e)};if(i?R.DateTimeFormat=e:R.NumberFormat=e,v.length>0){var F={},I=e.substring(E[E.length-1]+1);if(i){if(v.filter((function(r){return r.NumberFormat})).length>0)return T(r);F.DateTimeFormat=I}else{if(v.filter((function(r){return r.DateTimeFormat})).length>0)return T(r);F.NumberFormat=I}v.push(F),R.Sections=v;for(A=0;A<v.length;A++)v[A].EscapingInfo=H(v[A].DateTimeFormat||v[A].NumberFormat)}return R}(r,t,C),k>1e3&&(Object.keys(V).forEach((function(r){return delete V[r]})),k=0),V[O]=M,k++,d(M))return M;h=M}if(!h.DateTimeFormat&&!h.NumberFormat)return""}else{var D=S||t.replace(C.currencySymbol,"").search(/[dmyhHsfaApP]/)>=0,N=t.search(/[#0]/)>=0;if(D&&N)return j(r);h=D?{DateTimeFormat:t}:{NumberFormat:t}}if(h.DateTimeFormat||S){if(p&&!L(s)){var x=Object(i.q)(r,e);if(d(x))return x;e=x}var P=!p||!!(null==g?void 0:g.dtf),U=h.DateTimeFormat,w=h.EscapingInfo;return h.Sections&&(h.Sections.length>2&&e===n.x?(U=h.Sections[2].DateTimeFormat,w=h.Sections[2].EscapingInfo):h.Sections.length>=2&&e<n.x?(U=h.Sections[1].DateTimeFormat,w=h.Sections[1].EscapingInfo):(U=h.Sections[0].DateTimeFormat,w=h.Sections[0].EscapingInfo)),n.f(r,"Text",e,U,C,A,P,w)}if(p&&L(s)){x=Object(i.f)(r,e);if(d(x))return x;e=x}var G=h.NumberFormat,B=h.EscapingInfo;return h.Sections&&(h.Sections.length>2&&0===e?(G=h.Sections[2].NumberFormat,B=h.Sections[2].EscapingInfo):e<0&&h.Sections.length>=2?(G=h.Sections[1].NumberFormat,B=h.Sections[1].EscapingInfo,e=-e):(G=h.Sections[0].NumberFormat,B=h.Sections[0].EscapingInfo)),X(r,e,G,C,A,B)}function L(r){if(!r)return!1;switch(r.toLowerCase()){case"time":case"date":case"datetime":case"datetimenotimezone":return!0;default:return!1}}function B(r,e,t,n){return __awaiter(this,void 0,Promise,(function(){var o,a,i,u,c;return __generator(this,(function(l){switch(l.label){case 0:return o=Core.Telemetry.Log.startScenario(Core.Telemetry.ScenarioName.JsonFunction,{format:t}),a=function(r,e){return e},"4","    ",Core.Utility.isDefined(t)&&t.indexOf("4")>=0&&(i="    "),[4,K(r,e,n,"JSON")];case 1:return u=l.sent(),d(u)?(Core.Telemetry.Log.failScenario(o,{error:new Error("Kind=".concat(u.kind))}),[2,u]):(c=JSON.stringify(u,a,i),Core.Telemetry.Log.endScenario(o,{customScenarioData:{length:c.length}}),[2,c])}}))}))}function K(r,e,t,n,o){return __awaiter(this,void 0,Promise,(function(){var a;return __generator(this,(function(i){return a=!Core.FallbackSwitch.isActivated("AppRuntime.ConcurrentReplaceColumns"),[2,q(r,e,t,a,n,o)]}))}))}function q(r,e,t,n,o,a){return __awaiter(this,void 0,Promise,(function(){var i,u,f,g,p,m,E,v,A,b,y,h;return __generator(this,(function(C){switch(C.label){case 0:if(null==e||d(e))return[2,e];if(a&&a[t.t])return[2,a[t.t](e)];switch(t.t){case"b":case"n":case"s":case"h":case"$":case"g":case"N":return[3,1];case"c":return[3,2];case"d":case"D":case"T":case"Z":return[3,3];case"l":return[3,4];case"!":return[3,5];case"*":return[3,7];case"i":case"m":case"o":case"a":return[3,14]}return[3,17];case 1:return[2,e];case 2:if("number"!=typeof e)return i=Core.Utility.formatString(AppMagic.Strings.ErrorConvertingToJson,JSON.stringify(e),t.t),[2,l.ErrorValue.createGatedError(l.ErrorKind.InvalidFunctionUsage,l.ErrorSeverity.Warning,i,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:i,functionName:o}))];for((u=e)<0&&(u+=4294967296),f=u.toString(16);f.length<8;)f="0"+f;return[2,"#"+f.slice(2)+f.slice(0,2)];case 3:if(Core.Utility.isNumber(e)){if("d"===t.t||"Z"===t.t)return[2,new Date(e).toISOString()];if("D"===t.t)return[2,G(r,e,"yyyy-mm-dd",void 0,"Date")];if("T"===t.t)return[2,G(r,e,Object(c.isPowerFxV1CompatEnabled)()?"HH:mm:ss.000":"HH:mm:ss.fff",void 0,"Time")]}return i=Core.Utility.formatString(AppMagic.Strings.ErrorConvertingToJson,JSON.stringify(e),t.t),[2,l.ErrorValue.createGatedError(l.ErrorKind.InvalidFunctionUsage,l.ErrorSeverity.Warning,i,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:i,functionName:o}))];case 4:return[2,e.Id];case 5:return[4,W(r,e,t,n,o)];case 6:return[2,C.sent()];case 7:if(g=[],!Core.Utility.isArrayOrNullOrUndefined(e))return i=Core.Utility.formatString(AppMagic.Strings.ErrorConvertingToJson,JSON.stringify(e),t.t),[2,l.ErrorValue.createGatedError(l.ErrorKind.InvalidFunctionUsage,l.ErrorSeverity.Warning,i,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:i,functionName:o}))];if(!n)return[3,9];for(p=[],E=0;E<e.length;E++)p.push(W(r,e[E],t,n,o));return[4,Core.PromiseUtils.join(p)];case 8:for(m=C.sent(),E=0;E<m.length;E++){if(v=m[E],d(v))return[2,v];g.push(v)}return[3,13];case 9:E=0,C.label=10;case 10:return E<e.length?[4,W(r,e[E],t,n,o)]:[3,13];case 11:if(v=C.sent(),d(v))return[2,v];g.push(v),C.label=12;case 12:return E++,[3,10];case 13:return[2,g];case 14:return Core.Utility.isString(e)?0===(A=e.toLowerCase()).indexOf("http://")||0===A.indexOf("https://")?[3,16]:[4,s.getMediaAsBase64WithContentTypeAsync(e)]:(i=Core.Utility.formatString(AppMagic.Strings.ErrorConvertingToJson,JSON.stringify(e),t.t),[2,l.ErrorValue.createGatedError(l.ErrorKind.InvalidFunctionUsage,l.ErrorSeverity.Warning,i,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:i,functionName:o}))]);case 15:if(b=C.sent())return y=b.contentType,h=b.base64,[2,"data:".concat(y,";base64,").concat(h)];C.label=16;case 16:return[2,e];case 17:return i=Core.Utility.formatString(AppMagic.Strings.ErrorConvertingToJson,JSON.stringify(e),t.t),[2,l.ErrorValue.createGatedError(l.ErrorKind.InvalidFunctionUsage,l.ErrorSeverity.Warning,i,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:i,functionName:o}))]}}))}))}function W(r,e,t,n,o){return __awaiter(this,void 0,Promise,(function(){var a,i,u,c,s,f,g,p,m,E,v;return __generator(this,(function(A){switch(A.label){case 0:if(Core.Utility.isNullOrUndefined(e)||d(e))return[2,e];if(!Core.Utility.isObject(e))return a=Core.Utility.formatString(AppMagic.Strings.ErrorConvertingToJson,JSON.stringify(e),t.t),[2,l.ErrorValue.createGatedError(l.ErrorKind.InvalidFunctionUsage,l.ErrorSeverity.Warning,a,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:a,functionName:o}))];if(i={},!t.c)return[3,6];if(!n)return[3,2];for(E in u=[],c=[],t.c)Core.Utility.isDefined(e[E])&&(u.push(q(r,e[E],t.c[E],n,o)),c.push(E));return[4,Core.PromiseUtils.join(u)];case 1:for(s=A.sent(),f=0;f<s.length;f++){if(v=s[f],d(v))return[2,v];i[c[f]]=v}return[3,6];case 2:for(p in g=[],t.c)g.push(p);m=0,A.label=3;case 3:return m<g.length?(E=g[m],Core.Utility.isDefined(e[E])?[4,q(r,e[E],t.c[E],n,o)]:[3,5]):[3,6];case 4:if(v=A.sent(),d(v))return[2,v];i[E]=v,A.label=5;case 5:return m++,[3,3];case 6:return[2,i]}}))}))}function z(r,e,t,n,o){if(f(e)&&(e=""),f(t)&&(t=0),f(n)&&(n=0),f(o)&&(o=""),"string"!=typeof e)return Object(u.u)(r,"Replace","source",e);if("number"!=typeof t)return Object(u.t)(r,"Replace","start",t);if(t=Math.floor(t),"number"!=typeof n)return Object(u.t)(r,"Replace","count",n);if(n=Math.floor(n),"string"!=typeof o)return Object(u.u)(r,"Replace","replacement",o);if(t<=0)return Object(u.y)(r,"Replace",2,1);if(n<0)return Object(u.y)(r,"Replace",3,0);var a=t-1;return e.substr(0,a)+o+e.substr(a+n)}function J(r,e,t,n,o){if(f(e))e="";else if("string"!=typeof e)return Object(u.u)(r,"Substitute","source",e);if(void 0===o||f(o))o=-1;else{if("number"!=typeof o)return Object(u.t)(r,"Substitute","instanceNum",o);if((o=Math.floor(o))<=0)return Object(u.y)(r,"Substitute",4,1)}if(f(t)||""===t)return e;if("string"!=typeof t)return Object(u.u)(r,"Substitute","match",t);if(f(n))n="";else if("string"!=typeof n)return Object(u.u)(r,"Substitute","replacement",n);var a,i,c;if(o<0){for(a=e.indexOf(t);a>=0;)c=e.substr(0,a)+n,a=(i=(e=e.substr(a+t.length)).indexOf(t))<0?i:c.length+i,e=c+e;return e}var l=0;for(a=e.indexOf(t);a>=0&&++l<o;)(i=e.substr(a+t.length).indexOf(t))<0?a=i:a+=t.length+i;return a>=0&&l===o&&(e=e.substr(0,a)+n+e.substr(a+t.length)),e}function Q(r){if(f(r))return Object(c.isPowerFxV1CompatEnabled)()?[]:null;if("string"!=typeof r)return Object(u.u)(null,"HashTags","input_text",r);var e="[^\\s!-\\/:-@\\[\\]\\^`{-~\\u2018-\\u2026\\u20A0-\\u20BD\\u00A2-\\u00A5\\u060B\\u09F2\\u09F3\\u0AF1\\u0BF9\\u0E3F\\u17DB\\u2133]+",t=new RegExp("#*"+e+'#+[^\\s!"$-\\/:-@\\[\\]\\^`{-~\\u2018-\\u2026\\u20A0-\\u20BD\\u00A2-\\u00A5\\u060B\\u09F2\\u09F3\\u0AF1\\u0BF9\\u0E3F\\u17DB\\u2133]*',"g"),n=new RegExp("#"+e,"g"),o=r.replace(t,"").match(n);if(null===o)return[];var i=AppMagic.getLanguageRuntime();return i.makeColumn(o,i.generateId(),a._valueColumnName)}function Y(r,e){var t=new RegExp("(<\\s*"+e+"\\s+[\\s\\S]*?>)","ig"),n=new RegExp("(<\\s*\\/\\s*"+e+"\\s+>)","ig"),o=new RegExp("<"+e+">[\\s\\S]*<\\/"+e+">","ig");return r.replace(t,"<"+e+">").replace(n,"</"+e+">").replace(o,"")}function $(r,e,t){var n=new RegExp("(<\\s*"+e+"\\s+[\\s\\S]*?>)","ig");return r.replace(n,t)}function Z(r){if("string"!=typeof r)return Object(u.u)(null,"PlainText","input_text",r);var e=r.trim();if(null!==e.match(/^<\s*xml/i))return(e=e.replace(/<[^>]+>/g,"")).trim();e=Y(e=e.replace(/>/g," >"),"header"),e=Y(e,"script");return e=$(e=(e=Y(e,"style")).replace(/<!--[\s\S]*?--\s>/g,""),"td",""),e=$(e,"br","\r\n"),e=$(e,"li","\r\n"),e=$(e,"div","\r\n\r\n"),e=$(e,"p","\r\n\r\n"),(e=(e=(e=(e=$(e,"tr","\r\n\r\n")).replace(/<[^>]*>/g,"")).replace(/&bull;|&#8226;|&#x2022;/g,"*").replace(/&lsaquo;|&#8249;|&#x2039;/g,"").replace(/&rsaquo;|&#8250;|&#x203A;/g,"").replace(/&trade;|&#8482;|&#x2122;/g,"").replace(/&frasl;|&#8260;|&#x2044;/g,"").replace(/&lt;|&#60;|&#x3c;/g,"<").replace(/&gt;|&#62;|&#x3e;/g,">").replace(/&copy;|&#169;|&#xa9;/g,"").replace(/&reg;|&#174;|&#xae;/g,"").replace(/&quot;|&#34;|&#x22;/g,'"').replace(/&ldquo;|&#8220;|&#x201c;/g,"").replace(/&rdquo;|&#8221;|&#x201d;/g,"").replace(/&lsquo;|&#8216;|&#x2018;/g,"").replace(/&rsquo;|&#8217;|&#x2019;/g,"").replace(/&amp;|&#38;|&#x26;/g,"&").replace(/&#8211;/g,"").replace(/&#8212;/g,"").replace(/&#160;|&nbsp;|&#xa0;/g,"").replace(/&cent;|&#162;|&#xa2;/g,"").replace(/&pound;|&#163;|&#xa3;/g,"").replace(/&yen;|&#165;|&#xa5;/g,"").replace(/&euro;|&#8364;|&#x20ac;/g,"").replace(/&colon;|&#58;|&#x3a;/g,":")).replace(/&(.{2,6});/g,"")).trim()}function X(r,e,t,n,o,a){if("number"!=typeof e||"string"!=typeof t)return null;var i=void 0!==a;i||(t=t.replace(n.currencySymbol,""));var c,s,d,f,g=-1;if(i){for(var p=0;p<t.length;p++)if(t[p]===n.decimalSymbol&&a[p]===w){g=p;break}for(var m=0;m<t.length;m++)if(m<t.length-2&&a[m]===w&&("E"===t[m]||"e"===t[m])&&("-"===t[m+1]||"+"===t[m+1])){var E=m;c=t.substring(E,E+2),s=t.substring(E+2),t=t.substring(0,E),d=a.substring(E+2),a=a.substring(0,E),f=0===e?0:Math.floor(Math.log10(Math.abs(e))),e/=y=Math.pow(10,f);break}for(var v=0;v<t.length;v++)"%"===t[v]&&a[v]===w&&(e*=100);for(var A=t.length-1;A>=0&&(a[A]!==w||"%"===t[A]||N.indexOf(t[A])<0&&t[A]!==n.decimalSymbol&&t[A]!==n.digitGroupingSymbol);)A--;if(t[A]===n.digitGroupingSymbol&&a[A]===w){for(var b=A;A>0&&t[A]===n.digitGroupingSymbol&&a[A]===w;)A--;if("0#".indexOf(t[A])>=0&&a[A]===w)for(var y=b-A;y>0;)e/=1e3,y--}if(g>=0)for(var h=g-1;h>=0&&(a[h]===w&&t[h]===n.digitGroupingSymbol);h--)e/=1e3}else g=t.indexOf(n.decimalSymbol);var C=g<0?t:t.substring(0,g),S=i?g<0?a:a.substring(0,g):void 0,O=g<0?"":t.substring(g+n.decimalSymbol.length),M=i?g<0?"":a.substring(g+1):void 0,D=0;if(c){for(var R=0;R<C.length;R++)"#"!==C[R]&&"0"!==C[R]||i&&S[R]!==w||D++;0===D?(f+=1,e/=10):D>1&&(f-=D-1,e*=Math.pow(10,D-1))}D=0;for(R=0;R<O.length;R++)"#"!==O[R]&&"0"!==O[R]||i&&M[R]!==w||D++;var F=0===D?e:Object(u.c)(e,D);if("number"!=typeof F||!isFinite(F))return null;var I=F<0,T=g>=0?I?Math.ceil(F):Math.floor(F):Object(u.f)(F),j=Object(u.d)(F,T);j>=1?(T++,j=0):j<=-1&&(T--,j=0);var _="";if(g>=0){var V=l.DataValue.errorValueToNull(function(r,e,t,n){if("number"!=typeof r||"string"!=typeof e)return l.ErrorValue.createGatedError(l.ErrorKind.Unknown,l.ErrorSeverity.Warning,"type error");if(!isFinite(r))return l.ErrorValue.createGatedError(l.ErrorKind.InvalidArgument,l.ErrorSeverity.Warning,"number is not finite");for(var o=void 0!==n,a={carryover:0,decPart:""},i=e.length,u=0,c=0;c<i;c++)"#"!==e[c]&&"0"!==e[c]||o&&n[c]!==w||u++,20===u&&(i=c+1,e=e.substr(0,i));a.decPart=r.toFixed(u),a.carryover="1"===a.decPart.charAt(0)?1:0,a.decPart=a.decPart.split(".")[1],void 0===a.decPart&&(a.decPart="");for(var s=0,d=a.decPart.length-1;d>=0&&"0"===a.decPart.charAt(d);d--)s+=1;for(var f=0,g=0;g<i;g++){var p=e[g];if(!o||n[g]!==x&&n[g]!==P){if(o&&n[g]===U)a.decPart=a.decPart.substring(0,f)+e[g]+a.decPart.substring(f);else switch(p){case"#":"0"===a.decPart.charAt(f)&&f>=a.decPart.length-s&&(a.decPart=a.decPart.substring(0,f)+a.decPart.substring(f+1),f--);break;case"0":break;default:if(o&&p===t.digitGroupingSymbol)continue;a.decPart=a.decPart.substring(0,f)+p+a.decPart.substring(f)}f++}}return a}(Math.abs(j),O,n,M));T+=I?-V.carryover:V.carryover,_=o.decimalSymbol+V.decPart}if(C.indexOf("#")<0&&C.indexOf("0")<0&&(i&&""===_||(C+="#",void 0!==S&&(S+=w))),_=tr(Math.abs(T),C,n,o,S)+_,I&&"0"!==_&&(_=o.negativeSymbol+_),c){_+=c[0],f<0?(_+="-",f=-f):"+"===c[1]&&(_+="+");var k=tr(f,s,n,o,d);_+=0===f&&""===k?"0":k}return _.replace("",o.currencySymbol)}function rr(r){var e=r.indexOf("e");if(-1===e)return r;var t=Number(r.substr(e+1)),n=(r=r.substr(0,e)).indexOf(".");if(-1===n&&(n=r.length),r=r.replace(".",""),(n+=t)<0){for(var o="0.",a=0;a>n;a--)o+="0";return o+r}if(n<r.length)return r.substr(0,n)+"."+r.substr(n);var i="";for(a=r.length;a<n;a++)i+="0";return r+i}function er(r,e,t){var n,o=e+1;return 0===(n=o<r.length?r[o]:r[r.length-1])&&(n=t),{groupSize:n,groupIndex:o}}function tr(r,e,t,n,o){var a=void 0!==o;if("number"!=typeof r||"string"!=typeof e)return l.ErrorValue.createGatedError(l.ErrorKind.Unknown,l.ErrorSeverity.Warning,"type error");if(!isFinite(r))return l.ErrorValue.createGatedError(l.ErrorKind.InvalidArgument,l.ErrorSeverity.Warning,"number is not finite");var i=e.length,u=!1;if(a){for(;i>1&&e[i-1]===t.digitGroupingSymbol&&o[i-1]===w&&"0#".indexOf(e[i-2])>=0&&o[i-2]===w;)i--;i!==e.length&&(e=e.substring(0,i));for(var c=[],s=0;s<i;s++)if(e[s]===t.digitGroupingSymbol&&o[s]===w){for(var d=s;s+1<i&&e[s+1]===t.digitGroupingSymbol&&o[s+1]===w;)s++;s!==d&&(e=e.substring(0,d)+t.digitGroupingSymbol+e.substring(s+1),o=o.substring(0,d)+o.substring(s),i-=s-d,s=d),s>0&&s<i-1&&o[s-1]===w&&o[s+1]===w&&"0#".indexOf(e[s-1])>=0&&"0#".indexOf(e[s+1])>=0&&c.push(s)}if(c.length){u=!0;var f="",g=0;for(s=0;s<c.length;s++)f+=e.substring(g,c[s])+"",g=c[s]+1;f+=e.substring(g),e=f}}else{var p=E(t);u=(e=(e=e.replace(p.digitGroupingSymFormatRegex,"")).replace(/[\u000F]+/g,"")).search(/[#0][\u000F][#0]/)>=0}var m,v=n.currentLocaleNumberGroupSizes,A="",b=e.length,y=r,h=0,C=0,S=!1,O=0,M=v[O],D=rr(r.toString()).length,R=b>D?b:D;0===M&&(M=R);for(s=b-1;s>=0;s--){var F=e[s];if(!a||o[s]!==x&&o[s]!==P)if(a&&o[s]===U)A=F+A;else switch(F){case"#":case"0":if(S=!0,y>0||"0"===F){u&&C>0&&C%M==0&&(A=""+A,O=(m=er(v,O,R)).groupIndex,M=m.groupSize,C=0),C++;var I=rr(y.toString());A=I.charAt(I.length-1)+A,y=Math.floor(y/10),h=A.length}break;case"":u||(A=F+A);break;default:a&&F===t.digitGroupingSymbol&&!S||(A=F+A)}}if(y<=0||!S)A=A.replace(/[\u000F]/g,n.digitGroupingSymbol);else{var T=A.length-h,j="";if(u)for(;y>0;)C>0&&C%M==0&&(j=""+j,O=(m=er(v,O,R)).groupIndex,M=m.groupSize,C=0),C++,j=(y%10).toString()+j,y=Math.floor(y/10);else j=rr(y.toString());A=(A.substring(0,T)+j+A.substring(T)).replace(/[\u000F]/g,n.digitGroupingSymbol)}return A.replace("",n.currencySymbol)}var nr=function(){function r(r,e){var t=this;switch(r[0]){case"$":this.name="currency",this.getValue=function(e,t){return r};break;case"#":this.name="numbers",this.getValue=function(r,e){return"TODO"},this.position=e,this.itemLength=r.length;break;case".":this.name="period",this.getValue=function(e,t){return r};break;case",":this.name="comma",this.getValue=function(e,t){return r};break;case"0":this.name="decimals",this.position=e,this.itemLength=r.length,this.getValue=function(e,n){return t.position<0?n.length<2?r:n[1].substr(-t.position-1,t.itemLength):"TODO"};break;default:this.name=r,this.constant=!0,this.getValue=function(e,t){return r}}}return Object.defineProperty(r.prototype,"isDigit",{get:function(){return void 0!==this.position},enumerable:!1,configurable:!0}),r}(),or=function(){return function(){}}(),ar=function(){function r(r){var e=F(r);e.error&&Core.Log.error("NumberFormatProvider.toString - error parsing culture",e.error),this._format=e.format,this._inputCulture=e.culture}return r.prototype.toString=function(r,e){var t=null;return e&&(t=Core.Globalization.tryGetCulture(e,!0)),t=t||Core.Globalization.currentCulture(),X(0,r,this._format,this._inputCulture,t)},r.prototype.tryParse=function(r,e){return{result:l.DataValue.errorValueToNull(sr(null,r,e)),errorLocation:0}},r.prototype.getTokens=function(){return this._tokens||(this._tokens=this._parseTokens()),this._tokens.map((function(r){return r.constant?"constant":r.name}))},r.prototype.getTokenValues=function(r){this._tokens||(this._tokens=this._parseTokens());var e=0;this._tokens.forEach((function(r){r.isDigit&&r.position<0&&(e+=r.itemLength)}));var t=r.toFixed(Math.min(e,20)).split(".");return e>20&&t.length>1&&(t[1]+=Array(e-20).join("0")),this._tokens.map((function(e){return e.getValue(r,t)}))},r.prototype.calculateValue=function(r){return null},r.prototype._parseTokens=function(){for(var r,e=new Array,t=!1,n="",o=0,a=0,i=-1,u=0;u<this._format.length;u++){var c=this._format.charAt(u),l="#"===c||"."===c||"0"===c||","===c||"$"===c;if(l!==t||l&&c!==n){var s=u-o,d=null;0!==s&&(r=this._format.substr(o,s),d=new nr(r,a),e.push(d)),o=u,t=l,n=c,d&&(d.isDigit?a+=s:"period"===d.name&&-1===i&&(i=a))}}if(0!==(r=this._format.substr(o)).length){var f=new nr(r,a);e.push(f),f.isDigit&&(a+=r.length)}return-1===i&&(i=a),e.forEach((function(r){r.isDigit&&(r.position=i-r.position-1)})),e},r}();function ir(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];for(var t="",n=0;n<r.length;n++){var o=r[n];t+=o||""}return t}function ur(r,e,t){return f(e)||f(t)?"":"string"!=typeof e?Object(u.u)(r,"Left","source",e):"number"!=typeof t?Object(u.t)(r,"Left","count",t):p()&&t<0?Object(u.w)(r,"Left",2):e.substring(0,Math.floor(t))}function cr(r,e,t){if(f(e)||f(t))return"";if("string"!=typeof e)return Object(u.u)(r,"Right","source",e);if("number"!=typeof t)return Object(u.t)(r,"Right","count",t);if(p()&&t<0)return Object(u.w)(r,"Right",2);var n=e.length;return e.substring(n-Math.floor(t),n)}function lr(r,e){return r?(r.length>2||(e||(e=Core.Globalization.currentCulture()),(r===e.positiveSymbol||r===e.negativeSymbol||r===e.decimalSymbol||r===e.positiveSymbol+e.decimalSymbol||r===e.negativeSymbol+e.decimalSymbol)&&(r+="0")),sr(null,r)):sr(null,r)}function sr(r,e,t,n){if(f(e))return p()?e:0;if("number"==typeof e)return Object(c.isPowerFxV1CompatEnabled)()&&L(n)?Object(i.f)(r,e):e;if("boolean"==typeof e)return Object(i.b)(e);if("string"!=typeof e){Core.Diagnostics.trace(Core.Diagnostics.CategoryNames.Function,"Value",{context:r,info:Core.Utility.formatString(AppMagic.Strings.InvalidFunctionUsage_CannotConvertToNumber,e)},Core.Diagnostics.MonitorLogLevel.Warning);var a=AppMagic.Strings.CannotConvertValueToNumberSinceNotString;return l.ErrorValue.createGatedError(l.ErrorKind.Unknown,l.ErrorSeverity.Severe,a,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:a,skipDisplayRuntimeError:!0,functionName:"Value"}))}if(""===e)return Core.Diagnostics.trace(Core.Diagnostics.CategoryNames.Function,"Value",{context:r,info:AppMagic.Strings.CannotConvertEmptyStringToNumber},Core.Diagnostics.MonitorLogLevel.Warning),null;var s=function(r,e,t){var n;if(Object(o.shouldUseHostFormatterSettings)()){var a=Object(o.tryGetHostFormatter)();I(n=null==a?void 0:a.getParsedNumberValue(r),"Value",r,e)}else n=function(r,e,t,n){if(f(t))return 0;if("string"!=typeof t)return Object(u.u)(r,e,"str",t);var o=n?Core.Globalization.tryGetCulture(n,!0):Core.Globalization.currentCulture();if(!o){var a=Core.Utility.formatString(AppMagic.Strings.BadLanguageCode,n);return l.ErrorValue.createGatedError(l.ErrorKind.BadLanguageCode,l.ErrorSeverity.Severe,a,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:a,functionName:"Value"}))}var i=E(o),c=t,s=!1;if(t=t.replace(i.digitGroupingSymValueRegex,"$1$3"),!(i.validNumFormatRegex.test(t)||(s=i.negativeNumFormatRegex.test(t)))){var d=Core.Utility.formatString(AppMagic.Strings.InvalidFunctionUsage_CannotConvertToNumber,c);return l.ErrorValue.createGatedError(l.ErrorKind.InvalidArgument,l.ErrorSeverity.Severe,d,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:d,skipDisplayRuntimeError:!0,functionName:"Value"}))}var g=t.indexOf("%")>=0,p=new RegExp(Core.Utility.formatString("({0}|%|\\(|\\)|\\s)",Core.Utility.escapeRegExpString(o.currencySymbol,"[{0}]")),"g");t=(t=t.replace(p,"")).replace(o.decimalSymbol,".");var m=parseFloat(t);if(!isFinite(m))return m;s&&(m=-m);return g?m/100:m}(e,"Value",r,t);return n}(e,r,t);if(g(s))return s;if(!isFinite(s)){a=Core.Utility.formatString(AppMagic.Strings.InvalidFunctionUsage_CannotConvertToNumber,e);return Core.Diagnostics.trace(Core.Diagnostics.CategoryNames.Function,"Value",{context:r,info:a},Core.Diagnostics.MonitorLogLevel.Warning),l.ErrorValue.createGatedError(l.ErrorKind.InvalidArgument,l.ErrorSeverity.Severe,a,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:a,skipDisplayRuntimeError:!0,functionName:"Value"}))}return s}function dr(r,e){if(""===e)return null;var t=e.toLowerCase();if("true"===t)return!0;if("false"===t)return!1;var n=Core.Utility.formatString(AppMagic.Strings.InvalidFunctionUsage_CannotConvertToBoolean,e);return l.ErrorValue.createGatedError(l.ErrorKind.InvalidArgument,l.ErrorSeverity.Severe,n,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:n,functionName:"Boolean"}))}function fr(r){return Object(i.p)(r)}function gr(r,e,t,n){if(f(n))return n;if(void 0===n&&(n=1),"number"!=typeof n)return Object(u.t)(r,"Find","start_index",n);if((n=Math.floor(n))<=0)return Object(u.y)(r,"Find",3,1);if(f(e))e="";else if("string"!=typeof e)return Object(u.u)(r,"Find","find_text",e);if(f(t))t="";else if("string"!=typeof t)return Object(u.u)(r,"Find","within_text",t);var o=n-1;if(o>t.length){var a=AppMagic.Strings.InvalidFunctionUsage_Find_InvalidStartingPosition;return l.ErrorValue.createGatedError(l.ErrorKind.InvalidArgument,l.ErrorSeverity.Warning,a,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:a,skipDisplayRuntimeError:!0,functionName:"Find"}))}var i=t.indexOf(e,o);return-1===i?null:i+1}function pr(r,e){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];if(f(r))return r;f(e)&&(e="");var o=l.DataSourceValue.tryGetAppDataSource(r);if(o&&o.isDelegable){var a=Core.Diagnostics.createErrorContext({protocol:"local",operation:"search",dataSource:o.name});Core.Diagnostics.trace(Core.Diagnostics.CategoryNames.Function,"Search",{context:a},Core.Diagnostics.MonitorLogLevel.Warning)}if(""===e)return r;if(!(r instanceof Array))return Object(u.v)(null,"Search","source",r);if("string"!=typeof e)return Object(u.u)(null,"Search","text",e);for(var i,c=t.length,s=t,g=[],p=r.length,m=e.toLocaleLowerCase(),E=function(r){if(d(r))return r;0===c&&(s=Object.keys(r));for(var e=0,t=s.length;e<t;e++){var n=r[s[e]];if(d(n))return n;if(Core.Utility.isString(n)&&-1!==n.toLocaleLowerCase().indexOf(m))return!0}return!1},v=0;v<p;v++)if(i=r[v],!Core.Utility.isNullOrUndefined(i)){var A=E(i);if(d(A))return A;A&&g.push(i)}return AppMagic.Utility.copyIdAndMetadata(r,g),g}function mr(r,e){return"number"!=typeof e?Object(u.t)(r,"Char","number",e):e<1||e>=256?Object(u.y)(r,"Char",1,1,255):String.fromCharCode(Math.floor(e))}var Er={};function vr(r,e,t,n){if(f(e))return!1;var o=null;try{o=Cr(t,n||"",!0)}catch(e){var a=Core.Utility.formatString(AppMagic.Strings.BadRegularExpression,e);return l.ErrorValue.createGatedError(l.ErrorKind.BadRegex,l.ErrorSeverity.Moderate,a,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:a,functionName:"IsMatch"}))}if(null===o){a=Core.Utility.formatString(AppMagic.Strings.BadRegularExpression,"Unknown error.");return l.ErrorValue.createGatedError(l.ErrorKind.BadRegex,l.ErrorSeverity.Moderate,a,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:a,functionName:"IsMatch"}))}return XRegExp.XRegExp.test(e,o)}function Ar(r,e,t,n){var o=hr(r,e,t,"MatchAll",n);if(d(o))return o;if(!Core.Utility.isString(e)||f(e))return[];var a=[];try{XRegExp.XRegExp.forEach(e,o,(function(r){a.push(yr(o,r))}))}catch(e){var i=Core.Utility.formatString(AppMagic.Strings.BadRegularExpression,e);return l.ErrorValue.createGatedError(l.ErrorKind.BadRegex,l.ErrorSeverity.Moderate,i,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:i,functionName:"MatchAll"}))}return a}function br(r,e,t,n){var o=hr(r,e,t,"Match",n);if(d(o))return o;if(!Core.Utility.isString(e)||f(e))return null;try{return yr(o,XRegExp.XRegExp.exec(e,o))}catch(e){var a=Core.Utility.formatString(AppMagic.Strings.BadRegularExpression,e);return l.ErrorValue.createGatedError(l.ErrorKind.BadRegex,l.ErrorSeverity.Moderate,a,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:a,functionName:"Match"}))}}function yr(r,e){var t,n=null;if(e){(t={})[a._fullMatchColumnName]=e[0],t[a._startMatchColumnName]=e.index+1,n=t;for(var o=[],i=1;i<e.length;i++)o.push(e[i]||null);var u=AppMagic.getLanguageRuntime();n[a._capturesColumnName]=u.makeColumn(o,u.generateId());var c=r;c.xregexp&&c.xregexp.captureNames&&c.xregexp.captureNames.forEach((function(r){r&&(n[r]=e[r]||null)}))}return n}function hr(r,e,t,n,o){var a=null;try{a=Cr(t,o||"",!1)}catch(e){var i=Core.Utility.formatString(AppMagic.Strings.BadRegularExpression,e);return l.ErrorValue.createGatedError(l.ErrorKind.BadRegex,l.ErrorSeverity.Moderate,i,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:i,functionName:n}))}if(null===a){i=Core.Utility.formatString(AppMagic.Strings.BadRegularExpression,"Unknown error.");return l.ErrorValue.createGatedError(l.ErrorKind.BadRegex,l.ErrorSeverity.Moderate,i,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:i,functionName:n}))}return a}function Cr(r,e,t){var n="";if(t&&-1===e.indexOf("c")&&(e="^"+e+"$"),-1!==e.indexOf("^")&&(r="^"+r),-1!==e.indexOf("$")){if("\\"===r[r.length-1])throw new Error(AppMagic.Strings.BadRegexTrailingBackslash);r+="$"}-1!==e.indexOf("i")&&(n+="i"),-1!==e.indexOf("m")&&(n+="m");var o="/"+r+"/"+n;if(o in Er)return Er[o];var a=XRegExp.XRegExp(r,n);return Object.keys(Er).length>=5e3&&(Er={}),Er[o]=a,a}function Sr(r,e){return!(!Core.Utility.isString(r)||!Core.Utility.isString(e))&&0===r.toLowerCase().indexOf(e.toLowerCase())}function Or(r,e){if(!Core.Utility.isString(r)||!Core.Utility.isString(e))return!1;var t=r.toLowerCase().lastIndexOf(e.toLowerCase());return-1!==t&&t===r.length-e.length}function Mr(r,e){if(!Core.Utility.isString(r))return[];e=e||"";var t=Core.Utility.isString(e)?r.split(e):[r],n=AppMagic.getLanguageRuntime();return n.makeColumn(t,n.generateId(),Object(c.isConsistentTabularFunctionReturnSchemaEnabled)()?a._valueColumnName:a._resultColumnName)}var Dr=/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/;function Rr(r,e){if(Core.Utility.isUndefined(e))return Core.Utility.generate128BitUUID();if(Core.Utility.isGuid(e)&&36===e.length)return e;var t=function(){var t=Core.Utility.formatString(AppMagic.Strings.InvalidFunctionUsage_GUID_InvalidGUIDStringFormat,e);return l.ErrorValue.createGatedError(l.ErrorKind.InvalidArgument,l.ErrorSeverity.Warning,t,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:t,skipDisplayRuntimeError:!0,functionName:"GUID"}))};if(e.length>36||e.indexOf("-")>0&&!Dr.test(e))return t();var n=e.replace(/-/g,"").toLocaleLowerCase();if(32!==n.length)return t();var o="".concat(n.substring(0,8),"-",n.substring(8,12),"-",n.substring(12,16),"-",n.substring(16,20),"-",n.substring(20,32));return Core.Utility.isGuid(o)&&36===o.length?o:t()}function Fr(r,e){return __awaiter(this,void 0,Promise,(function(){var t;return __generator(this,(function(n){switch(n.label){case 0:n.label=1;case 1:return n.trys.push([1,3,,4]),[4,navigator.clipboard.writeText(e)];case 2:return n.sent(),[2,!0];case 3:return n.sent(),t=AppMagic.Strings.CopyErrorText,[2,AppMagic.Data.ErrorValue.createGatedError(l.ErrorKind.InvalidArgument,l.ErrorSeverity.Severe,t,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:t,skipDisplayRuntimeError:!0,functionName:"Copy"}))];case 4:return[2]}}))}))}function Ir(r,e){if("number"!=typeof e)return Object(u.t)(r,"UniChar","number",e);var t=Math.floor(e),n=t>=55296&&t<=57343;if(t<1||t>1114111)return Object(u.y)(r,"UniChar",1,1,1114111);if(n){var o=AppMagic.Strings.InvalidFunctionUsage_UniCharInvalidNumber;return AppMagic.Data.ErrorValue.createGatedError(l.ErrorKind.NotApplicable,l.ErrorSeverity.Warning,o,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:o,skipDisplayRuntimeError:!0,functionName:"UniChar"}))}return String.fromCodePoint(t)}},function(r,e,t){"use strict";t.d(e,"e",(function(){return m})),t.d(e,"Q",(function(){return v})),t.d(e,"R",(function(){return A})),t.d(e,"S",(function(){return b})),t.d(e,"M",(function(){return y})),t.d(e,"P",(function(){return h})),t.d(e,"N",(function(){return C})),t.d(e,"O",(function(){return S})),t.d(e,"A",(function(){return D})),t.d(e,"U",(function(){return I})),t.d(e,"ab",(function(){return j})),t.d(e,"bb",(function(){return _})),t.d(e,"cb",(function(){return N})),t.d(e,"f",(function(){return V})),t.d(e,"i",(function(){return H})),t.d(e,"j",(function(){return G})),t.d(e,"g",(function(){return L})),t.d(e,"k",(function(){return K})),t.d(e,"l",(function(){return q})),t.d(e,"Y",(function(){return W})),t.d(e,"Z",(function(){return z})),t.d(e,"K",(function(){return J})),t.d(e,"W",(function(){return Q})),t.d(e,"n",(function(){return Y})),t.d(e,"d",(function(){return $})),t.d(e,"m",(function(){return Z})),t.d(e,"V",(function(){return X})),t.d(e,"L",(function(){return rr})),t.d(e,"X",(function(){return er})),t.d(e,"F",(function(){return nr})),t.d(e,"G",(function(){return or})),t.d(e,"D",(function(){return ar})),t.d(e,"E",(function(){return ir})),t.d(e,"H",(function(){return ur})),t.d(e,"T",(function(){return lr})),t.d(e,"I",(function(){return sr})),t.d(e,"o",(function(){return dr})),t.d(e,"db",(function(){return fr})),t.d(e,"B",(function(){return mr})),t.d(e,"a",(function(){return Er})),t.d(e,"p",(function(){return vr})),t.d(e,"C",(function(){return Ar})),t.d(e,"b",(function(){return br})),t.d(e,"q",(function(){return yr})),t.d(e,"r",(function(){return hr})),t.d(e,"u",(function(){return Cr})),t.d(e,"s",(function(){return Sr})),t.d(e,"t",(function(){return Or})),t.d(e,"v",(function(){return Mr})),t.d(e,"x",(function(){return Dr})),t.d(e,"w",(function(){return Rr})),t.d(e,"y",(function(){return Fr})),t.d(e,"z",(function(){return Ir})),t.d(e,"c",(function(){return Tr})),t.d(e,"eb",(function(){return jr})),t.d(e,"fb",(function(){return _r})),t.d(e,"h",(function(){return Nr})),t.d(e,"J",(function(){return xr}));var n=t(1),o=AppMagic.Data,a=AppMagic.ConnectionHub,i=AppMagic.AuthoringTool,u=AppMagic.Data.DataValue.isErrorValue,c=AppMagic.Data.DataValue.isBlankValue,l=AppMagic.Data.DataValue.isBlankOrErrorValue,s=AppMagic.Data.ErrorValue.isErrorHandlingFeatureEnabled,d="useenforcesavedatalimits",f="enablesaveloadcleardataonweb",g="errorhandling";function p(r){var e=AppMagic.Data.DataSourceValue.getDataSourceName(r);null!==e&&AppMagic.AuthoringTool.Runtime.onDataSourceChanged(e)}function m(r,e){var t=AppMagic.Data.DataSourceValue.getAppDataSource(e);return(null===t||t.canClear)&&AppMagic.Data.DataSourceValue.isDataSourceMutable(e)?(U("Clear",t,r,!1),E(e,!0).collection):wr(r,"Clear")}function E(r,e){return AppMagic.Utility.releaseBlobs(r),r.length=0,e&&p(r),{collection:r,notifyDataChanged:!e}}function v(r,e){for(var t=[],o=2;o<arguments.length;o++)t[o-2]=arguments[o];if(c(e))return e;var a=AppMagic.Functions.RemoveIf.getPredicates(t);if(null===a)return Object(n.p)(r,"RemoveIf","conditions");var i=AppMagic.Data.DataSourceValue.getAppDataSource(e);if(null!==i&&i.requiresAsync)return wr(r,"RemoveIf");if(!AppMagic.Data.DataSourceValue.isDataSourceMutable(e))return wr(r,"RemoveIf");var l=AppMagic.Functions.RemoveIf.getIndices(e,a);return u(l)?l:(AppMagic.Functions.RemoveIf.removeIndices(e,l)&&p(e),e)}function A(r,e){for(var t=[],o=2;o<arguments.length;o++)t[o-2]=arguments[o];if(c(e))return Promise.resolve(e);var a=AppMagic.Functions.RemoveIf.getPredicates(t);if(null===a)return Promise.resolve(Object(n.p)(r,"RemoveIf","conditions"));var i=AppMagic.Data.DataSourceValue.getAppDataSource(e);return null!==i?i.removeIfAsync(a,r):AppMagic.Data.DataSourceValue.isDataSourceMutable(e)?AppMagic.Functions.RemoveIf.getIndicesAsync(e,a).then((function(r){return u(r)?r:(AppMagic.Functions.RemoveIf.removeIndices(e,r)&&p(e),e)}),(function(e){return Object(n.n)(r,"RemoveIf",e)})):Promise.resolve(wr(r,"RemoveIf"))}function b(r,e){for(var t=[],o=2;o<arguments.length;o++)t[o-2]=arguments[o];if(c(e))return Promise.resolve(e);var a=AppMagic.Functions.RemoveIf.getConditions(t);if(null===a)return Promise.resolve(Object(n.p)(r,"RemoveIf","conditions"));var i=AppMagic.Data.DataSourceValue.getAppDataSource(e);return null!==i?i.removeIfDelegatedAsync(a,r):Promise.resolve(wr(r,"RemoveIf"))}function y(r,e){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];if(l(e))return AppMagic.Data.ErrorValue.normalizeErrors(__spreadArray([e],t,!0).filter(u));for(var o=[],a=0;a<t.length-1;a++){var i=t[a];o.push(i)}var c=t[t.length-1],s=AppMagic.Data.DataSourceValue.getAppDataSource(e);return null!==s&&s.requiresAsync?wr(r,"Remove"):AppMagic.Data.DataSourceValue.isDataSourceMutable(e)?O(r,e,o,c,!0):wr(r,"Remove")}function h(r,e){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];return __awaiter(this,void 0,Promise,(function(){var n,o,a,i,u;return __generator(this,(function(l){switch(l.label){case 0:if(c(e))return[2,e];for(n=[],o=0;o<t.length-1;o++)a=t[o],n.push(a);return i=t[t.length-1],null===(u=AppMagic.Data.DataSourceValue.getAppDataSource(e))?[2,wr(r,"Remove")]:AppMagic.Data.DataSourceValue.isDataSourceMutable(e)?[4,u.removeAsync(n,r,"all"===i.toLowerCase())]:[2,wr(r,"Remove")];case 1:return[2,l.sent()]}}))}))}function C(r,e,t,n){if(c(e))return e;var o=AppMagic.Data.DataSourceValue.getAppDataSource(e);return null!==o&&o.requiresAsync?wr(r,"Remove"):AppMagic.Data.DataSourceValue.isDataSourceMutable(e)?(e===t&&(t=t.slice()),O(r,e,t,n,!1)):wr(r,"Remove")}function S(r,e,t,n){if(c(e))return Promise.resolve(e);var o=AppMagic.Data.DataSourceValue.getAppDataSource(e);return null===o?Promise.resolve(wr(r,"Remove")):o.removeAsync(t,r,"all"===n.toLowerCase())}function O(r,e,t,n,a){if(c(t))return e;if(0===t.length)return e;if(0===e.length)return e;var i="all"===n.toLowerCase(),u=AppMagic.Functions.RemoveIf.removeDValueRows(e,t,i),l=u.removedRows,d=u.invalidErrorRows,f=u.invalidRecords;l.length>0&&p(e);var g=[];return f.length>0&&s()&&g.push(function(r,e){var t=AppMagic.Strings.ConnectedDataRowNotFound;return o.ErrorValue.createGatedError(o.ErrorKind.NotFound,o.ErrorSeverity.Severe,t,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:t,skipDisplayRuntimeError:!0,functionName:e}))}(r,"Remove")),d.length>0&&a&&g.push.apply(g,d),g.length>0?o.ErrorValue.normalizeErrors(g):e}function M(){return Core.Loader.ObjectFactory.instance.getSingleton(AppMagic.Controls.RequirementsManager.singletonKey).ensureRequirements([AppMagic.Constants.saxRequirement])}function D(r,e,t,a){return __awaiter(this,void 0,Promise,(function(){var i,u,c,l,s,f,g,p,m,E,v,A;return __generator(this,(function(b){switch(b.label){case 0:return i=AppMagic.AuthoringTool.Runtime,[4,M()];case 1:return b.sent(),null===e?[2,null]:null===t?[2,Object(n.x)(r,"LoadData",2)]:(Core.Utility.isUndefined(a)&&(a=!1),"string"!=typeof t?[2,Object(n.r)(r,"LoadData","fileOrFolderName","string",t)]:Core.Utility.isValidFileName(t)?[4,Pr()]:[2,Hr(r,"LoadData")]);case 2:return b.sent()?[4,F(r,e,t,a)]:[3,4];case 3:return[2,b.sent()];case 4:if(Core.Environment.isWebAuthoring()||Core.Environment.isWebPlayerApp())return u=AppMagic.Strings.LoadDataFileUnsupported,[2,o.ErrorValue.createGatedError(o.ErrorKind.NotSupported,o.ErrorSeverity.Moderate,u,i.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:u,functionName:"LoadData"}))];""!==(c=i.getDocumentId())&&(t=c+"."+t),b.label=5;case 5:return b.trys.push([5,18,,19]),[4,Core.IO.FileSystem.getUserDataFolderAsync()];case 6:return[4,(l=b.sent()).fileExistsAsync(t)];case 7:return s=b.sent(),f=!1,g=void 0,"0"===Core.IO.AppDataFolderLocator.playerVersion?[3,10]:[4,Core.IO.FileSystem.getUserDataFolderAsync(!0)];case 8:return p=b.sent(),g=t+"."+AppMagic.Runtime.App.Data.ImpexStringsVersions.SaveDataCurrentVersion,[4,p.folderExistsAsync(g)];case 9:f=b.sent(),b.label=10;case 10:return s||f?AppMagic.Utility.getAppPreviewFlag(d)&&f?[4,i.loadDataFolderAsync(g)]:[3,12]:[2,R(new AppMagic.Runtime.App.NonExistentFileFlagError,r,a)];case 11:return null===(v=b.sent())?[2,null]:[2,H(r,e,v)];case 12:return s?[4,l.getFileAsync(t)]:[3,16];case 13:return[4,b.sent().readArrayBufferAsync()];case 14:return m=b.sent(),[4,i.loadZipAsync(m)];case 15:return E=b.sent(),null===(v=E.data)?[2,null]:[2,H(r,e,v)];case 16:return[2,R(new AppMagic.Runtime.App.NonExistentFileFlagError,r,a)];case 17:return[3,19];case 18:return A=b.sent(),Core.Log.error("collectionReplacementFunctions.loadDataAsync",A),Core.PromiseUtils.throwIfCanceled(A),[2,R(A,r,a)];case 19:return[2]}}))}))}function R(r,e,t){var n=AppMagic.AuthoringTool.Runtime,a=AppMagic.Utility.getAppPreviewFlag(g);if(r instanceof AppMagic.Runtime.App.NonExistentFileFlagError){if(t)return null;var i=AppMagic.Strings.NonExistentFileErrorMsg;return o.ErrorValue.createGatedError(o.ErrorKind.FileNotFound,o.ErrorSeverity.Moderate,i,n.tryCreateGatedReportRuntimeError({errorContext:e,errorMessage:i,error:r,raiseToastNotification:!a,functionName:"LoadData"}))}var u=AppMagic.Strings.LoadDataFileFailed;return o.ErrorValue.createGatedError(o.ErrorKind.Unknown,o.ErrorSeverity.Severe,u,n.tryCreateGatedReportRuntimeError({errorContext:e,errorMessage:u,error:r,raiseToastNotification:!a,functionName:"LoadData"}))}function F(r,e,t,n){return __awaiter(this,void 0,Promise,(function(){var o,a;return __generator(this,(function(i){switch(i.label){case 0:i.label=1;case 1:return i.trys.push([1,3,,4]),[4,AppMagic.Runtime.App.Data.DataStateProcessor.loadDataStoreAsync(t)];case 2:return null===(o=i.sent())?[2,null]:[2,H(null,e,o)];case 3:return a=i.sent(),Core.Log.error("collectionReplacementFunctions.loadDataStateAsync",a),Core.PromiseUtils.throwIfCanceled(a),[2,R(a,r,n)];case 4:return[2]}}))}))}function I(r,e,t){return __awaiter(this,void 0,Promise,(function(){var a,i,u,c,l,s,f,g,p,m,E;return __generator(this,(function(v){switch(v.label){case 0:return a=AppMagic.AuthoringTool.Runtime,[4,M()];case 1:return v.sent(),null===e?[2,null]:null===t?[2,Object(n.x)(r,"SaveData",2)]:(i=AppMagic.Data.ErrorValue.getFirstError(e))?[2,i]:"string"!=typeof t?[2,Object(n.r)(r,"SaveData","filename","string",t)]:Core.Utility.isValidFileName(t)?[4,Pr()]:[2,Hr(r,"SaveData")];case 2:return v.sent()?[4,T(r,e,t)]:[3,4];case 3:return[2,v.sent()];case 4:if(Core.Environment.isWebAuthoring()||Core.Environment.isWebPlayerApp())return E=AppMagic.Strings.SaveDataFileUnsupported,[2,o.ErrorValue.createGatedError(o.ErrorKind.NotSupported,o.ErrorSeverity.Moderate,E,a.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:E,functionName:"SaveData"}))];""!==(u=a.getDocumentId())&&(t=u+"."+t),v.label=5;case 5:return v.trys.push([5,17,,18]),AppMagic.Utility.getAppPreviewFlag(d)&&"0"!==Core.IO.AppDataFolderLocator.playerVersion?(c=t+"."+AppMagic.Runtime.App.Data.ImpexStringsVersions.SaveDataCurrentVersion,[4,a.saveDataFolderAsync(e,c)]):[3,7];case 6:return v.sent(),[3,16];case 7:return[4,Core.IO.FileSystem.getUserDataFolderAsync()];case 8:return[4,(l=v.sent()).fileExistsAsync(t)];case 9:return v.sent()?[4,l.getFileAsync(t)]:[3,11];case 10:return f=v.sent(),[3,13];case 11:return[4,l.createFileAsync(t)];case 12:f=v.sent(),v.label=13;case 13:return s=f,[4,a.createZipAsync(e)];case 14:return g=v.sent(),[4,s.writeArrayBufferAsync(g.arrayBuffer)];case 15:v.sent(),v.label=16;case 16:return[2,e];case 17:return p=v.sent(),Core.PromiseUtils.throwIfCanceled(p),Core.Log.error("collectionFunctions.saveData",p),p instanceof AppMagic.Runtime.App.Data.InSufficientMemorySaveDataError?(m=AppMagic.Strings.SaveDataInsufficientMemory,[2,o.ErrorValue.createGatedError(o.ErrorKind.InsufficientMemory,o.ErrorSeverity.Severe,m,a.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:m,error:p,raiseToastNotification:!0,functionName:"SaveData"}))]):(E=AppMagic.Strings.SaveDataFileFailed,[2,o.ErrorValue.createGatedError(o.ErrorKind.Unknown,o.ErrorSeverity.Moderate,E,a.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:E,error:p,raiseToastNotification:!0,functionName:"SaveData"}))]);case 18:return[2]}}))}))}function T(r,e,t){return __awaiter(this,void 0,Promise,(function(){var n,a,i,u,c;return __generator(this,(function(l){switch(l.label){case 0:n=AppMagic.AuthoringTool.Runtime,a=AppMagic.Utility.getAppPreviewFlag(g),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,AppMagic.Runtime.App.Data.DataStateProcessor.saveDataStoreAsync(e,t)];case 2:return(i=l.sent())==Core.IO.SaveDataResult.QuotaExceeds?(c=AppMagic.Strings.SaveDataQuotaExceeds,[2,o.ErrorValue.createGatedError(o.ErrorKind.QuotaExceeded,o.ErrorSeverity.Severe,c,n.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:c,error:new AppMagic.Runtime.App.Data.QuotaExceedsSaveDataError,raiseToastNotification:!a,functionName:"SaveData"}))]):i===Core.IO.SaveDataResult.InSufficientStorage?(c=AppMagic.Strings.SaveDataInsufficientMemory,[2,o.ErrorValue.createGatedError(o.ErrorKind.InsufficientMemory,o.ErrorSeverity.Severe,c,n.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:c,error:new AppMagic.Runtime.App.Data.InSufficientMemorySaveDataError,raiseToastNotification:!a,functionName:"SaveData"}))]):i===Core.IO.SaveDataResult.UnsupportedStorage?(c=AppMagic.Strings.SaveDataUnsupportedStorage,[2,o.ErrorValue.createGatedError(o.ErrorKind.NotSupported,o.ErrorSeverity.Severe,c,n.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:c,error:new AppMagic.Runtime.App.Data.UnsupportedStorageSaveDataError,raiseToastNotification:!a,functionName:"SaveData"}))]):[2,e];case 3:return u=l.sent(),Core.PromiseUtils.throwIfCanceled(u),Core.Log.error("collectionFunctions.saveDataStateAsync",u),c=AppMagic.Strings.SaveDataFileFailed,[2,o.ErrorValue.createGatedError(o.ErrorKind.Unknown,o.ErrorSeverity.Moderate,c,n.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:c,error:u,raiseToastNotification:!a,functionName:"SaveData"}))];case 4:return[2]}}))}))}function j(r,e){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];if(c(e))return e;var o=AppMagic.Functions.UpdateIf.getFunctions(t);if(l(o))return o;var a=AppMagic.Data.DataSourceValue.getAppDataSource(e);if(null!==a&&a.requiresAsync)return wr(r,"UpdateIf");if(!AppMagic.Data.DataSourceValue.isDataSourceMutable(e))return wr(r,"UpdateIf");var i,s,d=e.length,f=!1;for(i=0;i<d;i++)if("object"==typeof(s=e[i])){for(var g=null,m=0;m<o.length;m++){var E=o[m].predicate,v=E(s);if(u(v))return v;if(v){g=o[m].itemFunction;break}}if(null!==g){var A=AppMagic.Utility.clone(s,!0,!0),b=g(A),y=AppMagic.Functions.mergeRecord(s,b,AppMagic.AuthoringTool.Runtime);AppMagic.Utility.addRefBlobs(y),AppMagic.Utility.releaseBlobs(A),f=!0}}return f&&p(e),e}function _(r,e){for(var t=[],o=2;o<arguments.length;o++)t[o-2]=arguments[o];if(c(e))return Promise.resolve(e);var a=AppMagic.Functions.UpdateIf.getAsyncFunctions(t);if(l(a))return Promise.resolve(a);var i=AppMagic.Data.DataSourceValue.getAppDataSource(e);if(null!==i)return i.updateIfAsync(a,r);if(!AppMagic.Data.DataSourceValue.isDataSourceMutable(e))return Promise.resolve(wr(r,"UpdateIf"));var d=e.map((function(r,t){return AppMagic.Functions.UpdateIf.updateRowIfAsync(e,t,a,AppMagic.AuthoringTool.Runtime)}));return Core.PromiseUtils.join(d).then((function(r){if(r.some(Core.Utility.identityFn)&&p(e),s()){var t=r.filter((function(r){return u(r)})),n=AppMagic.Data.ErrorValue.normalizeErrors(t);if(n)return n}return e}),(function(e){return Object(n.n)(r,"UpdateIf",e)}))}function N(r,e){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];if(c(e))return Promise.resolve(e);var o=AppMagic.Functions.UpdateIf.getDelegatedFunctions(t);if(l(o))return Promise.resolve(o);var a=AppMagic.Data.DataSourceValue.getAppDataSource(e);return null!==a?a.updateIfDelegatedAsync(e,o,r):Promise.resolve(wr(r,"UpdateIf"))}function x(r,e){var t=r[1];if(l(t))return t;for(var n,o=r[0],a=[],i=2,c=r.length-1;i<c;i++){var s=r[i];u(s)&&(n=n||s),a.push(s)}var d=r[r.length-1];e||(u(d)&&(n=n||d),a.push(d));var f={collection:t,items:a,errorContext:o};return n&&(f.firstError=n),e&&(f.fieldName=d),f}function P(r,e,t,n){if(Core.Diagnostics.isEnabled()){var o=w(t,e,r);Core.Diagnostics.trace(Core.Diagnostics.CategoryNames.Function,r,{context:o,info:Core.Utility.formatString(AppMagic.Strings.ErrorValueInRecord,r)},Core.Diagnostics.MonitorLogLevel.Error)}}function U(r,e,t,n,a){var i,u;if(Core.Diagnostics.isEnabled()){var c=!1,l=0,s=0,d=[];if("Clear"===r)s=null!==(u=null===(i=null==e?void 0:e.data)||void 0===i?void 0:i.length)&&void 0!==u?u:0;else for(var f=0,g=a.length;f<g;f++){var p=a[f],m=AppMagic.Data.DataSourceValue.tryGetAppDataSource(p);!n&&m&&m instanceof o.TabularDataSource&&(l=m.maxGetRowsCount(),p.length===l&&(c=!0,d.push(m.name))),s+=p instanceof Array?p.length:1}var E=w(t,e,r);c?Core.Diagnostics.trace(Core.Diagnostics.CategoryNames.Function,r,{context:E,info:Core.Utility.formatString(AppMagic.Strings.CollectMaxRowCountsExceeded,s),issue:Core.Utility.formatString(AppMagic.Strings.TruncatedDataSources,d.join(", "),l)},Core.Diagnostics.MonitorLogLevel.Warning):Core.Diagnostics.trace(Core.Diagnostics.CategoryNames.Function,r,{context:E,info:Core.Utility.formatString("Clear"===r?AppMagic.Strings.ClearRowCounts:AppMagic.Strings.CollectRowCounts,s)},Core.Diagnostics.MonitorLogLevel.Info)}}function w(r,e,t){return Core.Diagnostics.createErrorContext({protocol:e.protocol,operation:t,dataSource:e.monitorName},r)}function V(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=x(arguments,!1);if(l(t))return t;if(!s()&&u(t.firstError))return t.firstError;var n=t.collection,o=t.errorContext,a=AppMagic.Data.DataSourceValue.getAppDataSource(n);if(null!==a&&(!a.canClear||a.requiresAsync))return wr(o,"ClearCollect");if(!AppMagic.Data.DataSourceValue.isDataSourceMutable(n))return wr(o,"ClearCollect");U("ClearCollect",a,o,!1,t.items);var i=E(n,!1),c=k(i.collection,t.items);return!c.notifyDataChanged&&i.notifyDataChanged&&p(c.collection),c.collection}function k(r,e){var t=AppMagic.Functions.Collect.collectItems(r,e,AppMagic.AuthoringTool.Runtime);return t&&p(r),{collection:r,notifyDataChanged:t}}function H(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=x(arguments,!1);if(l(t))return t;if(!s()&&u(t.firstError))return t.firstError;var n=t.collection,o=t.errorContext,a=AppMagic.Data.DataSourceValue.getAppDataSource(n);if(null!==a&&a.requiresAsync)return wr(o,"Collect");if(!AppMagic.Data.DataSourceValue.isDataSourceMutable(n))return wr(o,"Collect");U("Collect",a,o,!1,t.items);var i=k(n,t.items);return i.collection}function G(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return __awaiter(this,void 0,Promise,(function(){var e,t,n,o,a;return __generator(this,(function(i){switch(i.label){case 0:return e=x(r,!1),l(e)?[2,e]:u(e.firstError)?[2,e.firstError]:(t=e.collection,n=e.errorContext,null===(o=AppMagic.Data.DataSourceValue.getAppDataSource(t))?[2,Promise.resolve(wr(n,"Collect"))]:AppMagic.Data.DataSourceValue.isDataSourceMutable(t)?[4,o.collectAsync(n,e.items)]:[2,wr(n,"Collect")]);case 1:return a=i.sent(),u(a)?P("Collect",o,n):U("Collect",o,n,!1,e.items),[2,a]}}))}))}function L(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=x(arguments,!0);if(l(t))return t;if(!s()&&u(t.firstError))return t.firstError;var n=t.collection,o=t.errorContext,a=AppMagic.Data.DataSourceValue.getAppDataSource(n);if(null!==a&&(!a.canClear||a.requiresAsync))return wr(o,"ClearCollect");if(!AppMagic.Data.DataSourceValue.isDataSourceMutable(n))return wr(o,"ClearCollect");var i=E(n,!1),c=B(i.collection,t.items,t.fieldName);return U("ClearCollect",a,o,!0,t.items),!c.notifyDataChanged&&i.notifyDataChanged&&p(c.collection),c.collection}function B(r,e,t){for(var n=!1,o=0,a=e.length;o<a;o++){var i=e[o],u={};u[t]=i,AppMagic.Utility.addRefBlobs(u),AppMagic.AuthoringTool.Runtime.assignRowID(u),r.push(u),n=!0}return n&&p(r),{collection:r,notifyDataChanged:!0}}function K(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=x(arguments,!0);if(l(t))return t;if(!s()&&u(t.firstError))return t.firstError;var n=t.collection,o=t.errorContext,a=AppMagic.Data.DataSourceValue.getAppDataSource(n);if(null!==a&&a.requiresAsync)return wr(o,"Collect");if(!AppMagic.Data.DataSourceValue.isDataSourceMutable(n))return wr(o,"Collect");U("Collect",a,o,!0,t.items);var i=B(t.collection,t.items,t.fieldName);return i.collection}function q(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return __awaiter(this,void 0,Promise,(function(){var e,t,n,o,a,i,c,s,d;return __generator(this,(function(f){switch(f.label){case 0:if(e=x(r,!0),l(e))return[2,e];if(u(e.firstError))return[2,e.firstError];if(t=e.collection,n=e.errorContext,null===(o=AppMagic.Data.DataSourceValue.getAppDataSource(t)))return[2,wr(n,"Collect")];if(!AppMagic.Data.DataSourceValue.isDataSourceMutable(t))return[2,wr(n,"Collect")];for(a=0,i=e.items.length;a<i;a++)c=e.items[a],(s=AppMagic.Data.DataRecord.create())[e.fieldName]=c,AppMagic.Utility.addRefBlobs(s),AppMagic.AuthoringTool.Runtime.assignRowID(s),e.items[a]=s;return[4,o.collectAsync(n,e.items)];case 1:return d=f.sent(),u(d)?P("Collect",o,n):U("Collect",o,n,!0,e.items),[2,d]}}))}))}function W(r,e,t,n,o){if(c(e))return e;var a="all"===(o||"").toLowerCase(),i=AppMagic.Data.DataSourceValue.getAppDataSource(e);if(null!==i&&i.requiresAsync)return wr(r,"Update");if(!AppMagic.Data.DataSourceValue.isDataSourceMutable(e))return wr(r,"Update");if(AppMagic.Functions.UpdateIf.updateDValueRows(e,t,n,a,AppMagic.AuthoringTool.Runtime))p(e);else if(u(t))return t;return e}function z(r,e,t,n,o){if(c(e))return Promise.resolve(e);if(c(t))return Promise.resolve(t);if(c(n))return Promise.resolve(n);var a="all"===(o||"").toLowerCase(),i=AppMagic.Data.DataSourceValue.getAppDataSource(e);return null===i?Promise.resolve(wr(r,"Update")):AppMagic.Data.DataSourceValue.isDataSourceMutable(e)?i.updateAsync(t,n,r,a):Promise.resolve(wr(r,"Update"))}function J(r,e){if(!AppMagic.Data.DataSourceValue.isDataSourceRefreshable(e)){var t=AppMagic.Strings.NonRefreshableDataSourceErrorMessage;return Promise.resolve(o.ErrorValue.createGatedError(o.ErrorKind.InvalidFunctionUsage,o.ErrorSeverity.Moderate,t,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:t,functionName:"Refresh"})))}return AppMagic.Data.DataSourceValue.getAppDataSource(e).refreshAsync(r)}function Q(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];for(var t=[],n=r.length,o=0;o<n;o++){var a=r[o];if(u(a))t.push(a);else{var i=null;null!==a&&(i=AppMagic.Utility.clone(a,!0,!0)),t.push(i)}}return t}function Y(r){var e=AppMagic.Data.DataSourceValue.getAppDataSource(r);return null===e?AppMagic.Data.DataRecord.create():e.getDefaultRecord()}function $(r,e,t,n,a,u){if(void 0===a&&(a=null),void 0===u&&(u=!1),u)return function(r,e,t){var n=i.Runtime.currentApp.dataSources.tryGetDataSource(t);if(null===n||n.kind!==o.DataSourceKind.CdsNativeDataSource)return Promise.resolve(Vr(r,"Choices"));return n.getViewChoicesAsync(r)}(r,0,t);var c=i.Runtime.currentApp.dataSources.tryGetDataSource(t);if(null===c||c.kind!==o.DataSourceKind.ConnectedDataSource&&c.kind!==o.DataSourceKind.CdsNativeDataSource)return Promise.resolve(Vr(r,"Choices"));var l=a||null,s=AppMagic.Data.Query.getCacheableQueryKey(t,l,n);return AppMagic.AuthoringTool.Runtime.currentApp.dataManager.cacheDataChangeManager.register(s,r.entityName+"."+r.propertyName,e),c.getChoicesAsync(r,n,l)}function Z(r,e,t){return __awaiter(this,void 0,Promise,(function(){var n;return __generator(this,(function(o){switch(o.label){case 0:return c(r)?[2,r]:null===(n=AppMagic.Data.DataSourceValue.getAppDataSource(r))?[2,AppMagic.Functions.DataSourceDefaultAttributeLookup.getDataSourceAttribute(e,t)]:Core.Utility.isDefined(t)?[2,AppMagic.Functions.DataSourceAttributeLookup.getDataSourceColumnAttributeAsync(n,e,t)]:[4,AppMagic.Functions.DataSourceAttributeLookup.getDataSourceAttributeAsync(n,e)];case 1:return[2,o.sent()]}}))}))}function X(r,e){var t=AppMagic.Data.DataSourceValue.getAppDataSource(r);return l(t)?t:t.rowState(e)}function rr(r,e,t,n){return tr(r,e,t,n,!0)}function er(r,e,t,n){return tr(r,e,t,n,!1)}function tr(r,e,t,n,a){return __awaiter(this,void 0,Promise,(function(){var u,c,l;return __generator(this,(function(s){switch(s.label){case 0:return o.DataEntityRecord.isDataEntityRecord(e)&&o.DataEntityRecord.isDataEntityRecord(t)&&!o.ErrorValue.isGatedError(e)?(c=o.DataEntityRecord.getDataSourceName(e),null===(l=i.Runtime.currentApp.dataSources.tryGetDataSource(c))?[2,Vr(r,a?"Relate":"Unrelate")]:[4,a]):(u=AppMagic.Strings.ConnectedDataNavigationNotDataEntityRecord,[2,o.ErrorValue.createGatedError(o.ErrorKind.InvalidFunctionUsage,o.ErrorSeverity.Moderate,u,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:u,functionName:a?"Relate":"Unrelate"}))]);case 1:return[2,s.sent()?l.relateAsync(r,e,t,n):l.unrelateAsync(r,e,t,n)]}}))}))}function nr(r,e,t){for(var o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];if(c(t))return Promise.resolve(t);var i=null;return c(e)||(i=AppMagic.Data.DataSourceValue.getAppDataSource(e)),null===i?Promise.resolve(Vr(r,"Patch")):i.patchAsync(t,Object(n.g)(o,!1,!1),r)}function or(r,e,t){var n=o.DataSourceValue.getAppDataSource(e);if(null===n||!n.supportsSingleRecordPatch)return Promise.resolve(Vr(r,"Patch"));var a=null!==n?n.tryGetTableMetadata():null,i=t;return null!==a&&(i=cr(t,a)),nr(r,e,i,t)}function ar(r,e,t,n){return __awaiter(this,void 0,Promise,(function(){var a,i,u,c,l,s,d;return __generator(this,(function(f){switch(f.label){case 0:if(null===(a=AppMagic.Data.DataSourceValue.getAppDataSource(e)))return[2,Vr(r,"Patch")];for(i=Array(),u=[],c=0;c<t.length;c++)i.push(a.patchAsync(t[c],n[c],r).then((function(r){return o.DataValue.isErrorValue(r)?(u.push(r),null):r})));return[4,Core.PromiseUtils.join(i)];case 1:if(l=f.sent(),u.length>0)return[2,o.ErrorValue.normalizeErrors(u)];for(s=o.DataTable.create(),d=0;d<l.length;d++)s.push(l[d]);return[2,s]}}))}))}function ir(r,e,t){var n=AppMagic.Data.DataSourceValue.getAppDataSource(e);if(null===n||!n.supportsSingleRecordPatch)return Promise.resolve(Vr(r,"Patch"));var a=null!==n?n.tryGetTableMetadata():null;if(null===a)return Promise.resolve(o.DataTable.create());for(var i=o.DataTable.create(),u=0;u<t.length;u++){var c=t[u];i.push(cr(c,a))}return ar(r,e,i,t)}function ur(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return Object(n.g)(r,!0,!0)}function cr(r,e){var t=o.DataRecord.create();for(var n in r)if(r.hasOwnProperty(n)){var a=e.tryGetColumn(n);null!==a&&a.isPrimaryKey&&(t[n]=r[n])}return t}function lr(r,e,t){var n=null;return c(e)||(n=AppMagic.Data.DataSourceValue.getAppDataSource(e)),null===n?Promise.resolve(Vr(r,"Revert")):n.revertAsync(r,t)}function sr(r,e,t){Core.Utility.isUndefined(e)&&(e=AppMagic.Data.State.All),Core.Utility.isUndefined(t)&&(t=AppMagic.Data.ErrorState.All);var n=AppMagic.Data.DataSourceValue.getAppDataSource(r);return null===n?AppMagic.Data.DataTable.create():n.pending(e,t)}function dr(r,e,t){if(null===e)return AppMagic.Data.DataSourceErrorTable.create();var n=AppMagic.Data.DataSourceValue.getAppDataSource(e);return null===n?Vr(r,"Errors"):n.errors(t)}function fr(r,e){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];return"column"===r?gr(e,t[0],t[1]):pr.apply(void 0,__spreadArray([e,t[0]],t.slice(1),!1))}function gr(r,e,t){if(c(r))return r;var n=AppMagic.Data.DataSourceValue.getAppDataSource(r);if(null===n)return"";var o=n.tryGetTableMetadata();if(null===o||!o.tryGetColumn(e))return"";var a=o.validateColumn(t,e);return u(a)?a:null===a?"":a[0].message}function pr(r,e){for(var t=[],o=2;o<arguments.length;o++)t[o-2]=arguments[o];if(c(r))return r;var a=AppMagic.Data.DataSourceValue.getAppDataSource(r);if(null===a)return"";var i=a.tryGetTableMetadata();if(null===i)return"";for(var l=[e],s=t.length,d=0;d<s;d++)l.push(t[d]);for(var f=Object(n.g)(l,!1,!1),g=Object.keys(f),p=0;p<g.length;p++){var m=g[p];if(i.tryGetColumn(m)){var E=i.validateColumn(f[m],m);if(u(E))return E;if(null!==E)return E[0].message}}return""}function mr(r,e,t,n){if(c(e))return e;for(var a=o.DataTable.create(),i=0;i<e.length;i++)a.push(t(e[i]));if(!n){var u=AppMagic.getLanguageRuntime();a=u.makeColumn(a,u.generateId())}return a}function Er(r,e,t,n){if(c(e))return e;for(var a=o.DataTable.create(),i=[],l=0;l<e.length;l++){var s=t(e[l]);u(s)?i.push(s):a.push(s)}if(i.length>0)return o.ErrorValue.normalizeErrors(i);if(!n){var d=AppMagic.getLanguageRuntime();a=d.makeColumn(a,d.generateId())}return a}function vr(r,e,t,n){return Er(0,e,t,n)}function Ar(r,e,t,o){return __awaiter(this,void 0,Promise,(function(){var a,i,u=this;return __generator(this,(function(l){switch(l.label){case 0:return c(e)?[2,e]:[4,Object(n.A)(e,(function(r){return __awaiter(u,void 0,void 0,(function(){return __generator(this,(function(e){switch(e.label){case 0:return[4,t(r)];case 1:return[2,e.sent()]}}))}))}),(function(e){return Object(n.n)(r,"Map",e)}))];case 1:return a=l.sent(),o||(i=AppMagic.getLanguageRuntime(),a=i.makeColumn(a,i.generateId())),[2,a]}}))}))}function br(r,e,t,a){if(c(e))return Promise.resolve(e);for(var i=new Core.PromiseUtils.PromiseQueue("forAllAsync"),l=Promise.resolve(),s=o.DataTable.create(),d=[],f=0;f<e.length;f++)l=i.pushJob(function(e){return t(e).then((function(r){u(r)?d.push(r):s.push(r)}),(function(e){var t=Object(n.n)(r,"ForAll",e);u(t)?d.push(t):s.push(t)}))}.bind(this,e[f]));var g=function(){if(d.length>0)return Promise.resolve(o.ErrorValue.normalizeErrors(d));if(!a){var r=AppMagic.getLanguageRuntime();return Promise.resolve(r.makeColumn(s,r.generateId()))}return Promise.resolve(s)}.bind(this);return l.then(g,(function(r){return Core.Utility.isCanceledError(r)&&i.cancelAll(),Core.PromiseUtils.throwIfCanceled(r),Promise.resolve([])}))}function yr(r,e,t,n){return br(r,e,t,n)}function hr(r,e,t,n){if(void 0===e)return Core.Telemetry.Log.trackActivityEvent("collectionReplacementFunctions.forAll_ParallelPrefetchingAsync",{error:"source is undefined",entityName:null==r?void 0:r.entityName,propertyName:null==r?void 0:r.propertyName}),Promise.resolve(null);if(c(e))return Promise.resolve(null);Core.Telemetry.Log.trackActivityEvent("collectionReplacementFunctions.forAll_ParallelPrefetchingAsync",{rowCount:e.length});var a=function(r){if(u(r))return Promise.resolve(r);if(!n){var e=AppMagic.getLanguageRuntime();return Promise.resolve(e.makeColumn(r,e.generateId()))}return Promise.resolve(r)}.bind(this);return function r(e,t,n,a){return __awaiter(this,void 0,Promise,(function(){var i,c,l,s,d,f,g,p;return __generator(this,(function(m){switch(m.label){case 0:if(i=10,c=[],!(t.length-a<=i))return[3,2];for(d=a;d<t.length;d++)c.push(n(t[d]));return[4,Core.PromiseUtils.join(c)];case 1:return l=m.sent(),(s=l.filter((function(r){return u(r)}))).length?[2,o.ErrorValue.normalizeErrors(s)]:[2,l];case 2:for(d=a;d<a+i;d++)c.push(n(t[d]));return[4,Core.PromiseUtils.join(c)];case 3:return f=m.sent(),(g=f.filter((function(r){return u(r)}))).length?[2,o.ErrorValue.normalizeErrors(g)]:[4,r(e,t,n,a+i)];case 4:return p=m.sent(),u(p)?[2,p]:[2,f.concat(p)]}}))}))}(r,e,(function(r){return new Promise((function(e,n){t(r).then((function(r){return e(r),r}),(function(r){return e(null),null}))}))}),0).then(a,(function(r){return Core.PromiseUtils.throwIfCanceled(r),Promise.resolve([])}))}function Cr(r,e){var t=o.OptionSet.tryGetOptionSetData(r,e);return null===t?o.ErrorValue.createGatedError(o.ErrorKind.NotFound,o.ErrorSeverity.Severe,"ID '".concat(e,"' doesn't exist in the option set.")):t}function Sr(r,e){var t=o.OptionSet.tryGetOptionSetData(r,e);return null===t?o.ErrorValue.createGatedError(o.ErrorKind.NotFound,o.ErrorSeverity.Severe,"ID '".concat(e,"' doesn't exist in the option set.")):t}function Or(r){return"string"==typeof r?r:r.Value}function Mr(r){return"number"==typeof r||"boolean"==typeof r?r:r.Id}function Dr(r,e){var t=o.View.tryGetViewData(r,e);return null===t?o.ErrorValue.createGatedError(o.ErrorKind.NotFound,o.ErrorSeverity.Severe,"ID '".concat(e,"' doesn't exist in the view.")):t}function Rr(r){return"string"==typeof r?r:r.Value}function Fr(r){return"string"==typeof r?r:r.Id}function Ir(r,e){return __awaiter(this,void 0,Promise,(function(){var t,n,i,u,c;return __generator(this,(function(l){switch(l.label){case 0:if(t=null,o.PolymorphicLookup.isPolymorphicLookup(r)){if(t=o.PolymorphicLookup.getPolymorphicTableName(r),null===(n=o.PolymorphicLookup.getPolymorphicValue(r)))return[2,null];if(void 0===n)return[2,o.ErrorValue.createGatedError(o.ErrorKind.InvalidFunctionUsage,o.ErrorSeverity.Moderate)]}return(i=o.DataSourceValue.getAppDataSource(e))instanceof o.CdpDataSource?(u=i).connector.connectionApiId!==a.Constants.ApiIds.CommonDataService?[2,!1]:[4,u.connector.getConnectorTypeNameAsync()]:[3,2];case 1:return c=l.sent().tableName,t===c||c===o.PolymorphicLookup.ActivitiesSetName&&o.PolymorphicLookup.isActivityPointer(r)?[2,!0]:[3,4];case 2:return i instanceof o.CdsDataSource?[4,(u=i).logicalName]:[3,4];case 3:if(c=l.sent(),t===c)return[2,!0];if(c===o.PolymorphicLookup.ActivitiesTableName&&o.PolymorphicLookup.isActivityPointer(r))return[2,!0];l.label=4;case 4:return[2,!1]}}))}))}function Tr(r,e,t){return __awaiter(this,void 0,Promise,(function(){var n,a,i,u,c,l;return __generator(this,(function(s){switch(s.label){case 0:return(n=o.DataSourceValue.getAppDataSource(t))instanceof o.TabularDataSource?[4,Ir(e,t)]:[3,8];case 1:return s.sent()?n instanceof o.CdsDataSource&&e.ExpandedRecord?[2,Promise.resolve(e.ExpandedRecord)]:[3,2]:[3,4];case 2:return[4,n.getPolymorphicLookupAsync(r,e)];case 3:return[2,s.sent()];case 4:return u=(i=Core.Utility).formatString,c=[AppMagic.Strings.InvalidCast,o.PolymorphicLookup.getPolymorphicTableName(e)],n instanceof o.CdsDataSource?(l=n.logicalName,[3,7]):[3,5];case 5:return[4,n.connector.getConnectorTypeNameAsync()];case 6:l=s.sent().tableName,s.label=7;case 7:return a=u.apply(i,c.concat([l])),[2,o.ErrorValue.createGatedError(o.ErrorKind.InvalidFunctionUsage,o.ErrorSeverity.Moderate,a,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:a,raiseToastNotification:!0,functionName:"AsType"}))];case 8:return[2,Vr(r,"AsType",!0)]}}))}))}function jr(r,e){return c(e)?Object(n.p)(null,"With","func"):e(r)}function _r(r,e){if(c(e))return Promise.resolve(Object(n.p)(null,"With","func"));return e(r).then((function(r){return Promise.resolve(r)}),(function(r){Core.PromiseUtils.throwIfCanceled(r);var e=AppMagic.Strings.ShowErrorDefault;return o.ErrorValue.createGatedError(o.ErrorKind.Unknown,o.ErrorSeverity.Moderate,e,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:null,errorMessage:e,raiseToastNotification:!0,functionName:"With"}))}))}function Nr(r,e){return __awaiter(this,void 0,Promise,(function(){var t,a,i,u,c;return __generator(this,(function(l){switch(l.label){case 0:return t=AppMagic.AuthoringTool.Runtime,[4,M()];case 1:if(l.sent(),e){if("string"!=typeof e)return[2,Object(n.r)(r,"ClearData","folderNameOrKey","string",e)];if(!Core.Utility.isValidFileName(e))return[2,Hr(r,"ClearData")]}l.label=2;case 2:return l.trys.push([2,8,,9]),[4,Pr()];case 3:return l.sent()?[4,AppMagic.Runtime.App.Data.DataStateProcessor.clearDataStoreAsync(e)]:[3,5];case 4:return[2,l.sent()];case 5:return Core.Environment.isWebAuthoring()||Core.Environment.isWebPlayerApp()?(c=AppMagic.Strings.ClearDataFileUnsupported,[2,o.ErrorValue.createGatedError(o.ErrorKind.NotSupported,o.ErrorSeverity.Moderate,c,t.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:c,functionName:"ClearData"}))]):(e&&""!==(a=t.getDocumentId())&&(e=a+"."+e),AppMagic.Utility.getAppPreviewFlag(d)&&"0"!==Core.IO.AppDataFolderLocator.playerVersion?(i=void 0,e&&(i=e+"."+AppMagic.Runtime.App.Data.ImpexStringsVersions.SaveDataCurrentVersion),[4,t.clearDataFolderAsync(i)]):[3,7]);case 6:l.sent(),l.label=7;case 7:return[3,9];case 8:return u=l.sent(),Core.PromiseUtils.throwIfCanceled(u),Core.Log.error("collectionFunctions.clearDataAsync",u),c=AppMagic.Strings.ClearDataFileFailed,[2,o.ErrorValue.createGatedError(o.ErrorKind.Unknown,o.ErrorSeverity.Moderate,c,t.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:c,error:u,raiseToastNotification:!0,functionName:"ClearData"}))];case 9:return[2]}}))}))}function xr(r,e,t){return __awaiter(this,void 0,Promise,(function(){var n,a,u,c,l;return __generator(this,(function(s){return n=o.DataEntityRecord.getDataSourceName(e),(a=i.Runtime.currentApp.dataSources.tryGetDataSource(n))&&a.kind===o.DataSourceKind.CdsNativeDataSource?(c=(u=a).tryGetTableMetadata(),(l=null==c?void 0:c.tryGetPrimaryKey(e))&&l.startsWith('"')&&l.endsWith('"')&&(l=l.slice(1,-1)),[2,u.getUserPrivilegeForRecordAsync(l,t)]):[2,kr(r,"RecordInfo")]}))}))}function Pr(){return __awaiter(this,void 0,Promise,(function(){var r;return __generator(this,(function(e){switch(e.label){case 0:return(r=Core.Environment.isWebPlayerApp()&&AppMagic.Utility.getAppPreviewFlag(f))?[3,2]:[4,Ur()];case 1:r=e.sent(),e.label=2;case 2:return[2,r]}}))}))}function Ur(){return __awaiter(this,void 0,Promise,(function(){var r;return __generator(this,(function(e){switch(e.label){case 0:return Core.Environment.isWebPlayerApp()?[4,Core.Loader.ObjectFactory.instance.getSingleton(AppMagic.Runtime.App.ITeamsHostClientTypePluginSingletonKey).getTeamsHostClientTypeAsync()]:[3,2];case 1:if((r=e.sent())===Core.Environment.TeamsHostClientType.Desktop||r===Core.Environment.TeamsHostClientType.Android||r===Core.Environment.TeamsHostClientType.iOS)return[2,!0];e.label=2;case 2:return[2,!1]}}))}))}function wr(r,e){var t=AppMagic.Strings.FunctionCannotUseThisDataSource;return o.ErrorValue.createGatedError(o.ErrorKind.InvalidFunctionUsage,o.ErrorSeverity.Moderate,t,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:t,functionName:e}))}function Vr(r,e,t){var n=AppMagic.Strings.InvalidDataSourceForFunction;return o.ErrorValue.createGatedError(o.ErrorKind.InvalidFunctionUsage,o.ErrorSeverity.Moderate,n,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:n,raiseToastNotification:t,functionName:e}))}function kr(r,e,t){var n=AppMagic.Strings.InvalidRecordForFunction;return o.ErrorValue.createGatedError(o.ErrorKind.InvalidFunctionUsage,o.ErrorSeverity.Moderate,n,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:n,raiseToastNotification:t,functionName:e}))}function Hr(r,e){var t=Core.Utility.formatString(AppMagic.Strings.InvalidLoadSaveDataFilenameErrorMsg,Core.Utility.invalidFileNameChars);return o.ErrorValue.createGatedError(o.ErrorKind.InvalidFunctionUsage,o.ErrorSeverity.Moderate,t,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:t,functionName:e}))}},function(r,e,t){"use strict";t.d(e,"D",(function(){return m})),t.d(e,"E",(function(){return E})),t.d(e,"G",(function(){return v})),t.d(e,"H",(function(){return A})),t.d(e,"F",(function(){return b})),t.d(e,"a",(function(){return h})),t.d(e,"o",(function(){return C})),t.d(e,"x",(function(){return S})),t.d(e,"g",(function(){return O})),t.d(e,"h",(function(){return I})),t.d(e,"u",(function(){return T})),t.d(e,"w",(function(){return j})),t.d(e,"t",(function(){return _})),t.d(e,"v",(function(){return N})),t.d(e,"y",(function(){return x})),t.d(e,"n",(function(){return P})),t.d(e,"m",(function(){return U})),t.d(e,"j",(function(){return w})),t.d(e,"i",(function(){return V})),t.d(e,"r",(function(){return k})),t.d(e,"s",(function(){return H})),t.d(e,"C",(function(){return G})),t.d(e,"d",(function(){return L})),t.d(e,"e",(function(){return B})),t.d(e,"k",(function(){return K})),t.d(e,"l",(function(){return q})),t.d(e,"A",(function(){return W})),t.d(e,"B",(function(){return z})),t.d(e,"c",(function(){return J})),t.d(e,"b",(function(){return Q})),t.d(e,"z",(function(){return Y})),t.d(e,"p",(function(){return $})),t.d(e,"q",(function(){return Z})),t.d(e,"f",(function(){return X}));var n,o,a=t(4),i=t(1),u=t(8),c=t(2),l=AppMagic.Data,s=AppMagic.Data.ErrorValue.isErrorHandlingFeatureEnabled,d=AppMagic.Data.DataValue.isErrorValue,f=AppMagic.Data.DataValue.isBlankValue,g=AppMagic.Data.DataValue.isBlankOrErrorValue,p=new Date(1899,11,30).getTime();function m(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];for(var n=Object(c.isPowerFxV1CompatEnabled)(),o=0;o<e.length;++o){var a=e[o]();if(n&&f(a)&&(a=!1),g(a))return a;if(!a)return!1}return!0}function E(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];var n=Object(c.isPowerFxV1CompatEnabled)();return Core.PromiseUtils.reduceAsync(e,(function(e,t){return Core.PromiseUtils.throwIfAborted(null==r?void 0:r.abortSignal),!1===e||g(e)?e:t().then((function(e){return Core.PromiseUtils.throwIfAborted(null==r?void 0:r.abortSignal),(!n||!f(e))&&e}))}),!0).catch((function(e){return Object(i.n)(r,"And",e)}))}function v(r){for(var e,t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var o=Object(c.isPowerFxV1CompatEnabled)(),a=0;a<t.length;++a){if(e=t[a](),o&&f(e)&&(e=!1),d(e))return e;if(e&&!f(e))return!0}return!!f(e)&&e}function A(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];var n=Object(c.isPowerFxV1CompatEnabled)();return Core.PromiseUtils.reduceAsync(e,(function(e,t){return Core.PromiseUtils.throwIfAborted(null==r?void 0:r.abortSignal),!0===e||d(e)?e:t().then((function(e){return Core.PromiseUtils.throwIfAborted(null==r?void 0:r.abortSignal),(!n||!f(e))&&e}))}),!1).catch((function(e){return Object(i.n)(r,"Or",e)}))}function b(r){return!!f(r)||!r}function y(r,e,t){return f(r)&&(r=null),f(e)&&(e=null),t===n.ADD?r+e:r*e}function h(r,e,t){return y(e,t,n.ADD)}function C(r,e,t){return y(e,t,n.MUL)}function S(r){return y(.01,r,n.MUL)}function O(r,e,t){return 0===t||f(t)?Object(i.m)(r,"/"):e/t}function M(r,e,t){switch(f(r)&&(r=null),f(e)&&(e=null),t){case o.EQ:return"object"==typeof r&&"object"==typeof e?AppMagic.Utility.deepCompare(r,e):r===e;case o.OEQ:return"object"==typeof r&&"object"==typeof e&&R(r,e);case o.PEQ:return"object"==typeof r&&"object"==typeof e&&F(r,e);case o.NEQ:return"object"==typeof r&&"object"==typeof e?!AppMagic.Utility.deepCompare(r,e):r!==e;case o.ONEQ:return"object"!=typeof r||"object"!=typeof e||!R(r,e);case o.PNEQ:return"object"!=typeof r||"object"!=typeof e||!F(r,e);case o.LT:return("object"!=typeof r||"object"!=typeof e)&&r<e;case o.LEQ:return"object"==typeof r&&"object"==typeof e?AppMagic.Utility.deepCompare(r,e):r<=e;case o.GT:return("object"!=typeof r||"object"!=typeof e)&&r>e;case o.GEQ:return"object"==typeof r&&"object"==typeof e?AppMagic.Utility.deepCompare(r,e):r>=e;case o.CEQ:return D(r,e);case o.CNEQ:return!D(r,e);default:return Object(i.o)(null,"_compareCore","comparison="+t,t)}}function D(r,e){var t,n;if("object"==typeof r&&"object"==typeof e){if(null===r||null===e)return!1;return(null!==r&&r.uniqueId?r.uniqueId:(null===(t=null==r?void 0:r.OpenAjax)||void 0===t?void 0:t.uniqueId)||null)===(null!==e&&e.uniqueId?e.uniqueId:(null===(n=null==e?void 0:e.OpenAjax)||void 0===n?void 0:n.uniqueId)||null)}return r===e}function R(r,e){return Core.FallbackSwitch.isActivated("AppConnectivity.DisableOptionSetIdMatching")?AppMagic.Utility.deepCompare(r,e):(null==r?void 0:r.Id)===(null==e?void 0:e.Id)}function F(r,e){var t=null;l.DataEntityRecord.isDataEntityRecord(r)?t=l.DataEntityRecord.getCanonicalId(r):l.PolymorphicLookup.isPolymorphicLookup(r)&&(t=l.PolymorphicLookup.getPolymorphicValue(r));var n=null;return l.DataEntityRecord.isDataEntityRecord(e)?n=l.DataEntityRecord.getCanonicalId(e):l.PolymorphicLookup.isPolymorphicLookup(e)&&(n=l.PolymorphicLookup.getPolymorphicValue(e)),t===n}function I(r,e){return M(r,e,o.EQ)}function T(r,e){return M(r,e,o.OEQ)}function j(r,e){return M(r,e,o.PEQ)}function _(r,e){return M(r,e,o.NEQ)}function N(r,e){return M(r,e,o.ONEQ)}function x(r,e){return M(r,e,o.PNEQ)}function P(r,e){return M(r,e,o.LT)}function U(r,e){return M(r,e,o.LEQ)}function w(r,e){return M(r,e,o.GT)}function V(r,e){return M(r,e,o.GEQ)}function k(r){return f(r)?0:-1*r}function H(r){if(!Object(c.isPowerFxV1CompatEnabled)())return k(r);var e=f(r)?0:X(null,r);return d(e)?e:Z(null,-e)}function G(r){var e;if("object"==typeof r){if(null===r)return null;var t=r;return(null==t?void 0:t.uniqueId)?t.uniqueId:(null===(e=null==r?void 0:r.OpenAjax)||void 0===e?void 0:e.uniqueId)||null}return null}function L(r,e){return M(r,e,o.CEQ)}function B(r,e){return M(r,e,o.CNEQ)}function K(r,e,t){return s()&&d(r)?r:r?e():null==t?void 0:t()}function q(r,e,t){return s()&&d(r)?Promise.resolve(r):r?e():null==t?void 0:t()}function W(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(d(r))return r;for(;e.length>0;){var n=e.splice(0,2),o=n[0],a=n[1];if(Core.Utility.isUndefined(a))return o();var i=o();if(d(i))return i;if(r===i)return a()}return null}function z(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return __awaiter(this,void 0,Promise,(function(){var t,n,o,a;return __generator(this,(function(i){switch(i.label){case 0:if(d(r))return[2,r];i.label=1;case 1:return e.length>0?(t=e.splice(0,2),n=t[0],o=t[1],Core.Utility.isUndefined(o)?[4,n()]:[3,3]):[3,7];case 2:return[2,i.sent()];case 3:return[4,n()];case 4:return a=i.sent(),d(a)?[2,a]:r!==a?[3,6]:[4,o()];case 5:return[2,i.sent()];case 6:return[3,1];case 7:return[2,null]}}))}))}function J(r){return Object(c.isPowerFxV1CompatEnabled)()?null===r?null:r?"true":"false":!0===r?"true":"false"}function Q(r){return null===r&&Object(c.isPowerFxV1CompatEnabled)()?null:!0===r?1:0}function Y(r,e){return Object(c.isPowerFxV1CompatEnabled)()?null===e?null:Object(u.k)(r,e):"true"===e}function $(r){return null===r&&Object(c.isPowerFxV1CompatEnabled)()?null:0!==r}function Z(r,e){if(Object(c.isPowerFxV1CompatEnabled)()){var t=Math.floor(e),n=new Date(1899,11,30+t,0,0,0,(e-t)*a.g),o=n.getFullYear();return o<1||o>9999?rr(r,e):n.getTime()}return e}function X(r,e){if(Object(c.isPowerFxV1CompatEnabled)()){var t=new Date(e);if(!isFinite(t.getTime()))return rr(r,e);var n=Object(a.t)(r,p,e);return d(n)?n:n+function(r){return r.getHours()/24+r.getMinutes()/1440+r.getSeconds()/86400+r.getMilliseconds()/864e5}(t)}return e}function rr(r,e){var t=Core.Utility.formatString(AppMagic.Strings.InvalidFunctionUsage_InvalidDateTime,e);return l.ErrorValue.createGatedError(l.ErrorKind.InvalidArgument,l.ErrorSeverity.Severe,t,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:t,skipDisplayRuntimeError:!0,functionName:null}))}!function(r){r[r.ADD=0]="ADD",r[r.MUL=1]="MUL"}(n||(n={})),function(r){r[r.EQ=0]="EQ",r[r.PEQ=1]="PEQ",r[r.NEQ=2]="NEQ",r[r.PNEQ=3]="PNEQ",r[r.LT=4]="LT",r[r.LEQ=5]="LEQ",r[r.GT=6]="GT",r[r.GEQ=7]="GEQ",r[r.CEQ=8]="CEQ",r[r.CNEQ=9]="CNEQ",r[r.OEQ=10]="OEQ",r[r.ONEQ=11]="ONEQ"}(o||(o={}))},function(r,e,t){"use strict";t.r(e),t.d(e,"and",(function(){return i})),t.d(e,"andAsync",(function(){return u})),t.d(e,"or",(function(){return c})),t.d(e,"orAsync",(function(){return l})),t.d(e,"not",(function(){return s})),t.d(e,"_add",(function(){return d})),t.d(e,"_mul",(function(){return f})),t.d(e,"_percent",(function(){return g})),t.d(e,"_div",(function(){return p})),t.d(e,"_eq",(function(){return m})),t.d(e,"_eqDT",(function(){return E})),t.d(e,"_oeq",(function(){return v})),t.d(e,"_peq",(function(){return A})),t.d(e,"_neq",(function(){return b})),t.d(e,"_neqDT",(function(){return y})),t.d(e,"_oneq",(function(){return h})),t.d(e,"_pneq",(function(){return C})),t.d(e,"_lt",(function(){return S})),t.d(e,"_ltDT",(function(){return O})),t.d(e,"_leq",(function(){return M})),t.d(e,"_leqDT",(function(){return D})),t.d(e,"_gt",(function(){return R})),t.d(e,"_gtDT",(function(){return F})),t.d(e,"_geq",(function(){return I})),t.d(e,"_geqDT",(function(){return T})),t.d(e,"_uid",(function(){return j})),t.d(e,"_ceq",(function(){return _})),t.d(e,"_cneq",(function(){return N})),t.d(e,"_negate",(function(){return x})),t.d(e,"_negateDT",(function(){return P})),t.d(e,"_if",(function(){return U})),t.d(e,"_ifAsync",(function(){return w})),t.d(e,"_switch",(function(){return V})),t.d(e,"_switchAsync",(function(){return k})),t.d(e,"_bToS",(function(){return H})),t.d(e,"_bToN",(function(){return G})),t.d(e,"_sToB",(function(){return L})),t.d(e,"_nToB",(function(){return B})),t.d(e,"_nToD",(function(){return K})),t.d(e,"_dToN",(function(){return q}));var n=t(0),o=t(10),a=t(4),i=o.D,u=o.E,c=o.G,l=o.H,s=Object(n.standardErrorHandling)(o.F,n.returnIfErrorArgument,"Not"),d=Object(n.standardErrorHandlingEC)(o.a,n.returnIfErrorArgument,"+"),f=Object(n.standardErrorHandlingEC)(o.o,n.returnIfErrorArgument,"*"),g=Object(n.standardErrorHandling)(o.x,n.returnIfErrorArgument,"%"),p=Object(n.standardErrorHandlingEC)(o.g,n.returnIfErrorArgument,"/"),m=Object(n.standardErrorHandling)(o.h,n.returnIfErrorArgument,"="),E=Object(n.standardErrorHandling)(o.h,n.returnIfErrorArgument,"=",{nullValueReplacements:[a.x,a.x]}),v=Object(n.standardErrorHandling)(o.u,n.returnIfErrorArgument,"="),A=Object(n.standardErrorHandling)(o.w,n.returnIfErrorArgument,"="),b=Object(n.standardErrorHandling)(o.t,n.returnIfErrorArgument,"<>"),y=Object(n.standardErrorHandling)(o.t,n.returnIfErrorArgument,"=",{nullValueReplacements:[a.x,a.x]}),h=Object(n.standardErrorHandling)(o.v,n.returnIfErrorArgument,"<>"),C=Object(n.standardErrorHandling)(o.y,n.returnIfErrorArgument,"<>"),S=Object(n.standardErrorHandling)(o.n,n.returnIfErrorArgument,"<"),O=Object(n.standardErrorHandling)(o.n,n.returnIfErrorArgument,"=",{nullValueReplacements:[a.x,a.x]}),M=Object(n.standardErrorHandling)(o.m,n.returnIfErrorArgument,"<="),D=Object(n.standardErrorHandling)(o.m,n.returnIfErrorArgument,"=",{nullValueReplacements:[a.x,a.x]}),R=Object(n.standardErrorHandling)(o.j,n.returnIfErrorArgument,">"),F=Object(n.standardErrorHandling)(o.j,n.returnIfErrorArgument,"=",{nullValueReplacements:[a.x,a.x]}),I=Object(n.standardErrorHandling)(o.i,n.returnIfErrorArgument,">="),T=Object(n.standardErrorHandling)(o.i,n.returnIfErrorArgument,"=",{nullValueReplacements:[a.x,a.x]}),j=Object(n.standardErrorHandling)(o.C,n.returnIfErrorArgument,""),_=Object(n.standardErrorHandling)(o.d,n.returnIfErrorArgument,"="),N=Object(n.standardErrorHandling)(o.e,n.returnIfErrorArgument,"<>"),x=Object(n.standardErrorHandling)(o.r,n.returnIfErrorArgument,"-"),P=Object(n.standardErrorHandling)(o.s,n.returnIfErrorArgument,"-"),U=o.k,w=o.l,V=o.A,k=o.B,H=Object(n.standardErrorHandling)(o.c,n.returnIfErrorArgument,""),G=Object(n.standardErrorHandling)(o.b,n.returnIfErrorArgument,""),L=Object(n.standardErrorHandlingEC)(o.z,n.returnIfErrorArgument,""),B=Object(n.standardErrorHandling)(o.p,n.returnIfErrorArgument,""),K=Object(n.standardErrorHandlingEC)(o.q,n.returnIfErrorOrNullArgument,""),q=Object(n.standardErrorHandlingEC)(o.f,n.returnIfErrorOrNullArgument,"")},function(r,e,t){"use strict";t.r(e),t.d(e,"date",(function(){return a})),t.d(e,"time",(function(){return i})),t.d(e,"dateTime",(function(){return u})),t.d(e,"year",(function(){return c})),t.d(e,"month",(function(){return l})),t.d(e,"day",(function(){return s})),t.d(e,"hour",(function(){return d})),t.d(e,"minute",(function(){return f})),t.d(e,"second",(function(){return g})),t.d(e,"weekday",(function(){return p})),t.d(e,"weekNum",(function(){return m})),t.d(e,"iSOWeekNum",(function(){return E})),t.d(e,"calendar__MonthsLong",(function(){return v})),t.d(e,"calendar__MonthsShort",(function(){return A})),t.d(e,"calendar__WeekdaysLong",(function(){return b})),t.d(e,"calendar__WeekdaysShort",(function(){return y})),t.d(e,"clock__AmPm",(function(){return h})),t.d(e,"clock__AmPmShort",(function(){return C})),t.d(e,"clock__IsClock24",(function(){return S})),t.d(e,"now",(function(){return O})),t.d(e,"timeZoneOffset",(function(){return M})),t.d(e,"today",(function(){return D})),t.d(e,"_datePlusDay",(function(){return R})),t.d(e,"_dateDifference",(function(){return F})),t.d(e,"_timeDifference",(function(){return I})),t.d(e,"_timePlusNumber",(function(){return T})),t.d(e,"_datePlusTime",(function(){return j})),t.d(e,"_dateMinusTime",(function(){return _})),t.d(e,"_timePlusTime",(function(){return N})),t.d(e,"dateAdd",(function(){return x})),t.d(e,"dateDiff",(function(){return P})),t.d(e,"dateValue",(function(){return U})),t.d(e,"timeValue",(function(){return w})),t.d(e,"dateTimeValue",(function(){return V})),t.d(e,"eDate",(function(){return k})),t.d(e,"eOMonth",(function(){return H}));var n=t(4),o=t(0),a=Object(o.standardErrorHandlingEC)(n.r,o.returnIfErrorOrNullArgument,"Date",{nullValueReplacements:[0,0,0]}),i=Object(o.standardErrorHandlingEC)(n.H,o.returnIfErrorArgument,"Time"),u=Object(o.standardErrorHandlingEC)(n.u,o.returnIfErrorArgument,"DateTime"),c=Object(o.standardErrorHandlingEC)(n.N,o.returnIfErrorArgument,"Year"),l=Object(o.standardErrorHandlingEC)(n.E,o.returnIfErrorArgument,"Month"),s=Object(o.standardErrorHandlingEC)(n.y,o.returnIfErrorArgument,"Day"),d=Object(o.standardErrorHandlingEC)(n.B,o.returnIfErrorArgument,"Hour"),f=Object(o.standardErrorHandlingEC)(n.D,o.returnIfErrorArgument,"Minute"),g=Object(o.standardErrorHandlingEC)(n.G,o.returnIfErrorArgument,"Second"),p=Object(o.standardErrorHandlingEC)(n.M,o.returnIfErrorArgument,"Weekday",{nullValueReplacements:[n.x,0]}),m=Object(o.standardErrorHandlingEC)(n.L,o.returnIfErrorArgument,"WeekNum"),E=Object(o.standardErrorHandling)(n.C,o.returnIfErrorArgument,"ISOWeekNum"),v=n.k,A=n.l,b=n.m,y=n.n,h=n.o,C=n.p,S=n.q,O=n.F,M=Object(o.standardErrorHandlingEC)(n.J,o.returnIfErrorArgument,"TimeZoneOffset"),D=n.K,R=Object(o.standardErrorHandling)(n.d,o.returnIfErrorArgument,"+"),F=Object(o.standardErrorHandling)(n.b,o.returnIfErrorArgument,"-",{nullValueReplacements:[n.x,n.x]}),I=Object(o.standardErrorHandling)(n.h,o.returnIfErrorArgument,"-",{nullValueReplacements:[n.x,n.x]}),T=Object(o.standardErrorHandling)(n.i,o.returnIfErrorOrNullArgument,"+",{nullValueReplacements:[n.x,0]}),j=Object(o.standardErrorHandling)(n.e,o.returnIfErrorOrNullArgument,"+",{nullValueReplacements:[n.x,n.x]}),_=Object(o.standardErrorHandling)(n.c,o.returnIfErrorOrNullArgument,"-",{nullValueReplacements:[n.x,n.x]}),N=Object(o.standardErrorHandling)(n.j,o.returnIfErrorOrNullArgument,"+",{nullValueReplacements:[n.x,n.x]}),x=Object(o.standardErrorHandlingEC)(n.s,o.returnIfErrorArgument,"DateAdd"),P=Object(o.standardErrorHandlingEC)(n.t,o.returnIfErrorArgument,"DateDiff"),U=Object(o.standardErrorHandlingEC)(n.w,o.returnIfErrorArgument,"DateValue"),w=Object(o.standardErrorHandlingEC)(n.I,o.returnIfErrorArgument,"TimeValue"),V=Object(o.standardErrorHandlingEC)(n.v,o.returnIfErrorArgument,"DateTimeValue"),k=Object(o.standardErrorHandlingEC)(n.z,o.returnIfErrorArgument,"EDate",{alwaysReplaceNulls:!0,nullValueReplacements:[n.x,0]}),H=Object(o.standardErrorHandlingEC)(n.A,o.returnIfErrorArgument,"EOMonth",{alwaysReplaceNulls:!0,nullValueReplacements:[n.x,0]})},function(r,e,t){"use strict";t.r(e),t.d(e,"firstN",(function(){return i})),t.d(e,"lastN",(function(){return u})),t.d(e,"index",(function(){return c})),t.d(e,"first",(function(){return l})),t.d(e,"last",(function(){return s})),t.d(e,"sort",(function(){return d})),t.d(e,"sortAsync",(function(){return f})),t.d(e,"sortByColumns",(function(){return g})),t.d(e,"shuffle",(function(){return p})),t.d(e,"isEmpty",(function(){return m})),t.d(e,"lookUp",(function(){return E})),t.d(e,"lookUpAsync",(function(){return v})),t.d(e,"dropColumns",(function(){return A})),t.d(e,"showColumns",(function(){return b})),t.d(e,"renameColumns",(function(){return y})),t.d(e,"filter",(function(){return h})),t.d(e,"filterAsync",(function(){return C})),t.d(e,"count",(function(){return S})),t.d(e,"countA",(function(){return O})),t.d(e,"countRows",(function(){return M})),t.d(e,"countIf",(function(){return D})),t.d(e,"countIfAsync",(function(){return R})),t.d(e,"addColumns",(function(){return F})),t.d(e,"addColumnsAsync",(function(){return I})),t.d(e,"isBlank",(function(){return T})),t.d(e,"isBlankOrError",(function(){return j})),t.d(e,"isBlankOrErrorOptionSetValue",(function(){return _})),t.d(e,"isBlankOptionSetValue",(function(){return N})),t.d(e,"coalesce",(function(){return x})),t.d(e,"coalesceAsync",(function(){return P})),t.d(e,"distinct",(function(){return U})),t.d(e,"distinctAsync",(function(){return w})),t.d(e,"concat",(function(){return V})),t.d(e,"concatAsync",(function(){return k})),t.d(e,"groupBy",(function(){return H})),t.d(e,"ungroup",(function(){return G}));var n=t(14),o=t(0),a=(t(3),t(1)),i=Object(o.standardErrorHandling)(n.r,o.returnIfErrorArgument,"FirstN"),u=Object(o.standardErrorHandling)(n.A,o.returnIfErrorArgument,"LastN"),c=Object(o.standardErrorHandlingEC)(n.t,o.returnIfErrorArgument,"Index"),l=Object(o.standardErrorHandlingEC)(n.q,o.returnIfErrorOrNullArgument,"First"),s=Object(o.standardErrorHandlingEC)(n.z,o.returnIfErrorOrNullArgument,"Last"),d=Object(a.G)("Sort",Object(o.standardErrorHandling)(n.G,o.returnIfErrorArgument,"Sort")),f=Object(a.H)("Sort",Object(o.standardErrorHandlingAsync)(n.H,o.returnIfErrorArgument,"Sort")),g=Object(a.G)("SortByColumns",Object(o.standardErrorHandlingEC)(n.I,o.returnIfErrorArgument,"SortByColumns")),p=Object(o.standardErrorHandling)(n.F,o.returnIfErrorOrNullArgument,"Shuffle"),m=Object(o.standardErrorHandling)(n.y,o.returnIfErrorArgument,"IsEmpty",{nullReturnIsFalse:!0}),E=Object(a.G)("LookUp",Object(o.standardErrorHandlingEC)(n.B,o.returnIfErrorOrNullArgument,"LookUp")),v=Object(a.H)("LookUp",Object(o.standardErrorHandlingECAsync)(n.C,o.returnIfErrorOrNullArgument,"LookUp")),A=Object(o.standardErrorHandling)(n.n,o.returnIfErrorOrNullArgument,"DropColumns"),b=Object(o.standardErrorHandling)(n.E,o.returnIfErrorOrNullArgument,"ShowColumns"),y=Object(o.standardErrorHandling)(n.D,o.returnIfErrorArgument,"RenameColumns"),h=Object(a.G)("Filter",Object(o.standardErrorHandlingEC)(n.o,o.returnIfErrorArgument,"Filter")),C=Object(a.H)("Filter",Object(o.standardErrorHandlingECAsync)(n.p,o.returnIfErrorArgument,"Filter")),S=Object(o.standardErrorHandling)(n.g,o.returnIfErrorOrNullArgument,"Count",{nullValueReplacements:[[]]}),O=Object(o.standardErrorHandling)(n.h,o.returnIfErrorOrNullArgument,"CountA",{nullValueReplacements:[[]]}),M=Object(o.standardErrorHandlingEC)(n.k,o.returnIfErrorOrNullArgument,"CountRows",{nullValueReplacements:[[]]}),D=Object(o.standardErrorHandlingEC)(n.i,o.returnIfErrorArgument,"CountIf"),R=Object(o.standardErrorHandlingECAsync)(n.j,o.returnIfErrorArgument,"CountIf"),F=Object(o.standardErrorHandling)(n.a,o.returnIfErrorArgument,"AddColumns"),I=Object(o.standardErrorHandlingAsync)(n.b,o.returnIfErrorArgument,"AddColumns"),T=Object(o.standardErrorHandling)(n.u,o.returnIfErrorArgument,"IsBlank",{nullReturnIsFalse:!0}),j=n.w,_=n.x,N=Object(o.standardErrorHandling)(n.v,o.returnIfErrorArgument,"IsBlank"),x=Object(o.standardErrorHandling)(n.c,o.passThroughArguments,"Coalesce"),P=Object(o.standardErrorHandlingAsync)(n.d,o.passThroughArguments,"Coalesce"),U=Object(o.standardErrorHandling)(n.l,o.returnIfErrorOrNullArgument,"Distinct"),w=Object(o.standardErrorHandlingAsync)(n.m,o.returnIfErrorOrNullArgument,"Distinct"),V=Object(o.standardErrorHandling)(n.e,o.returnIfErrorArgument,"Concat"),k=Object(o.standardErrorHandlingAsync)(n.f,o.returnIfErrorArgument,"Concat"),H=Object(o.standardErrorHandlingEC)(n.s,o.returnIfErrorArgument,"GroupBy"),G=Object(o.standardErrorHandling)(n.J,o.returnIfErrorOrNullArgument,"Ungroup")},function(r,e,t){"use strict";var n,o,a,i,u,c,l,s=t(16);!function(r){r[r.NoChange=1]="NoChange",r[r.Added=2]="Added",r[r.Updated=4]="Updated",r[r.Deleted=8]="Deleted",r[r.All=4294967295]="All"}(n||(n={})),function(r){r[r.NoError=1]="NoError",r[r.Error=2]="Error",r[r.All=4294967295]="All"}(o||(o={})),function(r){r[r.NoError=0]="NoError",r[r.Warning=1]="Warning",r[r.Moderate=2]="Moderate",r[r.Severe=3]="Severe"}(a||(a={})),function(r){r[r.None=0]="None",r[r.Sync=1]="Sync",r[r.MissingRequired=2]="MissingRequired",r[r.CreatePermission=3]="CreatePermission",r[r.EditPermission=4]="EditPermission",r[r.DeletePermission=5]="DeletePermission",r[r.Conflict=6]="Conflict",r[r.NotFound=7]="NotFound",r[r.ConstraintViolated=8]="ConstraintViolated",r[r.GeneratedValue=9]="GeneratedValue",r[r.ReadOnlyValue=10]="ReadOnlyValue",r[r.Validation=11]="Validation",r[r.Unknown=12]="Unknown",r[r.Div0=13]="Div0",r[r.BadLanguageCode=14]="BadLanguageCode",r[r.BadRegex=15]="BadRegex",r[r.InvalidFunctionUsage=16]="InvalidFunctionUsage",r[r.FileNotFound=17]="FileNotFound",r[r.AnalysisError=18]="AnalysisError",r[r.ReadPermission=19]="ReadPermission",r[r.NotSupported=20]="NotSupported",r[r.InsufficientMemory=21]="InsufficientMemory",r[r.QuotaExceeded=22]="QuotaExceeded",r[r.Network=23]="Network",r[r.Numeric=24]="Numeric",r[r.InvalidArgument=25]="InvalidArgument",r[r.Internal=26]="Internal",r[r.NotApplicable=27]="NotApplicable",r[r.Timeout=28]="Timeout",r[r.Custom=1e3]="Custom"}(i||(i={})),function(r){r[r.Edit=0]="Edit",r[r.New=1]="New",r[r.View=2]="View"}(u||(u={})),function(r){r[r.Edit=0]="Edit",r[r.New=1]="New",r[r.View=2]="View"}(c||(c={})),function(r){r[r.Information=3]="Information",r[r.Warning=1]="Warning",r[r.Error=0]="Error",r[r.Critical=-1]="Critical"}(l||(l={}));function d(r){return!Object(s.isNullOrUndefined)(r)&&!!r._errorValue_E175D1C3DA1648E89D201D4033D75E4A}var f=t(3),g=t(1),p=t(2);t.d(e,"r",(function(){return y})),t.d(e,"A",(function(){return h})),t.d(e,"t",(function(){return C})),t.d(e,"q",(function(){return S})),t.d(e,"z",(function(){return O})),t.d(e,"G",(function(){return P})),t.d(e,"H",(function(){return U})),t.d(e,"I",(function(){return V})),t.d(e,"F",(function(){return G})),t.d(e,"y",(function(){return L})),t.d(e,"B",(function(){return B})),t.d(e,"C",(function(){return K})),t.d(e,"n",(function(){return Y})),t.d(e,"E",(function(){return $})),t.d(e,"D",(function(){return Z})),t.d(e,"o",(function(){return tr})),t.d(e,"p",(function(){return or})),t.d(e,"g",(function(){return ar})),t.d(e,"h",(function(){return ir})),t.d(e,"k",(function(){return ur})),t.d(e,"i",(function(){return cr})),t.d(e,"j",(function(){return lr})),t.d(e,"a",(function(){return sr})),t.d(e,"b",(function(){return dr})),t.d(e,"u",(function(){return fr})),t.d(e,"w",(function(){return gr})),t.d(e,"x",(function(){return pr})),t.d(e,"v",(function(){return mr})),t.d(e,"c",(function(){return Er})),t.d(e,"d",(function(){return vr})),t.d(e,"l",(function(){return Ar})),t.d(e,"m",(function(){return br})),t.d(e,"e",(function(){return yr})),t.d(e,"f",(function(){return hr})),t.d(e,"s",(function(){return Cr})),t.d(e,"J",(function(){return Sr}));var m=AppMagic.Data,E=AppMagic.Data.DataValue.isBlankValue,v=AppMagic.Data.DataValue.isBlankOrErrorValue,A=null;function b(r,e){return r.localeCompare(e,Core.Globalization.currentCulture().currentLocaleName)}function y(r,e){if(Core.Utility.isUndefined(e)&&(e=1),E(r))return r;if(E(e)){if(!Object(p.isPowerFxV1CompatEnabled)())return e;e=0}if(!(r instanceof Array))return Object(g.v)(null,"FirstN","source",r);if("number"!=typeof e)return Object(g.t)(null,"FirstN","count",e);if(!isFinite(e))return Object(g.w)(null,"FirstN",2);var t=r.length;if(0===t)return[];e=Math.min(Math.max(0,Math.floor(e)),t);for(var n=[],o=0;o<e;o++)n.push(AppMagic.Utility.clone(r[o],!0,!0));return AppMagic.Utility.copyIdAndMetadata(r,n),n}function h(r,e){if(Core.Utility.isUndefined(e)&&(e=1),E(r))return r;if(E(e)){if(!Object(p.isPowerFxV1CompatEnabled)())return e;e=0}if(!(r instanceof Array))return Object(g.v)(null,"LastN","source",r);if("number"!=typeof e)return Object(g.t)(null,"LastN","count",e);if(!isFinite(e))return Object(g.w)(null,"LastN",2);var t=r.length;if(0===t)return[];for(var n=[],o=t-(e=Math.min(Math.max(0,Math.floor(e)),t));o<t;o++)n.push(AppMagic.Utility.clone(r[o],!0,!0));return AppMagic.Utility.copyIdAndMetadata(r,n),n}function C(r,e,t){if(!e)return null;if(null===t){if(!Object(p.isPowerFxV1CompatEnabled)())return null;t=0}if(!(e instanceof Array))return Object(g.v)(r,"Index","source",typeof e);if("number"!=typeof t)return Object(g.t)(r,"Index","index",typeof t);if(0===e.length){var n=Core.Utility.formatString(AppMagic.Strings.InvalidFunctionUsage_InvalidArgument_EmptyTable,"Index");return m.ErrorValue.createGatedError(m.ErrorKind.InvalidArgument,m.ErrorSeverity.Warning,n,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:n,skipDisplayRuntimeError:!0,functionName:"Index"}))}if(!isFinite(t))return Object(g.w)(r,"Index",2);if((t=Math.floor(t))<1||t>e.length){n=Core.Utility.formatString(AppMagic.Strings.InvalidFunctionUsage_Index_RowIndexArgumentOutOfRange,1,e.length);return m.ErrorValue.createGatedError(m.ErrorKind.InvalidArgument,m.ErrorSeverity.Warning,n,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:n,skipDisplayRuntimeError:!0,functionName:"Index"}))}return e[t-1]}function S(r,e){return nr(r,"first","First",e),e instanceof Array?0===e.length?null:e[0]:Object(g.v)(r,"First","source",e)}function O(r,e){if(!(e instanceof Array))return Object(g.v)(r,"Last","source",e);var t=e.length;return 0===t?null:e[t-1]}function M(r,e){var t,n,o,a;return function(){null===A&&(A="undefined"!=typeof Intl&&void 0!==Intl.Collator?new Intl.Collator(Core.Globalization.currentCulture().currentLocaleName).compare:b)}(),e?(t=_,n=T,o=D,a=F):(t=N,n=j,o=R,a=I),[t,o,n,a][r%4]}function D(r,e){return r-e}function R(r,e){return e-r}function F(r,e){return"boolean"==typeof(null==r?void 0:r.Id)&&"boolean"==typeof(null==e?void 0:e.Id)?_(r.Id,e.Id):"number"==typeof(null==r?void 0:r.Id)&&"number"==typeof(null==e?void 0:e.Id)?D(r.Id,e.Id):0}function I(r,e){return"boolean"==typeof(null==r?void 0:r.Id)&&"boolean"==typeof(null==e?void 0:e.Id)?N(r.Id,e.Id):"number"==typeof(null==r?void 0:r.Id)&&"number"==typeof(null==e?void 0:e.Id)?R(r.Id,e.Id):0}function T(r,e){return A(r,e)}function j(r,e){return-A(r,e)}function _(r,e){return r?e?0:1:e?-1:0}function N(r,e){return r?e?0:-1:e?1:0}function x(r,e){return function(t,n){var o=r(t),a=r(n);return d(o)?o:d(a)?a:E(o)?E(a)?0:1:E(a)?-1:e(o,a)}}function P(r,e,t,n){if(null===r||null===e)return null;if(null===n){if(!Object(p.isPowerFxV1CompatEnabled)())return null;n=""}if(!(r instanceof Array))return Object(g.v)(null,"Sort","source",r);if("function"!=typeof e)return Object(g.s)(null,"Sort","valueFunc",e);var o=M(t,"string"!=typeof n||"descending"!==n.toLowerCase()),a=AppMagic.Utility.clone(r,!0,!0),i=x(e,o),u=null;if(a.sort((function(r,e){var t=i(r,e);return d(t)?(u=u||t,-1):t})),u)return u;if(1==a.length){var c=e(a[0]);if(d(c))return c}return AppMagic.Utility.copyIdAndMetadata(r,a),a}function U(r,e,t,n){return __awaiter(this,void 0,Promise,(function(){var o,a,i,u,c,l,s,f,m,E=this;return __generator(this,(function(v){switch(v.label){case 0:if(null===r||null===e)return[2,null];if(null===n){if(!Object(p.isPowerFxV1CompatEnabled)())return[2,null];n=""}return r instanceof Array?"function"!=typeof e?[2,Object(g.s)(null,"Sort","valueFunc",e)]:(o="string"!=typeof n||"descending"!==n.toLowerCase(),a=M(t,o),0===r.length?(i=AppMagic.Utility.clone(r,!0,!0),AppMagic.Utility.copyIdAndMetadata(r,i),[2,i]):(u={},c=!1,l=null,[4,Object(g.A)(r,(function(r){return __awaiter(E,void 0,void 0,(function(){var t;return __generator(this,(function(n){switch(n.label){case 0:return[4,e(r)];case 1:return t=n.sent(),u[JSON.stringify(r)]=t,[2]}}))}))}),(function(r){var e=Object(g.n)(null,"Sort",r);return c||(c=!0,l=e),e}))])):[2,Object(g.v)(null,"Sort","source",r)];case 1:return v.sent(),c?[2,l]:1==r.length&&d(s=u[JSON.stringify(r[0])])?[2,s]:(i=AppMagic.Utility.clone(r,!0,!0),f=x((function(r){return u[JSON.stringify(r)]}),a),m=null,i.sort((function(r,e){var t=f(r,e);return d(t)?(m=m||t,-1):t})),m?[2,m]:(AppMagic.Utility.copyIdAndMetadata(r,i),[2,i]))}}))}))}function w(r){var e=[],t=r.length;if(r[t-1]){var n=r[0],o=r[1];return{columnNamesAndOrders:[{columnName:n,ascending:!0}],columnNameToComparatorIdMap:r[t-2],orderTable:o,isSortByColumnsOrderTableOverload:!0}}for(var a=0;a<t-2;a+=2){n=r[a];var i=r[a+1],u="string"!=typeof i||"descending"!==i.toLowerCase();e.push({columnName:n,ascending:u})}return{columnNamesAndOrders:e,columnNameToComparatorIdMap:r[t-2],isSortByColumnsOrderTableOverload:r[t-1]}}function V(r,e){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];if(E(e))return e;if(!(e instanceof Array))return Object(g.v)(r,"SortByColumns","source",e);var o=w(t);if(o.isSortByColumnsOrderTableOverload)return k(r,e,o.columnNamesAndOrders[0].columnName,o.orderTable,o.columnNameToComparatorIdMap);var a,i=[],u=[];if(o.columnNamesAndOrders.map((function(r){if(a=r.columnName,!E(a)){var e=o.columnNameToComparatorIdMap[a];if(Core.Utility.isUndefined(e))i.push(a);else{var t=M(e,r.ascending);u.push({columnName:a,comparator:t})}}})),i.length>0){for(var c="",l=0;l<i.length;l++)a=i[l],c+=Core.Utility.formatString(AppMagic.Strings.InvalidSortColumn_name,a)+"\r\n";return m.ErrorValue.createGatedError(m.ErrorKind.InvalidFunctionUsage,m.ErrorSeverity.Moderate,c,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:c,functionName:"SortByColumns"}))}if(1==e.length){var s=e[0];if(d(s))return s;for(var f=0,p=u.length;f<p;f++){var v=u[f].columnName,A=s[v];if(d(A))return A}}var b=AppMagic.Utility.clone(e,!0,!0),y=null;return u.length>0&&b.sort((function(r,e){if(d(r))return y=y||r,-1;if(d(e))return y=y||e,-1;if(E(r))return E(e)?0:1;if(E(e))return-1;for(var t,n=0,o=u.length;n<o;n++){var i=u[n];a=i.columnName;var c=i.comparator,l=r[a],s=e[a];if(d(l))return y=y||l,-1;if(d(s))return y=y||s,-1;if(Core.Utility.isUndefined(l)&&(l=null),Core.Utility.isUndefined(s)&&(s=null),E(l)&&E(s))t=0;else{if(E(l))return 1;if(E(s))return-1;if(0!==(t=c(l,s)))return t}}return t})),y||(AppMagic.Utility.copyIdAndMetadata(e,b),b)}function k(r,e,t,n,o){if(E(e))return e;if(!(e instanceof Array))return Object(g.v)(r,"SortByColumns","source",e);var a;if(0===e.length||E(n)||0===n.length||E(t))return a=AppMagic.Utility.clone(e,!0,!0),AppMagic.Utility.copyIdAndMetadata(e,a),a;if(Core.Utility.isUndefined(o[t])){var i=Core.Utility.formatString(AppMagic.Strings.InvalidSortColumn_name,t);return m.ErrorValue.createGatedError(m.ErrorKind.InvalidFunctionUsage,m.ErrorSeverity.Moderate,i,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:i,functionName:"SortByColumns"}))}for(var u=Object.create(null),c=[],l=0;l<n.length;l++){var s=n[l];if(d(s))return s;if(!E(s)){var f=s[Object.keys(s)[0]];if(d(f=H(f)))return f;E(f)||Core.Utility.isUndefined(f)||(Core.Utility.isUndefined(u[f])?u[f]=l:c.push(f))}}if(c.length>0)return m.ErrorValue.createGatedError(m.ErrorKind.InvalidArgument,m.ErrorSeverity.Moderate,AppMagic.Strings.DuplicateValues,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:AppMagic.Strings.DuplicateValues,functionName:"SortByColumns"}));if(1==e.length){var p=e[0];if(d(p))return p;var v=p[t];if(d(v))return v}a=[];for(var A=0,b=e.length;A<b;A++){var y=e[A];null!==y&&(y=AppMagic.Utility.clone(y,!0,!0),AppMagic.Utility.createOrSetPrivate(y,Core.Utility.Constants.OriginalIdxProperty,A)),a.push(y)}var h=null;if(a.sort((function(r,e){if(d(r))return h=h||r,-1;if(d(e))return h=h||e,-1;var n=E(r)?r:r[t],o=E(e)?e:e[t];if(n=H(n),o=H(o),d(n))return h=h||n,-1;if(d(o))return h=h||o,-1;if(Core.Utility.isUndefined(n)&&(n=null),Core.Utility.isUndefined(o)&&(o=null),E(n))return E(o)?0:1;if(E(o))return-1;var a=u[n],i=u[o],c=m.DataRecord.tryGetOriginalIdx(r),l=m.DataRecord.tryGetOriginalIdx(e);return Core.Utility.isUndefined(a)?Core.Utility.isUndefined(i)?c-l:1:Core.Utility.isUndefined(i)?-1:a-i})),h)return h;l=0;for(var C=a.length;l<C;l++){var S=a[l];null!==S&&delete S[Core.Utility.Constants.OriginalIdxProperty]}return AppMagic.Utility.copyIdAndMetadata(e,a),a}function H(r){return!r||d(r)||"object"!=typeof r||Core.Utility.isNullOrUndefined(r.Id)?r:r.Id}function G(r){if(!(r instanceof Array))return Object(g.v)(null,"Shuffle","source",r);for(var e=AppMagic.Utility.clone(r,!0,!0),t=0,n=r.length;t<n;t++){var o=Math.floor(Math.random()*n),a=e[t];e[t]=e[o],e[o]=a}return e}function L(r){return null===r?!!Object(p.isPowerFxV1CompatEnabled)():r instanceof Array&&0===r.length}function B(r,e,t,n){if(nr(r,"lookUp","LookUp",e),!(e instanceof Array))return Object(g.v)(r,"LookUp","source",e);if("function"!=typeof t)return Object(g.s)(r,"LookUp","predFunc",t);var o=Core.Utility.isDefined(n);if(o&&"function"!=typeof n)return Object(g.s)(r,"LookUp","projectionFunc",n);for(var a=0,i=e.length;a<i;a++){var u=e[a];if("object"!=typeof u)return Object(g.q)(r,"LookUp",a+1,u);var c=t(u);if(d(c))return o?n(c):c;if(c)return o?n(u):u}return null}function K(r,e,t,n){return __awaiter(this,void 0,Promise,(function(){var o,a,i,u,c,l,s,f,p=this;return __generator(this,(function(m){switch(m.label){case 0:if(nr(r,"lookUpAsync","LookUp",e),!(e instanceof Array))return[2,Object(g.v)(r,"LookUp","source",e)];if("function"!=typeof t)return[2,Object(g.s)(r,"LookUp","predFunc",t)];if((o=Core.Utility.isDefined(n))&&"function"!=typeof n)return[2,Object(g.s)(r,"LookUp","projectionFunc",n)];for(a=!1,i=null,u=new Core.PromiseUtils.PromiseQueue("lookUpAsync"),c=Promise.resolve(),l=function(l,s){c=u.pushJob((function(){return __awaiter(p,void 0,void 0,(function(){var c,s,f,p,m;return __generator(this,(function(E){switch(E.label){case 0:if(a)return u.cancelAll(),[2];if("object"!=typeof(c=e[l]))return a=!0,i=Object(g.q)(r,"LookUp",l+1,c),[2];E.label=1;case 1:return E.trys.push([1,11,,12]),[4,t(c)];case 2:return d(s=E.sent())?(a=!0,o?[4,n(s)]:[3,4]):[3,6];case 3:return f=E.sent(),[3,5];case 4:f=s,E.label=5;case 5:return i=f,[3,10];case 6:return s?(a=!0,o?[4,n(c)]:[3,8]):[3,10];case 7:return p=E.sent(),[3,9];case 8:p=c,E.label=9;case 9:i=p,E.label=10;case 10:return[3,12];case 11:return m=E.sent(),a=!0,i=Object(g.n)(r,"LookUp",m),[3,12];case 12:return[2]}}))}))}))},s=0,f=e.length;s<f;s++)l(s);return[4,c.catch((function(){}))];case 1:return m.sent(),[2,i]}}))}))}var q=function(r,e,t,n){if(E(n))return Object(g.p)(r,e,t)},W=function(r){return function(e,t,n,o){if(typeof o!==r)return Object(g.r)(e,t,n,r,o)}},z=function(r,e,t,n){var o=W("string")(r,e,t,n);if(o)return o};function J(r,e,t,n,o){for(var a=0;a<n.length;a++)for(var i=n[a],u=0,c=o;u<c.length;u++){var l=(0,c[u])(r,e,"".concat(t,"[").concat(a,"]"),i);if(l)return l}}function Q(r,e,t,n){for(var o=[],a=n.length,i=0;i<t.length;i+=a){for(var u=new Array(a),c=0;c<a;c++){for(var l=n[c],s=t[i+c],d=0,f=l;d<f.length;d++){var g=(0,f[d])(r,e,"args[".concat(i+c,"]"),s);if(g)return g}u[c]=s}o.push(u)}return o}function Y(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(!(r instanceof Array||r instanceof Object))return Object(g.r)(null,"DropColumns","source","Array or Object",r);if(Array.isArray(r)&&0===r.length)return[];var n=J(null,"DropColumns","columnNames",e,[z]);if(n)return n;if(!(r instanceof Array)){var o=r,a=AppMagic.Utility.clone(o,!0,!0);if(!v(a))for(var i=0,u=e;i<u.length;i++){delete a[u[i]]}return a}for(var c=[],l=0,s=r.length,d=0;d<s;d++){var f=r[d];if("object"!=typeof f)return Object(g.q)(null,"DropColumns",d+1,f);var m=AppMagic.Utility.clone(f,!0,!0);if(!v(m))for(var E=0,A=e;E<A.length;E++){delete m[A[E]]}null!==m&&0!==Object.keys(m).length||l++,c.push(m)}return Object(p.isPowerFxV1CompatEnabled)()?c:l===s?[]:c}function $(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(!(r instanceof Array||r instanceof Object))return Object(g.r)(null,"ShowColumns","source","Array or Object",r);if(Array.isArray(r)&&0===r.length)return[];var n=J(null,"ShowColumns","columnNames",e,[z]);if(n)return n;if(!(r instanceof Array)){for(var o=r,a={},i=0,u=e;i<u.length;i++){var c=o[y=u[i]];Core.Utility.isDefined(c)&&(a[y]=c)}return a}for(var l=r.length,s=[],d=0,f=0;f<l;f++){var p=r[f];if(v(p))s.push(p),E(p)&&d++;else{if("object"!=typeof p)return Object(g.q)(null,"ShowColumns",f+1,p);for(var m={},A=0,b=e;A<b.length;A++){var y;c=p[y=b[A]];Core.Utility.isDefined(c)&&(m[y]=c)}0===Object.keys(m).length&&d++,s.push(m)}}return d===l?[]:s}function Z(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(E(r))return r;if(!(r instanceof Array||r instanceof Object))return Object(g.r)(null,"RenameColumns","source","Array or Object",r);var n=J(null,"RenameColumns","args",e,[q,z]);if(n)return n;for(var o=[],a=0;a<e.length-1;a+=2){(d=e[a])!==(f=e[a+1])&&o.push([d,f])}if(0===o.length)return AppMagic.Utility.clone(r,!0,!0);if(!(r instanceof Array)){var i=r,u=AppMagic.Utility.clone(i,!0,!0);if(!v(u))for(var c=0,l=o;c<l.length;c++){var s=l[c],d=s[0],f=s[1],p=u[d];Core.Utility.isDefined(p)&&(u[f]=p,delete u[d])}return u}var m=[],A=r.length;for(a=0;a<A;a++){var b=r[a];if(v(b))m.push(b);else{if("object"!=typeof b)return Object(g.q)(null,"RenameColumns",a+1,b);for(var y=AppMagic.Utility.clone(b,!0,!0),h=0,C=o;h<C.length;h++){var S=C[h];d=S[0],f=S[1],p=y[d];Core.Utility.isDefined(p)&&(y[f]=p,delete y[d])}m.push(y)}}return m}function X(r){return function(e){for(var t=0,n=r;t<n.length;t++){var o=(0,n[t])(e);if(v(o)||!o)return o}return!0}}function rr(r){var e=this;return function(t){return __awaiter(e,void 0,void 0,(function(){var e,n,o;return __generator(this,(function(a){switch(a.label){case 0:e=0,n=r,a.label=1;case 1:return e<n.length?[4,(0,n[e])(t)]:[3,4];case 2:if(o=a.sent(),v(o)||!o)return[2,o];a.label=3;case 3:return e++,[3,1];case 4:return[2,!0]}}))}))}}function er(r,e,t,n){for(var o=[],a=function(r){var a=e(r);o.push(a.then((function(e){return t(r,e)}),(function(r){var e=n(r);return{take:null!==e,result:e}})))},i=0,u=r;i<u.length;i++){a(u[i])}return Core.PromiseUtils.join(o).then((function(r){for(var e=[],t=0,n=r;t<n.length;t++){var o=n[t],a=o.take,i=o.result;a&&e.push(i)}return e}))}function tr(r,e){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];if(E(e))return e;if(nr(r,"filter","Filter",e),!(e instanceof Array))return Object(g.v)(r,"Filter","source",e);if(!(t instanceof Array)||0===t.length)return Object(g.o)(r,"Filter","predicates",t);var o=J(r,"Filter","predicates",t,[q,W("function")]);if(o)return o;for(var a=X(t),i=[],u=0,c=e;u<c.length;u++){var l=c[u],s=a(l);d(s)?i.push(s):s&&i.push(l)}return AppMagic.Utility.copyIdAndMetadata(e,i),i}function nr(r,e,t,n){var o=m.DataSourceValue.tryGetAppDataSource(n);if(o&&o.isDelegable){var a=Core.Diagnostics.createErrorContext({protocol:"local",operation:e,dataSource:o.name},r),i=n.length;if(o instanceof m.TabularDataSource){var u=o.maxGetRowsCount();i===u?Core.Diagnostics.trace(Core.Diagnostics.CategoryNames.Delegation,t,{context:a,info:Core.Utility.formatString(AppMagic.Strings.FunctionNotDelegatedQueryRowCountExceeded,u),helpUrl:AppMagic.Strings.DelegationHelpURL,issue:Core.Utility.formatString(AppMagic.Strings.FunctionNotDelegatedQueryRowCountExceededDetail,u)},Core.Diagnostics.MonitorLogLevel.Warning):Core.Diagnostics.trace(Core.Diagnostics.CategoryNames.Delegation,t,{context:a,info:Core.Utility.formatString(AppMagic.Strings.FunctionNotDelegated,i),helpUrl:AppMagic.Strings.DelegationHelpURL,issue:Core.Utility.formatString(AppMagic.Strings.FunctionNotDelegatedQueryRowCountExceededDetail,u)},Core.Diagnostics.MonitorLogLevel.Warning)}else Core.Diagnostics.trace(Core.Diagnostics.CategoryNames.Delegation,t,{context:a,info:Core.Utility.formatString(AppMagic.Strings.FunctionNotDelegated,i),helpUrl:AppMagic.Strings.DelegationHelpURL,issue:Core.Utility.formatString(AppMagic.Strings.FunctionNotDelegatedDetail)},Core.Diagnostics.MonitorLogLevel.Warning)}}function or(r,e){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];return __awaiter(this,void 0,Promise,(function(){var n,o,a;return __generator(this,(function(i){switch(i.label){case 0:return E(e)?[2,Promise.resolve(e)]:(nr(r,"filterAsync","Filter",e),e instanceof Array?t instanceof Array&&0!==t.length?(n=J(r,"Filter","predicates",t,[q,W("function")]))?[2,n]:(o=rr(t),[4,er(e,o,(function(r,e){return d(e)?{take:!0,result:e}:e?{take:!0,result:r}:{take:!1,result:null}}),(function(e){return Object(g.n)(r,"Filter",e)}))]):[2,Object(g.o)(r,"Filter","predicates",t)]:[2,Object(g.v)(r,"Filter","source",e)]);case 1:return a=i.sent(),AppMagic.Utility.copyIdAndMetadata(e,a),[2,a]}}))}))}function ar(r){if(!(r instanceof Array))return Object(g.v)(null,"Count","source",r);for(var e=0,t=0,n=r;t<n.length;t++){var o=n[t];if(!E(o)){if(d(o))return o;var a=Object.keys(o);if(1===a.length){var i=o[a[0]];if(d(i))return i;"number"==typeof i&&e++}}}return e}function ir(r){if(!(r instanceof Array))return Object(g.v)(null,"CountA","source",r);for(var e=0,t=0,n=r;t<n.length;t++){var o=n[t];if(!E(o)){if(d(o))return o;var a=Object.keys(o),i=a.indexOf(m.ConnectedDataConstants.TempReadOnlyTableKeyId);if(i>=0?2===a.length:1===a.length){var u=o[a[0===i?1:0]];if(d(u))return u;Core.Utility.isNullOrUndefined(u)||e++}}}return e}function ur(r,e){if(nr(r,"countRows","CountRows",e),!(e instanceof Array))return Object(g.v)(r,"CountRows","source",e);if(!AppMagic.Data.ErrorValue.isErrorHandlingFeatureEnabled())return e.length;for(var t=0,n=e;t<n.length;t++){var o=n[t];if(d(o))return o}return e.length}function cr(r,e){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];if(E(e))return Object(p.isPowerFxV1CompatEnabled)()?0:e;if(nr(r,"countIf","CountIf",e),!(e instanceof Array))return Object(g.v)(r,"CountIf","source",e);if(!(t instanceof Array)||0===t.length)return Object(g.o)(r,"CountIf","predicates",t);var o=J(r,"CountIf","predicates",t,[q,W("function")]);if(o)return o;for(var a=X(t),i=0,u=0,c=e;u<c.length;u++){var l=c[u],s=a(l);if(d(s))return s;s&&i++}return i}function lr(r,e){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];return __awaiter(this,void 0,Promise,(function(){var n,o,a,i,u,c,l;return __generator(this,(function(s){switch(s.label){case 0:return E(e)?[2,e]:(nr(r,"countIfAsync","CountIf",e),e instanceof Array?t instanceof Array&&0!==t.length?(n=J(r,"CountIf","predicates",t,[q,W("function")]))?[2,n]:(o=rr(t),[4,er(e,o,(function(r,e){return d(e)?{take:!0,result:e}:e?{take:!0,result:1}:{take:!1,result:0}}),(function(e){return Object(g.n)(r,"CountIf",e)}))]):[2,Object(g.o)(r,"CountIf","predicates",t)]:[2,Object(g.v)(r,"CountIf","source",e)]);case 1:for(a=s.sent(),i=0,u=0,c=a;u<c.length;u++){if(d(l=c[u]))return[2,l];i+=l}return[2,i]}}))}))}function sr(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(E(r))return r;if(!(r instanceof Array||r instanceof Object))return Object(g.r)(null,"AddColumns","source","Array or Object",r);if(Array.isArray(r)&&0===r.length)return[];var n=Q(null,"AddColumns",e,[[q,W("string")],[q,W("function")]]);if(d(n))return n;if(!Array.isArray(r)){var o=AppMagic.Utility.clone(r,!0,!0);if(AppMagic.Utility.addRefBlobs(o),!v(o))for(var a=0,i=n;a<i.length;a++){var u=i[a],c=u[0],l=u[1];o[c]=l(r)}return o}for(var s=[],f=0;f<r.length;f++){var p=r[f];if("object"!=typeof p)return Object(g.q)(null,"AddColumns",f+1,p);var m=AppMagic.Utility.clone(p,!0,!0);if(AppMagic.Utility.addRefBlobs(m),!v(m))for(var A=0,b=n;A<b.length;A++){var y=b[A];c=y[0],l=y[1];m[c]=l(p)}s.push(m)}return s}function dr(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return __awaiter(this,void 0,Promise,(function(){var t,n,o,a,i,u,c,l,s,f,p;return __generator(this,(function(m){switch(m.label){case 0:if(E(r))return[2,r];if(!(r instanceof Array||r instanceof Object))return[2,Object(g.r)(null,"AddColumns","source","Array or Object",r)];if(Array.isArray(r)&&0===r.length)return[2,[]];if(d(t=Q(null,"AddColumns",e,[[q,W("string")],[q,W("function")]])))return[2,t];if(!Array.isArray(r)){if(n=AppMagic.Utility.clone(r,!0,!0),AppMagic.Utility.addRefBlobs(n),v(n))return[2,n];for(o=[],a=function(r,e){o.push(Promise.resolve(e(n)).then((function(e){return n[r]=e})))},i=0,u=t;i<u.length;i++)c=u[i],l=c[0],s=c[1],a(l,s);return[2,Core.PromiseUtils.join(o).then((function(){return n}))]}for(f=0;f<r.length;f++)if("object"!=typeof(p=r[f]))return[2,Object(g.q)(null,"AddColumns",f+1,p)];return[4,Object(g.A)(r,(function(r){var e=[],n=AppMagic.Utility.clone(r,!0,!0);if(AppMagic.Utility.addRefBlobs(n),!v(n))for(var o=function(t,o){e.push(Promise.resolve(o(r)).then((function(r){return n[t]=r})))},a=0,i=t;a<i.length;a++){var u=i[a];o(u[0],u[1])}return Core.PromiseUtils.join(e).then((function(){return n}))}),(function(r){return Object(g.n)(null,"AddColumns",r)}))];case 1:return[2,m.sent()]}}))}))}function fr(r){return null==r||""===r}function gr(r){return void 0===r||""===r||AppMagic.Data.DataValue.isBlankOrErrorValue(r)}function pr(r){return!r||d(r)||null===r.Id&&""===r.Value}function mr(r){return!r||null===r.Id&&""===r.Value}function Er(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];for(var t=Object(p.isPowerFxV1CompatEnabled)(),n=void 0,o=0;o<r.length;++o){var a=r[o],i=Core.Utility.isFunction(a)?a():a;if(Core.Utility.isUndefined(n)&&!fr(i)&&(n=i,t))break}return Core.Utility.isUndefined(n)?null:n}function vr(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return __awaiter(this,void 0,Promise,(function(){var e,t,n,o,a;return __generator(this,(function(i){switch(i.label){case 0:e=Object(p.isPowerFxV1CompatEnabled)(),t=void 0,n=0,i.label=1;case 1:return n<r.length?(o=r[n],[4,Core.Utility.isFunction(o)?o():o]):[3,4];case 2:if(a=i.sent(),Core.Utility.isUndefined(t)&&!fr(a)&&(t=a,e))return[3,4];i.label=3;case 3:return++n,[3,1];case 4:return Core.Utility.isUndefined(t)?[2,null]:[2,t]}}))}))}function Ar(r,e){if(!(r instanceof Array))return Object(g.v)(null,"Distinct","source",r);if("function"!=typeof e)return Object(g.s)(null,"Distinct","valueFunc",e);if(0===r.length)return[];for(var t=[],n={},o=r.length,a=Object(p.isConsistentTabularFunctionReturnSchemaEnabled)()?f._valueColumnName:f._resultColumnName,i=0;i<o;i++){var u=r[i];if("object"!=typeof u)return Object(g.q)(null,"Distinct",i+1,u);var c=e(u);if(d(c))return c;var l=JSON.stringify(c);if(!n.hasOwnProperty(l)){n[l]=!0;var s={};s[a]=c,t.push(s)}}return 0===t.length?m.ErrorValue.createGatedError(m.ErrorKind.Unknown,m.ErrorSeverity.Warning):t}function br(r,e){return __awaiter(this,void 0,Promise,(function(){var t,n,o,a,i,u,c,l,s,E,v,A,b,y,h=this;return __generator(this,(function(C){switch(C.label){case 0:if(!(r instanceof Array))return[2,Object(g.v)(null,"DistinctAsync","source",r)];if("function"!=typeof e)return[2,Object(g.s)(null,"DistinctAsync","valueFunc",e)];if(0===(t=r.length))return[2,[]];for(n=0;n<t;n++)if("object"!=typeof(o=r[n]))return[2,Object(g.q)(null,"Distinct",n+1,o)];return a=!1,i=null,[4,Object(g.A)(r,(function(r){return __awaiter(h,void 0,void 0,(function(){return __generator(this,(function(t){switch(t.label){case 0:return[4,e(r)];case 1:return[2,t.sent()]}}))}))}),(function(r){var e=Object(g.n)(null,"Distinct",r);return a||(a=!0,i=e),e}))];case 1:if(u=C.sent(),a)return[2,i];for(c={},l=[],s=Object(p.isConsistentTabularFunctionReturnSchemaEnabled)()?f._valueColumnName:f._resultColumnName,E=0,v=u;E<v.length;E++){if(d(A=v[E]))return[2,A];b=JSON.stringify(A),c.hasOwnProperty(b)||(c[b]=!0,(y={})[s]=A,l.push(y))}return 0===l.length?[2,m.ErrorValue.createGatedError(m.ErrorKind.Unknown,m.ErrorSeverity.Warning)]:[2,l]}}))}))}function yr(r,e,t){if(E(r))return r;if(!(r instanceof Array))return Object(g.v)(null,"Concat","source",r);if(E(e))return Object(g.p)(null,"Concat","valueFunc");if("function"!=typeof e)return Object(g.s)(null,"Concat","valueFunc",e);Core.Utility.isNullOrUndefined(t)&&(t="");for(var n="",o=r.length,a=0;a<o;a++){0!==a&&(n+=t);var i=e(r[a]);if(!E(i)){if(d(i))return i;if("string"!=typeof i)return m.ErrorValue.createGatedError(m.ErrorKind.Unknown,m.ErrorSeverity.Warning);n+=i}}return n}function hr(r,e,t){if(E(r))return Promise.resolve(r);if(!(r instanceof Array))return Promise.resolve(Object(g.v)(null,"Concat","source",r));if(E(e))return Promise.resolve(Object(g.p)(null,"Concat","valueFunc"));if("function"!=typeof e)return Promise.resolve(Object(g.s)(null,"Concat","valueFunc",e));Core.Utility.isNullOrUndefined(t)&&(t="");var n=t,o=r.length;if(0===o)return Promise.resolve("");for(var a=[],i=[],u=null,c=0;c<o&&null===u;c++){a.push(e(r[c]).then(function(r,e){d(e)?E(u)&&(u=e):null!==e&&("string"==typeof e?i[r]=e:E(u)&&(u=m.ErrorValue.createGatedError(m.ErrorKind.Unknown,m.ErrorSeverity.Warning)))}.bind(this,c),(function(r){null===u&&(u=Object(g.n)(null,"Concat",r))})))}return Core.PromiseUtils.join(a).then((function(){return null!==u?Promise.resolve(u):Promise.resolve(i.join(n))}),(function(r){return null!==u?Promise.resolve(u):Promise.resolve(Object(g.n)(null,"Concat",r))}))}function Cr(r,e){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];if(E(e))return Object(g.x)(r,"GroupBy",1);if(!(e instanceof Array))return Object(g.v)(r,"GroupBy","source",e);for(var o=0,a=t;o<a.length;o++){var i=a[o];if(E(i))return i}var u=e.length;if(0===u)return[];for(var c=t.splice(t.length-1)[0],l={},s=function(r){if(v(r))return r;for(var e=Object.create(null),n=0,o=t;n<o.length;n++){var a=o[n],i=null==r?void 0:r[a];if(void 0===i&&(i=null),d(i))return i;e[a]=i}return JSON.stringify(e)}.bind(this),f=function(r){if(v(r))return r;for(var e=0,n=t;e<n.length;e++){delete r[n[e]]}return r}.bind(this),p=0;p<u;p++){var m=e[p],A=s(m);if(d(A))return A;if(!E(A)){var b=l[A];void 0===b&&(b=[],l[A]=b);var y=m;null!==y&&(y=AppMagic.Utility.clone(y,!0,!0),AppMagic.Utility.createOrSetPrivate(y,Core.Utility.Constants.OriginalIdxProperty,p),f(y)),b.push(y)}}var h=Object.keys(l).map((function(r){var e=JSON.parse(r);return e[c]=l[r],e}));return h}function Sr(r,e){if(!(r instanceof Array))return Object(g.v)(null,"Ungroup","source",r);if("string"!=typeof e)return Object(g.u)(null,"Ungroup","groupName",e);if(0===r.length)return[];for(var t=[],n=function(r,e){for(var t=0,n=Object.keys(e);t<n.length;t++){var o=n[t];r[o]=e[o]}var a=e[Core.Utility.Constants.OriginalIdxProperty];Core.Utility.isDefined(a)&&AppMagic.Utility.createOrSetPrivate(r,Core.Utility.Constants.OriginalIdxProperty,a)},o=!1,a=0,i=r;a<i.length;a++){var u=i[a];if(d(u))return u;if(E(u))t.push(u);else{var c=u[e],l=AppMagic.Utility.clone(u,!0,!0);if(Core.Utility.isNullOrUndefined(c))delete l[e],t.push(l);else{if(d(c))return c;if(c instanceof Array)if(delete l[e],0!==c.length)for(var s=0,f=c;s<f.length;s++){var p=f[s],m=AppMagic.Utility.clone(l,!0,!0);if(d(p))return p;null!==p&&"object"==typeof p&&n(m,p),t.push(m),o=o||"number"==typeof m[Core.Utility.Constants.OriginalIdxProperty]}else t.push(l);else t.push(l)}}}return o&&t.sort((function(r,e){if(v(r)||v(e))return 0;var t=r[Core.Utility.Constants.OriginalIdxProperty],n=e[Core.Utility.Constants.OriginalIdxProperty];return"number"!=typeof t?"number"!=typeof n?0:1:"number"!=typeof n?-1:t-n})),t}},function(r,e,t){"use strict";t.r(e);var n=t(0),o=t(3),a=t(1),i=t(5),u=t(2),c=AppMagic.Data.DataValue.isBlankValue,l=AppMagic.Data.DataValue.isBlankOrErrorValue;t.d(e,"sqrt_T",(function(){return s})),t.d(e,"abs_T",(function(){return d})),t.d(e,"int_T",(function(){return f})),t.d(e,"trunc_T",(function(){return g})),t.d(e,"round_T",(function(){return p})),t.d(e,"roundUp_T",(function(){return m})),t.d(e,"roundDown_T",(function(){return E})),t.d(e,"mod_T",(function(){return v})),t.d(e,"sin_T",(function(){return A})),t.d(e,"asin_T",(function(){return b})),t.d(e,"cos_T",(function(){return y})),t.d(e,"acos_T",(function(){return h})),t.d(e,"tan_T",(function(){return C})),t.d(e,"atan_T",(function(){return S})),t.d(e,"cot_T",(function(){return O})),t.d(e,"acot_T",(function(){return M})),t.d(e,"radians_T",(function(){return D})),t.d(e,"degrees_T",(function(){return R})),t.d(e,"ln_T",(function(){return F})),t.d(e,"log_T",(function(){return I})),t.d(e,"exp_T",(function(){return T})),t.d(e,"power_T",(function(){return j})),t.d(e,"dec2Hex_T",(function(){return _})),t.d(e,"hex2Dec_T",(function(){return N}));var s=Object(n.standardErrorHandlingEC)((function(r,e){return Object(a.e)(r,e,"number",o._valueColumnName,"Sqrt",(function(e){return i.sqrt(r,e)}))}),n.returnIfErrorOrNullArgument,"Sqrt"),d=Object(n.standardErrorHandling)((function(r){return Object(a.e)(null,r,"number",o._valueColumnName,"Abs",i.abs)}),n.returnIfErrorOrNullArgument,"Abs"),f=Object(n.standardErrorHandling)((function(r){return Object(a.e)(null,r,"number",o._valueColumnName,"Int",i.int)}),n.returnIfErrorOrNullArgument,"Int"),g=Object(n.standardErrorHandling)((function(r,e,t){return void 0===t&&(r+="S",t=0),Object(a.h)(null,e,"number",t,"number",(function(r,e){return Object(u.isConsistentTabularFunctionReturnSchemaEnabled)()?o._valueColumnName:r||o._resultColumnName}),"Trunc",i.trunc,r)}),n.passThroughArguments,"Trunc"),p=Object(n.standardErrorHandling)((function(r,e,t){return Object(a.h)(null,e,"number",t,"number",(function(r,e){return Object(u.isConsistentTabularFunctionReturnSchemaEnabled)()?o._valueColumnName:r||o._resultColumnName}),"Round",i.round,r)}),n.passThroughArguments,"Round"),m=Object(n.standardErrorHandling)((function(r,e,t){return Object(a.h)(null,e,"number",t,"number",(function(r,e){return Object(u.isConsistentTabularFunctionReturnSchemaEnabled)()?o._valueColumnName:r||o._resultColumnName}),"RoundUp",i.roundUp,r)}),n.passThroughArguments,"RoundUp"),E=Object(n.standardErrorHandling)((function(r,e,t){return Object(a.h)(null,e,"number",t,"number",(function(r,e){return Object(u.isConsistentTabularFunctionReturnSchemaEnabled)()?o._valueColumnName:r||o._resultColumnName}),"RoundDown",i.roundDown,r)}),n.passThroughArguments,"RoundDown"),v=Object(n.standardErrorHandlingEC)((function(r,e,t,n){return Object(a.h)(r,t,"number",n,"number",(function(){return Object(u.isConsistentTabularFunctionReturnSchemaEnabled)()?o._valueColumnName:o._resultColumnName}),"Mod",(function(e,t){return i.mod(r,e,t)}),e)}),n.passThroughArguments,"Mod"),A=Object(n.standardErrorHandlingEC)((function(r,e){return Object(a.e)(null,e,"number",o._valueColumnName,"Sin",(function(e){return i.sin(r,e)}))}),n.returnIfErrorOrNullArgument,"Sin"),b=Object(n.standardErrorHandlingEC)((function(r,e){return Object(a.e)(null,e,"number",o._valueColumnName,"Asin",(function(e){return i.asin(r,e)}))}),n.returnIfErrorOrNullArgument,"Asin"),y=Object(n.standardErrorHandlingEC)((function(r,e){return Object(a.e)(null,e,"number",o._valueColumnName,"Cos",(function(e){return i.cos(r,e)}))}),n.returnIfErrorOrNullArgument,"Cos"),h=Object(n.standardErrorHandlingEC)((function(r,e){return Object(a.e)(null,e,"number",o._valueColumnName,"Acos",(function(e){return i.acos(r,e)}))}),n.returnIfErrorOrNullArgument,"Acos"),C=Object(n.standardErrorHandlingEC)((function(r,e){return Object(a.e)(null,e,"number",o._valueColumnName,"Tan",(function(e){return i.tan(r,e)}))}),n.returnIfErrorOrNullArgument,"Tan"),S=Object(n.standardErrorHandlingEC)((function(r,e){return Object(a.e)(null,e,"number",o._valueColumnName,"Atan",(function(e){return i.atan(r,e)}))}),n.returnIfErrorOrNullArgument,"Atan"),O=Object(n.standardErrorHandlingEC)((function(r,e){return Object(a.e)(null,e,"number",o._valueColumnName,"Cot",(function(e){return i.cot(r,e)}))}),n.returnIfErrorOrNullArgument,"Cot"),M=Object(n.standardErrorHandlingEC)((function(r,e){return Object(a.e)(null,e,"number",o._valueColumnName,"Acot",(function(e){return i.acot(r,e)}))}),n.returnIfErrorOrNullArgument,"Acot"),D=Object(n.standardErrorHandlingEC)((function(r,e){return Object(a.e)(null,e,"number",o._valueColumnName,"Radians",(function(e){return i.radians(r,e)}))}),n.returnIfErrorOrNullArgument,"Radians"),R=Object(n.standardErrorHandlingEC)((function(r,e){return Object(a.e)(null,e,"number",o._valueColumnName,"Degrees",(function(e){return i.degrees(r,e)}))}),n.returnIfErrorOrNullArgument,"Degrees"),F=Object(n.standardErrorHandlingEC)((function(r,e){return Object(a.e)(null,e,"number",o._valueColumnName,"Ln",(function(e){return i.ln(r,e)}))}),n.returnIfErrorOrNullArgument,"Ln"),I=Object(n.standardErrorHandlingEC)((function(r,e,t,n){return c(t)&&!Object(u.isPowerFxV1CompatEnabled)()?t:(Core.Utility.isUndefined(n)&&(e+="S",n=10),c(n)&&!Object(u.isPowerFxV1CompatEnabled)()?n:Object(a.h)(null,t,"number",n,"number",(function(){return o._valueColumnName}),"Log",(function(e,t){return i.log(r,e,t)}),e))}),n.passThroughArguments,"Log"),T=Object(n.standardErrorHandlingEC)((function(r,e){return Object(a.e)(null,e,"number",o._valueColumnName,"Exp",(function(e){return i.exp(r,e)}))}),n.returnIfErrorOrNullArgument,"Exp"),j=Object(n.standardErrorHandlingEC)((function(r,e,t,n){return Object(a.h)(r,t,"number",n,"number",(function(){return o._valueColumnName}),"Power",(function(e,t){return i.power(r,e,t)}),e)}),n.passThroughArguments,"Power"),_=Object(n.standardErrorHandlingEC)((function(r,e,t,n){return(t instanceof Array||l(t))&&void 0===n?Object(a.e)(null,t,"number",o._valueColumnName,"Dec2Hex",(function(e){return i.dec2Hex(r,e)})):Object(a.h)(r,t,"number",n,"number",(function(r,e){return o._valueColumnName}),"Dec2Hex",(function(e,t){return i.dec2Hex(r,e,t)}),e)}),n.passThroughArguments,"Dec2Hex"),N=Object(n.standardErrorHandlingEC)((function(r,e){return Object(a.e)(null,e,"string",o._valueColumnName,"Hex2Dec",(function(e){return i.hex2Dec(r,e)}))}),n.returnIfErrorOrNullArgument,"Hex2Dec")},function(r,e){!function(){r.exports=function(){return this?this:window}()["@pa-client/core"]}()},function(r,e,t){"use strict";t.r(e);var n=t(6),o=t(8),a=t(1),i=AppMagic.Data,u=AppMagic.Utility,c=AppMagic.Data.DataValue.isBlankValue,l=(AppMagic.Data.DataValue.isBlankOrErrorValue,AppMagic.Data.DataValue.isErrorValue),s=AppMagic.Data.DataValue.isGatedError,d=Core.UI.NFCScanner,f=AppMagic.Data.TraceSeverity;function g(r,e){return null!==e?null!==e&&e.uniqueId?AppMagic.AuthoringTool.Runtime.ensureControlsLoadedAsync([e.topParentOrSelf],!0).then((function(){return AppMagic.AuthoringTool.Runtime.getNamedControl(e.uniqueId,r)})):Promise.resolve(e):Promise.resolve(null)}function p(r,e,t){if(e===t)return!0;var n=!1,o=AppMagic.AuthoringTool.Runtime.getNamedControl(e),a=null==o?void 0:o.OpenAjax,u=!!(null==a?void 0:a.isComponentDefinition);if(u)n=!0;else try{var c=AppMagic.AuthoringTool.Runtime.getNamedControl(t);if(c&&c.OpenAjax){var l=c.OpenAjax;l.template&&AppMagic.Utility.isAppTestTemplateClassName(l.template.className)&&(n=!0)}}catch(r){Core.Telemetry.Log.trackException(r)}if(n){var s=AppMagic.AuthoringTool.Runtime.getNamedControl("App");if(s&&s.OpenAjax){var d=s.OpenAjax.getPropertyValue("ActiveScreen");if(d&&d.OpenAjax)return!(d.OpenAjax.uniqueId!==e&&!u)||AppMagic.Data.ErrorValue.createGatedError(AppMagic.Data.ErrorKind.InvalidFunctionUsage,AppMagic.Data.ErrorSeverity.Moderate,AppMagic.Strings.InvalidTestFunctionUsage_DifferentScreen,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:AppMagic.Strings.InvalidTestFunctionUsage_DifferentScreen,functionName:"Select"}))}}return i.ErrorValue.createGatedError(i.ErrorKind.InvalidFunctionUsage,i.ErrorSeverity.Moderate,AppMagic.Strings.InvalidFunctionUsage_Select,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:AppMagic.Strings.InvalidFunctionUsage_Select,functionName:"Select"}))}function m(r){var e=AppMagic.AuthoringTool.Runtime.getNamedControl(r.parentUniqueId);if(e){var t=e.OpenAjax;if(t)return AppMagic.Utility.isDataCardTemplate(t.template.name)}return!1}function E(r,e,t){return i.ErrorValue.createGatedError(t,i.ErrorSeverity.Moderate,e,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:e,raiseToastNotification:!0,functionName:"ReadNFC"}))}var v,A,b=t(0),y=t(31),h=t(32),C=t.n(h);!function(r){r.Title="Title",r.DPI="DPI",r.ExpandContainers="ExpandContainers",r.Margin="Margin",r.Orientation="Orientation",r.Size="Size",r.SaveLocally="SaveLocally",r.UseDefaultFonts="UseDefaultFonts"}(v||(v={})),function(r){r.Bold="700",r.Semibold="600",r.Normal="400",r.Lighter="100"}(A||(A={}));var S;!function(r){r.NotEnabled="The PDF option is not enabled.",r.TargetNull="The target control is null.",r.InvalidBindingContext="The passed binding context is not the root context.",r.TargetNotControl="The target parameter is not a control.",r.CurrentScreenNotFound="The current screen could not be found.",r.ControlNotOnCurrentScreen="The target control is not on the current screen.",r.HtmlElementNotFound="The HTML element for the control could not be found.",r.InvalidMargins="The value for margins was not parsed correctly."}(S||(S={}));var O=new Set;["a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","a10","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","b10","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","c10","dl","letter","government-letter","legal","junior-legal","ledger","ledger","credit-card"].forEach((function(r){return O.add(r)}));var M=new Set;["portrait","landscape","p","l"].forEach((function(r){return M.add(r)}));var D=t(2),R=t(21),F=AppMagic.Data,I=AppMagic.Data.DataValue.isErrorValue,T=AppMagic.AuthoringTool.OpenAjaxPropertyNames,j=/\bscroll\b|\bauto\b/,_=/^(scroll|auto)$/,N=/^(hidden|clip|scroll|auto)$/,x=null;function P(r){var e;return __awaiter(this,void 0,Promise,(function(){return __generator(this,(function(t){return Core.Environment.isBrowserTestMode()&&Core.Utility.isNumber(null===(e=null==r?void 0:r.TestOptions)||void 0===e?void 0:e.DelayStart)?[2,Core.PromiseUtils.timeout(r.TestOptions.DelayStart)]:[2]}))}))}function U(){return __awaiter(this,void 0,Promise,(function(){return __generator(this,(function(r){switch(r.label){case 0:return Object(D.isPdfFunctionTestModeEnabled)()?[3,2]:[4,Core.Loader.ObjectFactory.instance.getSingleton(AppMagic.Controls.RequirementsManager.singletonKey).ensureRequirements(AppMagic.Constants.pdfRequirements)];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))}function w(r){return __awaiter(this,void 0,Promise,(function(){return __generator(this,(function(e){switch(e.label){case 0:return Object(D.isPdfFunctionTestModeEnabled)()?[3,2]:[4,Core.Loader.ObjectFactory.instance.getSingleton(AppMagic.Controls.RequirementsManager.singletonKey).ensureRequirements(r)];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}function V(){if(Object(D.isPdfFunctionTestModeEnabled)())return null;var r=AppMagic.AuthoringTool.Runtime.getCurrentScreenName();return OpenAjax.widget.byId(r)}function k(r,e){r.OpenAjax.setPropertyValue(AppMagic.AuthoringTool.OpenAjaxPropertyNames.Printing,e)}function H(r){var e=OpenAjax.widget.controlManager.controlInstancesFlatTree;return function r(t){return __awaiter(this,void 0,Promise,(function(){var n,o,a,i,u,c,l,s,d;return __generator(this,(function(f){switch(f.label){case 0:return n=e[t],o=n.control,a=n.name,i=n.type,u=n.childIds,AppMagic.Controls.isVisualControl(i)?(c=[],u.length&&Core.Utility.isFunction(o.childControlsCanExpandForPrint)&&o.childControlsCanExpandForPrint()&&u.forEach((function(e){c.push(r(e))})),[4,Core.PromiseUtils.join(c)]):[2,{restore:Core.Utility.noOpFn}];case 1:return(l=f.sent()).length?[4,Core.PromiseUtils.timeout(250)]:[3,3];case 2:f.sent(),f.label=3;case 3:return Core.Utility.isFunction(o.expandForPrintAsync)?(s=o.OpenAjax.parentReplicatedContextManager.authoringAreaBindingContext.controlContexts[a],[4,o.expandForPrintAsync(s)]):[3,5];case 4:d=f.sent(),l.push(d),f.label=5;case 5:return[2,{restore:function(){l.forEach((function(r){r.restore()}))}}]}}))}))}(r.uniqueId)}function G(r){return __awaiter(this,void 0,Promise,(function(){var e;return __generator(this,(function(t){switch(t.label){case 0:return[4,AppMagic.AuthoringTool.Runtime.ensureControlsLoadedAsync([r.topParentOrSelfUniqueId],!0)];case 1:return t.sent(),(e=document.querySelectorAll("#".concat(AppMagic.Constants.PublishedCanvasId," [").concat(AppMagic.Constants.ControlIdDataAttribute,'="').concat(r.uniqueId,'"]')))[0]instanceof HTMLElement?[2,e[0]]:[2,null]}}))}))}function L(r,e,t){return(0,globalScopeObject.jspdf.jsPDF.getPageSize)(r,e,t)}function B(r,e){var t=r.clientWidth,n=r.clientHeight,o=function(r,e){var t=e.Margin,n=L(e.Orientation,"pt",e.Size).width-(t[1]+t[3]),o=L(e.Orientation,"in",e.Size).k/e.DPI;return o*r>n&&(o=n/r),o}(t,e),a=function(r,e,t){var n=t.Margin,o=L(t.Orientation,"pt",t.Size).height-(n[0]+n[2]),a=e*r;return Math.ceil(a/o)}(n,o,e);return function(r){var e=0;q(r,(function(r){r.setAttribute("data-pdf-element-id",(++e).toString())}))}(r),function r(e,t,n){var o,a,i;void 0===n&&(n=new Map);var u=window.getComputedStyle(e);if("none"===u.display||"hidden"===u.visibility)return W(e),!1;var c=u.overflow.split(" "),l=c[0],s=null!==(o=c[1])&&void 0!==o?o:c[0],d="svg"===e.nodeName.toLowerCase(),f=d?e.clientLeft:e.offsetLeft,g=d?e.clientTop:e.offsetTop,p=d?e.clientWidth:e.offsetWidth,m=d?e.clientHeight:e.offsetHeight,E=n.get(d?e.parentElement:e.offsetParent),v={x:f+(null!==(a=null==E?void 0:E.x)&&void 0!==a?a:0),y:g+(null!==(i=null==E?void 0:E.y)&&void 0!==i?i:0),w:p,h:m};n.set(e,v);var A=!1;if(t){A=v.x<t.x+t.w&&v.x+v.w>=t.x&&v.y<t.y+t.h&&v.y+v.h>=t.y;var b=!!l.match(N),y=!!s.match(N);if(!A&&b&&y)return W(e),!1;var h=l.match(_)?e.scrollLeft:0,C=s.match(_)?e.scrollTop:0;t={x:b?Math.max(v.x+h,t.x):t.x,y:y?Math.max(v.y+C,t.y):t.y,w:b?Math.min(v.w,v.w+v.x-t.x,t.w,t.w+t.x-v.x):t.w,h:y?Math.min(v.h,v.h+v.y-t.y,t.h,t.h+t.y-v.y):t.h}}else t=v,A=!0;d||K(e,(function(e){var o=r(e,t,n);A=A||o}));A||W(e);return A}(r),new Promise((function(t,n){try{var i=new globalScopeObject.jspdf.jsPDF({compress:!0,format:e.Size,unit:"pt",orientation:e.Orientation,putOnlyUsedFonts:!0});i.viewerPreferences({DisplayDocTitle:!0}),i.setDocumentProperties({title:e.Title}),i.html(r,{margin:e.Margin,callback:function(e){!function(r){q(r,(function(r){r.hasAttribute("data-pdf-element-id")&&r.removeAttribute("data-pdf-element-id"),r.hasAttribute("data-pdf-element-ignore")&&r.removeAttribute("data-pdf-element-ignore")}))}(r),function(r,e){if(!Core.FallbackSwitch.isActivated("AppFunctions.PdfPruneTrailingPages"))for(var t;(t=r.getNumberOfPages())>e;)r.deletePage(t)}(e,a),t(e)},html2canvas:{allowTaint:!0,letterRendering:!0,ignoreElements:Q(r,e),onclone:function(t){return function(r,e,t,n){return __awaiter(this,void 0,Promise,(function(){var o,a,i;return __generator(this,(function(u){switch(u.label){case 0:return o=e.querySelector("body"),function(r,e){q(e,(function(e){var t,n=window.getComputedStyle(e);if(n.overflow.match(j)){var o=n.overflow.split(" "),a=o[0],i=null!==(t=o[1])&&void 0!==t?t:o[0],u=e.getAttribute("data-pdf-element-id");if(u){var c=r.querySelector("[".concat("data-pdf-element-id","='").concat(u,"']"));c&&(a.match(_)&&(e.scrollLeft=c.scrollLeft),i.match(_)&&(e.scrollTop=c.scrollTop))}}}))}(r,o),n.UseDefaultFonts?[3,2]:(a=new Set,i=new Set,function(r){r.querySelectorAll("input, textarea").forEach((function(r){var e=document.createElement("div");e.className=r.className,e.id=r.id,e.innerText=r.value,function(r,e){var t=window.getComputedStyle(r),n=Array.from(t).reduce((function(r,e){return"".concat(r).concat(e,":").concat(t.getPropertyValue(e),";")}),"");e.style.cssText=n}(r,e),"INPUT"===r.nodeName&&(e.style.lineHeight="normal",e.style.display="flex",e.style.alignItems="center",e.style.overflow="hidden",e.style.whiteSpace="pre");var t=r.getAttribute("placeholder");(null==t?void 0:t.length)>0&&0===r.value.length&&(e.innerText=t,e.style.color="#757575"),"password"===r.getAttribute("type")&&(e.innerText="".repeat(r.value.length)),r.replaceWith(e)}))}(o),function(r){var e=[],t=null,n=null,o=document.createTreeWalker(r,NodeFilter.SHOW_ALL,{acceptNode:function(r){if("STYLE"===r.nodeName||"SCRIPT"===r.nodeName)return NodeFilter.FILTER_REJECT;if(r.nodeType===Node.ELEMENT_NODE){var e=getComputedStyle(r).textDecorationLine;"none"!==e&&""!==e&&(t=r,n=e)}return r.nodeType!==Node.TEXT_NODE?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT}}),a=null;for(;a=o.nextNode();){var i="none";null!==t&&(t.contains(a)?i=n:(t=null,n=null)),/\S/.test(a.textContent)&&e.push({node:a,textDecorationLine:i})}return e}(o).forEach((function(r){!function(r,e,t){var n=function(r){return getComputedStyle(r).fontWeight}(r.node.parentElement),o=function(r){return getComputedStyle(r).fontStyle}(r.node.parentElement),a=function(r,e,t){switch(getComputedStyle(r).fontFamily.split(",")[0].replace(/['"]+/g,"")){case"Dancing Script":return e===A.Bold||e===A.Semibold?"italic"===t?globalScopeObject.PdfFonts.DancingScriptBoldItalic:globalScopeObject.PdfFonts.DancingScriptBold:"italic"===t?globalScopeObject.PdfFonts.DancingScriptRegularItalic:globalScopeObject.PdfFonts.DancingScriptRegular;case"Great Vibes":return e===A.Bold||e===A.Semibold?"italic"===t?globalScopeObject.PdfFonts.GreatVibesBoldItalic:globalScopeObject.PdfFonts.GreatVibesBold:"italic"===t?globalScopeObject.PdfFonts.GreatVibesRegularItalic:globalScopeObject.PdfFonts.GreatVibesRegular;case"Lato":return e===A.Bold||e===A.Semibold?"italic"===t?globalScopeObject.PdfFonts.LatoBlackItalic:globalScopeObject.PdfFonts.LatoBlack:"italic"===t?globalScopeObject.PdfFonts.LatoRegularItalic:globalScopeObject.PdfFonts.LatoRegular;case"Lato Black":return"italic"===t?globalScopeObject.PdfFonts.LatoBlackItalic:globalScopeObject.PdfFonts.LatoBlack;case"Lato Hairline":return e===A.Bold||e===A.Semibold?"italic"===t?globalScopeObject.PdfFonts.LatoLightItalic:globalScopeObject.PdfFonts.LatoLight:"italic"===t?globalScopeObject.PdfFonts.LatoHairlineItalic:globalScopeObject.PdfFonts.LatoHairline;case"Lato Light":return e===A.Bold||e===A.Semibold?"italic"===t?globalScopeObject.PdfFonts.LatoRegularItalic:globalScopeObject.PdfFonts.LatoRegular:"italic"===t?globalScopeObject.PdfFonts.LatoLightItalic:globalScopeObject.PdfFonts.LatoLight;case"Open Sans Condensed":return e===A.Bold||e===A.Semibold?"italic"===t?globalScopeObject.PdfFonts.OpenSansCondensedBoldItalic:globalScopeObject.PdfFonts.OpenSansCondensedBold:"italic"===t?globalScopeObject.PdfFonts.OpenSansCondensedRegularItalic:globalScopeObject.PdfFonts.OpenSansCondensedRegular;case"Patrick Hand":return e===A.Bold||e===A.Semibold?"italic"===t?globalScopeObject.PdfFonts.PatrickHandBoldItalic:globalScopeObject.PdfFonts.PatrickHandBold:"italic"===t?globalScopeObject.PdfFonts.PatrickHandRegularItalic:globalScopeObject.PdfFonts.PatrickHandRegular;case"Segoe UI":return e===A.Bold?"italic"===t?globalScopeObject.PdfFonts.SegoeUIBoldItalic:globalScopeObject.PdfFonts.SegoeUIBold:e===A.Semibold?"italic"===t?globalScopeObject.PdfFonts.SegoeUISemiboldItalic:globalScopeObject.PdfFonts.SegoeUISemibold:e===A.Lighter?"italic"===t?globalScopeObject.PdfFonts.SegoeUILightItalic:globalScopeObject.PdfFonts.SegoeUILight:"italic"===t?globalScopeObject.PdfFonts.SegoeUIRegularItalic:globalScopeObject.PdfFonts.SegoeUIRegular;case"Arial":return e===A.Bold||e===A.Semibold?"italic"===t?globalScopeObject.PdfFonts.ArialBoldItalic:globalScopeObject.PdfFonts.ArialBold:"italic"===t?globalScopeObject.PdfFonts.ArialRegularItalic:globalScopeObject.PdfFonts.ArialRegular;case"Verdana":return e===A.Bold||e===A.Semibold?"italic"===t?globalScopeObject.PdfFonts.VerdanaBoldItalic:globalScopeObject.PdfFonts.VerdanaBold:"italic"===t?globalScopeObject.PdfFonts.VerdanaRegularItalic:globalScopeObject.PdfFonts.VerdanaRegular;case"Georgia":return e===A.Bold||e===A.Semibold?"italic"===t?globalScopeObject.PdfFonts.GeorgiaBoldItalic:globalScopeObject.PdfFonts.GeorgiaBold:"italic"===t?globalScopeObject.PdfFonts.GeorgiaRegularItalic:globalScopeObject.PdfFonts.GeorgiaRegular;case"Courier New":return e===A.Bold||e===A.Semibold?"italic"===t?globalScopeObject.PdfFonts.CourierNewBoldItalic:globalScopeObject.PdfFonts.CourierNewBold:"italic"===t?globalScopeObject.PdfFonts.CourierNewRegularItalic:globalScopeObject.PdfFonts.CourierNewRegular;case"Open Sans":default:return e===A.Bold?"italic"===t?globalScopeObject.PdfFonts.OpenSansBoldItalic:globalScopeObject.PdfFonts.OpenSansBold:e===A.Semibold?"italic"===t?globalScopeObject.PdfFonts.OpenSansSemiboldItalic:globalScopeObject.PdfFonts.OpenSansSemibold:e===A.Lighter?"italic"===t?globalScopeObject.PdfFonts.OpenSansLightItalic:globalScopeObject.PdfFonts.OpenSansLight:"italic"===t?globalScopeObject.PdfFonts.OpenSansRegularItalic:globalScopeObject.PdfFonts.OpenSansRegular}}(r.node.parentElement,n,o),i=document.createElement("span");i.style.fontFamily=a.fontName,i.style.textDecorationLine=r.textDecorationLine,i.style.letterSpacing="0.01px",e.add(a);for(var u=a,c=C()(r.node.textContent),l=0,s=c;l<s.length;l++){var d=s[l],f=z(d,a,n,o),g=f[0],p=f[1];g.fontName!==u.fontName&&(i.textContent.length>0&&(r.node.parentNode.insertBefore(i,r.node),i=document.createElement("span")),i.style.fontFamily=g.fontName,i.style.textDecorationLine=r.textDecorationLine,i.style.letterSpacing="0.01px",e.add(g),t.add(p)),i.textContent+=d,u=g}r.node.parentNode.insertBefore(i,r.node),r.node.parentNode.removeChild(r.node)}(r,a,i)})),Core.Telemetry.Log.trackActivityEvent("pdfAsync.onHtml2CanvasClone.usedFonts",{fonts:Array.from(a).map((function(r){return r.fontName})).join(","),scripts:Array.from(i).join(",")}),[4,J(t,a)]);case 1:u.sent(),u.label=2;case 2:return[2]}}))}))}(r,t,i,e)},scale:o,inlineSVGToPNG:!0}}).catch(n)}catch(r){n(r)}}))}function K(r,e){Array.from(r.children).forEach((function(r){return e(r)}))}function q(r,e){e(r),K(r,(function(r){q(r,e)}))}function W(r){q(r,(function(r){r.setAttribute("data-pdf-element-ignore","1")}))}function z(r,e,t,n){var o=function(){return null===x&&(x={latinAndBasicSymbols:new RegExp("[\\w\\n\\r\\s.,\\/#!$%\\^&\\*;:{}=\\-_`~()\\[\\]\\+\\\\\"'<>@]"),cyrillic:new RegExp("\\p{scx=Cyrillic}","u"),hindi:new RegExp("\\p{scx=Devanagari}","u"),chineseAndJapanese:new RegExp("\\p{scx=Han}|\\p{scx=Hiragana}|\\p{scx=Katakana}","u"),thai:new RegExp("\\p{scx=Thai}","u"),korean:new RegExp("\\p{scx=Hangul}","u"),advancedSymbols:new RegExp("[\\u0192\\u0370-\\u03ff\\u1680-\\u16ff\\u2038-\\u209c\\u20ac\\u20d0-\\u20ff\\u2100-\\u214f\\u2190-\\u243f\\u2449-\\u245f\\u2460-\\u2bff\\u2c00-\\u2c5e\\u2c80-\\u2cff\\u2e00-\\u2e7f\\u4dc0-\\u4dff\\ufe24-\\ufe26]")}),x}();if(o.latinAndBasicSymbols.test(r))return[e,"latinAndBasicSymbols"];if(o.cyrillic.test(r)){var a="cyrillic";return t===A.Bold?"italic"===n?[globalScopeObject.PdfFonts.OpenSansBoldItalic,a]:[globalScopeObject.PdfFonts.OpenSansBold,a]:t===A.Semibold?"italic"===n?[globalScopeObject.PdfFonts.OpenSansSemiboldItalic,a]:[globalScopeObject.PdfFonts.OpenSansSemibold,a]:t===A.Lighter?"italic"===n?[globalScopeObject.PdfFonts.OpenSansLightItalic,a]:[globalScopeObject.PdfFonts.OpenSansLight,a]:"italic"===n?[globalScopeObject.PdfFonts.OpenSansRegularItalic,a]:[globalScopeObject.PdfFonts.OpenSansRegular,a]}if(o.hindi.test(r)){a="hindi";return t===A.Bold||t===A.Semibold?"italic"===n?[globalScopeObject.PdfFonts.NotoSansDevanagariBoldItalic,a]:[globalScopeObject.PdfFonts.NotoSansDevanagariBold,a]:t===A.Lighter?"italic"===n?[globalScopeObject.PdfFonts.NotoSansDevanagariLightItalic,a]:[globalScopeObject.PdfFonts.NotoSansDevanagariLight,a]:"italic"===n?[globalScopeObject.PdfFonts.NotoSansDevanagariRegularItalic,a]:[globalScopeObject.PdfFonts.NotoSansDevanagariRegular,a]}if(o.chineseAndJapanese.test(r)){a="chineseAndJapanese";return t===A.Bold||t===A.Semibold?"italic"===n?[globalScopeObject.PdfFonts.NotoSansCNJPBoldItalic,a]:[globalScopeObject.PdfFonts.NotoSansCNJPBold,a]:t===A.Lighter?"italic"===n?[globalScopeObject.PdfFonts.NotoSansCNJPLightItalic,a]:[globalScopeObject.PdfFonts.NotoSansCNJPLight,a]:"italic"===n?[globalScopeObject.PdfFonts.NotoSansCNJPRegularItalic,a]:[globalScopeObject.PdfFonts.NotoSansCNJPRegular,a]}if(o.thai.test(r)){a="thai";return t===A.Bold||t===A.Semibold?"italic"===n?[globalScopeObject.PdfFonts.NotoSansThaiBoldItalic,a]:[globalScopeObject.PdfFonts.NotoSansThaiBold,a]:"italic"===n?[globalScopeObject.PdfFonts.NotoSansThaiRegularItalic,a]:[globalScopeObject.PdfFonts.NotoSansThaiRegular,a]}if(o.korean.test(r)){a="korean";return t===A.Bold||t===A.Semibold?"italic"===n?[globalScopeObject.PdfFonts.NotoSansKRBoldItalic,a]:[globalScopeObject.PdfFonts.NotoSansKRBold,a]:t===A.Lighter?"italic"===n?[globalScopeObject.PdfFonts.NotoSansKRLightItalic,a]:[globalScopeObject.PdfFonts.NotoSansKRLight,a]:"italic"===n?[globalScopeObject.PdfFonts.NotoSansKRRegularItalic,a]:[globalScopeObject.PdfFonts.NotoSansKRRegular,a]}if(o.advancedSymbols.test(r)){a="advancedSymbols";return t===A.Bold||t===A.Semibold?"italic"===n?[globalScopeObject.PdfFonts.SegoeUISymbolBoldItalic,a]:[globalScopeObject.PdfFonts.SegoeUISymbolBold,a]:"italic"===n?[globalScopeObject.PdfFonts.SegoeUISymbolRegularItalic,a]:[globalScopeObject.PdfFonts.SegoeUISymbolRegular,a]}return[e,"latinAndBasicSymbols"]}function J(r,e){return __awaiter(this,void 0,Promise,(function(){var t,n,o,a,i,u,c,l;return __generator(this,(function(s){switch(s.label){case 0:return t=[],n=[],e.forEach((function(r){switch(r){case globalScopeObject.PdfFonts.DancingScriptRegular:case globalScopeObject.PdfFonts.DancingScriptRegularItalic:case globalScopeObject.PdfFonts.DancingScriptBold:case globalScopeObject.PdfFonts.DancingScriptBoldItalic:n.push(AppMagic.Constants.pdfFontsDancingScriptRequirement);break;case globalScopeObject.PdfFonts.GreatVibesRegular:case globalScopeObject.PdfFonts.GreatVibesRegularItalic:case globalScopeObject.PdfFonts.GreatVibesBold:case globalScopeObject.PdfFonts.GreatVibesBoldItalic:n.push(AppMagic.Constants.pdfFontsGreatVibesRequirement);break;case globalScopeObject.PdfFonts.LatoBlack:case globalScopeObject.PdfFonts.LatoHairline:case globalScopeObject.PdfFonts.LatoLight:case globalScopeObject.PdfFonts.LatoRegular:n.push(AppMagic.Constants.pdfFontsLatoRequirement);break;case globalScopeObject.PdfFonts.NotoSansCNJPRegular:n.push(AppMagic.Constants.pdfFontsNotoSansCNJPPart1Requirement,AppMagic.Constants.pdfFontsNotoSansCNJPPart2Requirement);break;case globalScopeObject.PdfFonts.NotoSansCNJPRegularItalic:n.push(AppMagic.Constants.pdfFontsNotoSansCNJPItalicPart1Requirement,AppMagic.Constants.pdfFontsNotoSansCNJPItalicPart2Requirement);break;case globalScopeObject.PdfFonts.NotoSansCNJPBold:n.push(AppMagic.Constants.pdfFontsNotoSansCNJPBoldPart1Requirement,AppMagic.Constants.pdfFontsNotoSansCNJPBoldPart2Requirement);break;case globalScopeObject.PdfFonts.NotoSansCNJPBoldItalic:n.push(AppMagic.Constants.pdfFontsNotoSansCNJPBoldItalicPart1Requirement,AppMagic.Constants.pdfFontsNotoSansCNJPBoldItalicPart2Requirement);break;case globalScopeObject.PdfFonts.NotoSansCNJPLight:n.push(AppMagic.Constants.pdfFontsNotoSansCNJPLightPart1Requirement,AppMagic.Constants.pdfFontsNotoSansCNJPLightPart2Requirement);break;case globalScopeObject.PdfFonts.NotoSansCNJPLightItalic:n.push(AppMagic.Constants.pdfFontsNotoSansCNJPLightItalicPart1Requirement,AppMagic.Constants.pdfFontsNotoSansCNJPLightItalicPart2Requirement);break;case globalScopeObject.PdfFonts.NotoSansDevanagariRegular:case globalScopeObject.PdfFonts.NotoSansDevanagariRegularItalic:case globalScopeObject.PdfFonts.NotoSansDevanagariBold:case globalScopeObject.PdfFonts.NotoSansDevanagariBoldItalic:case globalScopeObject.PdfFonts.NotoSansDevanagariLight:case globalScopeObject.PdfFonts.NotoSansDevanagariLightItalic:n.push(AppMagic.Constants.pdfFontsNotoSansDevanagariRequirement);break;case globalScopeObject.PdfFonts.NotoSansKRRegular:n.push(AppMagic.Constants.pdfFontsNotoSansKRRequirement);break;case globalScopeObject.PdfFonts.NotoSansKRRegularItalic:n.push(AppMagic.Constants.pdfFontsNotoSansKRItalicPart1Requirement,AppMagic.Constants.pdfFontsNotoSansKRItalicPart2Requirement);break;case globalScopeObject.PdfFonts.NotoSansKRBold:n.push(AppMagic.Constants.pdfFontsNotoSansKRBoldRequirement);break;case globalScopeObject.PdfFonts.NotoSansKRBoldItalic:n.push(AppMagic.Constants.pdfFontsNotoSansKRBoldItalicPart1Requirement,AppMagic.Constants.pdfFontsNotoSansKRBoldItalicPart2Requirement);break;case globalScopeObject.PdfFonts.NotoSansKRLight:n.push(AppMagic.Constants.pdfFontsNotoSansKRLightRequirement);break;case globalScopeObject.PdfFonts.NotoSansKRLightItalic:n.push(AppMagic.Constants.pdfFontsNotoSansKRLightItalicPart1Requirement,AppMagic.Constants.pdfFontsNotoSansKRLightItalicPart2Requirement);break;case globalScopeObject.PdfFonts.NotoSansThaiRegular:case globalScopeObject.PdfFonts.NotoSansThaiRegularItalic:case globalScopeObject.PdfFonts.NotoSansThaiBold:case globalScopeObject.PdfFonts.NotoSansThaiBoldItalic:n.push(AppMagic.Constants.pdfFontsNotoSansThaiRequirement);break;case globalScopeObject.PdfFonts.OpenSansRegular:case globalScopeObject.PdfFonts.OpenSansRegularItalic:case globalScopeObject.PdfFonts.OpenSansBold:case globalScopeObject.PdfFonts.OpenSansBoldItalic:case globalScopeObject.PdfFonts.OpenSansSemibold:case globalScopeObject.PdfFonts.OpenSansSemiboldItalic:case globalScopeObject.PdfFonts.OpenSansLight:case globalScopeObject.PdfFonts.OpenSansLightItalic:n.push(AppMagic.Constants.pdfFontsOpenSansRequirement);break;case globalScopeObject.PdfFonts.OpenSansCondensedRegular:case globalScopeObject.PdfFonts.OpenSansCondensedRegularItalic:case globalScopeObject.PdfFonts.OpenSansCondensedBold:case globalScopeObject.PdfFonts.OpenSansCondensedBoldItalic:n.push(AppMagic.Constants.pdfFontsOpenSansCondensedRequirement);break;case globalScopeObject.PdfFonts.PatrickHandRegular:case globalScopeObject.PdfFonts.PatrickHandRegularItalic:case globalScopeObject.PdfFonts.PatrickHandBold:case globalScopeObject.PdfFonts.PatrickHandBoldItalic:n.push(AppMagic.Constants.pdfFontsPatrickHandRequirement);break;case globalScopeObject.PdfFonts.SegoeUIRegular:case globalScopeObject.PdfFonts.SegoeUIRegularItalic:case globalScopeObject.PdfFonts.SegoeUIBold:case globalScopeObject.PdfFonts.SegoeUIBoldItalic:case globalScopeObject.PdfFonts.SegoeUISemibold:case globalScopeObject.PdfFonts.SegoeUISemiboldItalic:case globalScopeObject.PdfFonts.SegoeUILight:case globalScopeObject.PdfFonts.SegoeUILightItalic:n.push(AppMagic.Constants.pdfFontsSegoeUIRequirement);break;case globalScopeObject.PdfFonts.SegoeUISymbolRegular:case globalScopeObject.PdfFonts.SegoeUISymbolRegularItalic:n.push(AppMagic.Constants.pdfFontsSegoeUISymbolRequirement);break;case globalScopeObject.PdfFonts.SegoeUISymbolBold:case globalScopeObject.PdfFonts.SegoeUISymbolBoldItalic:n.push(AppMagic.Constants.pdfFontsSegoeUISymbolBoldRequirement);break;case globalScopeObject.PdfFonts.ArialRegular:case globalScopeObject.PdfFonts.ArialRegularItalic:case globalScopeObject.PdfFonts.ArialBold:case globalScopeObject.PdfFonts.ArialBoldItalic:n.push(AppMagic.Constants.pdfFontsArialRequirement);break;case globalScopeObject.PdfFonts.VerdanaRegular:case globalScopeObject.PdfFonts.VerdanaRegularItalic:case globalScopeObject.PdfFonts.VerdanaBold:case globalScopeObject.PdfFonts.VerdanaBoldItalic:n.push(AppMagic.Constants.pdfFontsVerdanaRequirement);break;case globalScopeObject.PdfFonts.GeorgiaRegular:case globalScopeObject.PdfFonts.GeorgiaRegularItalic:case globalScopeObject.PdfFonts.GeorgiaBold:case globalScopeObject.PdfFonts.GeorgiaBoldItalic:n.push(AppMagic.Constants.pdfFontsGeorgiaRequirement);break;case globalScopeObject.PdfFonts.CourierNewRegular:case globalScopeObject.PdfFonts.CourierNewRegularItalic:case globalScopeObject.PdfFonts.CourierNewBold:case globalScopeObject.PdfFonts.CourierNewBoldItalic:n.push(AppMagic.Constants.pdfFontsCourierNewRequirement)}t.push(r)})),[4,w(n)];case 1:s.sent(),o=0,a=t,s.label=2;case 2:return o<a.length?(i=a[o],c=(u=r).addFileToVFS,l=[i.uniqueId],[4,i.getFontContentAsBase64Async()]):[3,5];case 3:c.apply(u,l.concat([s.sent()])),r.addFont(i.uniqueId,i.fontName,"normal"),r.setFont(i.fontName),s.label=4;case 4:return o++,[3,2];case 5:return[2]}}))}))}function Q(r,e){for(var t,n=new Set,o=r.getAttribute(AppMagic.Constants.ControlIdDataAttribute),a=r,i=!1;a;)n.add(a),a=a.parentElement;var u=!Core.FallbackSwitch.isActivated("AppFunctions.PdfPruneNonVisibleContent");return function(e){var a=null!=t?t:t=document.querySelector(".html2pdf__overlay");return!i&&e.hasAttribute(AppMagic.Constants.ControlIdDataAttribute)&&e.getAttribute(AppMagic.Constants.ControlIdDataAttribute)===o&&a.contains(e)&&(i=!0,function(r,e){var t=OpenAjax.widget.controlManager.getControlInstanceById(e).control;r.style.top="0",r.style.left="0";var n=null,o=null;switch(r.style.width){case"":n=t.OpenAjax.getPropertyValue(T.Width);break;case"auto":n=t.OpenAjax.getPropertyValue(T.AutoLayoutWidth)}switch(r.style.height){case"":o=t.OpenAjax.getPropertyValue(T.Height);break;case"auto":o=t.OpenAjax.getPropertyValue(T.AutoLayoutHeight)}null!==n&&(r.style.width=AppMagic.Controls.converters.pxHorizontalConverter.view(n));null!==o&&(r.style.height=AppMagic.Controls.converters.pxVerticalConverter.view(o))}(e,o)),u&&e.hasAttribute("data-pdf-element-ignore")&&a.contains(e)&&(e.style.visibility="hidden"),!function(r,e,t,n){return r===e||r===document.head||r===t||"STYLE"===r.tagName||n.has(r)||document.head.contains(r)||e.contains(r)||t.contains(r)}(e,r,a,n)||e.classList.contains("a11y")}}function Y(r,e,t,n){var o,a=String(e),i=AppMagic.Strings.PdfFunctionError,u=F.ErrorKind.Unknown;switch(n.customScenarioData.reason=a,Core.Telemetry.Log.trackActivityEvent("pdfAsync.handlePdfError",{error:a}),e){case S.NotEnabled:u=F.ErrorKind.NotSupported,n.scenarioResult=Core.Telemetry.ScenarioResult.Canceled;break;case S.TargetNull:case S.TargetNotControl:case S.ControlNotOnCurrentScreen:case S.InvalidBindingContext:u=F.ErrorKind.InvalidFunctionUsage,n.scenarioResult=Core.Telemetry.ScenarioResult.Canceled;break;case S.CurrentScreenNotFound:case S.HtmlElementNotFound:u=F.ErrorKind.Internal,n.scenarioResult=Core.Telemetry.ScenarioResult.Failed,Core.Telemetry.Log.trackErrorEvent("PdfFunction.InternalError",__assign({stringifiedError:a,isTargetNull:null===t,isTargetErrorValue:I(t)},null===t||I(t)?{}:{isTargetNameEmpty:!t.controlName,targetUID:t.uniqueId,targetTemplateName:null===(o=t.template)||void 0===o?void 0:o.name}));break;default:n.scenarioResult=Core.Telemetry.ScenarioResult.Failed;var c={error:a};e instanceof Error&&(c=__assign(__assign({},c),{name:e.name,message:e.message,stack:e.stack})),Core.Telemetry.Log.trackErrorEvent("PdfFunction.UnknownError",c)}switch(e){case S.NotEnabled:i=AppMagic.Strings.PdfFunctionError_NotEnabled;break;case S.TargetNull:i=AppMagic.Strings.PdfFunctionError_TargetIsNull;break;case S.TargetNotControl:i=AppMagic.Strings.PdfFunctionError_TargetIsNotControl;break;case S.InvalidBindingContext:i=AppMagic.Strings.PdfFunctionError_InvalidBindingContext;break;case S.ControlNotOnCurrentScreen:i=AppMagic.Strings.PdfFunctionError_TargetNotOnCurrentScreen}return F.ErrorValue.createGatedError(u,F.ErrorSeverity.Severe,a,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:i,raiseToastNotification:!0,functionName:"PDF"}))}t.d(e,"enable",(function(){return $})),t.d(e,"disable",(function(){return Z})),t.d(e,"submitFormAsync",(function(){return X})),t.d(e,"resetFormAsync",(function(){return rr})),t.d(e,"editFormAsync",(function(){return er})),t.d(e,"viewFormAsync",(function(){return tr})),t.d(e,"newFormAsync",(function(){return nr})),t.d(e,"downloadAsync",(function(){return or})),t.d(e,"requestHideAsync",(function(){return ar})),t.d(e,"exitAsync",(function(){return ir})),t.d(e,"resetAsync",(function(){return ur})),t.d(e,"set",(function(){return cr})),t.d(e,"setFocusAsync",(function(){return lr})),t.d(e,"select",(function(){return sr})),t.d(e,"notify",(function(){return dr})),t.d(e,"concurrentAsync",(function(){return fr})),t.d(e,"traceAsync",(function(){return gr})),t.d(e,"readNFCAsync",(function(){return pr})),t.d(e,"pdfAsync",(function(){return mr})),t.d(e,"createItemNotFoundError",(function(){return Er})),t.d(e,"createTypeMismatchError",(function(){return vr}));var $=Object(b.standardErrorHandling)((function(r){var e=AppMagic.Data.DataSourceValue.getDataSourceName(r);return null!==e?AppMagic.AuthoringTool.Runtime.enableDynamicDatasource(e):i.ErrorValue.createGatedError(i.ErrorKind.Unknown,i.ErrorSeverity.Severe)}),b.returnIfErrorOrNullArgument,"Enable"),Z=Object(b.standardErrorHandling)((function(r){var e=AppMagic.Data.DataSourceValue.getDataSourceName(r);return null!==e?AppMagic.AuthoringTool.Runtime.disableDynamicDatasource(e):i.ErrorValue.createGatedError(i.ErrorKind.Unknown,i.ErrorSeverity.Severe)}),b.returnIfErrorOrNullArgument,"Disable"),X=Object(b.standardErrorHandlingECBCAsync)((function(r,e,t){return g(e,t).then((function(e){var t,o,a,u=AppMagic.Utility.hasSubmitsDataCapability(e),s=e,d=s&&s.OpenAjax&&s.OpenAjax.uniqueId||null,f=Core.Telemetry.Log.startScenario(Core.Telemetry.ScenarioName.SubmitForm,{controlUniqueId:d,functionSource:"behaviorReplacementFunctions"});if(l(e))return Core.Telemetry.Log.failScenario(f,{customScenarioData:{failureSource:"client"},message:AppMagic.Strings.CustomFormControlSubmitLogicErrorText}),Core.Diagnostics.trace(Core.Diagnostics.CategoryNames.Runtime,"submitFormAsync",{context:r,info:AppMagic.Strings.CustomFormControlSubmitLogicErrorText,message:AppMagic.Strings.CustomFormControlHandleErrorText},Core.Diagnostics.MonitorLogLevel.Error),e;if(c(e))return Core.Telemetry.Log.failScenario(f,{customScenarioData:{failureSource:"client"},message:"A non-form control was passed to the function."}),Core.Diagnostics.trace(Core.Diagnostics.CategoryNames.Runtime,"submitFormAsync",{context:r,info:AppMagic.Strings.InvalidFunctionUsage_SubmitFormText,message:AppMagic.Strings.InvalidFunctionUsage_SubmitForm},Core.Diagnostics.MonitorLogLevel.Error),i.ErrorValue.createGatedError(i.ErrorKind.InvalidFunctionUsage,i.ErrorSeverity.Moderate,AppMagic.Strings.InvalidFunctionUsage_SubmitForm,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:AppMagic.Strings.InvalidFunctionUsage_SubmitForm,functionName:"SubmitForm"}));if(u)t=s.OpenAjax.getPropertyValue("DataSource",null),a=s.OpenAjax.getPropertyValue("Updates",null),o=s.OpenAjax.getPropertyValue("Item",null);else{if(Core.Utility.isFunction(e.submitFormAsync))return e.submitFormAsync().then((function(e){return e?Core.Telemetry.Log.passScenario(f):(Core.Diagnostics.trace(Core.Diagnostics.CategoryNames.Runtime,"submitFormAsync",{context:r,info:AppMagic.Strings.CustomFormControlSubmitLogicErrorText,value:e},Core.Diagnostics.MonitorLogLevel.Error),Core.Telemetry.Log.failScenario(f,{customScenarioData:{failureSource:"custom"},message:AppMagic.Strings.CustomFormControlSubmitLogicErrorText})),e}),(function(e){return Core.Telemetry.Log.failScenario(f,{customScenarioData:{failureSource:"custom"},error:e,message:"Form control must handle errors."}),Core.Diagnostics.trace(Core.Diagnostics.CategoryNames.Runtime,"submitFormAsync",{context:r,info:AppMagic.Strings.CustomFormControlHandleErrorText,error:e},Core.Diagnostics.MonitorLogLevel.Error),Promise.reject(e)}));if(!e.isValid)return Core.Telemetry.Log.cancelScenario(f,{customScenarioData:{failureSource:"client"},message:"A form entry is missing a required value or has an invalid value."}),Core.Diagnostics.trace(Core.Diagnostics.CategoryNames.Runtime,"submitFormAsync",{context:r,info:AppMagic.Strings.InvalidFormControlValueText,message:AppMagic.Strings.ErrorTryingToSubmitWithInvalid},Core.Diagnostics.MonitorLogLevel.Error),e.onValidationFailure(AppMagic.Strings.ErrorTryingToSubmitWithInvalid),i.ErrorValue.createGatedError(i.ErrorKind.Validation,i.ErrorSeverity.Moderate);if(Core.Utility.isFunction(e.getModePropertyValue)){var g=e.getModePropertyValue();if(g!==AppMagic.Data.FormMode.Edit&&g!==AppMagic.Data.FormMode.New)return Core.Telemetry.Log.cancelScenario(f,{customScenarioData:{failureSource:"client"},message:"The form control is view mode."}),Core.Diagnostics.trace(Core.Diagnostics.CategoryNames.Runtime,"submitFormAsync",{context:r,info:AppMagic.Strings.FormControlViewModeErrorText,message:AppMagic.Strings.ErrorTryingToSubmitWithInvalidMode},Core.Diagnostics.MonitorLogLevel.Error),i.ErrorValue.createGatedError(i.ErrorKind.InvalidFunctionUsage,i.ErrorSeverity.Moderate,AppMagic.Strings.ErrorTryingToSubmitWithInvalidMode,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:AppMagic.Strings.ErrorTryingToSubmitWithInvalidMode,functionName:"SubmitForm"}))}t=e.dataSource,o=e.getThisItem(),a=e.getUpdates()}return n.patchAsync(r,t,o,a).then((function(a){var u,c="";AppMagic.Data.DataValue.isErrorValue(a)&&(u=a);var s=a?i.DataValue.errorValueToNull(a):o,d=n.errors(r,t,o);return a||(c=d&&Core.Utility.isValue(d[0])?i.DataSourceError.formatDataSourceError(d[0]):AppMagic.Strings.SubmitFailedUnknown),!l(d)&&a||(d=[]),u&&0===d.length?d.push(i.DataSourceError.createCustomError(null,null,AppMagic.Strings.SubmitFailedUnknown,u.kind)):a||d.push(i.DataSourceError.createCustomError(null,null,c,i.ErrorKind.Unknown)),d.length>0?(Core.Telemetry.Log.failScenario(f,{customScenarioData:{failureSource:"server",dataSourceErrorKinds:d.map((function(r){return r.Error}))},message:"One or more errors has occurred."}),Core.Diagnostics.trace(Core.Diagnostics.CategoryNames.Runtime,"submitFormAsync",{context:r,info:AppMagic.Strings.SubmitFormErrorText,dataSourceErrors:d},Core.Diagnostics.MonitorLogLevel.Error),e.onSubmitFailure(d),!(!i.ErrorValue.isErrorHandlingFeatureEnabled()||!AppMagic.Data.DataValue.isErrorValue(a))&&a):(Core.Telemetry.Log.passScenario(f),e.onSubmitSuccess(s),!0)}),(function(e){return Core.Telemetry.Log.failScenario(f,{customScenarioData:{failureSource:"server"},error:e,message:"An unexpected error has occurred."}),Core.Diagnostics.trace(Core.Diagnostics.CategoryNames.Runtime,"submitFormAsync",{context:r,info:AppMagic.Strings.UnexpectedSubmitFormErrorText,error:e},Core.Diagnostics.MonitorLogLevel.Error),i.ErrorValue.createGatedError(i.ErrorKind.Unknown,i.ErrorSeverity.Moderate,e.message)}))}))}),b.returnIfErrorArgument,"SubmitForm",{nullReturnIsFalse:!0}),rr=Object(b.standardErrorHandlingECBCAsync)((function(r,e,t){return g(e,t).then((function(e){return l(e)?e:null===e?i.ErrorValue.createGatedError(i.ErrorKind.InvalidFunctionUsage,i.ErrorSeverity.Moderate,AppMagic.Strings.InvalidFunctionUsage_ResetForm,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:AppMagic.Strings.InvalidFunctionUsage_ResetForm,functionName:"ResetForm"})):e.reset()}))}),b.returnIfErrorArgument,"ResetForm",{nullReturnIsFalse:!0}),er=Object(b.standardErrorHandlingECBCAsync)((function(r,e,t){return g(e,t).then((function(e){return l(e)?e:Core.Utility.isValue(e)?e.editForm():i.ErrorValue.createGatedError(i.ErrorKind.InvalidFunctionUsage,i.ErrorSeverity.Moderate,AppMagic.Strings.InvalidFunctionUsage_EditForm,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:AppMagic.Strings.InvalidFunctionUsage_EditForm,functionName:"EditForm"}))}))}),b.returnIfErrorArgument,"EditForm",{nullReturnIsFalse:!0}),tr=Object(b.standardErrorHandlingECBCAsync)((function(r,e,t){return g(e,t).then((function(e){return l(e)?e:Core.Utility.isValue(e)&&Core.Utility.isFunction(e.viewForm)?e.viewForm():i.ErrorValue.createGatedError(i.ErrorKind.InvalidFunctionUsage,i.ErrorSeverity.Moderate,AppMagic.Strings.InvalidFunctionUsage_ViewForm,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:AppMagic.Strings.InvalidFunctionUsage_ViewForm,functionName:"ViewForm"}))}))}),b.returnIfErrorArgument,"ViewForm",{nullReturnIsFalse:!0}),nr=Object(b.standardErrorHandlingECBCAsync)((function(r,e,t){return g(e,t).then((function(e){return l(e)?e:null===e?i.ErrorValue.createGatedError(i.ErrorKind.InvalidFunctionUsage,i.ErrorSeverity.Moderate,AppMagic.Strings.InvalidFunctionUsage_NewForm,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:AppMagic.Strings.InvalidFunctionUsage_NewForm,functionName:"NewForm"})):e.newFormAsync()}))}),b.returnIfErrorArgument,"NewForm",{nullReturnIsFalse:!0}),or=Object(b.standardErrorHandlingECAsync)((function(r,e){return __awaiter(this,void 0,Promise,(function(){var t,n,o,a,c,l,s,d,f,g,p,m,E,v,A;return __generator(this,(function(b){switch(b.label){case 0:if(0!==(t=e.toLowerCase()).indexOf("https://"))return n=0===t.indexOf("http://")?AppMagic.Strings.PdfViewerErrorOverlayMessage_IsHttpLink:AppMagic.Strings.DownloadContentFailedInvalidUrl,[2,i.ErrorValue.createGatedError(i.ErrorKind.FileNotFound,i.ErrorSeverity.Moderate,n,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:n,functionName:"Download"}))];if(Core.Environment.isWebAuthoring()||Core.Environment.isWebPlayerApp())return(o=document.createElement("a")).download="",o.href=e,o.style.display="none",o.target="_blank",document.body.appendChild(o),o.click(),document.body.removeChild(o),[2,null];a=e.lastIndexOf("."),c=e.lastIndexOf("/"),l=c>-1?e.substring(c+1,a>c?a:e.length):"content",s=AppMagic.AuthoringTool.Runtime.startAsyncDataAction(),b.label=1;case 1:return b.trys.push([1,8,9,10]),[4,u.getMediaAsBlobAsync(e)];case 2:return null===(d=b.sent())?[2,i.ErrorValue.createGatedError(i.ErrorKind.FileNotFound,i.ErrorSeverity.Moderate,AppMagic.Strings.DownloadContentFailedInvalidUrl,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:AppMagic.Strings.DownloadContentFailedInvalidUrl,functionName:"Download"}))]:((f=Core.MimeTypes.tryGetFileExtension(d.type.toLowerCase()))||(g=e.indexOf("/",a),f="."+(a>-1?e.substring(a+1,-1!==g?g:e.length):"data")),[4,Core.IO.FileSystem.getAppTemporaryFolderAsync()]);case 3:return p=b.sent(),Core.Utility.isNonEmptyNonWhitespaceString(l)||(l=Core.Utility.generate128BitUUID()),[4,p.getOrCreateFile(l+f)];case 4:return[4,(m=b.sent()).writeBlobAsync(d)];case 5:return b.sent(),[4,AppMagic.Common.FilePicker.instance.saveFile(f,[f],l+f,m.fullPath)];case 6:return(E=b.sent()).status!==AppMagic.Common.UserResponseStatus.Success?[2,i.ErrorValue.createGatedError(i.ErrorKind.Unknown,i.ErrorSeverity.Warning)]:(v=E.response,Core.Environment.getDeviceId()!==Core.Environment.DeviceId.AndroidDevice&&Core.Environment.getDeviceId()!==Core.Environment.DeviceId.iOSDevice||v?[4,v.writeBlobAsync(d)]:[2,null]);case 7:return b.sent(),[2,v.fullPath];case 8:return A=b.sent(),Core.PromiseUtils.throwIfCanceled(A),[2,i.ErrorValue.createGatedError(i.ErrorKind.FileNotFound,i.ErrorSeverity.Moderate,AppMagic.Strings.DownloadContentFailed,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:AppMagic.Strings.DownloadContentFailed,functionName:"Download"}))];case 9:return AppMagic.AuthoringTool.Runtime.endAsyncDataAction(s),[7];case 10:return[2]}}))}))}),b.returnIfErrorOrNullArgument,"Download"),ar=Object(b.standardErrorHandlingAsync)((function(){return __awaiter(this,void 0,Promise,(function(){return __generator(this,(function(r){return[2,AppMagic.AuthoringTool.Runtime.currentApp.automater.behaviorFunctions.executeRequestHideAsync().then((function(){return!0}),Core.PromiseUtils.ignoreOperationError("requestHideAsync",!1))]}))}))}),b.passThroughArguments,"RequestHide",{nullReturnIsFalse:!0}),ir=Object(b.standardErrorHandlingAsync)((function(r){return void 0===r&&(r=!1),__awaiter(this,void 0,Promise,(function(){return __generator(this,(function(e){switch(e.label){case 0:return l(r)&&(r=!1),[4,Core.Loader.ObjectFactory.instance.getSingleton(AppMagic.Runtime.App.IRuntimeFunctionsHelperSingletonKey).exitAppAsync(r)];case 1:return[2,e.sent()]}}))}))}),b.returnIfErrorArgument,"Exit",{nullReturnIsFalse:!0}),ur=Object(b.standardErrorHandlingECBCAsync)((function(r,e,t){return g(e,t).then((function(t){if(!t||!t.OpenAjax||!t.OpenAjax.template||t.OpenAjax.isPcfControl&&!t.OpenAjax.template.supportResettableProperties||!Core.Utility.isFunction(t.OpenAjax.reset))return i.ErrorValue.createGatedError(i.ErrorKind.InvalidFunctionUsage,i.ErrorSeverity.Moderate,AppMagic.Strings.InvalidFunctionUsage_Reset,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:AppMagic.Strings.InvalidFunctionUsage_Reset,functionName:"Reset"}));var n=t.OpenAjax,o=null;for(e=null!=e?e:AppMagic.Controls.GlobalContextManager.bindingContext;!o&&e;)o=n.getControlContext(e),e=e.parent;return o?(n.reset(o),!0):i.ErrorValue.createGatedError(i.ErrorKind.InvalidFunctionUsage,i.ErrorSeverity.Moderate,AppMagic.Strings.InvalidFunctionUsage_Reset,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:AppMagic.Strings.InvalidFunctionUsage_Reset,functionName:"Reset"}))}))}),b.returnIfErrorArgument,"Reset",{nullReturnIsFalse:!0}),cr=Object(b.standardErrorHandlingECBC)((function(r,e,t,n,o){if(null===n||0===n.length){var a=Core.Utility.formatString(AppMagic.Strings.InvalidFunctionUsage_SetArg0,n);return i.ErrorValue.createGatedError(i.ErrorKind.InvalidFunctionUsage,i.ErrorSeverity.Moderate,a,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:a,functionName:"Set"}))}return AppMagic.getLanguageRuntime().setScopeVariableValue(t,n,o,e),!0}),b.passThroughArguments,"Set",{nullReturnIsFalse:!0}),lr=Object(b.standardErrorHandlingECBCAsync)((function(r,e,t,n){return __awaiter(this,void 0,Promise,(function(){var o,a,u,c,l,s,d,f;return __generator(this,(function(g){switch(g.label){case 0:return[4,Core.PromiseUtils.timeout(1)];case 1:return g.sent(),o=!1,null!==t&&(o=null!==(a=t)&&void 0!==a.uniqueId),null===t||!o&&void 0===t.OpenAjax?[2,i.ErrorValue.createGatedError(i.ErrorKind.InvalidFunctionUsage,i.ErrorSeverity.Moderate,AppMagic.Strings.InvalidFunctionUsage_SetFocus,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:AppMagic.Strings.InvalidFunctionUsage_SetFocus,functionName:"SetFocus"}))]:(u=o?AppMagic.AuthoringTool.Runtime.getNamedControl(t.uniqueId,e).OpenAjax:t.OpenAjax,c=AppMagic.AuthoringTool.Runtime.tryGetParentScreenUniqueId(u.getId()),l=AppMagic.AuthoringTool.Runtime.getNamedControl(u.topParentOrSelfUniqueId),s=l.OpenAjax,c?c&&Core.Utility.isFunction(u.setFocus)&&(n===c||s.isComponentDefinition)?(d=AppMagic.Controls.GlobalContextManager.bindingContext,!(f=u.getControlContext(e||d))&&e&&(f=u.getControlContext(d)),!f&&m(u)&&(e=u.parentReplicatedContextManager.authoringAreaBindingContext,f=u.getControlContext(e)),f?(u.setFocus(f),[2,!0]):[2,i.ErrorValue.createGatedError(i.ErrorKind.InvalidFunctionUsage,i.ErrorSeverity.Moderate,AppMagic.Strings.InvalidFunctionUsage_SetFocus,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:AppMagic.Strings.InvalidFunctionUsage_SetFocus,functionName:"SetFocus"}))]):[2,i.ErrorValue.createGatedError(i.ErrorKind.InvalidFunctionUsage,i.ErrorSeverity.Moderate,AppMagic.Strings.InvalidFunctionUsage_SetFocus,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:AppMagic.Strings.InvalidFunctionUsage_SetFocus,functionName:"SetFocus"}))]:[2,i.ErrorValue.createGatedError(i.ErrorKind.InvalidArgument,i.ErrorSeverity.Warning)])}}))}))}),b.returnIfErrorArgument,"SetFocus",{nullReturnIsFalse:!0}),sr=Object(b.standardErrorHandlingECBC)((function(r,e,t,n,o,a){var u,c;if(null===t||!Core.Utility.isObject(t))return i.ErrorValue.createGatedError(i.ErrorKind.InvalidFunctionUsage,i.ErrorSeverity.Moderate,AppMagic.Strings.InvalidFunctionUsage_Select,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:AppMagic.Strings.InvalidFunctionUsage_Select,functionName:"Select"}));var l=t,d=t.OpenAjax;if(l.uniqueId&&l.topParentOrSelf){var f=p(r,l.topParentOrSelf,a);if(s(f))return f;c=AppMagic.AuthoringTool.Runtime.getNamedControl(l.uniqueId,e).OpenAjax}else{if(!d||!d.topParentOrSelfUniqueId)return i.ErrorValue.createGatedError(i.ErrorKind.InvalidFunctionUsage,i.ErrorSeverity.Moderate,AppMagic.Strings.InvalidFunctionUsage_Select,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:AppMagic.Strings.InvalidFunctionUsage_Select,functionName:"Select"}));f=p(r,d.topParentOrSelfUniqueId,a);if(s(f))return f;c=d}if(!Core.Utility.isFunction(c.select))return i.ErrorValue.createGatedError(i.ErrorKind.InvalidFunctionUsage,i.ErrorSeverity.Moderate,AppMagic.Strings.InvalidFunctionUsage_Select,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:AppMagic.Strings.InvalidFunctionUsage_Select,functionName:"Select"}));if(!AppMagic.AuthoringTool.Runtime.tryGetParentScreenUniqueId(c.getId()))return i.ErrorValue.createGatedError(i.ErrorKind.InvalidFunctionUsage,i.ErrorSeverity.Warning);var g=AppMagic.Controls.GlobalContextManager.bindingContext;m(c)&&(e=c.parentReplicatedContextManager.authoringAreaBindingContext);var E=AppMagic.Utility.isGalleryTemplate(c.template.name),v=null,A=null;if(Core.Utility.isNumber(n)){if(!E)return i.ErrorValue.createGatedError(i.ErrorKind.InvalidFunctionUsage,i.ErrorSeverity.Moderate,AppMagic.Strings.ValidationErrors_Select_RowWithoutGallery,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:AppMagic.Strings.ValidationErrors_Select_RowWithoutGallery,functionName:"Select"}));if(A=(v=c.replicatedContextManager).authoringAreaBindingContext.parent.replicatedContexts[v.managerId],n<1||n>A.getOutputTable().length)return i.ErrorValue.createGatedError(i.ErrorKind.InvalidFunctionUsage,i.ErrorSeverity.Moderate,AppMagic.Strings.ValidationErrors_Select_InvalidGalleryRow,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:AppMagic.Strings.ValidationErrors_Select_InvalidGalleryRow,functionName:"Select"}));var b=c.getControlContext(null!=e?e:g);if(!b)return i.ErrorValue.createGatedError(i.ErrorKind.InvalidFunctionUsage,i.ErrorSeverity.Moderate,AppMagic.Strings.ValidationErrors_Select_NestedGallery,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:AppMagic.Strings.ValidationErrors_Select_NestedGallery,functionName:"Select"}));c.interactWithControlAsync(b,{SelectedRow:n})}var y=(null===(u=e.rcManager)||void 0===u?void 0:u.getControlWidget())===c;if(E&&!y){v=v||c.replicatedContextManager;var h=(A=A||v.authoringAreaBindingContext.parent.replicatedContexts[v.managerId]).getSelectedBindingContext();if(h&&h.id){e=h.id===AppMagic.Constants.authoringAreaContextId?A.bindingContextAt(0):A.bindingContextLookup[h.id]}}if(Core.Utility.isObject(o)){if(!E)return i.ErrorValue.createGatedError(i.ErrorKind.InvalidFunctionUsage,i.ErrorSeverity.Moderate,AppMagic.Strings.ValidationErrors_Select_RowWithoutGallery,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:AppMagic.Strings.ValidationErrors_Select_RowWithoutGallery,functionName:"Select"}));if(c=AppMagic.AuthoringTool.Runtime.getNamedControl(o.uniqueId,e).OpenAjax,!Core.Utility.isFunction(c.select))return i.ErrorValue.createGatedError(i.ErrorKind.InvalidFunctionUsage,i.ErrorSeverity.Moderate,AppMagic.Strings.InvalidFunctionUsage_Select,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:AppMagic.Strings.InvalidFunctionUsage_Select,functionName:"Select"}))}var C=null;for(e||(e=g);!C&&e;)(C=c.getOnSelectControlContext(e))||(e=e.parent);return C?Core.Utility.isFunction(C.behaviors.OnSelect)?(c.select(C),!0):i.ErrorValue.createGatedError(i.ErrorKind.InvalidFunctionUsage,i.ErrorSeverity.Moderate,AppMagic.Strings.ValidationErrors_Select_OnSelectRequired,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:AppMagic.Strings.ValidationErrors_Select_OnSelectRequired,functionName:"Select"})):i.ErrorValue.createGatedError(i.ErrorKind.InvalidFunctionUsage,i.ErrorSeverity.Moderate,AppMagic.Strings.ValidationErrors_Select_UpperCanvasRequired,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:AppMagic.Strings.ValidationErrors_Select_UpperCanvasRequired,functionName:"Select"}))}),b.returnIfErrorArgument,"Select",{nullReturnIsFalse:!0}),dr=Object(b.standardErrorHandling)((function(r,e,t,n){var o;if(null===e||null===t||null===n)return!1;""===e&&(e=AppMagic.Strings.ShowErrorDefault),Core.Utility.isUndefined(t)&&(t=Core.UI.Toast.ToastType.info);var a=null===(o=AppMagic.AuthoringTool.Runtime.currentApp)||void 0===o?void 0:o.hostCommandDispatcher.tryGetNotifyDispatcher();return Core.Utility.isUndefined(n)&&(n=function(r){return r?0:1e4}(a)),t<0||t>3?i.ErrorValue.createGatedError(i.ErrorKind.InvalidFunctionUsage,i.ErrorSeverity.Moderate,AppMagic.Strings.InvalidFunctionUsage_NotificationType,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:null,errorMessage:AppMagic.Strings.InvalidFunctionUsage_NotificationType,functionName:"Notify"})):n<0?i.ErrorValue.createGatedError(i.ErrorKind.InvalidFunctionUsage,i.ErrorSeverity.Moderate,AppMagic.Strings.InvalidFunctionUsage_Timeout,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:null,errorMessage:AppMagic.Strings.InvalidFunctionUsage_Timeout,functionName:"Notify"})):(a?a.notify(r,e,t,n):Core.UI.Toast.ToastHandler.suspendOnClickToastAllowDuplicates({type:t,message:e,timeout:n}),!0)}),b.returnIfErrorArgument,"Notify",{nullReturnIsFalse:!0}),fr=Object(b.standardErrorHandlingAsync)((function(r){return Core.PromiseUtils.join(r).then((function(r){return AppMagic.getLanguageRuntime().collectErrors(r,!0)}),(function(r){return i.ErrorValue.createGatedError(i.ErrorKind.Unknown,i.ErrorSeverity.Warning)}))}),b.passThroughArguments,"Concurrent",{nullReturnIsFalse:!0}),gr=Object(b.standardErrorHandlingECAsync)((function(r,e,t,n,u,c){var s,d;return __awaiter(this,void 0,Promise,(function(){var g,p,m,E;return __generator(this,(function(v){switch(v.label){case 0:return l(t)?[2,t]:l(n)?[2,n]:l(u)?[2,u]:(l(e)&&(g=i.ErrorValue.extractErrorScope(e,r.entityName,r.propertyName),e=Core.Utility.formatString(AppMagic.Strings.TraceFunction_ErrorArgument,g.FirstError.Kind,g.FirstError.Message)),Core.Utility.isNumber(t)||(t=f.Information),p=a.a.get(t),Core.Utility.isUndefined(p)?(m=Core.Utility.formatString(AppMagic.Strings.InvalidFunctionUsage_Trace_InvalidSeverity,"Trace"),[2,i.ErrorValue.createGatedError(i.ErrorKind.InvalidArgument,i.ErrorSeverity.Severe,m,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:m,functionName:"Trace"}))]):(null!==(d=null===(s=AppMagic.TestStudio)||void 0===s?void 0:s.isPlaybackMode())&&void 0!==d&&d&&AppMagic.TestStudio.addTrace(e),n&&c?(E={l:function(r){return r}},[4,o.i(r,n,c,"Trace",E)]):[3,2]));case 1:n=v.sent(),v.label=2;case 2:return Core.Diagnostics.trace(Core.Diagnostics.CategoryNames.Function,"Trace",{context:r,message:e,customDimensions:n,info:e},a.b.get(t)),AppMagic.AuthoringTool.Runtime.currentApp.userLogger.trackTrace(e,p,n),[2,!0]}}))}))}),b.passThroughArguments,"Trace",{nullReturnIsFalse:!0}),pr=Object(b.standardErrorHandlingECAsync)((function(r){if(Core.Environment.isAuthoringTool()){Core.UI.Toast.ToastHandler.suspendOnClickToast({type:Core.UI.Toast.ToastType.success,message:AppMagic.Strings.AuthoringOnlyMessage_NFCSampleScan,clickHandler:function(){Core.UI.Utility.launchInBrowser("https://go.microsoft.com/fwlink/?linkid=2202023")}});var e={Identifier:"04A1C301314003",NDEFRecords:[{RTD:d.RTD.Text,TNF:d.TNF.WELL_KNOWN,Text:AppMagic.Strings.AuthoringOnlyMessage_NFCSampleScanText,URI:""},{RTD:d.RTD.URI,TNF:d.TNF.WELL_KNOWN,Text:"",URI:"https://powerapps.microsoft.com/"}]};return Promise.resolve(e)}if(Core.Environment.isWebPlayerApp())return Promise.resolve(E(r,AppMagic.Strings.ReadNFCUnsupported,i.ErrorKind.NotSupported));if(Core.Environment.isWindowsModernPlayer())return Promise.resolve(E(r,AppMagic.Strings.ReadNFCUnsupportedOnWindows,i.ErrorKind.NotSupported));var t=new d.NFCScannerHandler;return Promise.resolve(t.readNFC()).catch((function(e){return E(r,null==e?void 0:e.message,i.ErrorKind.Unknown)}))}),b.passThroughArguments,"ReadNFC"),mr=Object(b.standardErrorHandlingECBCAsync)((function(r,e,t,n){return __awaiter(this,void 0,Promise,(function(){var o,a,i=this;return __generator(this,(function(u){return o=Core.Telemetry.Log.startScenario(Core.Telemetry.ScenarioName.PdfExport),a={scenarioResult:Core.Telemetry.ScenarioResult.Failed,customScenarioData:{reason:"Unknown"}},[2,Object(R.o)((function(){return __awaiter(i,void 0,void 0,(function(){var i,u,c,l,s,d,f,g,p;return __generator(this,(function(m){switch(m.label){case 0:i=null,m.label=1;case 1:return m.trys.push([1,10,11,12]),[4,P(n)];case 2:if(m.sent(),!Object(D.isPdfFunctionEnabled)())throw S.NotEnabled;return c=function(r){if(r){if(AppMagic.Utility.isOpenAjaxControl(r))return r.OpenAjax;var e=r,t=OpenAjax.widget.byId(e.name);if(AppMagic.Utility.isOpenAjaxControl(t))return t.OpenAjax}return null}(t),function(r,e,t){if(null===r)throw S.TargetNull;if(t.id!==AppMagic.Controls.GlobalContextManager.bindingContext.id)throw S.InvalidBindingContext;if(!e)throw S.TargetNotControl;if(Core.Telemetry.Log.trackActivityEvent("pdfAsync.throwIfInvalidTarget.targetedControlInfo",{templateName:e.template.isThirdPartyPcfControl?"ThirdPartyPcfControl":e.template.name,variantName:e.variantName}),!Object(D.isPdfFunctionTestModeEnabled)()){var n=V();if(!n)throw S.CurrentScreenNotFound;if(n.OpenAjax.uniqueId!==e.topParentOrSelfUniqueId)throw S.ControlNotOnCurrentScreen}}(t,c,e),[4,U()];case 3:return m.sent(),[4,G(c)];case 4:if(null===(l=m.sent()))throw S.HtmlElementNotFound;return s=!1,(u=V())&&(s=!0,k(u,!0)),(d=function(r){var e,t,n,o=function(){var r,e,t={Title:AppMagic.Strings.PowerApps,DPI:96,ExpandContainers:!1,Margin:[36,36,36,36],Orientation:"p",Size:"a4",SaveLocally:!1,UseDefaultFonts:!1},n=Core.Globalization.currentCulture().currentLocaleName,o=null!==(e=null===(r=Core.Globalization.SupportedLocales.additionalFacets[n])||void 0===r?void 0:r.paperSize)&&void 0!==e?e:t.Size;return t.Size=O.has(o)?o:"a4",t}(),a=new Set;if("object"==typeof r){var i={};for(var u in v)i[u]=r.hasOwnProperty(u);if(Core.Telemetry.Log.trackActivityEvent("pdfAsync.parsePdfOptions.usedOptions",i),"string"==typeof r[v.Title]&&(r[v.Title].length>0?o.Title=r[v.Title]:a.add(v.Title)),"string"==typeof r[v.Size]){var c=r[v.Size].toLowerCase();O.has(c)?o.Size=c:a.add(v.Size)}if("string"==typeof r[v.Orientation]){var l=r[v.Orientation].toLowerCase();!function(r){return"string"==typeof r&&M.has(r)}(l)?a.add(v.Orientation):o.Orientation=l}"number"==typeof r[v.DPI]&&(r[v.DPI]>0&&r[v.DPI]<1/0?o.DPI=r[v.DPI]:a.add(v.DPI)),"string"==typeof r[v.Margin]&&(o.Margin=function(r,e,t){var n=r.trim().split(/\s+/).map((function(r){return r.match(/^(?:(\+|-)?(?:(?:(\d+(?:[\.,]\d+)?|[\.,]\d+)(in|cm|mm|pt|px))|0))$/)}));if(0===n.length||n.length>4||n.some((function(r){return!r})))return[0,0,0,0];var o=[];n.forEach((function(r){if("0"===r[0])o.push(0);else{var n=r[2].replace(/,/,"."),a=("-"===r[1]?-1:1)*parseFloat(n),i=r[3],u=L(e,i,t);o.push(a*u.k)}}));for(;o.length<3;)o.push(o[0]);3===o.length&&o.push(o[1]);return function(r){if(4!==r.length)throw S.InvalidMargins}(o),o}(r[v.Margin],o.Orientation,o.Size)),o.ExpandContainers=!0===(null!==(e=r[v.ExpandContainers])&&void 0!==e?e:o[v.ExpandContainers]),o.SaveLocally=!0===(null!==(t=r[v.SaveLocally])&&void 0!==t?t:o[v.SaveLocally]),o.UseDefaultFonts=!0===(null!==(n=r[v.UseDefaultFonts])&&void 0!==n?n:o[v.UseDefaultFonts])}a.size>0&&function(r){var e,t=Array.from(r).join(", ");null===(e=Core.Loader.ObjectFactory.instance.getSingleton(AppMagic.AuthoringTool.GlobalEventBroker.ShellEventBroker.singletonKey))||void 0===e||e.publishEvent(AppMagic.AuthoringTool.GlobalEventBroker.EventBrokerId.MessageBar_Show,{messageBarType:y.MessageBarType.warning,message:Core.Utility.formatString(AppMagic.Strings.PdfFunctionError_InvalidOption,t),showDismiss:!0,truncated:!0})}(a);return Core.Telemetry.Log.trackActivityEvent("pdfAsync.parsePdfOptions.resolvedOptions",o),o}(n)).ExpandContainers?(s=!0,[4,H(c)]):[3,6];case 5:i=m.sent(),m.label=6;case 6:return s?[4,Core.PromiseUtils.timeout(500)]:[3,8];case 7:m.sent(),m.label=8;case 8:return[4,B(l,d)];case 9:return f=m.sent(),d.SaveLocally&&f.save(),g=function(r){var e=r.output("arraybuffer");Core.Telemetry.Log.trackActivityEvent("pdfAsync.convertPdfToBlobAndSave",{fileSizeBytes:e.byteLength});var t=new Blob([e],{type:"application/pdf"});return Core.Loader.ObjectFactory.instance.getSingleton(AppMagic.Runtime.App.IBlobManagerSingletonKey).addBlob(t)}(f),a.scenarioResult=Core.Telemetry.ScenarioResult.Success,a.customScenarioData.reason="Success",[2,g];case 10:return p=m.sent(),[2,Y(r,p,void 0,a)];case 11:return i&&i.restore(),u&&k(u,!1),Core.Telemetry.Log.endScenario(o,a),[7];case 12:return[2]}}))}))}))]}))}))}),b.returnIfErrorArgument,"PDF"),Er=function(){return AppMagic.Data.ErrorValue.createError(AppMagic.Data.ErrorKind.InvalidFunctionUsage,AppMagic.Data.ErrorSeverity.Moderate,AppMagic.Strings.InvalidFunctionUsage_ItemNotFound,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:null,errorMessage:AppMagic.Strings.InvalidFunctionUsage_ItemNotFound,functionName:null}))},vr=function(){return AppMagic.Data.ErrorValue.createError(AppMagic.Data.ErrorKind.InvalidFunctionUsage,AppMagic.Data.ErrorSeverity.Moderate,AppMagic.Strings.InvalidFunctionUsage_TypeMismatch,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:null,errorMessage:AppMagic.Strings.InvalidFunctionUsage_TypeMismatch,functionName:null}))}},function(r,e,t){"use strict";t.r(e);var n=t(0),o=t(3),a=t(7),i=t(1),u=t(2),c=AppMagic.Data.DataValue.isErrorValue,l=AppMagic.Data.DataValue.isBlankValue,s=AppMagic.Data.DataValue.isBlankOrErrorValue;function d(r,e,t,n,a){if(c(e))return e;if(c(t))return t;if(l(e)||l(t))return Object(u.isPowerFxV1CompatEnabled)()?null:[];if(!(e instanceof Array))return Object(i.v)(r,n,"source",e);if(!(t instanceof Array))return Object(i.v)(r,n,"countTable",t);var s=e.length,d=t.length;if(!Object(u.isPowerFxV1CompatEnabled)()){var f=Math.min(s,d);f<s?e=e.slice(0,f):f<d&&(t=t.slice(0,f))}return Object(i.h)(r,e,"string",t,"number",(function(r){return Object(u.isConsistentTabularFunctionReturnSchemaEnabled)()?o._valueColumnName:r||o._resultColumnName}),n,(function(e,t){return a(r,e,t)}),"TT")}t.d(e,"trim_T",(function(){return f})),t.d(e,"trimEnds_T",(function(){return g})),t.d(e,"mid_T",(function(){return p})),t.d(e,"proper_T",(function(){return m})),t.d(e,"lower_T",(function(){return E})),t.d(e,"upper_T",(function(){return v})),t.d(e,"len_T",(function(){return A})),t.d(e,"replace_T",(function(){return b})),t.d(e,"substitute_T",(function(){return y})),t.d(e,"concatenate_T",(function(){return h})),t.d(e,"left_TS",(function(){return C})),t.d(e,"right_TS",(function(){return S})),t.d(e,"left_TT",(function(){return O})),t.d(e,"right_TT",(function(){return M})),t.d(e,"left_ST",(function(){return D})),t.d(e,"right_ST",(function(){return R})),t.d(e,"find_T",(function(){return F})),t.d(e,"char_T",(function(){return I})),t.d(e,"boolean_T",(function(){return T})),t.d(e,"booleanN_T",(function(){return j})),t.d(e,"uniChar_T",(function(){return _}));var f=Object(n.standardErrorHandling)((function(r){return Object(i.e)(null,r,"string",o._valueColumnName,"Trim",a.trim)}),n.returnIfErrorArgument,"Trim"),g=Object(n.standardErrorHandling)((function(r){return Object(i.e)(null,r,"string",o._valueColumnName,"TrimEnds",a.trimEnds)}),n.returnIfErrorArgument,"TrimEnds"),p=Object(n.standardErrorHandlingEC)((function(r,e,t,n,c){if(!Object(u.isPowerFxV1CompatEnabled)()&&(t instanceof Array&&0===t.length||n instanceof Array&&0===n.length||c instanceof Array&&0===c.length))return[];if(void 0===c){var l=function(e,t){return a.mid(r,e,t)};return Object(i.h)(r,t,"string",n,"number",(function(r,e){return Object(u.isConsistentTabularFunctionReturnSchemaEnabled)()?o._valueColumnName:r||o._resultColumnName}),"Mid",l,e)}return l=function(e,t,n){return a.mid(r,e,t,n)},Object(i.i)(r,t,"string",n,"number",c,"number",(function(r,e,t){return Object(u.isConsistentTabularFunctionReturnSchemaEnabled)()?o._valueColumnName:r||o._resultColumnName}),"Mid",l,e)}),n.passThroughArguments,"Mid"),m=Object(n.standardErrorHandling)((function(r){return Object(i.e)(null,r,"string",o._valueColumnName,"Proper",a.proper)}),n.returnIfErrorArgument,"Proper"),E=Object(n.standardErrorHandling)((function(r){return Object(i.e)(null,r,"string",o._valueColumnName,"Lower",a.lower)}),n.returnIfErrorArgument,"Lower"),v=Object(n.standardErrorHandling)((function(r){return Object(i.e)(null,r,"string",o._valueColumnName,"Upper",a.upper)}),n.returnIfErrorArgument,"Upper"),A=Object(n.standardErrorHandling)((function(r){return Object(i.e)(null,r,"string",Object(u.isConsistentTabularFunctionReturnSchemaEnabled)()?o._valueColumnName:o._resultColumnName,"Len",a.len)}),n.returnIfErrorArgument,"Len"),b=Object(n.standardErrorHandlingEC)((function(r,e,t,n,c,l){return!Object(u.isPowerFxV1CompatEnabled)()&&(t instanceof Array&&0===t.length||n instanceof Array&&0===n.length||c instanceof Array&&0===c.length||l instanceof Array&&0===l.length)?[]:Object(i.j)(r,t,"string",n,"number",c,"number",l,"string",(function(r){return Object(u.isConsistentTabularFunctionReturnSchemaEnabled)()?o._valueColumnName:r||o._resultColumnName}),"Replace",(function(e,t,n,o){return a.replace(r,e,t,n,o)}),e)}),n.passThroughArguments,"Replace"),y=Object(n.standardErrorHandlingEC)((function(r,e,t,n,c,l){if(!Object(u.isPowerFxV1CompatEnabled)()&&(t instanceof Array&&0===t.length||n instanceof Array&&0===n.length||c instanceof Array&&0===c.length||l instanceof Array&&0===l.length))return[];if(void 0===l){var s=function(e,t,n){return a.substitute(r,e,t,n)};return Object(i.i)(r,t,"string",n,"string",c,"string",(function(r,e,t){return Object(u.isConsistentTabularFunctionReturnSchemaEnabled)()?o._valueColumnName:r||o._resultColumnName}),"Substitute",s,e)}return s=function(e,t,n,o){return a.substitute(r,e,t,n,o)},Object(i.j)(r,t,"string",n,"string",c,"string",l,"number",(function(r,e,t,n){return Object(u.isConsistentTabularFunctionReturnSchemaEnabled)()?o._valueColumnName:r||o._resultColumnName}),"Substitute",s,e)}),n.passThroughArguments,"Substitute"),h=Object(n.standardErrorHandling)((function(r,e){for(var t,n=[],l=2;l<arguments.length;l++)n[l-2]=arguments[l];for(var d=1e9,f=0,g=d,p=Object(u.isPowerFxV1CompatEnabled)(),m=0;m<n.length;m++){var E=n[m];if(c(E)&&!p)return E;if(p&&"T"===e[m]&&s(E))return E;Array.isArray(E)&&(E.length>f&&(f=E.length),E.length<g&&(g=E.length))}for(var v=p&&g!==d?g:f,A=[],b=0;b<v;b++){var y=[],h=null,C=null;for(m=0;m<n.length;m++){E=n[m];if(Array.isArray(E))if(b<E.length){var S=E[b];if(c(S)){h=S;break}if(null===S)y.push(null);else{var O=Object.keys(S),M=S[O[0]];if(c(M)){C=M;break}y.push(M)}}else y.push(null);else y.push(E)}if(h)A.push(h);else{var D=C||a.concatenate.apply(a,y);A.push(((t={})[Object(u.isConsistentTabularFunctionReturnSchemaEnabled)()?o._valueColumnName:o._resultColumnName]=D,t))}}return p&&Object(i.B)(r,A,"Concatenate",Object(u.isConsistentTabularFunctionReturnSchemaEnabled)()?o._valueColumnName:o._resultColumnName,f),A}),n.passThroughArguments,"Concatenate"),C=Object(n.standardErrorHandlingEC)((function(r,e,t){return e||Object(u.isPowerFxV1CompatEnabled)()||(e=[]),Object(i.h)(r,e,"string",t,"number",(function(r){return Object(u.isConsistentTabularFunctionReturnSchemaEnabled)()?o._valueColumnName:r||o._resultColumnName}),"Left",(function(e,t){return a.left(r,e,t)}),"TS")}),n.passThroughArguments,"Left"),S=Object(n.standardErrorHandlingEC)((function(r,e,t){return e||Object(u.isPowerFxV1CompatEnabled)()||(e=[]),Object(i.h)(r,e,"string",t,"number",(function(r){return Object(u.isConsistentTabularFunctionReturnSchemaEnabled)()?o._valueColumnName:r||o._resultColumnName}),"Right",(function(e,t){return a.right(r,e,t)}),"TS")}),n.passThroughArguments,"Right"),O=Object(n.standardErrorHandlingEC)((function(r,e,t){return d(r,e,t,"Left",a.left)}),n.passThroughArguments,"Left"),M=Object(n.standardErrorHandlingEC)((function(r,e,t){return d(r,e,t,"Right",a.right)}),n.passThroughArguments,"Right"),D=Object(n.standardErrorHandlingEC)((function(r,e,t){return l(e)&&!Object(u.isPowerFxV1CompatEnabled)()?[]:Object(i.h)(r,e,"string",t,"number",(function(r){return Object(u.isConsistentTabularFunctionReturnSchemaEnabled)()?o._valueColumnName:r||o._resultColumnName}),"Left",(function(e,t){return a.left(r,e,t)}),"ST")}),n.passThroughArguments,"Left"),R=Object(n.standardErrorHandlingEC)((function(r,e,t){return l(e)&&!Object(u.isPowerFxV1CompatEnabled)()?[]:Object(i.h)(r,e,"string",t,"number",(function(r){return Object(u.isConsistentTabularFunctionReturnSchemaEnabled)()?o._valueColumnName:r||o._resultColumnName}),"Right",(function(e,t){return a.right(r,e,t)}),"ST")}),n.passThroughArguments,"Right"),F=Object(n.standardErrorHandlingEC)((function(r,e,t,n,c){if(!Object(u.isPowerFxV1CompatEnabled)()&&(t instanceof Array&&0===t.length||n instanceof Array&&0===n.length||c instanceof Array&&0===c.length))return[];if(void 0===c){var l=function(e,t){return a.find(r,e,t)};return Object(i.h)(r,t,"string",n,"string",(function(r){return Object(u.isConsistentTabularFunctionReturnSchemaEnabled)()?o._valueColumnName:o._resultColumnName}),"Find",l,e)}return l=function(e,t,n){return a.find(r,e,t,n)},Object(i.i)(r,t,"string",n,"string",c,"number",(function(){return Object(u.isConsistentTabularFunctionReturnSchemaEnabled)()?o._valueColumnName:o._resultColumnName}),"Find",l,e)}),n.passThroughArguments,"Find"),I=Object(n.standardErrorHandlingEC)((function(r,e){return Object(i.e)(r,e,"number",Object(u.isConsistentTabularFunctionReturnSchemaEnabled)()?o._valueColumnName:o._resultColumnName,"Char",(function(e){return a.char(r,e)}))}),n.returnIfErrorArgument,"Char"),T=Object(n.standardErrorHandlingEC)((function(r,e){return Object(i.e)(r,e,"string",o._valueColumnName,"Boolean",(function(e){return a.boolean(r,e)}))}),n.returnIfErrorOrNullArgument,"Boolean"),j=Object(n.standardErrorHandlingEC)((function(r,e){return Object(i.e)(r,e,"number",o._valueColumnName,"Boolean",(function(r){return a.booleanN(r)}))}),n.returnIfErrorOrNullArgument,"Boolean"),_=Object(n.standardErrorHandlingEC)((function(r,e){return Object(i.e)(r,e,"number",o._valueColumnName,"UniChar",(function(e){return a.uniChar(r,e)}))}),n.returnIfErrorOrNullArgument,"UniChar")},function(r,e,t){"use strict";t.r(e);var n=t(0),o=t(1),a=t(4),i=t(27),u=t(8),c=t(2),l=(t(3),t(9)),s=t(10),d=AppMagic.Data,f=AppMagic.Data.DataValue.isBlankValue;function g(r,e,t,n){var o=Core.Utility.formatString(AppMagic.Strings.InvalidFunctionUsage_UntypedObjectTypeMismatch,e,t,typeof n);return d.ErrorValue.createGatedError(d.ErrorKind.InvalidArgument,d.ErrorSeverity.Severe,o,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:o,functionName:e}))}function p(r){return/^[0-9]{4,4}-[0-1][0-9]-[0-3][0-9](T[0-2][0-9]:[0-5][0-9]:[0-5][0-9](\.[0-9]{1,7})?Z?)?$/.test(r)}t.d(e,"parseJSON",(function(){return m})),t.d(e,"text_UO",(function(){return E})),t.d(e,"value_UO",(function(){return v})),t.d(e,"boolean_UO",(function(){return A})),t.d(e,"index_UO",(function(){return b})),t.d(e,"countRows_UO",(function(){return y})),t.d(e,"first_UO",(function(){return h})),t.d(e,"last_UO",(function(){return C})),t.d(e,"firstN_UO",(function(){return S})),t.d(e,"lastN_UO",(function(){return O})),t.d(e,"getPropertyValue_UO",(function(){return M})),t.d(e,"table_UO",(function(){return D})),t.d(e,"dateValue_UO",(function(){return R})),t.d(e,"dateTimeValue_UO",(function(){return F})),t.d(e,"timeValue_UO",(function(){return I})),t.d(e,"colorValue_UO",(function(){return T})),t.d(e,"gUID_UO",(function(){return j})),t.d(e,"forAll_UO",(function(){return _})),t.d(e,"forAll_UOAsync",(function(){return N})),t.d(e,"column_UO",(function(){return x})),t.d(e,"columnNames_UO",(function(){return P}));var m=Object(n.standardErrorHandlingEC)((function(r,e){try{return JSON.parse(e)}catch(e){var t=Core.Utility.formatString(AppMagic.Strings.JsonParsingError,e.message);return d.ErrorValue.createGatedError(d.ErrorKind.InvalidArgument,d.ErrorSeverity.Severe,t,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:t,functionName:"ParseJSON"}))}}),n.returnIfErrorOrNullArgument,"ParseJSON"),E=Object(n.standardErrorHandlingEC)((function(r,e,t,n){var o=Object(c.isPowerFxV1CompatEnabled)();if(f(e)){if(Core.Diagnostics.trace(Core.Diagnostics.CategoryNames.Function,"Text",{context:r,info:AppMagic.Strings.BlankNumber},Core.Diagnostics.MonitorLogLevel.Info),Core.Utility.isUndefined(t))return null;if(!o)return"";e=0}if(o&&Core.Utility.isDefined(t)&&"number"!=typeof e){var a=AppMagic.Strings.InvalidFunctionUsage_UntypedObjectTextWithFormatCanOnlyBeUsedForNumbers;return d.ErrorValue.createGatedError(d.ErrorKind.InvalidArgument,d.ErrorSeverity.Severe,a,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:a,functionName:"Text"}))}return f(t)||f(n)?(Core.Diagnostics.trace(Core.Diagnostics.CategoryNames.Function,"Text",{context:r,info:AppMagic.Strings.BlankFormat},Core.Diagnostics.MonitorLogLevel.Info),""):"string"==typeof e?e:"number"==typeof e?Object(u.K)(r,e,t,n):"boolean"==typeof e?Object(s.c)(e):g(r,"Text","Text",e)}),n.returnIfErrorArgument,"Text"),v=Object(n.standardErrorHandlingEC)((function(r,e,t){return"number"==typeof e?e:"string"==typeof e?Object(u.P)(r,e,t):"boolean"==typeof e?Object(s.b)(e):g(r,"Value","Number",e)}),n.returnIfErrorOrNullArgument,"Value"),A=Object(n.standardErrorHandlingEC)((function(r,e){return"number"==typeof e?Object(s.p)(e):"string"==typeof e?Object(s.z)(r,e):"boolean"==typeof e?e:g(r,"Boolean","Boolean",e)}),n.returnIfErrorOrNullArgument,"Boolean"),b=Object(n.standardErrorHandlingEC)((function(r,e,t){if(!Array.isArray(e))return g(r,"Index","Table",e);if("number"!=typeof t)return Object(o.t)(r,"Index","index",typeof t);t=Math.floor(t);var n=e.length;if(t<1||t>n){var a=Core.Utility.formatString(AppMagic.Strings.InvalidFunctionUsage_Index_RowIndexArgumentOutOfRange,1,n);return d.ErrorValue.createGatedError(d.ErrorKind.InvalidArgument,d.ErrorSeverity.Severe,a,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:a,skipDisplayRuntimeError:!0,functionName:"Index"}))}return e[t-1]}),n.returnIfErrorOrNullArgument,"Index",{nullValueReplacements:[void 0,0]}),y=Object(n.standardErrorHandlingEC)((function(r,e){return Array.isArray(e)?e.length:g(r,"CountRows","Table",e)}),n.returnIfErrorOrNullArgument,"CountRows",{nullValueReplacements:[[]]}),h=Object(n.standardErrorHandlingEC)((function(r,e){return Array.isArray(e)?0===e.length?null:e[0]:g(r,"First","Table",e)}),n.returnIfErrorOrNullArgument,"First",{nullValueReplacements:[[]]}),C=Object(n.standardErrorHandlingEC)((function(r,e){if(!Array.isArray(e))return g(r,"Last","Table",e);var t=e.length;return 0===t?null:e[t-1]}),n.returnIfErrorOrNullArgument,"Last",{nullValueReplacements:[[]]}),S=Object(n.standardErrorHandlingEC)((function(r,e,t){if(!Array.isArray(e))return g(r,"Index","Table",e);if("number"!=typeof t)return Object(o.t)(r,"Index","index",typeof t);var n=e.length;if(0===n)return[];t=Math.min(Math.max(0,Math.floor(t)),n);for(var a=[],i=0;i<t;i++)a.push(e[i]);return a}),n.returnIfErrorOrNullArgument,"FirstN",{nullValueReplacements:[void 0,0]}),O=Object(n.standardErrorHandlingEC)((function(r,e,t){if(!Array.isArray(e))return g(r,"Index","Table",e);if("number"!=typeof t)return Object(o.t)(r,"Index","index",typeof t);var n=e.length;if(0===n)return[];for(var a=[],i=n-(t=Math.min(Math.max(0,Math.floor(t)),n));i<n;i++)a.push(e[i]);return a}),n.returnIfErrorOrNullArgument,"LastN",{nullValueReplacements:[void 0,0]}),M=Object(n.standardErrorHandlingEC)((function(r,e,t){if("object"!=typeof e||Array.isArray(e)){var n=Core.Utility.formatString(AppMagic.Strings.InvalidOperatorUsage_UntypedObjectNoFieldAccess,typeof e);return d.ErrorValue.createGatedError(d.ErrorKind.InvalidArgument,d.ErrorSeverity.Severe,n,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:n,functionName:null}))}return t in e?e[t]:null}),n.returnIfErrorOrNullArgument,"GetPropertyValue"),D=Object(n.standardErrorHandlingEC)((function(r,e){if(!Array.isArray(e))return g(r,"Table","Table",e);for(var t=e.length,n=[],o=0;o<t;o++){var a={Value:e[o]};n.push(a)}return n}),n.returnIfErrorOrNullArgument,"Table"),R=Object(n.standardErrorHandlingEC)((function(r,e){if("string"==typeof e){if(p(e))return Object(a.w)(r,e);var t=Core.Utility.formatString(AppMagic.Strings.InvalidFunctionUsage_CannotConvertToDateTime,e);return d.ErrorValue.createGatedError(d.ErrorKind.InvalidArgument,d.ErrorSeverity.Severe,t,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:t,functionName:"DateValue"}))}return g(r,"DateValue","Text",e)}),n.returnIfErrorOrNullArgument,"DateValue"),F=Object(n.standardErrorHandlingEC)((function(r,e){if("string"==typeof e){if(p(e))return Object(a.v)(r,e);var t=Core.Utility.formatString(AppMagic.Strings.InvalidFunctionUsage_CannotConvertToDateTime,e);return d.ErrorValue.createGatedError(d.ErrorKind.InvalidArgument,d.ErrorSeverity.Severe,t,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:t,functionName:"DateTimeValue"}))}return g(r,"DateTimeValue","Text",e)}),n.returnIfErrorOrNullArgument,"DateTimeValue"),I=Object(n.standardErrorHandlingEC)((function(r,e){if("string"==typeof e){if(/^[0-2][0-9]:[0-5][0-9]:[0-5][0-9](\.[0-9]{1,7})?$/.test(e))return Object(a.I)(r,e);var t=Core.Utility.formatString(AppMagic.Strings.InvalidFunctionUsage_CannotConvertToDateTime,e);return d.ErrorValue.createGatedError(d.ErrorKind.InvalidArgument,d.ErrorSeverity.Severe,t,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:t,functionName:"TimeValue"}))}return g(r,"TimeValue","Text",e)}),n.returnIfErrorOrNullArgument,"TimeValue"),T=Object(n.standardErrorHandlingEC)((function(r,e){return"string"==typeof e?function(r){return/^#[0-9a-fA-F]{6}([0-9a-fA-F]{2})?$/.test(r)}(e)?Object(i.c)(r,e):Object(i.a)(r):g(r,"ColorValue","Text",e)}),n.returnIfErrorOrNullArgument,"ColorValue"),j=Object(n.standardErrorHandlingEC)((function(r,e){return"string"==typeof e?Object(u.s)(r,e):g(r,"GUID","Text",e)}),n.returnIfErrorOrNullArgument,"GUID"),_=Object(o.G)("ForAll",Object(n.standardErrorHandlingEC)((function(r,e,t,n){return Array.isArray(e)?Object(l.a)(r,e,t,n):g(r,"ForAll","Table",e)}),n.returnIfErrorOrNullArgument,"ForAll")),N=Object(o.H)("ForAll",Object(n.standardErrorHandlingECAsync)((function(r,e,t,n){return Array.isArray(e)?Object(l.b)(r,e,t,n):Promise.resolve(g(r,"ForAll","Table",e))}),n.returnIfErrorOrNullArgument,"ForAll")),x=Object(n.standardErrorHandlingEC)((function(r,e,t){return"object"!=typeof e||Array.isArray(e)?g(r,"Column","Object",e):t in e?e[t]:null}),n.returnIfErrorOrNullArgument,"Column",{nullValueReplacements:[void 0,""],alwaysReplaceNulls:!0}),P=Object(n.standardErrorHandlingEC)((function(r,e){if("object"!=typeof e||Array.isArray(e))return g(r,"ColumnNames","Object",e);var t=[];for(var n in e)t.push({Value:n});return t}),n.returnIfErrorOrNullArgument,"ColumnNames")},function(r,e,t){"use strict";t.r(e),t.d(e,"FormatProviderTypes",(function(){return a})),t.d(e,"FormatProvider",(function(){return i})),t.d(e,"shouldUseHostFormatterSettings",(function(){return u})),t.d(e,"tryGetHostFormatter",(function(){return c}));var n=t(4),o=t(8),a={Date:"D",DateTime:"d",Time:"T",Number:"n"},i=function(){function r(){}return r.create=function(r,e){switch(r){case"D":case"d":case"T":return new n.a(e,r);case"n":return new o.a(e);default:return null}},r}();function u(){var r,e;return!!(null===(e=null===(r=AppMagic.AuthoringTool.Runtime)||void 0===r?void 0:r.currentApp)||void 0===e?void 0:e.dataFormatter)}function c(){var r,e;return null===(e=null===(r=AppMagic.AuthoringTool.Runtime)||void 0===r?void 0:r.currentApp)||void 0===e?void 0:e.dataFormatter}},function(r,e,t){"use strict";var n;!function(r){r.OfflineSync="offlinesync"}(n||(n={}));var o,a=t(1),i=t(16);t.d(e,"o",(function(){return A})),t.d(e,"n",(function(){return b})),t.d(e,"f",(function(){return y})),t.d(e,"a",(function(){return M})),t.d(e,"b",(function(){return D})),t.d(e,"e",(function(){return R})),t.d(e,"c",(function(){return T})),t.d(e,"d",(function(){return j})),t.d(e,"k",(function(){return x})),t.d(e,"i",(function(){return w})),t.d(e,"g",(function(){return V})),t.d(e,"h",(function(){return k})),t.d(e,"j",(function(){return G})),t.d(e,"l",(function(){return L})),t.d(e,"m",(function(){return q}));var u=AppMagic.Data,c=AppMagic.Data.DataValue.isErrorValue,l=AppMagic.Data.DataValue.isBlankValue,s=AppMagic.Data.DataValue.isBlankOrErrorValue,d=AppMagic.Data.DataValue.isUncommittedEntityRecord,f=AppMagic.Data.DataValue.isDataEntityRecord,g=AppMagic.Data.DataEntityRecord.getTableName,p=AppMagic.Data.DataEntityRecord.getCanonicalId,m=Core.UI.Toast,E=AppMagic.AuthoringTool.OpenAjaxPropertyNames.Printing,v=new Core.PromiseUtils.Semaphore;function A(r){return Core.FallbackSwitch.isActivated("AppFunctions.DisableScreenOperationSemaphore")?Promise.resolve(r()):v.waitAndSignal(r)}function b(r,e,t){if(l(e))return Object(a.x)(r,"UpdateContext",1);if("object"!=typeof e)return Object(a.r)(r,"UpdateContext","context","object",e);for(var n=AppMagic.getLanguageRuntime(),o=[],i=Object.keys(e),u=0,c=i.length;u<c;u++){var s=i[u];n.setAliasValue(t,s,e[s])&&o.push(s)}return AppMagic.AuthoringTool.Runtime.onAliasesChanged(t,o),!0}function y(r,e,t,n,o){return __awaiter(this,void 0,Promise,(function(){var e,a,i,c=this;return __generator(this,(function(l){return e=void 0!==t.uniqueId,null===t||!e&&void 0===t.OpenAjax?[2,u.ErrorValue.createGatedError(u.ErrorKind.Unknown,u.ErrorSeverity.Warning)]:(n||(n=""),a=e?t.name:t.OpenAjax.getId(),(i=e?t.topParentOrSelf:AppMagic.AuthoringTool.Runtime.tryGetParentScreenUniqueId(a))?[2,A((function(){return __awaiter(c,void 0,void 0,(function(){var e,t;return __generator(this,(function(u){switch(u.label){case 0:return"object"==typeof o&&b(r,o,i),[4,(e=AppMagic.AuthoringTool.Runtime).ensureControlsLoadedAsync([i],!0)];case 1:return u.sent(),t=e.getCurrentScreenName(),e.pushToNavigationStack(t,n),e.navigateTo(r,a,n),[2,!0]}}))}))}))]:[2,u.ErrorValue.createGatedError(u.ErrorKind.InvalidFunctionUsage,u.ErrorSeverity.Warning)])}))}))}var h=((o={})[AppMagic.AuthoringTool.Animation.ScreenTransitionType.Cover]=AppMagic.AuthoringTool.Animation.ScreenTransitionType.UncoverRight,o[AppMagic.AuthoringTool.Animation.ScreenTransitionType.CoverRight]=AppMagic.AuthoringTool.Animation.ScreenTransitionType.Uncover,o[AppMagic.AuthoringTool.Animation.ScreenTransitionType.Uncover]=AppMagic.AuthoringTool.Animation.ScreenTransitionType.CoverRight,o[AppMagic.AuthoringTool.Animation.ScreenTransitionType.UncoverRight]=AppMagic.AuthoringTool.Animation.ScreenTransitionType.Cover,o);function C(r,e){var t,n=AppMagic.AuthoringTool.Runtime,o=n.getCurrentScreenName(),a=n.tryGetBackNavigationScreen(o);return!!a&&(e?t=e:(t=a.screenTransition,h[t]&&(t=h[t])),n.navigateTo(r,a.targetName,t),!0)}function S(){return Core.Loader.ObjectFactory.instance.isObjectRegistered(AppMagic.Runtime.App.IRuntimeFunctionsHelperSingletonKey)?Core.Loader.ObjectFactory.instance.getSingleton(AppMagic.Runtime.App.IRuntimeFunctionsHelperSingletonKey).navigateBack():(Core.Telemetry.Log.trackActivityEvent("screenReplacementFunctions.back",{message:"runtime plugin not registered, navigateBack on host cannot be invoked"}),!1)}var O=0;function M(r){var e=function(){return!!C(null,r)||S()};return v.currentCount<=0?(0==O++?(Core.Telemetry.Log.trackActivityEvent("screenReplacementFunctions._backFromHost",{message:"Back from host invoked while blocking screen operation in progress"}),Core.PromiseUtils.wrapWithFinally(A(e),(function(){O=0}))):Core.Log.warningEx("screenReplacementFunctions._backFromHost","Back from host invoked ".concat(O," times while blocking screen operation in progress"),{eventData:{invokedWhileBlockingCount:O}}),!0):(Core.Telemetry.Log.trackActivityEvent("screenReplacementFunctions._backFromHost",{message:"Back from host invoked"}),e())}function D(r,e){return __awaiter(this,void 0,Promise,(function(){return __generator(this,(function(t){switch(t.label){case 0:return[4,A((function(){return C(r,e)}))];case 1:return t.sent()?[2,!0]:[2,S()]}}))}))}function R(r,e){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];return"object"==typeof t[0]?F(r,e,t[0],t[1]):_(e)?Promise.resolve(!1):I(j(e,t),void 0,r)}function F(r,e,t,n){return _(e)?Promise.resolve(!1):I(j(e,t),n,r)}function I(r,e,t){return __awaiter(this,void 0,Promise,(function(){var n;return __generator(this,(function(o){return n=AppMagic.AuthoringTool.Runtime.currentApp,[2,n.hostCommandDispatcher.tryGetLaunchDispatcher().launchAsync(r,e,t)]}))}))}function T(r,e,t){return __awaiter(this,void 0,Promise,(function(){var n,o,i,l;return __generator(this,(function(s){return n=AppMagic.AuthoringTool.Runtime.currentApp,(o=n.hostCommandDispatcher.tryGetConfirmDispatcher())?!0===(l=function(r){if(!r)return!0;if(c(r.Title))return r.Title;if(c(r.Subtitle))return r.Subtitle;if(c(r.ConfirmButton))return r.ConfirmButton;if(c(r.CancelButton))return r.CancelButton;return!0}(t))?[2,o.confirmAsync(r,e,t)]:[2,l]:(Core.Telemetry.Log.trackErrorEvent(a.E,{functionName:"Confirm",reason:"dispatcher is null or undefined for this host"}),i=Core.Utility.formatString(AppMagic.Strings.InvalidFunctionUsage_InvalidHost,"Confirm"),[2,u.ErrorValue.createGatedError(u.ErrorKind.InvalidFunctionUsage,u.ErrorSeverity.Severe,i,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:null,errorMessage:i,skipDisplayRuntimeError:!0,functionName:"Confirm"}))])}))}))}function j(r,e){var t,n;if(!(null===(n=null===(t=AppMagic.AuthoringTool.Runtime.currentApp)||void 0===t?void 0:t.appHostClient)||void 0===n?void 0:n.isExpressionRuntime())){var o=r.match("^"+Core.Utility.Constants.PowerAppIdRegEx+"$");null!==o&&o.length>0&&(r=N(r,"")),(null!==(o=r.match("^"+Core.Utility.Constants.PowerAppUrlRegEx+"$"))&&o.length>3||null!==(o=r.match("^"+Core.Utility.Constants.PowerAppDoDUrlRegEx+"$"))&&o.length>3)&&(r=N(Core.Utility.Constants.PowerAppIdPrefix+o[3],""))}return function(r,e){if(Core.Utility.isNullOrUndefined(e)||HashTableUtility.isEmpty(e))return r;var t=new Core.UrlBuilder(r);for(var n in e)if(e.hasOwnProperty(n)){var o=e[n];if("string"!=typeof n||"string"!=typeof o)continue;t.setQueryParam(n,o,!1)}return t.toString()}(r,function(r){if(null===r)return null;if(u.DataRecord.isValid(r))return r;for(var e={},t=0;t<r.length;t+=2){var n=r[t],o=r[t+1];"string"==typeof n&&"string"==typeof o&&(e[n]=o)}return e}(e))}function _(r){if(null===r)return!0;var e=r.match("^"+Core.Utility.Constants.PowerAppGuidIdRegEx+"$");return null!==e&&e.length>0}function N(r,e){if(null===r)return"";var t;if(Object(i.isWebPlayerApp)()){var n=Object(i.getLaunchFunctionUrl)(r);if(""!==n)return(t=new Core.Url(n)).toString();var o=document.referrer,a=new Core.Url(o),u=a.path;"/"===u&&(u="/webplayer/app"),t=new Core.Url(a.scheme+"://"+a.host+(a.port?":"+a.port:"")+u+"?appid="+r)}else t=Object(i.isWebAuthoring)()?Object(i.isWebAuthoringEmbedded)()?Object(i.getEmbeddedEditAppUri)(r):new Core.Url(window.location.origin+window.location.pathname+"#action=edit&app-id="+encodeURIComponent(r)+"&portal="+AppMagic.Services.Azure.Region.getCurrentRegion().endpointTitle):new Core.Url("ms-apps://"+r);return""!==e&&t.setQuery("targetScreen",e),t.toString()}function x(r){return AppMagic.getLanguageRuntime().getEnvironmentValue(r)}function P(r){var e=r.split(":");return(null==e?void 0:e.length)>1&&"custompage"==e[0]?e[1]:null}function U(r){var e=HashTableUtility.create(),t=u.DataEntityRecord.getDataSourceName(r),n=AppMagic.AuthoringTool.Runtime.currentApp.dataSources.tryGetDataSource(t).tryGetTableMetadata();n.columns.forEach((function(r){e[r.extendedMetadata.displayName]=r.name}));var o=Object.keys(r),i=HashTableUtility.create();return o.forEach((function(t){var o=e[t]||t,u=function(r,e,t){var n=t.tryGetColumn(e);return n?"d"==n.getSchema().type||"D"===n.getSchema().type?"number"==typeof r?new Date(r):(Core.Telemetry.Log.trackErrorEvent(a.E,{functionName:"processPropertyDefaultValue",reason:'expected date time value to be passed as "number" not "'.concat(typeof r,'"')}),null):"object"==typeof r?n.isOptionSet?r.Id||null:1==n.getAllForeignKeys().length?r[n.getAllForeignKeys()[0]]:(Core.Telemetry.Log.trackErrorEvent(a.E,{functionName:"processPropertyDefaultValue",reason:"unable to determine how to extract default value from object, property name: ".concat(e,", table logical name: ").concat(t.logicalName,'}"')}),null):r:null}(r[t],o,n);null!==u&&(i[o]=u)})),i}function w(r,e,t){return __awaiter(this,void 0,Promise,(function(){var n,o,a,i;return __generator(this,(function(c){if(l(e)||!f(e)&&!d(e))return[2,Promise.resolve(u.ErrorValue.createGatedError(u.ErrorKind.InvalidArgument,u.ErrorSeverity.Warning))];if(n=g(e),o=void 0,f(e)&&(o=p(e)),i=(null==t?void 0:t.Page)&&P(null==t?void 0:t.Page))a={pageType:"custom",name:i,entityName:n,recordId:o};else if(a={pageType:"entityrecord",entityName:n,entityId:o,formId:null==t?void 0:t.Page},d(e))try{a.data=U(e)}catch(r){return[2,u.ErrorValue.createGatedError(u.ErrorKind.Validation,u.ErrorSeverity.Warning,null==r?void 0:r.message)]}return Core.Telemetry.Log.trackActivityEvent("screenReplacementFunctions.navigateRecordPageAsync",{message:"navigateRecordPageAsync invoked",existingEntity:!!a.entityId,entityName:n,usesSpecificForm:!!a.formId,customPage:a.name,defaultPropertiesCount:a.data&&Object.keys(a.data).length}),[2,B(a,r)]}))}))}function V(r,e){if(l(e))return Promise.resolve(u.ErrorValue.createGatedError(u.ErrorKind.InvalidArgument,u.ErrorSeverity.Warning));var t=e,n=AppMagic.Data.DataSourceValue.getAppDataSource(t);if(null===n)return Promise.resolve(u.ErrorValue.createGatedError(u.ErrorKind.InvalidArgument,u.ErrorSeverity.Warning));var o=n.tryGetTableMetadata();if(null===o||s(o.logicalName))return Promise.resolve(u.ErrorValue.createGatedError(u.ErrorKind.InvalidArgument,u.ErrorSeverity.Warning));var a={pageType:"entitylist",entityName:o.logicalName};return Core.Telemetry.Log.trackActivityEvent("screenReplacementFunctions.navigateEntityListPageAsync",{message:"navigateEntityListPageAsync invoked",entityName:o.logicalName}),B(a,r)}function k(r,e,t){if(l(e))return Promise.resolve(u.ErrorValue.createGatedError(u.ErrorKind.InvalidArgument,u.ErrorSeverity.Warning));var n=e;if(l(t))return Promise.resolve(u.ErrorValue.createGatedError(u.ErrorKind.InvalidArgument,u.ErrorSeverity.Warning));var o={pageType:"entitylist",entityName:t,viewId:n.Id};return Core.Telemetry.Log.trackActivityEvent("screenReplacementFunctions.navigateEntityListViewPageAsync",{message:"navigateEntityListViewPageAsync invoked",viewId:o.viewId,entityName:t}),B(o,r)}function H(r){return{recordId:p(r),entityName:g(r)}}function G(r,e,t,n){if(l(e))return Promise.resolve(u.ErrorValue.createGatedError(u.ErrorKind.InvalidArgument,u.ErrorSeverity.Warning));var o=P(e);if(o){var a={pageType:"custom",name:o};(null==t?void 0:t.Record)&&f(t.Record)&&(a.entityName=g(t.Record),a.recordId=p(t.Record));var i=0;return n&&(i=function r(e){var t=0;return Object.keys(e).forEach((function(n){var o=e[n];if(f(o))e[n]=H(o),t++;else if(Core.Utility.isObject(o))t+=r(o);else if(Core.Utility.isArray(o))if(o[0]&&f(o[0])){for(var a=0;a<o.length;a++)o[a]=H(o[a]);t+=o.length}else for(a=0;a<o.length;a++)t+=r(o[a])})),t}(n),a.data=n),Core.Telemetry.Log.trackActivityEvent("screenReplacementFunctions.navigateUnboundPageAsync",{message:"navigateUnboundPageAsync invoked",custompage:o,entityName:a.entityName,inputs:n?{inputsCount:Object.keys(n).length,entityRecordCount:i}:null}),B(a,r)}return Promise.resolve(u.ErrorValue.createGatedError(u.ErrorKind.Internal,u.ErrorSeverity.Warning))}function L(){return __awaiter(this,void 0,Promise,(function(){var r,e;return __generator(this,(function(t){return r=OpenAjax.widget.controlManager,Object(i.isAuthoringTool)()&&!r.isPreviewMode?(m.ToastHandler.suspendOnClickToastAllowDuplicates({type:m.ToastType.info,message:AppMagic.Strings.PrintInAuthoringRequiresPreviewMode}),[2,!1]):(e=Core.Telemetry.Log.startScenario(Core.Telemetry.ScenarioName.PrintFunction),Object(i.isIOSOrAndroid)()?(m.ToastHandler.suspendOnClickToastAllowDuplicates({type:m.ToastType.error,message:AppMagic.Strings.PrintCompatibilityMessage}),Core.Telemetry.Log.endScenario(e,{customScenarioData:{isSupportedBrowser:!1},message:"Print is not supported on Mobile"}),[2,!1]):[2,A((function(){return new Promise((function(t,n){var o=r.getControl(AppMagic.AuthoringTool.Runtime.getCurrentScreenName()).OpenAjax;null==o||o.setPropertyValue(E,!0),window.requestAnimationFrame((function(){try{window.print()}catch(r){Core.Telemetry.Log.failScenario(e,{customScenarioData:{isSupportedBrowser:!0},message:"Print failed",error:r})}finally{null==o||o.setPropertyValue(E,!1),Core.Telemetry.Log.endScenario(e,{customScenarioData:{isSupportedBrowser:!0},message:"Print finished successfully"}),t(!0)}}))}))}))])}))}))}function B(r,e){return __awaiter(this,void 0,Promise,(function(){var t,n;return __generator(this,(function(o){return t=AppMagic.AuthoringTool.Runtime.currentApp,(n=t.hostCommandDispatcher.tryGetNavigateToDispatcher())?[2,A((function(){return n.navigateToAsync(r,e)}))]:[2,u.ErrorValue.createGatedError(u.ErrorKind.InvalidFunctionUsage,u.ErrorSeverity.Severe)]}))}))}var K=function(){function r(){}return r.prototype.isCompatible=function(){return{isCompatible:!0}},r}();function q(r){if(r!==n.OfflineSync)return null;var e=Object(i.isAuthoringTool)(),t=Object(i.isReactNativeApp)();return e||!t?(m.ToastHandler.suspendOnClickToastAllowDuplicates({type:m.ToastType.info,message:e?AppMagic.Strings.OfflineStatusPageNotApplicableInAuthoring:AppMagic.Strings.OfflineStatusPageApplicableOnMobilePlayerOnly}),null):(Core.Loader.ObjectFactory.instance.getSingleton(AppMagic.Runtime.App.Messaging.ISendMessagePluginSingletonKey).getMessageReceiverAsync("OfflineSync",new K).then((function(r){r.isCompatible&&r.sendMessage({method:"showOfflineStatusPage"})})),null)}},function(r,e,t){"use strict";t.r(e),t.d(e,"updateContext",(function(){return a})),t.d(e,"navigateAsync",(function(){return i})),t.d(e,"navigateRecordPageAsync",(function(){return u})),t.d(e,"navigateEntityListPageAsync",(function(){return c})),t.d(e,"navigateEntityListViewPageAsync",(function(){return l})),t.d(e,"navigateUnboundPageAsync",(function(){return s})),t.d(e,"backAsync",(function(){return d})),t.d(e,"launchAsync",(function(){return f})),t.d(e,"param",(function(){return g})),t.d(e,"printAsync",(function(){return p})),t.d(e,"confirmAsync",(function(){return m})),t.d(e,"formHyperlink",(function(){return E})),t.d(e,"showHostInfo",(function(){return v}));var n=t(0),o=t(21),a=Object(n.standardErrorHandlingEC)(o.n,n.returnIfErrorArgument,"UpdateContext"),i=Object(n.standardErrorHandlingECAsync)(o.f,n.returnIfErrorArgument,"Navigate",{nullReturnIsFalse:!0}),u=Object(n.standardErrorHandlingAsync)(o.i,n.returnIfErrorArgument,"Navigate",{nullReturnIsFalse:!0}),c=Object(n.standardErrorHandlingAsync)(o.g,n.returnIfErrorArgument,"Navigate",{nullReturnIsFalse:!0}),l=Object(n.standardErrorHandlingAsync)(o.h,n.returnIfErrorArgument,"Navigate",{nullReturnIsFalse:!0}),s=Object(n.standardErrorHandlingAsync)(o.j,n.returnIfErrorArgument,"Navigate",{nullReturnIsFalse:!0}),d=Object(n.standardErrorHandlingECAsync)(o.b,n.returnIfErrorArgument,"Back",{nullReturnIsFalse:!0}),f=Object(n.standardErrorHandlingAsync)(o.e,n.returnIfErrorArgument,"Launch",{nullReturnIsFalse:!0}),g=Object(n.standardErrorHandling)(o.k,n.returnIfErrorOrNullArgument,"Param",{nullValueReplacements:[""]}),p=Object(n.standardErrorHandlingAsync)(o.l,n.returnIfErrorArgument,"Print",{nullReturnIsFalse:!0}),m=Object(n.standardErrorHandlingAsync)(o.c,n.returnIfErrorArgument,"Confirm",{nullReturnIsFalse:!0}),E=o.d,v=Object(n.standardErrorHandling)(o.m,n.returnIfErrorArgument,"ShowHostInfo")},function(r,e,t){"use strict";t.r(e);var n=t(0),o=t(14),a=t(1),i=t(8),u=AppMagic.Data,c=AppMagic.Data.DataValue.isErrorValue,l=AppMagic.Data.TraceSeverity;var s=null,d=null,f=!1;function g(r,e){return __awaiter(this,void 0,Promise,(function(){var t,n,o,a;return __generator(this,(function(i){switch(i.label){case 0:Core.Telemetry.Log.trackActivityEvent("InformationReplacementFunction.tryGetCurrentUserAsync",{message:"getPartialUser: ".concat(e)}),t=AppMagic.AuthoringTool.Runtime.currentApp.authenticationService,n=null,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,t.tryGetCurrentUserAsyncV2(e)];case 2:return n=i.sent(),[3,4];case 3:return o=i.sent(),Core.Log.errorEx("InformationReplacementFunction.tryGetCurrentUserAsync",o),[3,4];case 4:return n?[2,{FullName:n.fullName,Email:n.email,Image:n.imageUrl,EntraObjectId:n.objectId}]:(Core.Log.errorEx("InformationReplacementFunction.tryGetCurrentUserAsync","Failed to get userProfile. Returning Gated Error"),e?s=null:d=null,a=AppMagic.Strings.CannotRetrieveUserData,[2,u.ErrorValue.createGatedError(u.ErrorKind.Internal,u.ErrorSeverity.Severe,a,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:a,functionName:"User"}))])}}))}))}t.d(e,"language",(function(){return p})),t.d(e,"isNumeric",(function(){return m})),t.d(e,"isToday",(function(){return E})),t.d(e,"userAsync",(function(){return v})),t.d(e,"traceValue",(function(){return A})),t.d(e,"TestOnly_resetUser",(function(){return b}));var p=function(){return Core.Globalization.currentCulture().currentLocaleName},m=Object(n.standardErrorHandling)((function(r){switch(typeof r){case"number":return!0;case"string":var e=i.P(null,r);return!c(e)&&!o.u(e);default:return!1}}),n.returnIfErrorArgument,"IsNumeric"),E=Object(n.standardErrorHandling)((function(r,e){if("number"!=typeof r||!isFinite(r))return!1;var t=Date.create(e||Date.now()),n=Date.create(r);return null!==n&&isFinite(n.valueOf())&&t.getFullYear()===n.getFullYear()&&t.getMonth()===n.getMonth()&&t.getDate()===n.getDate()}),n.returnIfErrorArgument,"IsToday"),v=Object(n.standardErrorHandlingEC)((function(r,e){return void 0===e&&(e=!1),!d||!f&&e?e?(s||(s=g(r,!0)),Core.PromiseUtils.preventCancel(s)):(d=g(r,!1).then((function(r){return f=!0,r})),Core.PromiseUtils.preventCancel(d)):Core.PromiseUtils.preventCancel(d)}),n.passThroughArguments,"User"),A=Object(n.standardErrorHandlingEC)((function(r,e,t,n){Core.Utility.isNumber(n)||(n=l.Information);var o=a.a.get(n);if(Core.Utility.isUndefined(o)){var i=Core.Utility.formatString(AppMagic.Strings.InvalidFunctionUsage_Trace_InvalidSeverity,"TraceValue");return u.ErrorValue.createGatedError(u.ErrorKind.InvalidArgument,u.ErrorSeverity.Severe,i,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:i,functionName:"TraceValue"}))}var s=e;if(c(s)){var d=u.ErrorValue.extractErrorScope(s,r.entityName,r.propertyName);s=Core.Utility.formatString(AppMagic.Strings.TraceFunction_ErrorArgument,d.FirstError.Kind,d.FirstError.Message)}var f=t?Core.Utility.formatString(AppMagic.Strings.TraceValueFunction_TitlePlusMessage,t,s):"".concat(s);return Core.Diagnostics.trace(Core.Diagnostics.CategoryNames.Function,"Trace",{context:r,message:f,info:f},a.b.get(n)),AppMagic.AuthoringTool.Runtime.currentApp.userLogger.trackTrace(f,o),e}),n.passThroughArguments,"TraceValue"),b=function(){s=null,d=null,f=!1}},function(r,e,t){"use strict";t.r(e),t.d(e,"u",(function(){return a})),t.d(e,"coerceRecordToTable",(function(){return i})),t.d(e,"getOneColumnTable",(function(){return u})),t.d(e,"scanBarcodeAsync",(function(){return c})),t.d(e,"ifErrorAsync",(function(){return l})),t.d(e,"error",(function(){return s})),t.d(e,"isError",(function(){return d})),t.d(e,"createCodegenError",(function(){return f})),t.d(e,"createCodeGenSyntaxError",(function(){return g}));var n=t(0),o=t(1),a=void 0,i=Object(n.standardErrorHandling)(o.k,n.returnIfErrorOrNullArgument,""),u=Object(n.standardErrorHandling)(o.C,n.returnIfErrorOrNullArgument,""),c=Object(n.standardErrorHandlingEC)(o.I,n.passThroughArguments,"ScanBarcode"),l=Object(n.standardErrorHandlingECAsync)(o.D,n.passThroughArguments,"IfError"),s=Object(n.standardErrorHandlingEC)(o.z,n.returnIfErrorOrNullArgument,"IfError"),d=o.F,f=o.l,g=o.l;globalScopeObject._f8=AppMagic.Functions,globalScopeObject._ff0=u,globalScopeObject._ff1=i,globalScopeObject._ff2=f,globalScopeObject._ff3=g},function(r,e,t){"use strict";t.r(e);var n=t(0),o=t(10),a=t(1),i=(AppMagic.Data,AppMagic.Data.DataValue.isBlankValue,AppMagic.Data.DataValue.isErrorValue);function u(r,e,t){return null===r?null===e:null!==e&&("string"!=typeof r?Object(a.u)(null,t?"exactin":"in","left",r):"string"!=typeof e?Object(a.u)(null,t?"exactin":"in","right",e):t?e.indexOf(r)>=0:e.toLowerCase().indexOf(r.toLowerCase())>=0)}function c(r,e,t){if(null===e)return!1;var n=AppMagic.Utility.isOpenAjaxControl(r);if(null!==r&&!n&&"object"==typeof r&&!AppMagic.Data.OptionSet.isValidOptionSetData(r))return Object(a.o)(null,t?"exactin":"in","value",r);if(!(e instanceof Array))return Object(a.v)(null,t?"exactin":"in","source",e);t||"string"!=typeof r||(r=r.toLowerCase());for(var u=0,c=e.length;u<c;u++){var l=e[u];if(null!==l&&"object"==typeof l){var s=Object.keys(l);if(1===s.length)if(n){if(o.d(r,l[s[0]]))return!0}else{var d=l[s[0]];t||"string"!=typeof d||(d=d.toLowerCase());var f=AppMagic.Utility.deepCompareDataValue(r,d);if(i(f)||f)return f}}}return!1}t.d(e,"in_SS",(function(){return l})),t.d(e,"in_ST",(function(){return s})),t.d(e,"in_RT",(function(){return d})),t.d(e,"in_TT",(function(){return f})),t.d(e,"exactin_SS",(function(){return g})),t.d(e,"exactin_ST",(function(){return p})),t.d(e,"in_CT",(function(){return m}));var l=Object(n.standardErrorHandling)(u,n.returnIfErrorArgument,"in",{nullReturnIsFalse:!0,nullValueReplacements:["",""]}),s=Object(n.standardErrorHandling)(c,n.returnIfErrorArgument,"in",{nullReturnIsFalse:!0}),d=Object(n.standardErrorHandling)((function(r,e){if(null===e)return!1;if("object"!=typeof r)return Object(a.r)(null,"in","value","object",r);if(!(e instanceof Array))return Object(a.v)(null,"in","source",e);for(var t=0,n=e.length;t<n;t++){var o=e[t];if("object"==typeof o){var u=AppMagic.Utility.deepCompareDataValue(r,o);if(i(u)||u)return u}}return!1}),n.returnIfErrorArgument,"in",{nullReturnIsFalse:!0}),f=Object(n.standardErrorHandling)((function(r,e){if(null===e||null===r)return!1;if(!(r instanceof Array))return Object(a.v)(null,"in","value",r);if(!(e instanceof Array))return Object(a.v)(null,"in","source",e);for(var t=0,n=e.length;t<n;t++){var o=e[t];if(i(o))return o;if(Core.Utility.isObject(o))for(var u=0,c=r.length;u<c;u++){var l=r[u];if(i(l))return l;if(Core.Utility.isObject(l)){var s=!1,d=o[Object.keys(o)[0]],f=l[Object.keys(l)[0]];if(i(d))return d;if(i(f))return f;if(d&&f&&(s=(null==f?void 0:f.Id)===(null==d?void 0:d.Id)),i(s)||s)return s}}}return!1}),n.returnIfErrorArgument,"in",{nullReturnIsFalse:!0}),g=Object(n.standardErrorHandling)((function(r,e){return u(r,e,!0)}),n.returnIfErrorArgument,"exactin",{nullReturnIsFalse:!0,nullValueReplacements:["",""]}),p=Object(n.standardErrorHandling)((function(r,e){return c(r,e,!0)}),n.returnIfErrorArgument,"exactin",{nullReturnIsFalse:!0}),m=Object(n.standardErrorHandling)((function(r,e){if(null===e)return!1;for(var t=0,n=e.length;t<n;t++){var a=e[t];if(null!==a&&"object"==typeof a){var i=Object.keys(a);if(1===i.length&&o.d(r,a[i[0]]))return!0}}return!1}),n.returnIfErrorArgument,"in",{nullReturnIsFalse:!0})},function(r,e,t){"use strict";t.r(e),t.d(e,"colorFade",(function(){return a})),t.d(e,"rGBA",(function(){return i})),t.d(e,"colorValue",(function(){return u}));var n=t(27),o=t(0),a=Object(o.standardErrorHandlingEC)(n.b,o.returnIfErrorOrNullArgument,"ColorFade",{nullValueReplacements:[0,0]}),i=Object(o.standardErrorHandlingEC)(n.d,o.returnIfErrorArgument,"RGBA",{nullValueReplacements:[0,0,0,0]}),u=Object(o.standardErrorHandlingEC)(n.c,o.returnIfErrorOrNullArgument,"ColorValue")},function(r,e,t){"use strict";t.d(e,"b",(function(){return i})),t.d(e,"d",(function(){return u})),t.d(e,"c",(function(){return c})),t.d(e,"a",(function(){return l}));var n=t(1),o=t(2),a=AppMagic.Data;function i(r,e,t){if("number"!=typeof e)return Object(n.t)(null,"ColorFade","color",e);if("number"!=typeof t)return Object(n.t)(null,"ColorFade","fadeDelta",t);if(e<-4294967296||e>4294967295){if(Object(o.isPowerFxV1CompatEnabled)()){var i=Core.Utility.formatString(AppMagic.Strings.InvalidFunctionUsage_InvalidArgument_InvalidColor,"ColorValue");return a.ErrorValue.createGatedError(a.ErrorKind.InvalidArgument,a.ErrorSeverity.Severe,i,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:i,skipDisplayRuntimeError:!0,functionName:"ColorFade"}))}return null}var u=4278190080&(e>>>=0),c=(16711680&e)>>16,l=(65280&e)>>8,s=255&e;if(Object(o.isPowerFxV1CompatEnabled)()&&(t<-1||t>1)){i=Core.Utility.formatString(AppMagic.Strings.InvalidFunctionUsage_InvalidArgument_SecondArgument,"ColorFade");return a.ErrorValue.createGatedError(a.ErrorKind.InvalidArgument,a.ErrorSeverity.Severe,i,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:i,skipDisplayRuntimeError:!0,functionName:"ColorFade"}))}var d=Math.abs(Core.Utility.clamp(t,-1,1)),f=1-d,g=t<0?0:255;return g*=d,u+(Math.floor(c*f+g)<<16)+(Math.floor(l*f+g)<<8)+Math.floor(s*f+g)>>>0}function u(r,e,t,n,i){if(Object(o.isPowerFxV1CompatEnabled)()){"number"==typeof e&&(e=Math.floor(e)),"number"==typeof t&&(t=Math.floor(t)),"number"==typeof n&&(n=Math.floor(n));var u=null;if(e<0||e>255?u=AppMagic.Strings.InvalidFunctionUsage_InvalidArgument_FirstArgument:t<0||t>255?u=AppMagic.Strings.InvalidFunctionUsage_InvalidArgument_SecondArgument:n<0||n>255?u=AppMagic.Strings.InvalidFunctionUsage_InvalidArgument_ThirdArgument:(i<0||i>1)&&(u=AppMagic.Strings.InvalidFunctionUsage_InvalidArgument_FourthArgument),u){var c=Core.Utility.formatString(u,"RGBA");return a.ErrorValue.createGatedError(a.ErrorKind.InvalidArgument,a.ErrorSeverity.Severe,c,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:c,skipDisplayRuntimeError:!0,functionName:"RGBA"}))}}return Core.Utility.ColorUtility.toNumericColorValue(e,t,n,i)}function c(r,e){if("string"!=typeof e)return Object(n.u)(r,"ColorValue","colorString",e);if(""===e)return null;e=e.trim().toLowerCase();var t=Core.Utility.ColorUtility.getColorByName(e);if(null!==t)return t;var o=Core.Utility.ColorUtility.getColorValue(e);return null!==o?o:l(r)}function l(r){var e=Core.Utility.formatString(AppMagic.Strings.InvalidFunctionUsage_InvalidArgument_InvalidColor,"ColorValue");return a.ErrorValue.createGatedError(a.ErrorKind.InvalidArgument,a.ErrorSeverity.Severe,e,AppMagic.AuthoringTool.Runtime.tryCreateGatedReportRuntimeError({errorContext:r,errorMessage:e,skipDisplayRuntimeError:!0,functionName:"ColorValue"}))}},function(r,e,t){"use strict";t.r(e);var n=t(3),o=t(1),a=t(12),i=t(2),u=AppMagic.Data.DataValue.isBlankOrErrorValue;var c=t(0);t.d(e,"dateAdd_T",(function(){return l})),t.d(e,"dateDiff_T",(function(){return s}));var l=Object(c.standardErrorHandlingEC)((function(r,e,t,c,l,s){return void 0===s||u(s)||"string"==typeof s?Object(o.h)(r,t,"number",c,"number",(function(){return Object(i.isConsistentTabularFunctionReturnSchemaEnabled)()?n._valueColumnName:n._resultColumnName}),"DateAdd",(function(e,t){return a.dateAdd(r,e,t,l,s)}),e):Object(o.u)(r,"DateAdd_T","unit",s)}),c.passThroughArguments,"DateAdd"),s=Object(c.standardErrorHandlingEC)((function(r,e,t,c,l){return void 0===l||u(l)||"string"==typeof l?Object(o.h)(r,t,"number",c,"number",(function(){return Object(i.isConsistentTabularFunctionReturnSchemaEnabled)()?n._valueColumnName:n._resultColumnName}),"DateDiff",(function(e,t){return a.dateDiff(r,e,t,l)}),e):Object(o.u)(r,"DateDiff_T","unit",l)}),c.passThroughArguments,"DateDiff")},function(r,e,t){"use strict";t.r(e),t.d(e,"backFromHost",(function(){return o}));var n=t(21);function o(r){var e=OpenAjax.widget.byId(AppMagic.Constants.Runtime.appInfoControlName);if(null==e?void 0:e.backEnabled)return Object(n.a)(r)}},function(r,e,t){"use strict";t.r(e);var n=t(26),o=t(3),a=t(1),i=t(2);AppMagic.Data.DataValue.isBlankOrErrorValue;var u=t(0);t.d(e,"colorFade_T",(function(){return c}));var c=Object(u.standardErrorHandlingEC)((function(r,e,t,u){return Object(a.h)(r,t,"number",u,"number",(function(r,e){return Object(i.isConsistentTabularFunctionReturnSchemaEnabled)()?o._valueColumnName:r||o._resultColumnName}),"ColorFade",(function(e,t){return n.colorFade(r,e,t)}),e)}),u.passThroughArguments,"ColorFade")},function(r,e){!function(){r.exports=function(){return this?this:window}().FluentUIReact}()},function(r,e){var t="[\\ud800-\\udfff]",n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",o="\\ud83c[\\udffb-\\udfff]",a="[^\\ud800-\\udfff]",i="(?:\\ud83c[\\udde6-\\uddff]){2}",u="[\\ud800-\\udbff][\\udc00-\\udfff]",c="(?:"+n+"|"+o+")"+"?",l="[\\ufe0e\\ufe0f]?"+c+("(?:\\u200d(?:"+[a,i,u].join("|")+")[\\ufe0e\\ufe0f]?"+c+")*"),s="(?:"+[a+n+"?",n,i,u,t].join("|")+")",d=RegExp(o+"(?="+o+")|"+s+l,"g");r.exports=function(r){return r.match(d)||[]}},function(r,e,t){t(35),r.exports=t(34)},function(r,e,t){"use strict";t.r(e);var n=t(13);t.d(e,"addColumns",(function(){return n.addColumns})),t.d(e,"addColumnsAsync",(function(){return n.addColumnsAsync})),t.d(e,"coalesce",(function(){return n.coalesce})),t.d(e,"coalesceAsync",(function(){return n.coalesceAsync})),t.d(e,"concat",(function(){return n.concat})),t.d(e,"concatAsync",(function(){return n.concatAsync})),t.d(e,"count",(function(){return n.count})),t.d(e,"countA",(function(){return n.countA})),t.d(e,"countIf",(function(){return n.countIf})),t.d(e,"countIfAsync",(function(){return n.countIfAsync})),t.d(e,"countRows",(function(){return n.countRows})),t.d(e,"distinct",(function(){return n.distinct})),t.d(e,"distinctAsync",(function(){return n.distinctAsync})),t.d(e,"dropColumns",(function(){return n.dropColumns})),t.d(e,"filter",(function(){return n.filter})),t.d(e,"filterAsync",(function(){return n.filterAsync})),t.d(e,"first",(function(){return n.first})),t.d(e,"firstN",(function(){return n.firstN})),t.d(e,"groupBy",(function(){return n.groupBy})),t.d(e,"index",(function(){return n.index})),t.d(e,"isBlank",(function(){return n.isBlank})),t.d(e,"isBlankOptionSetValue",(function(){return n.isBlankOptionSetValue})),t.d(e,"isBlankOrError",(function(){return n.isBlankOrError})),t.d(e,"isBlankOrErrorOptionSetValue",(function(){return n.isBlankOrErrorOptionSetValue})),t.d(e,"isEmpty",(function(){return n.isEmpty})),t.d(e,"last",(function(){return n.last})),t.d(e,"lastN",(function(){return n.lastN})),t.d(e,"lookUp",(function(){return n.lookUp})),t.d(e,"lookUpAsync",(function(){return n.lookUpAsync})),t.d(e,"renameColumns",(function(){return n.renameColumns})),t.d(e,"showColumns",(function(){return n.showColumns})),t.d(e,"shuffle",(function(){return n.shuffle})),t.d(e,"sort",(function(){return n.sort})),t.d(e,"sortAsync",(function(){return n.sortAsync})),t.d(e,"sortByColumns",(function(){return n.sortByColumns})),t.d(e,"ungroup",(function(){return n.ungroup}));var o=t(17);t.d(e,"concurrentAsync",(function(){return o.concurrentAsync})),t.d(e,"disable",(function(){return o.disable})),t.d(e,"downloadAsync",(function(){return o.downloadAsync})),t.d(e,"editFormAsync",(function(){return o.editFormAsync})),t.d(e,"enable",(function(){return o.enable})),t.d(e,"exitAsync",(function(){return o.exitAsync})),t.d(e,"newFormAsync",(function(){return o.newFormAsync})),t.d(e,"notify",(function(){return o.notify})),t.d(e,"pdfAsync",(function(){return o.pdfAsync})),t.d(e,"readNFCAsync",(function(){return o.readNFCAsync})),t.d(e,"requestHideAsync",(function(){return o.requestHideAsync})),t.d(e,"resetAsync",(function(){return o.resetAsync})),t.d(e,"resetFormAsync",(function(){return o.resetFormAsync})),t.d(e,"select",(function(){return o.select})),t.d(e,"set",(function(){return o.set})),t.d(e,"setFocusAsync",(function(){return o.setFocusAsync})),t.d(e,"submitFormAsync",(function(){return o.submitFormAsync})),t.d(e,"traceAsync",(function(){return o.traceAsync})),t.d(e,"viewFormAsync",(function(){return o.viewFormAsync})),t.d(e,"createItemNotFoundError",(function(){return o.createItemNotFoundError})),t.d(e,"createTypeMismatchError",(function(){return o.createTypeMismatchError}));var a=t(6);t.d(e,"asTypeAsync",(function(){return a.asTypeAsync})),t.d(e,"choicesAsync",(function(){return a.choicesAsync})),t.d(e,"clear",(function(){return a.clear})),t.d(e,"clearCollect",(function(){return a.clearCollect})),t.d(e,"clearCollect_S",(function(){return a.clearCollect_S})),t.d(e,"clearDataAsync",(function(){return a.clearDataAsync})),t.d(e,"collect",(function(){return a.collect})),t.d(e,"collectAsync",(function(){return a.collectAsync})),t.d(e,"collect_S",(function(){return a.collect_S})),t.d(e,"collect_SAsync",(function(){return a.collect_SAsync})),t.d(e,"dataSourceInfoAsync",(function(){return a.dataSourceInfoAsync})),t.d(e,"defaults",(function(){return a.defaults})),t.d(e,"errors",(function(){return a.errors})),t.d(e,"forAll",(function(){return a.forAll})),t.d(e,"forAllAsync",(function(){return a.forAllAsync})),t.d(e,"forAll_ParallelPrefetchingAsync",(function(){return a.forAll_ParallelPrefetchingAsync})),t.d(e,"getBooleanOptionSetPair",(function(){return a.getBooleanOptionSetPair})),t.d(e,"getOptionSetName",(function(){return a.getOptionSetName})),t.d(e,"getOptionSetPair",(function(){return a.getOptionSetPair})),t.d(e,"getOptionSetValue",(function(){return a.getOptionSetValue})),t.d(e,"getViewName",(function(){return a.getViewName})),t.d(e,"getViewPair",(function(){return a.getViewPair})),t.d(e,"getViewValue",(function(){return a.getViewValue})),t.d(e,"isTypeAsync",(function(){return a.isTypeAsync})),t.d(e,"loadDataAsync",(function(){return a.loadDataAsync})),t.d(e,"map",(function(){return a.map})),t.d(e,"mapAsync",(function(){return a.mapAsync})),t.d(e,"patchAggregateAsync",(function(){return a.patchAggregateAsync})),t.d(e,"patchAggregateSingleTableAsync",(function(){return a.patchAggregateSingleTableAsync})),t.d(e,"patchAsync",(function(){return a.patchAsync})),t.d(e,"patchSingleRecordAsync",(function(){return a.patchSingleRecordAsync})),t.d(e,"patch_Record",(function(){return a.patch_Record})),t.d(e,"pending",(function(){return a.pending})),t.d(e,"recordInfoAsync",(function(){return a.recordInfoAsync})),t.d(e,"refreshAsync",(function(){return a.refreshAsync})),t.d(e,"relateAsync",(function(){return a.relateAsync})),t.d(e,"remove",(function(){return a.remove})),t.d(e,"removeAll",(function(){return a.removeAll})),t.d(e,"removeAllAsync",(function(){return a.removeAllAsync})),t.d(e,"removeAsync",(function(){return a.removeAsync})),t.d(e,"removeIf",(function(){return a.removeIf})),t.d(e,"removeIfAsync",(function(){return a.removeIfAsync})),t.d(e,"removeIfDelegatedAsync",(function(){return a.removeIfDelegatedAsync})),t.d(e,"revertAsync",(function(){return a.revertAsync})),t.d(e,"saveDataAsync",(function(){return a.saveDataAsync})),t.d(e,"state",(function(){return a.state})),t.d(e,"table",(function(){return a.table})),t.d(e,"unrelateAsync",(function(){return a.unrelateAsync})),t.d(e,"update",(function(){return a.update})),t.d(e,"updateAsync",(function(){return a.updateAsync})),t.d(e,"updateIf",(function(){return a.updateIf})),t.d(e,"updateIfAsync",(function(){return a.updateIfAsync})),t.d(e,"updateIfDelegatedAsync",(function(){return a.updateIfDelegatedAsync})),t.d(e,"validate",(function(){return a.validate})),t.d(e,"with_R",(function(){return a.with_R})),t.d(e,"with_RAsync",(function(){return a.with_RAsync}));var i=t(26);t.d(e,"colorFade",(function(){return i.colorFade})),t.d(e,"colorValue",(function(){return i.colorValue})),t.d(e,"rGBA",(function(){return i.rGBA}));var u=t(30);t.d(e,"colorFade_T",(function(){return u.colorFade_T}));var c=t(12);t.d(e,"_dateDifference",(function(){return c._dateDifference})),t.d(e,"_dateMinusTime",(function(){return c._dateMinusTime})),t.d(e,"_datePlusDay",(function(){return c._datePlusDay})),t.d(e,"_datePlusTime",(function(){return c._datePlusTime})),t.d(e,"_timeDifference",(function(){return c._timeDifference})),t.d(e,"_timePlusTime",(function(){return c._timePlusTime})),t.d(e,"_timePlusNumber",(function(){return c._timePlusNumber})),t.d(e,"calendar__MonthsLong",(function(){return c.calendar__MonthsLong})),t.d(e,"calendar__MonthsShort",(function(){return c.calendar__MonthsShort})),t.d(e,"calendar__WeekdaysLong",(function(){return c.calendar__WeekdaysLong})),t.d(e,"calendar__WeekdaysShort",(function(){return c.calendar__WeekdaysShort})),t.d(e,"clock__AmPm",(function(){return c.clock__AmPm})),t.d(e,"clock__AmPmShort",(function(){return c.clock__AmPmShort})),t.d(e,"clock__IsClock24",(function(){return c.clock__IsClock24})),t.d(e,"date",(function(){return c.date})),t.d(e,"dateAdd",(function(){return c.dateAdd})),t.d(e,"dateDiff",(function(){return c.dateDiff})),t.d(e,"dateTime",(function(){return c.dateTime})),t.d(e,"dateTimeValue",(function(){return c.dateTimeValue})),t.d(e,"dateValue",(function(){return c.dateValue})),t.d(e,"day",(function(){return c.day})),t.d(e,"eDate",(function(){return c.eDate})),t.d(e,"eOMonth",(function(){return c.eOMonth})),t.d(e,"hour",(function(){return c.hour})),t.d(e,"minute",(function(){return c.minute})),t.d(e,"month",(function(){return c.month})),t.d(e,"now",(function(){return c.now})),t.d(e,"second",(function(){return c.second})),t.d(e,"time",(function(){return c.time})),t.d(e,"timeValue",(function(){return c.timeValue})),t.d(e,"timeZoneOffset",(function(){return c.timeZoneOffset})),t.d(e,"today",(function(){return c.today})),t.d(e,"weekday",(function(){return c.weekday})),t.d(e,"weekNum",(function(){return c.weekNum})),t.d(e,"iSOWeekNum",(function(){return c.iSOWeekNum})),t.d(e,"year",(function(){return c.year}));var l=t(28);t.d(e,"dateAdd_T",(function(){return l.dateAdd_T})),t.d(e,"dateDiff_T",(function(){return l.dateDiff_T}));var s=t(0);t.d(e,"returnIfErrorArgument",(function(){return s.returnIfErrorArgument})),t.d(e,"returnIfErrorOrNullArgument",(function(){return s.returnIfErrorOrNullArgument})),t.d(e,"standardErrorHandling",(function(){return s.standardErrorHandling})),t.d(e,"standardErrorHandlingAsync",(function(){return s.standardErrorHandlingAsync})),t.d(e,"standardErrorHandlingEC",(function(){return s.standardErrorHandlingEC})),t.d(e,"standardErrorHandlingECAsync",(function(){return s.standardErrorHandlingECAsync})),t.d(e,"standardErrorHandlingECBC",(function(){return s.standardErrorHandlingECBC})),t.d(e,"standardErrorHandlingECBCAsync",(function(){return s.standardErrorHandlingECBCAsync}));var d=t(2);t.d(e,"isPowerFxV1CompatEnabled",(function(){return d.isPowerFxV1CompatEnabled})),t.d(e,"setPowerFxV1CompatEnabled",(function(){return d.setPowerFxV1CompatEnabled})),t.d(e,"isPdfFunctionEnabled",(function(){return d.isPdfFunctionEnabled})),t.d(e,"setPdfFunctionEnabled",(function(){return d.setPdfFunctionEnabled})),t.d(e,"setPdfFunctionTestModeEnabled",(function(){return d.setPdfFunctionTestModeEnabled})),t.d(e,"isConsistentTabularFunctionReturnSchemaEnabled",(function(){return d.isConsistentTabularFunctionReturnSchemaEnabled})),t.d(e,"setConsistentTabularFunctionReturnSchemaEnabled",(function(){return d.setConsistentTabularFunctionReturnSchemaEnabled}));var f=t(20);t.d(e,"FormatProvider",(function(){return f.FormatProvider})),t.d(e,"FormatProviderTypes",(function(){return f.FormatProviderTypes})),t.d(e,"IFormatProvider",(function(){return f.IFormatProvider})),t.d(e,"IFormatProviderParseResult",(function(){return f.IFormatProviderParseResult})),t.d(e,"IFormatProviderValue",(function(){return f.IFormatProviderValue}));var g=t(23);t.d(e,"TestOnly_resetUser",(function(){return g.TestOnly_resetUser})),t.d(e,"UserType",(function(){return g.UserType})),t.d(e,"isNumeric",(function(){return g.isNumeric})),t.d(e,"isToday",(function(){return g.isToday})),t.d(e,"language",(function(){return g.language})),t.d(e,"traceValue",(function(){return g.traceValue})),t.d(e,"userAsync",(function(){return g.userAsync}));var p=t(3);t.d(e,"_resultColumnName",(function(){return p._resultColumnName})),t.d(e,"_capturesColumnName",(function(){return p._capturesColumnName})),t.d(e,"_fullMatchColumnName",(function(){return p._fullMatchColumnName})),t.d(e,"_startMatchColumnName",(function(){return p._startMatchColumnName})),t.d(e,"epochDay",(function(){return p.epochDay})),t.d(e,"epochMonth",(function(){return p.epochMonth})),t.d(e,"epochYear",(function(){return p.epochYear})),t.d(e,"excelEpochDay",(function(){return p.excelEpochDay})),t.d(e,"excelEpochMonth",(function(){return p.excelEpochMonth})),t.d(e,"excelEpochYear",(function(){return p.excelEpochYear})),t.d(e,"getSafeHTML",(function(){return p.getSafeHTML})),t.d(e,"isSafeHTML",(function(){return p.isSafeHTML})),t.d(e,"IJsonFunctionDataDefinition",(function(){return p.IJsonFunctionDataDefinition})),t.d(e,"SingleColumnTable",(function(){return p.SingleColumnTable})),t.d(e,"SingleColumnValueTable",(function(){return p.SingleColumnValueTable}));var m=t(5);t.d(e,"abs",(function(){return m.abs})),t.d(e,"acos",(function(){return m.acos})),t.d(e,"acot",(function(){return m.acot})),t.d(e,"asin",(function(){return m.asin})),t.d(e,"atan",(function(){return m.atan})),t.d(e,"atan2",(function(){return m.atan2})),t.d(e,"average",(function(){return m.average})),t.d(e,"average_T",(function(){return m.average_T})),t.d(e,"average_TAsync",(function(){return m.average_TAsync})),t.d(e,"cos",(function(){return m.cos})),t.d(e,"cot",(function(){return m.cot})),t.d(e,"dec2Hex",(function(){return m.dec2Hex})),t.d(e,"degrees",(function(){return m.degrees})),t.d(e,"exp",(function(){return m.exp})),t.d(e,"hex2Dec",(function(){return m.hex2Dec})),t.d(e,"int",(function(){return m.int})),t.d(e,"ln",(function(){return m.ln})),t.d(e,"log",(function(){return m.log})),t.d(e,"max",(function(){return m.max})),t.d(e,"max_T",(function(){return m.max_T})),t.d(e,"max_TAsync",(function(){return m.max_TAsync})),t.d(e,"min",(function(){return m.min})),t.d(e,"min_T",(function(){return m.min_T})),t.d(e,"min_TAsync",(function(){return m.min_TAsync})),t.d(e,"mod",(function(){return m.mod})),t.d(e,"pi",(function(){return m.pi})),t.d(e,"power",(function(){return m.power})),t.d(e,"radians",(function(){return m.radians})),t.d(e,"rand",(function(){return m.rand})),t.d(e,"randBetween",(function(){return m.randBetween})),t.d(e,"round",(function(){return m.round})),t.d(e,"roundDown",(function(){return m.roundDown})),t.d(e,"roundUp",(function(){return m.roundUp})),t.d(e,"sequence",(function(){return m.sequence})),t.d(e,"sin",(function(){return m.sin})),t.d(e,"sqrt",(function(){return m.sqrt})),t.d(e,"stdevP",(function(){return m.stdevP})),t.d(e,"stdevP_T",(function(){return m.stdevP_T})),t.d(e,"stdevP_TAsync",(function(){return m.stdevP_TAsync})),t.d(e,"sum",(function(){return m.sum})),t.d(e,"sum_T",(function(){return m.sum_T})),t.d(e,"sum_TAsync",(function(){return m.sum_TAsync})),t.d(e,"tan",(function(){return m.tan})),t.d(e,"trunc",(function(){return m.trunc})),t.d(e,"varP",(function(){return m.varP})),t.d(e,"varP_T",(function(){return m.varP_T})),t.d(e,"varP_TAsync",(function(){return m.varP_TAsync}));var E=t(15);t.d(e,"abs_T",(function(){return E.abs_T})),t.d(e,"acos_T",(function(){return E.acos_T})),t.d(e,"acot_T",(function(){return E.acot_T})),t.d(e,"asin_T",(function(){return E.asin_T})),t.d(e,"atan_T",(function(){return E.atan_T})),t.d(e,"cos_T",(function(){return E.cos_T})),t.d(e,"cot_T",(function(){return E.cot_T})),t.d(e,"degrees_T",(function(){return E.degrees_T})),t.d(e,"dec2Hex_T",(function(){return E.dec2Hex_T})),t.d(e,"exp_T",(function(){return E.exp_T})),t.d(e,"hex2Dec_T",(function(){return E.hex2Dec_T})),t.d(e,"int_T",(function(){return E.int_T})),t.d(e,"ln_T",(function(){return E.ln_T})),t.d(e,"log_T",(function(){return E.log_T})),t.d(e,"mod_T",(function(){return E.mod_T})),t.d(e,"power_T",(function(){return E.power_T})),t.d(e,"radians_T",(function(){return E.radians_T})),t.d(e,"roundDown_T",(function(){return E.roundDown_T})),t.d(e,"roundUp_T",(function(){return E.roundUp_T})),t.d(e,"round_T",(function(){return E.round_T})),t.d(e,"sin_T",(function(){return E.sin_T})),t.d(e,"sqrt_T",(function(){return E.sqrt_T})),t.d(e,"tan_T",(function(){return E.tan_T})),t.d(e,"trunc_T",(function(){return E.trunc_T}));var v=t(25);t.d(e,"exactin_SS",(function(){return v.exactin_SS})),t.d(e,"exactin_ST",(function(){return v.exactin_ST})),t.d(e,"in_CT",(function(){return v.in_CT})),t.d(e,"in_RT",(function(){return v.in_RT})),t.d(e,"in_SS",(function(){return v.in_SS})),t.d(e,"in_ST",(function(){return v.in_ST})),t.d(e,"in_TT",(function(){return v.in_TT}));var A=t(29);t.d(e,"backFromHost",(function(){return A.backFromHost}));var b=t(11);t.d(e,"_add",(function(){return b._add})),t.d(e,"_bToN",(function(){return b._bToN})),t.d(e,"_bToS",(function(){return b._bToS})),t.d(e,"_ceq",(function(){return b._ceq})),t.d(e,"_cneq",(function(){return b._cneq})),t.d(e,"_dToN",(function(){return b._dToN})),t.d(e,"_div",(function(){return b._div})),t.d(e,"_eq",(function(){return b._eq})),t.d(e,"_geq",(function(){return b._geq})),t.d(e,"_gt",(function(){return b._gt})),t.d(e,"_if",(function(){return b._if})),t.d(e,"_ifAsync",(function(){return b._ifAsync})),t.d(e,"_leq",(function(){return b._leq})),t.d(e,"_lt",(function(){return b._lt})),t.d(e,"_mul",(function(){return b._mul})),t.d(e,"_nToB",(function(){return b._nToB})),t.d(e,"_nToD",(function(){return b._nToD})),t.d(e,"_negate",(function(){return b._negate})),t.d(e,"_negateDT",(function(){return b._negateDT})),t.d(e,"_neq",(function(){return b._neq})),t.d(e,"_oeq",(function(){return b._oeq})),t.d(e,"_oneq",(function(){return b._oneq})),t.d(e,"_peq",(function(){return b._peq})),t.d(e,"_percent",(function(){return b._percent})),t.d(e,"_pneq",(function(){return b._pneq})),t.d(e,"_eqDT",(function(){return b._eqDT})),t.d(e,"_geqDT",(function(){return b._geqDT})),t.d(e,"_gtDT",(function(){return b._gtDT})),t.d(e,"_leqDT",(function(){return b._leqDT})),t.d(e,"_ltDT",(function(){return b._ltDT})),t.d(e,"_neqDT",(function(){return b._neqDT})),t.d(e,"_sToB",(function(){return b._sToB})),t.d(e,"_switch",(function(){return b._switch})),t.d(e,"_switchAsync",(function(){return b._switchAsync})),t.d(e,"_uid",(function(){return b._uid})),t.d(e,"and",(function(){return b.and})),t.d(e,"andAsync",(function(){return b.andAsync})),t.d(e,"not",(function(){return b.not})),t.d(e,"or",(function(){return b.or})),t.d(e,"orAsync",(function(){return b.orAsync}));var y=t(22);t.d(e,"backAsync",(function(){return y.backAsync})),t.d(e,"confirmAsync",(function(){return y.confirmAsync})),t.d(e,"formHyperlink",(function(){return y.formHyperlink})),t.d(e,"launchAsync",(function(){return y.launchAsync})),t.d(e,"navigateAsync",(function(){return y.navigateAsync})),t.d(e,"navigateEntityListPageAsync",(function(){return y.navigateEntityListPageAsync})),t.d(e,"navigateEntityListViewPageAsync",(function(){return y.navigateEntityListViewPageAsync})),t.d(e,"navigateRecordPageAsync",(function(){return y.navigateRecordPageAsync})),t.d(e,"navigateUnboundPageAsync",(function(){return y.navigateUnboundPageAsync})),t.d(e,"param",(function(){return y.param})),t.d(e,"printAsync",(function(){return y.printAsync})),t.d(e,"updateContext",(function(){return y.updateContext})),t.d(e,"showHostInfo",(function(){return y.showHostInfo}));var h=t(24);t.d(e,"coerceRecordToTable",(function(){return h.coerceRecordToTable})),t.d(e,"createCodeGenSyntaxError",(function(){return h.createCodeGenSyntaxError})),t.d(e,"createCodegenError",(function(){return h.createCodegenError})),t.d(e,"error",(function(){return h.error})),t.d(e,"getOneColumnTable",(function(){return h.getOneColumnTable})),t.d(e,"ifErrorAsync",(function(){return h.ifErrorAsync})),t.d(e,"isError",(function(){return h.isError})),t.d(e,"scanBarcodeAsync",(function(){return h.scanBarcodeAsync})),t.d(e,"u",(function(){return h.u}));var C=t(7);t.d(e,"char",(function(){return C.char})),t.d(e,"concatenate",(function(){return C.concatenate})),t.d(e,"copyAsync",(function(){return C.copyAsync})),t.d(e,"encodeUrl",(function(){return C.encodeUrl})),t.d(e,"endsWith",(function(){return C.endsWith})),t.d(e,"find",(function(){return C.find})),t.d(e,"gUID",(function(){return C.gUID})),t.d(e,"hashTags",(function(){return C.hashTags})),t.d(e,"isMatch",(function(){return C.isMatch})),t.d(e,"jsonAsync",(function(){return C.jsonAsync})),t.d(e,"left",(function(){return C.left})),t.d(e,"len",(function(){return C.len})),t.d(e,"lower",(function(){return C.lower})),t.d(e,"match",(function(){return C.match})),t.d(e,"matchAll",(function(){return C.matchAll})),t.d(e,"mid",(function(){return C.mid})),t.d(e,"plainText",(function(){return C.plainText})),t.d(e,"proper",(function(){return C.proper})),t.d(e,"replace",(function(){return C.replace})),t.d(e,"right",(function(){return C.right})),t.d(e,"search",(function(){return C.search})),t.d(e,"split",(function(){return C.split})),t.d(e,"startsWith",(function(){return C.startsWith})),t.d(e,"substitute",(function(){return C.substitute})),t.d(e,"text",(function(){return C.text})),t.d(e,"trim",(function(){return C.trim})),t.d(e,"trimEnds",(function(){return C.trimEnds})),t.d(e,"uniChar",(function(){return C.uniChar})),t.d(e,"upper",(function(){return C.upper})),t.d(e,"value",(function(){return C.value})),t.d(e,"boolean",(function(){return C.boolean})),t.d(e,"booleanN",(function(){return C.booleanN}));var S=t(18);t.d(e,"char_T",(function(){return S.char_T})),t.d(e,"concatenate_T",(function(){return S.concatenate_T})),t.d(e,"find_T",(function(){return S.find_T})),t.d(e,"left_ST",(function(){return S.left_ST})),t.d(e,"left_TS",(function(){return S.left_TS})),t.d(e,"left_TT",(function(){return S.left_TT})),t.d(e,"len_T",(function(){return S.len_T})),t.d(e,"lower_T",(function(){return S.lower_T})),t.d(e,"mid_T",(function(){return S.mid_T})),t.d(e,"proper_T",(function(){return S.proper_T})),t.d(e,"replace_T",(function(){return S.replace_T})),t.d(e,"right_ST",(function(){return S.right_ST})),t.d(e,"right_TS",(function(){return S.right_TS})),t.d(e,"right_TT",(function(){return S.right_TT})),t.d(e,"substitute_T",(function(){return S.substitute_T})),t.d(e,"trimEnds_T",(function(){return S.trimEnds_T})),t.d(e,"trim_T",(function(){return S.trim_T})),t.d(e,"upper_T",(function(){return S.upper_T})),t.d(e,"uniChar_T",(function(){return S.uniChar_T})),t.d(e,"boolean_T",(function(){return S.boolean_T})),t.d(e,"booleanN_T",(function(){return S.booleanN_T}));var O=t(19);t.d(e,"parseJSON",(function(){return O.parseJSON})),t.d(e,"text_UO",(function(){return O.text_UO})),t.d(e,"value_UO",(function(){return O.value_UO})),t.d(e,"boolean_UO",(function(){return O.boolean_UO})),t.d(e,"index_UO",(function(){return O.index_UO})),t.d(e,"countRows_UO",(function(){return O.countRows_UO})),t.d(e,"first_UO",(function(){return O.first_UO})),t.d(e,"last_UO",(function(){return O.last_UO})),t.d(e,"firstN_UO",(function(){return O.firstN_UO})),t.d(e,"lastN_UO",(function(){return O.lastN_UO})),t.d(e,"getPropertyValue_UO",(function(){return O.getPropertyValue_UO})),t.d(e,"table_UO",(function(){return O.table_UO})),t.d(e,"dateValue_UO",(function(){return O.dateValue_UO})),t.d(e,"dateTimeValue_UO",(function(){return O.dateTimeValue_UO})),t.d(e,"timeValue_UO",(function(){return O.timeValue_UO})),t.d(e,"colorValue_UO",(function(){return O.colorValue_UO})),t.d(e,"gUID_UO",(function(){return O.gUID_UO})),t.d(e,"forAll_UO",(function(){return O.forAll_UO})),t.d(e,"forAll_UOAsync",(function(){return O.forAll_UOAsync})),t.d(e,"columnNames_UO",(function(){return O.columnNames_UO})),t.d(e,"column_UO",(function(){return O.column_UO}))},function(r,e,t){"use strict";t.r(e);var n=t(13);Core.exportToNamespace(["AppMagic","Functions"],n);var o=t(17);Core.exportToNamespace(["AppMagic","Functions"],o);var a=t(6);Core.exportToNamespace(["AppMagic","Functions"],a);var i=t(26);Core.exportToNamespace(["AppMagic","Functions"],i);var u=t(30);Core.exportToNamespace(["AppMagic","Functions"],u);var c=t(12);Core.exportToNamespace(["AppMagic","Functions"],c);var l=t(28);Core.exportToNamespace(["AppMagic","Functions"],l);var s=t(0);Core.exportToNamespace(["AppMagic","Functions"],s);var d=t(2);Core.exportToNamespace(["AppMagic","Functions"],d);var f=t(20);Core.exportToNamespace(["AppMagic","Functions"],f);var g=t(23);Core.exportToNamespace(["AppMagic","Functions"],g);var p=t(3);Core.exportToNamespace(["AppMagic","Functions"],p);var m=t(5);Core.exportToNamespace(["AppMagic","Functions"],m);var E=t(15);Core.exportToNamespace(["AppMagic","Functions"],E);var v=t(25);Core.exportToNamespace(["AppMagic","Functions"],v);var A=t(29);Core.exportToNamespace(["AppMagic","Functions"],A);var b=t(11);Core.exportToNamespace(["AppMagic","Functions"],b);var y=t(22);Core.exportToNamespace(["AppMagic","Functions"],y);var h=t(24);Core.exportToNamespace(["AppMagic","Functions"],h);var C=t(7);Core.exportToNamespace(["AppMagic","Functions"],C);var S=t(18);Core.exportToNamespace(["AppMagic","Functions"],S);var O=t(19);Core.exportToNamespace(["AppMagic","Functions"],O)}]);
//# sourceMappingURL=D:/a/_work/1/s/obj/Assets/js/AppMagic.Functions/AppMagic.Functions.js.map