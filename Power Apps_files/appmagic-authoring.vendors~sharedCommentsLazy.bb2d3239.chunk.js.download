/*! For license information please see appmagic-authoring.vendors~sharedCommentsLazy.bb2d3239.chunk.js.LICENSE.txt */
(window.webpackJsonpPA_Client_AppMagicAuthoring=window.webpackJsonpPA_Client_AppMagicAuthoring||[]).push([[10],{1053:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return i}));var n=r(1),o=n.createContext(new Proxy({},{get:function(){throw new Error("ComponentTreeIdContext undefined. Did you forget to render a ComponentTreeIdContext context provider?")}}));function i(){return n.useContext(o)}},1071:function(e,t,r){"use strict";var n;!function(e){e[e.New_nonFluent=0]="New_nonFluent",e[e.Normal=1]="Normal",e[e.Editing=2]="Editing",e[e.PendingDraft=3]="PendingDraft",e[e.PendingEdit=4]="PendingEdit",e[e.EditPreCommitPending=5]="EditPreCommitPending",e[e.Resolved=6]="Resolved",e[e.LowFidelityWarningEdit=7]="LowFidelityWarningEdit",e[e.LowFidelityWarningDelete=8]="LowFidelityWarningDelete",e[e.Error=9]="Error"}(n||(n={})),t.a=n},1105:function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&o(t,e,r);return i(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Image=t.getIconProps=void 0;var l=a(r(1)),c=s(r(1277)),u=r(1196).StyleSheet.createViewStyle({position:"relative",flex:0,overflow:"visible"});t.getIconProps=function(e){var t;if(null!=e){if("string"==typeof e)t={src:e,style:{width:"16px",height:"16px"}};else{var r=e.width?e.width:"16px",n=e.height?e.height:"16px";t={src:e.uri,style:{width:r,height:n}}}return{imageProps:t}}return null};var d=function(e){function t(t){return e.call(this,t)||this}return n(t,e),t.prototype.render=function(){var e;return e="string"==typeof this.props.source?this.props.source:void 0===this.props.source||null===this.props.source?null:this.props.source.uri,l.createElement("div",{style:this._getStyles(e)},this.props.children)},t.prototype._getStyles=function(e){var t=c.default.combine(u,this.props.style);t.display="flex",t.backgroundColor="transparent",t.backgroundImage='url("'+e+'")';var r="contain";switch(this.props.resizeMode){case"cover":r="cover";break;case"stretch":r="100% 100%";break;case"repeat":r="auto"}return t.backgroundPosition="center center",t.backgroundSize=r,t.backgroundRepeat="repeat"===this.props.resizeMode?"repeat":"no-repeat",t},t}(l.Component);t.Image=d},1106:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.buildDivProps=t.buildFlexboxProps=t.buildFlexboxStyle=t.buildLeafStyle=void 0;var o=n(r(1277)),i=r(1196),a=i.StyleSheet.createViewStyle({}),s=i.StyleSheet.createViewStyle({position:"relative",flexDirection:"column",flexGrow:0,flexShrink:0,overflow:"hidden",alignItems:"stretch"});function l(e){return{style:o.default.combine([a,s,e.style])}}s.display="flex",t.buildLeafStyle=function(e){var t=o.default.combine([a,e]);if(!function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(t))return t},t.buildFlexboxStyle=function(e){return o.default.combine([a,s,e])},t.buildFlexboxProps=l,t.buildDivProps=function(e){var t=l(e);return e.accessibilityLabel?t["aria-label"]=e.accessibilityLabel:t["aria-label"]&&(t["aria-label"]=void 0),t}},1137:function(e,t,r){"use strict";var n;r.d(t,"a",(function(){return n})),function(e){e[e.None=0]="None",e[e.MetadataOnly=1]="MetadataOnly",e[e.Any=2]="Any"}(n||(n={}))},1194:function(e,t,r){"use strict";var n,o;r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o})),function(e){e[e.AllCardsTabbable=0]="AllCardsTabbable",e[e.ExpandedCardTabbable=1]="ExpandedCardTabbable",e[e.ExpandedCardOrFirstCardTabbable=2]="ExpandedCardOrFirstCardTabbable",e[e.SelectedCardTabbable=3]="SelectedCardTabbable"}(n||(n={})),function(e){e[e.AllPostsTabbable=0]="AllPostsTabbable",e[e.ExpandedCardPostsTabbable=1]="ExpandedCardPostsTabbable",e[e.ExpandedCardRootPostTabbable=2]="ExpandedCardRootPostTabbable",e[e.SelectedPostTabbable=3]="SelectedPostTabbable"}(o||(o={}))},1195:function(e,t,r){e.exports=r(1465)},1196:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StyleSheet=void 0,t.StyleSheet=function(){function e(){}return e.createViewStyle=function(e){return this._adaptStyles(e)},e._adaptStyles=function(e){if(void 0!==e.flex){var t=e.flex;delete e.flex,t>0?(e.flexGrow=t,e.flexShrink=1):t<0?(e.flexGrow=0,e.flexShrink=-t):(e.flexGrow=0,e.flexShrink=0)}return void 0!==e.marginVertical&&(e.marginTop=e.marginVertical,e.marginBottom=e.marginVertical,delete e.marginVertical),void 0!==e.marginHorizontal&&(e.marginLeft=e.marginHorizontal,e.marginRight=e.marginHorizontal,delete e.marginHorizontal),void 0===e.marginHorizontal&&void 0===e.marginVertical&&void 0===e.marginLeft&&void 0===e.marginRight&&void 0===e.marginTop&&void 0===e.marginBottom||void 0===e.margin||(console.error("Conflicting rules for margin specified."),delete e.margin),void 0!==e.paddingVertical&&(e.paddingTop=e.paddingVertical,e.paddingBottom=e.paddingVertical,delete e.paddingVertical),void 0!==e.paddingHorizontal&&(e.paddingLeft=e.paddingHorizontal,e.paddingRight=e.paddingHorizontal,delete e.paddingHorizontal),void 0===e.paddingHorizontal&&void 0===e.paddingVertical&&void 0===e.paddingLeft&&void 0===e.paddingRight&&void 0===e.paddingTop&&void 0===e.paddingBottom||void 0===e.padding||(console.error("Conflicting rules for padding specified."),delete e.padding),e},e}()},1197:function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&o(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ContextualMenu=t.getContextualMenuItems=void 0;var s=r(1105),l=a(r(1));t.getContextualMenuItems=function(e){if(void 0!==e){var t=[];return e.items.forEach((function(e){var r=(0,s.getIconProps)(e.icon);t[t.length]={key:e.key,name:e.name,iconProps:r,onClick:e.onClick,ariaLabel:e.accessibilityTitle,disabled:e.disabled}})),{items:t,ariaLabel:e.accessibilityTitle}}return null};var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.showContextualMenu=function(e,t){console.warn("Contextmenu not implemented")},t}(l.Component);t.ContextualMenu=c},1198:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.PalettesContext=t.Palettes=void 0;var a=r(1497);Object.defineProperty(t,"Palettes",{enumerable:!0,get:function(){return a.Palettes}});var s=i(r(1)).createContext(a.Palettes.Default);t.PalettesContext=s},1199:function(e,t,r){"use strict";r.d(t,"d",(function(){return Xn})),r.d(t,"a",(function(){return Zn})),r.d(t,"b",(function(){return to})),r.d(t,"e",(function(){return lo})),r.d(t,"c",(function(){return co}));var n,o=r(307),i=r(1004),a=r(1005),s=r(1),l=r.n(s),c=r(1047),u=r(1022),d=r(1016),p=r(1006),f=r(1265),h=r(1014),m=r(1067),y=r(1026),b=r(1100),v=r(1032),g=r(1137),O=r(1058),w=r(1081),x=r(1052),C=r(1071),S=r(1012);!function(e){e[e.Default=0]="Default",e[e.Disabled=1]="Disabled",e[e.ReadOnly=2]="ReadOnly"}(n||(n={}));var T,j=n,k=r(2),P=r(1107),E=r(1029),_=r(1097),I=r(1019),R=r(1036),A=r(1104);!function(e){e[e.Editing=0]="Editing",e[e.Disabled=1]="Disabled",e[e.ReadOnly=2]="ReadOnly"}(T||(T={}));var D,B=T;!function(e){e[e.CardContextMenuItem=0]="CardContextMenuItem",e[e.ActionBarItem=1]="ActionBarItem"}(D||(D={}));var M,N=r(1552),L=r(1554),F=r(1553);!function(e){e[e.Post=0]="Post",e[e.Card=1]="Card"}(M||(M={}));var z=r(1017),H=Object(k.memoizeFunction)((function(e){var t;return{cardTopperContainerRoot:Object(k.mergeStyles)({borderBottom:"1px solid",borderColor:null!==(t=null==e?void 0:e.CardTopperContainerBorder)&&void 0!==t?t:z.a.GRAY_B}),cardTopperContainerFlexWrapper:Object(k.mergeStyles)({display:"flex",alignItems:"center"}),cardTopperContainerLeftElement:Object(k.mergeStyles)({flex:1})}})),U=l.a.memo((function(e){var t,r=null===(t=Object(I.b)())||void 0===t?void 0:t.colors,n=H(r);return l.a.createElement("div",{onClick:e.onPress,className:n.cardTopperContainerRoot},l.a.createElement("div",{className:n.cardTopperContainerFlexWrapper},l.a.createElement("div",{className:n.cardTopperContainerLeftElement},e.leftElement),e.rightElement))}));U.displayName="CardTopperContainer";var W=r(1034),q=r(1015),V=r(1038),K=r(1053),G=/{([^{}]+)}|[^{}]+/g;var Q,Y=r(1075),$=r(1045),J=r(1131),X=r(1273),Z=function(e){function t(t){var r=e.call(this,t)||this;return r.renderWithContexts=function(e,t){var n,o,i=e.renderContextType,a=J.c(r.props.completion),l=q.j({id:r.props.id,renderContextType:i}),c=!1;r.props.assignees.length>0?(c=Object(u.c)(r.props.assignees),n=Object(W.q)(r.props.assignees,r.props.localizationAPI),o=Object(W.r)(r.props.assignees,a,r.props.localizationAPI)):(n=Object(W.u)(r.props.localizationAPI),o=Object(W.t)(a,r.props.localizationAPI));var d=Object(X.c)(c,r.hasNonInteractiveDisplayMode(),null==t?void 0:t.colors);return s.createElement("div",{className:d.taskTopperContainer,id:q.k({id:r.props.id,renderContextType:i})},s.createElement(k.TooltipHost,{content:Object(W.o)(J.c(r.props.completion),r.props.localizationAPI),tooltipProps:$.a},r.renderTaskTopper(l,d,a,o)),r.getStyledHeaderText(n,d))},r.onClick=r.onClick.bind(r),r}return Object(o.c)(t,e),t.prototype.hasNonInteractiveDisplayMode=function(){return this.props.displayMode===j.ReadOnly||this.props.displayMode===j.Disabled},t.prototype.hasReadOnlyDisplayMode=function(){return this.props.displayMode===j.ReadOnly},t.prototype.onClick=function(){this.props.onResolveTaskCheckboxPressed&&this.props.onResolveTaskCheckboxPressed(this.props.id)},t.prototype.getStyledHeaderText=function(e,t){var r=Object(u.c)(this.props.assignees),n=Object(X.c)(r,this.hasNonInteractiveDisplayMode()),o=r||!this.props.assignees||0===this.props.assignees.length?this.renderAssignedToYouLabel(p.P()?t:n,e):this.renderAssignedToPersonLabel(p.P()?t:n);return s.createElement(k.TooltipHost,{content:Object(W.s)(this.props.assignees,this.props.localizationAPI),tooltipProps:$.a},o)},t.prototype.renderAssignedToYouLabel=function(e,t){return s.createElement("div",{className:this.hasReadOnlyDisplayMode()?e.readOnlyTaskLabel:e.taskLabel},s.createElement("span",{className:e.taskTopperCheckbox.text},t))},t.prototype.renderAssignedToPersonLabel=function(e){var t=this,r=this.props.localizationAPI.getString(111),n=this.props.assignees.length>1?this.props.localizationAPI.getString(251):function(e,t,r){var n=[];return e.replace(G,(function(o,i){var a,s=e+n.length;return(a=void 0!==i?t(i,s):r?r(o,s):o)&&n.push(a),""})),n}(r,(function(r,n){return t.renderAssigneeName(Object(u.k)(t.props.assignees[0]),n,e)}));return s.createElement("div",{className:this.hasReadOnlyDisplayMode()?e.readOnlyTaskLabel:e.taskLabel},s.createElement("span",{className:e.taskTopperCheckbox.text},n))},t.prototype.renderAssigneeName=function(e,t,r){var n=Object(X.c)(!1,this.hasNonInteractiveDisplayMode());return s.createElement("span",{key:t,className:p.P()?r.taskAssignee:n.taskAssignee},e)},t.prototype.render=function(){return p.P()?Object(V.a)(this.renderWithContexts,K.a,I.a):Object(V.a)(this.renderWithContexts,K.a)},t.prototype.renderTaskTopper=function(e,t,r,n){return this.hasReadOnlyDisplayMode()?null:s.createElement(k.Checkbox,{id:e,componentRef:this.props.taskTopperCheckboxRef,styles:t.taskTopperCheckbox,checked:r,"data-item-id":this.props.id,onChange:this.onClick,checkmarkIconProps:Object(Y.d)().CHECKMARK_ICON_TOPPER,disabled:this.hasNonInteractiveDisplayMode(),ariaLabel:n})},t}(s.PureComponent),ee=r(1108),te={display:"flex",overflow:"hidden",marginBottom:"5px",flexDirection:"row",flexShrink:0,fontSize:"11px",outline:"none",wordBreak:"break-word"},re=Object(k.memoizeFunction)((function(e){var t,r,n,o;return{card:Object(k.mergeStyles)(te,{marginLeft:ee.c+10,marginRight:ee.c+10,color:null!==(t=null==e?void 0:e.DraftWarning)&&void 0!==t?t:k.SharedColors.red10}),post:Object(k.mergeStyles)(te,{marginLeft:"3px",marginRight:"3px",color:null!==(r=null==e?void 0:e.DraftWarning)&&void 0!==r?r:k.SharedColors.red10}),newcard:Object(k.mergeStyles)(te,{marginLeft:"3px",marginRight:"3px",color:null!==(n=null==e?void 0:e.DraftWarning)&&void 0!==n?n:k.SharedColors.red10}),postingtip:Object(k.mergeStyles)(te,{marginLeft:"3px",marginRight:"3px",color:null!==(o=null==e?void 0:e.CtrlEnterTip)&&void 0!==o?o:z.a.GRAY_E})}})),ne=s.memo((function(e){var t,r,n=null===(t=Object(I.b)())||void 0===t?void 0:t.colors,o=re(n),i=p.p(),a="";if(e.draftWarningState)a=W.g(e.localizationAPI,e.draftWarningState.type),r=e.target===M.Card?i?o.newcard:o.card:o.post;else{if(!i||!e.defaultToPostingTip)return null;a=e.localizationAPI.getString(233),r=o.postingtip}return s.createElement("div",{"aria-label":a,className:r,id:e.id},a)})),oe=r(1062);!function(e){e[e.RootPost=1]="RootPost",e[e.ReplyPost=2]="ReplyPost",e[e.ViewMoreRepliesButton=3]="ViewMoreRepliesButton"}(Q||(Q={}));var ie,ae=Q,se=r(1018),le=Object(k.memoizeFunction)((function(e){var t,r,n;return{container:Object(k.mergeStyles)({display:"flex",direction:"inherit",overflow:"hidden",flexDirection:"row",flexWrap:"nowrap",margin:0,border:0,position:"relative"}),body:Object(k.mergeStyles)({fontFamily:"inherit",color:null!==(r=null==e?void 0:e.TaskBorder)&&void 0!==r?r:Y.b.TASK_BORDER,fontWeight:"normal",fontSize:"12px",lineHeight:16,marginLeft:"3px",userSelect:"text",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"}),icon:Object(k.mergeStyles)((t={color:null!==(n=null==e?void 0:e.TaskBorder)&&void 0!==n?n:Y.b.TASK_BORDER,fontSize:"12px",lineHeight:16,marginLeft:"3px",marginRight:"3px",height:16,width:12,minWidth:12},t[k.HighContrastSelector]={color:"ButtonText"},t))}})),ce=Object(k.mergeStyles)(se.l,{selectors:(ie={},ie[k.HighContrastSelector]={backgroundColor:"WindowText"},ie)});var ue=Object(k.memoizeFunction)((function(e,t){var r=function(e){var t,r;return Object(k.mergeStyles)({backgroundColor:null!==(t=null==e?void 0:e.BlueDot)&&void 0!==t?t:"#006BFF",borderRadius:"50%",borderWidth:2,borderColor:null!==(r=null==e?void 0:e.CardBackground)&&void 0!==r?r:"white",height:6,width:6,position:"absolute"},ce)}(t);return{blueDotOnReply:Object(k.mergeStyles)(r,{left:27,top:36+16*e}),blueDotOnRoot:Object(k.mergeStyles)(r,{left:6,top:9+16*e}),blueDotOnViewMoreRepliesButton:Object(k.mergeStyles)(r,{left:5,top:11})}})),de=s.memo((function(e){var t,r=null===(t=Object(I.b)())||void 0===t?void 0:t.colors,n=ue(e.historyItemCount,r),o="";switch(e.dotType){case ae.RootPost:o=n.blueDotOnRoot;break;case ae.ReplyPost:o=n.blueDotOnReply;break;case ae.ViewMoreRepliesButton:o=n.blueDotOnViewMoreRepliesButton;break;default:Object(i.m)(e.dotType)}return s.createElement("span",{className:o})})),pe=function(e){var t;return Object(k.mergeStyleSets)({rootFocused:Object(k.mergeStyles)({color:null!==(t=null==e?void 0:e.Text)&&void 0!==t?t:z.a.GRAY_H,outline:"none",border:"1px solid transparent",backgroundColor:"transparent"},se.k)})},fe=Object(k.memoizeFunction)((function(e,t,r){var n,o,i,a,s=null!==(n=null==r?void 0:r.PrimaryButtonHovered)&&void 0!==n?n:z.a.GRAY_H,l=null!==(o=null==r?void 0:r.PrimaryButtonPressed)&&void 0!==o?o:s;return t&&(s=null!==(i=null==r?void 0:r.ExpandButtonTextResolvedHovered)&&void 0!==i?i:z.a.GRAY_H,l=null!==(a=null==r?void 0:r.ExpandButtonTextResolvedPressed)&&void 0!==a?a:s),Object(k.mergeStyleSets)({root:Object(k.mergeStyles)({overflow:"visible",position:"relative",height:"28px",margin:0,padding:0,border:"1px solid transparent",backgroundColor:"transparent",boxSizing:"border-box",color:e,cursor:"pointer",flexShrink:0,outline:"none",selectors:{".ms-Fabric--isFocusVisible &:focus::after":se.m}}),rootFocused:Object(k.mergeStyles)({color:e,outline:"none",border:"1px dotted",backgroundColor:"transparent"},se.k),flexContainer:Object(k.mergeStyles)({justifyContent:"flex-start"}),textContainer:Object(k.mergeStyles)({flexGrow:0,flexShrink:0,margin:0,padding:0,marginLeft:"16px"}),label:Object(k.mergeStyles)({margin:0,padding:0,fontWeight:t?void 0:"bold",fontSize:"12px",lineHeight:"16px",fontFamily:'"Segoe UI", "Segoe UI Web", Arial, Verdana, sans-serif'}),rootHovered:Object(k.mergeStyles)({color:s,backgroundColor:"transparent"},se.l),rootPressed:Object(k.mergeStyles)({color:l,backgroundColor:"transparent",outline:"none",border:"1px solid transparent"})})})),he=Object(k.memoizeFunction)((function(e,t,r){var n,o,i=null!==(n=null==r?void 0:r.MoreRepliesColor)&&void 0!==n?n:e;return t&&(i=null!==(o=null==r?void 0:r.ExpandButtonTextResolved)&&void 0!==o?o:z.a.RESOLVED_CARD_TEXT),{moreRepliesContainer:fe(i,t,r),moreRepliesContainerRestrictFocus:Object(k.mergeStyleSets)(fe(i,t,r),pe(r),{color:i})}}));var me=s.memo((function(e){var t,r,n=null===(t=Object(I.b)())||void 0===t?void 0:t.colors,o=null!==(r=null==n?void 0:n.PrimaryButton)&&void 0!==r?r:Object(oe.a)().primary,i=he(o,e.isCardResolved,n),a=s.useCallback((function(t){return function(e,t){t(),e.stopPropagation}(t,e.onPress)}),[e.onPress]),l=s.useCallback((function(t){return function(e,t){Object(E.f)(e.key)===E.b.Enter&&(t(),e.stopPropagation())}(t,e.onPress)}),[e.onPress]);return s.createElement(k.DefaultButton,{"aria-label":e.innerText,styles:!p.X()&&e.restrictControl_deprecated?i.moreRepliesContainerRestrictFocus:i.moreRepliesContainer,tabIndex:e.isTabbable?0:-1,onClick:a,onKeyDown:l,id:e.id,text:e.innerText},e.unreadPostHidden?s.createElement(de,{dotType:ae.ViewMoreRepliesButton,historyItemCount:0,renderContextType:e.renderContextType}):null)})),ye=r(1044);function be(e){var t,r,n,o;return{icon:{color:null!==(n=null==e?void 0:e.DefaultButtonIcon)&&void 0!==n?n:z.a.GRAY_200},iconHovered:(t={},t[k.HighContrastSelector]={color:"HighlightText"},t),rootFocused:(r={},r[k.HighContrastSelector]={" .ms-Button-icon":{color:"HighlightText"}},r),iconDisabled:{color:null!==(o=null==e?void 0:e.DefaultButtonIconDisabled)&&void 0!==o?o:z.a.GRAY_100},rootDisabled:{backgroundColor:"transparent"},rootHovered:Object(p.P)()?{backgroundColor:null==e?void 0:e.DefaultButtonHovered}:void 0,rootPressed:Object(p.P)()?{backgroundColor:null==e?void 0:e.DefaultButtonPressed}:void 0}}var ve=Object(k.memoizeFunction)((function(e){return{defaultButton:Object(se.o)(be(e))}})),ge=function(e){function t(t){var r=e.call(this,t)||this;return r.onClick=function(e){var t=r.props.onClick;if("function"==typeof t)return t(e)},r.renderWithContexts=function(e){var t=r.props.tooltipText;return t?s.createElement(k.TooltipHost,{content:t,directionalHint:r.props.tooltipDirection,tooltipProps:$.a},r.renderIconButton(e)):r.renderIconButton(e)},r.styles_deprecated=ve(),r}return Object(o.c)(t,e),Object.defineProperty(t.prototype,"disabled",{get:function(){return!!this.props.disabled},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tabIndex",{get:function(){return this.props.isTabbable&&!this.disabled?0:-1},enumerable:!1,configurable:!0}),t.prototype.renderIconButton=function(e){var t=Object(p.P)()?ve(null==e?void 0:e.colors):this.styles_deprecated;return s.createElement(k.IconButton,{styles:t.defaultButton,ariaLabel:this.props.accessibilityLabel,disabled:this.disabled,iconProps:{iconName:Object(ye.b)(this.props.icon),styles:this.props.iconStyles},id:this.props.id,onBlur:this.props.onBlur,onFocus:this.props.onFocus,onKeyDown:this.props.onKeyDown,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave,onClick:this.onClick,tabIndex:this.tabIndex,text:this.props.text})},t.prototype.render=function(){return Object(p.P)()?Object(V.a)(this.renderWithContexts,I.a):this.renderWithContexts()},t}(s.PureComponent),Oe={root:{width:12,height:16,lineHeight:18}},we=Object(k.mergeStyleSets)(Oe,{root:{height:14,lineHeight:14}}),xe=Object(k.mergeStyleSets)(Oe,{root:{width:16}}),Ce=Object(k.memoizeFunction)((function(e){var t,r=null==e?void 0:e.ResolvedCardTitle;return{resolvedCardButtonsDefaultIconContainerStyles:Object(k.mergeStyles)({margin:"1px 0px",selectors:Object(p.P)()?{".ms-Button-icon, .ms-font-m":{color:r}}:void 0}),resolvedCardButtonsLastIconContainerStyles:Object(k.mergeStyles)({margin:"1px 4px 1px 0px",selectors:Object(p.P)()?{".ms-Button-icon":{color:r}}:void 0}),resolvedCardButtonIconStyles:(t={},t[3]=Object(se.j)(Oe),t[16]=Object(se.j)(we),t[25]=Object(se.j)(xe),t),resolvedCardButtonIconDefaultStyles:Oe}})),Se=l.a.memo((function(e){var t,r=e.actions,n=null===(t=Object(I.b)())||void 0===t?void 0:t.colors,o=Ce(n),i=r.map((function(e,t){var n,i=t===r.length-1;return l.a.createElement("div",{key:"".concat(t+1,"-").concat(e.text),className:i?o.resolvedCardButtonsLastIconContainerStyles:o.resolvedCardButtonsDefaultIconContainerStyles},l.a.createElement(ge,{accessibilityLabel:e.accessibilityLabel,disabled:e.disabled,icon:e.icon,iconStyles:null!==(n=o.resolvedCardButtonIconStyles[e.icon])&&void 0!==n?n:o.resolvedCardButtonIconDefaultStyles,id:e.id,isTabbable:e.isTabbable,onKeyDown:e.onKeyDown,onClick:e.onClick,text:"",tooltipDirection:e.tooltipDirection,tooltipText:Object(ye.a)(e)}))}));return l.a.createElement(s.Fragment,null,i)}));Se.displayName="ResolvedCardButtons";var Te=r(1276),je=Object(k.memoizeFunction)((function(e){var t,r,n;return{resolvedCardContainer:Object(k.mergeStyles)({display:"flex",flexDirection:"row",alignItems:"center"}),resolvedCardIcon:Object(k.mergeStyles)((t={width:8,height:8,color:null!==(r=null==e?void 0:e.ResolvedCardTitle)&&void 0!==r?r:z.a.GRAY_160,lineHeight:8,margin:"10px 10px 10px 14px"},t[se.e]={color:"ButtonText"},t)),resolvedCardLabel:Object(k.mergeStyles)({fontFamily:'"Segoe UI", "Segoe UI Web", Arial, Verdana, sans-serif',fontWeight:k.FontWeights.semibold,color:null!==(n=null==e?void 0:e.ResolvedCardTitle)&&void 0!==n?n:z.a.GRAY_160,lineHeight:14})}})),ke=s.memo((function(e){var t,r=Object(ye.b)(20),n=null===(t=Object(I.b)())||void 0===t?void 0:t.colors,o=je(n),i=e.taskCompleter?e.localizationAPI.getStringOrUndefined(202):e.localizationAPI.getStringOrUndefined(197);return s.createElement("div",{className:o.resolvedCardContainer},r&&s.createElement(k.Icon,{iconName:r,className:o.resolvedCardIcon}),s.createElement("div",{className:o.resolvedCardLabel},p.P()?i:s.createElement(Te.a,{numberOfLines:1,acceptsKeyboardFocus:!1,accessible:!1},i)))}));function Pe(e){return p.n()&&(e.postDisplayMode===C.a.Normal||e.postDisplayMode===C.a.Resolved)&&e.isNew}ke.displayName="ResolvedCardLabel";var Ee,_e,Ie,Re=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.getNewCandidateTaskAssignees=Object(N.a)((function(e,t){var r=Object(u.d)(e);return t&&Object(u.m)(r,t),r})),n.onEditorFocus=function(){!n.isActiveDraft()&&!n.isActiveReply()||n.isSelectionWithinCard()||(Object(a.k)().assertConditionTag(p.X(),"Should have selection in card with draft if NewSelectionInteractions off",572844239),n.props.onCardSelect(n))},n.notifyRenderedOnce=Object(L.a)((function(){n.props.onCardRendered&&n.props.onCardRendered(n.props)})),n.toggleExpansion=function(){n.props.cardCollapsedState===O.a.Collapsed?n.props.onCardSelectExpand(n,!0,!1):n.props.onCardCollapse(n)},n.renderExpandButton=function(e){var t=s.Children.count(n.props.children),r=n.props.displayMode===w.a.Resolved;if(!(n.props.cardCollapsedState===O.a.Expanded||t<=1||(!r||!p.n())&&t<=2)){var i=!1;if(p.n()&&n.props.children)for(var a=1;a<t;++a){var l=n.props.children[a];if(i||a===t-1&&!r)break;var c=l.props;i=!!l.props.postDisplayMode&&Pe(c)}var u=n.props.componentTreeId.renderContextType;return s.createElement(me,Object(o.a)({id:Object(q.ab)({id:n.props.id,renderContextType:u}),innerText:W.v(n.props.localizationAPI,t,r)||"",isCardResolved:r,isTabbable:n.props.isTabbable,preventDefaultKeyDownBehavior:n.props.preventDefaultKeyDownBehavior,renderContextType:u,restrictControl_deprecated:!!n.props.restrictActionControls_deprecated,key:"expandButton",unreadPostHidden:i},e))}},n.logCardRenderedOnce=Object(L.a)((function(){var e,t;null===(t=(e=Object(a.k)()).logDiagnosticTrace)||void 0===t||t.call(e,Object(F.a)(Ee||(Ee=Object(o.e)(["CommentCardRendered"],["CommentCardRendered"]))),i.d.reserveTag(524100999),a.h.Info,a.c.ProductServiceUsage,Object(a.l)(a.g.ReviewedAsNotNecessary),Object(a.o)("RenderContextType",n.props.componentTreeId.renderContextType,a.d.SystemMetadata),Object(a.o)("CardDisplayMode",n.props.displayMode,a.d.SystemMetadata))})),n.getId=n.getId.bind(n),n.onTaskAssigneeUpdated=n.onTaskAssigneeUpdated.bind(n),n.onCardFocus=n.onCardFocus.bind(n),n}return Object(o.c)(t,e),t.prototype.componentDidMount=function(){var e,t;this.props.onCardMounted(this.props),this.isActiveDraft()&&(null===(t=(e=Object(a.k)()).logDiagnosticTrace)||void 0===t||t.call(e,Object(F.a)(_e||(_e=Object(o.e)(["DraftCardMount"],["DraftCardMount"]))),i.d.reserveTag(556827602),a.h.Info,a.c.ProductServiceUsage,Object(a.l)(a.g.ReviewedAsNotNecessary),Object(a.o)("RenderContextType",this.props.componentTreeId.renderContextType,a.d.SystemMetadata),Object(a.o)("CardDisplayMode",this.props.displayMode,a.d.SystemMetadata)))},t.prototype.componentWillUnmount=function(){var e,t;this.isActiveDraft()&&(null===(t=(e=Object(a.k)()).logDiagnosticTrace)||void 0===t||t.call(e,Object(F.a)(Ie||(Ie=Object(o.e)(["DraftCardUnmount"],["DraftCardUnmount"]))),i.d.reserveTag(556827603),a.h.Info,a.c.ProductServiceUsage,Object(a.l)(a.g.ReviewedAsNotNecessary),Object(a.o)("RenderContextType",this.props.componentTreeId.renderContextType,a.d.SystemMetadata),Object(a.o)("CardDisplayMode",this.props.displayMode,a.d.SystemMetadata)))},t.prototype.getId=function(){return this.props.id},t.prototype.isActiveReply=function(){return this.props.displayMode===w.a.Reply||this.props.displayMode===w.a.ReplyPreCommitPending},t.prototype.isActiveDraft=function(){return this.props.displayMode===w.a.Draft||this.props.displayMode===w.a.DraftPreCommitPending},t.prototype.onTaskAssigneeUpdated=function(e){this.props.onSelectedTaskAssigneeUpdated(e)},t.prototype.getTaskAssignerProps=function(){var e;if(this.props.supportsTaskCreation){var t=this.isActiveReply()&&!this.props.taskTopperProps;if((!t||p.d())&&this.props.currentMentionees){var r=t||this.isActiveDraft(),n=W.p(this.props.localizationAPI,r),o=this.getNewCandidateTaskAssignees(this.props.currentMentionees,null===(e=this.props.taskTopperProps)||void 0===e?void 0:e.assignees),i=this.props.localizationAPI.getString(128);if(o&&0!==Object.keys(o).length)return{renderContextType:this.props.componentTreeId.renderContextType,id:this.props.id,label:n,candidateAssignees:o,isNewThread:this.isActiveDraft(),selectedAssignee:this.props.selectedTaskAssignee,onSelectedTaskAssigneeUpdated:this.onTaskAssigneeUpdated,pickerAriaLabel:i,assignerTooltip:this.props.localizationAPI.getString(182),preventDefaultKeyDownBehavior:this.props.preventDefaultKeyDownBehavior,isTabbable:this.props.isTabbable,localizationAPI:this.props.localizationAPI,displayMode:this.props.displayMode,isTaskThread:!!this.props.taskTopperProps}}}},t.prototype.isSelectionWithinCard=function(){return this.props.selected||this.props.hasSelectedChild},t.prototype.renderDraftBoxMessage=function(e){if(!p.F())return null;var t=this.props.draftWarningState;return t||e?s.createElement(ne,{key:"draftBoxMessage",draftWarningState:t,localizationAPI:this.props.localizationAPI,target:M.Card,id:t?Object(q.u)({id:this.props.id,renderContextType:this.props.componentTreeId.renderContextType}):Object(q.L)({id:this.props.id,renderContextType:this.props.componentTreeId.renderContextType}),defaultToPostingTip:e}):null},t.prototype.onCardSaveDraft=function(e){e&&this.props.draftId&&this.props.onSaveDraft(this.getId(),e)},t.prototype.renderResolvedOrTaskTopperHelper=function(e){var t=this.props.taskTopperProps,r=e.resolvedButtonsProps,n=e.preventDefaultKeyDownBehavior;if(r||t){var i=this.props.componentTreeId.renderContextType,a=r&&r.length>0?s.createElement(Se,{actions:r,renderContextType:i,preventDefaultKeyDownBehavior:n}):void 0,l=t&&this.props.displayMode!==w.a.Resolved?s.createElement(Z,Object(o.a)({},t,{taskTopperCheckboxRef:e.taskTopperCheckboxRef})):s.createElement(ke,{localizationAPI:this.props.localizationAPI,renderContextType:i,taskCompleter:(null==t?void 0:t.assignees)&&t.assignees.length>0?t.assignees[0]:void 0});return s.createElement(U,Object(o.a)({leftElement:l,rightElement:a,preventDefaultKeyDownBehavior:e.preventDefaultKeyDownBehavior},e.cardTopperContainerProps))}},t.prototype.onCardFocus=function(e){this.props.onCardFocus(this)},t.prototype.logCardRendered=function(){this.props.displayMode!==w.a.Loading&&this.logCardRenderedOnce()},t.DisplayName="CommentCard",t}(s.PureComponent),Ae=r(1072),De=r(1272),Be=r(1206),Me=r(1120),Ne=r(1121);var Le=r(1556),Fe=Object(k.memoizeFunction)((function(e){var t,r,n,o,i,a,s,l,c,u,d,p,f;return{reactionButton:Object(k.mergeStyleSets)({icon:(t={".LikeEmptyBorder":{fill:null!==(a=null==e?void 0:e.CommentLikeEmptyBorder)&&void 0!==a?a:"#3A3A38"},".LikeSolidBorder":{fill:null!==(s=null==e?void 0:e.CommentLikeSolidBorder)&&void 0!==s?s:"#0063B1"},".LikeSolidCenter":{fill:null!==(l=null==e?void 0:e.CommentLikeSolidCenter)&&void 0!==l?l:"#83BEEC"}},t[k.HighContrastSelector]={".LikeEmptyBorder":{fill:"ButtonText"},".LikeSolidBorder":{fill:"Highlight"},".LikeSolidCenter":{fill:"Highlight"}},t),rootPressed:(r={color:null!==(c=null==e?void 0:e.MenuIcon)&&void 0!==c?c:z.a.GRAY_H,outline:"none",border:"1px solid",boxSizing:"content-box",borderColor:null!==(u=null==e?void 0:e.CommonControlBorder)&&void 0!==u?u:Le.a.gray110,".ms-Fabric--isFocusVisible &:focus::after":se.m,":focus":{outline:"none",borderRadius:"1px",boxShadow:"0px 0px 0px 1px ".concat(z.a.FOCUS_BOX)}},r[k.HighContrastSelector]={border:"1px solid"},r),root:(n={backgroundColor:"transparent",color:null!==(d=null==e?void 0:e.SubText)&&void 0!==d?d:z.a.GRAY_E,height:"16px",maxHeight:"16px",margin:1,padding:0,border:"1px solid transparent",position:"relative",boxSizing:"content-box",fontSize:"11px",".ms-Fabric--isFocusVisible &:focus::after":se.m,":focus":{outline:"none",borderRadius:"1px",boxShadow:"0px 0px 0px 1px ".concat(z.a.FOCUS_BOX)}},n[k.HighContrastSelector]={border:"1px solid"},n)}),dropdown:Object(k.mergeStyleSets)({root:(o={zIndex:"1",maxWidth:172,maxHeight:200,overflow:"auto",":focus":{outline:"none",borderRadius:"1px",boxShadow:"0px 0px 0px 1px ".concat(z.a.FOCUS_BOX)},".LikeSolidBorder":{fill:null!==(p=null==e?void 0:e.CommentLikeSolidBorder)&&void 0!==p?p:"#0063B1"},".LikeSolidCenter":{fill:null!==(f=null==e?void 0:e.CommentLikeSolidCenter)&&void 0!==f?f:"#83BEEC"}},o[k.HighContrastSelector]={":focus":{boxShadow:"none",outline:"1px solid ".concat(z.a.FOCUS_BOX)},".LikeSolidBorder":{fill:"Highlight"},".LikeSolidCenter":{fill:"Highlight"}},o),calloutMain:{},beak:{},beakCurtain:{},container:{}}),reactorItem:Object(k.mergeStyleSets)({root:(i={margin:"6px",":focus":{outline:"none",borderRadius:"1px",boxShadow:"0px 0px 0px 1px ".concat(z.a.FOCUS_BOX)}},i[k.HighContrastSelector]={":focus":{boxShadow:"none",outline:"1px solid ".concat(z.a.FOCUS_BOX)}},i),details:{},primaryText:{},secondaryText:{},tertiaryText:{},optionalText:{},textContent:{}})}})),ze=function(e){var t=l.a.useMemo((function(){return function(e){return e.map((function(e,t){return{text:Object(u.k)(e),secondaryText:e.UserId,itemID:t.toString()}}))}(e.userList)}),[e.userList]),r=Fe(),n=r.reactorItem,i=Object(q.o)(e.reactionButtonId),a=l.a.useCallback((function(){var t=document.getElementById(e.reactionButtonId);t&&t.focus()}),[e.reactionButtonId]),s=l.a.useCallback((function(r){if(Object(E.f)(r.key)===E.b.ArrowDown){var n=(o=c(r.target))>=t.length-1?0:o+1;(a=document.getElementById(Object(q.m)(i,n)))&&a.focus()}else if(Object(E.f)(r.key)===E.b.ArrowUp){var o,a,s=(o=c(r.target))<=0?t.length-1:o-1;(a=document.getElementById(Object(q.m)(i,s)))&&a.focus()}else if(Object(E.f)(r.key)===E.b.Escape){var l=document.getElementById(e.reactionButtonId);l&&l.focus()}r.stopPropagation(),r.preventDefault()}),[t,i,e.reactionButtonId]);function c(e){if(!e)return 0;var t=e.dataset.index;return t?parseInt(t,10):0}var d=l.a.useCallback((function(e){Object(E.f)(e.key)!==E.b.Escape&&Object(E.f)(e.key)!==E.b.Tab||(a(),e.stopPropagation(),e.preventDefault())}),[a]);return l.a.createElement(k.Callout,{id:i,target:"#".concat(e.reactionButtonId),isBeakVisible:!1,styles:r.dropdown,onKeyDown:d,onBlur:a,role:"application"},function(){return l.a.createElement("div",{style:{display:"flex",padding:"6px",gap:"9px"}},l.a.createElement(k.FontIcon,{iconName:Object(ye.b)(23)}),l.a.createElement("span",null,e.reactionLabel))}(),l.a.createElement("div",{role:"list"},t.map((function(e,t){return l.a.createElement(k.Persona,Object(o.a)({},e,{id:Object(q.m)(i,t),"data-index":t,key:e.itemID,size:k.PersonaSize.size24,styles:n,tabIndex:0,role:"listitem",onKeyDown:s}))}))))},He=l.a.memo((function(e){return ze(e)})),Ue=function(e){var t,r,n=Object(o.f)(Object(s.useState)(!1),2),i=n[0],a=n[1],c=Object(o.f)(Object(s.useState)(!1),2),u=c[0],d=c[1],f=l.a.useCallback((function(){u||a(!0)}),[u]),h=l.a.useCallback((function(){u||a(!1)}),[u]),m=l.a.useCallback((function(){d(!1),a(!0)}),[]),y=Object(I.b)(),b=Fe(null==y?void 0:y.colors),v=function(e,t){if(e){var r=e[t];return r&&r.length>0?r.length.toString():void 0}}(e.usersByReactionType,_.a.Like),g=Object(q.n)({id:e.commentId,renderContextType:e.renderContextType}),O=Object(q.o)(g),w=Object(q.N)(g),x=Object(ye.b)(function(e,t){if(!e)return!1;var r=e[t];return!!r&&r.some((function(e){return e.IsCurrentUser}))}(e.usersByReactionType,_.a.Like)?23:22),C=l.a.useCallback((function(t){if(!p.H()||!e.preventReacting){var r=x===Object(ye.b)(23);e.onReactionPressed(e.commentId,!r,_.a.Like),t.stopPropagation(),t.preventDefault()}}),[e,x]),S=l.a.useCallback((function(e){Object(Ne.b)(e.key)===Me.a.ArrowDown&&e.altKey&&(d(!0),e.stopPropagation(),e.preventDefault())}),[]);return Object(s.useEffect)((function(){if(u){var e=document.getElementById(Object(q.m)(O,0));e&&e.focus()}}),[O,u]),l.a.createElement(k.TooltipHost,{content:null===(t=e.buttonStrings)||void 0===t?void 0:t.buttonLabel,directionalHint:k.DirectionalHint.topCenter,tooltipProps:$.a},l.a.createElement("span",{id:w,hidden:!0},function(t){var r,n,o;if(t){var i=parseInt(t,10);if(0!==i&&!isNaN(i))return"".concat(t," ").concat(i>1?null===(r=e.buttonStrings)||void 0===r?void 0:r.buttonLabelPlural:null===(n=e.buttonStrings)||void 0===n?void 0:n.buttonLabel,". ").concat(null===(o=e.buttonStrings)||void 0===o?void 0:o.buttonA11yDropdownText)}}(v)),l.a.createElement(k.ActionButton,{toggle:!0,id:g,ariaLabel:null===(r=e.buttonStrings)||void 0===r?void 0:r.buttonLabel,role:"button",styles:b.reactionButton,onClick:C,tabIndex:e.isTabbable?0:-1,onFocus:m,onBlur:h,iconProps:{iconName:x},checked:x===Object(ye.b)(23),onMouseEnter:f,onMouseLeave:h,onKeyDown:S,"aria-describedby":w},v,function(t){var r,n;if(!i||!e.usersByReactionType)return null;var a=null!==(r=e.usersByReactionType[_.a.Like])&&void 0!==r?r:[];if(0===a.length)return null;var s={userList:a,reactionButtonId:t,reactionLabel:null===(n=e.buttonStrings)||void 0===n?void 0:n.buttonLabel};return l.a.createElement(He,Object(o.a)({},s))}(g)))},We=l.a.memo((function(e){return Be.b(p.b,e,Ue)})),qe=Object(k.memoizeFunction)((function(e,t){var r,n,o,i,a,s,l,c,u;return{iconContextMenuAnchor:{menuIconDisabled:{color:null!==(o=null==e?void 0:e.MenuIconDisabled)&&void 0!==o?o:z.a.GRAY_C},menuIcon:(r={color:null!==(i=null==e?void 0:e.MenuIcon)&&void 0!==i?i:z.a.GRAY_F,margin:0,width:"16px"},r[k.HighContrastSelector]={color:"ButtonText"},r),menuIconPressed:{color:null!==(a=null==e?void 0:e.MenuIconHoveredPressed)&&void 0!==a?a:z.a.GRAY_J},menuIconHovered:Object(k.mergeStyles)({color:null!==(s=null==e?void 0:e.MenuIconHoveredPressed)&&void 0!==s?s:z.a.GRAY_J},se.l),rootPressed:{color:p.P()?void 0:z.a.GRAY_J,backgroundColor:null==e?void 0:e.DefaultButtonPressed},rootHovered:Object(k.mergeStyles)({color:p.P()?void 0:se.b.BUTTON_HOVER,backgroundColor:null==e?void 0:e.DefaultButtonHovered},se.l),rootFocused:Object(k.mergeStyles)({color:p.P()?void 0:z.a.GRAY_H,backgroundColor:null==e?void 0:e.DefaultButton,outline:"none",border:"1px solid",borderColor:null!==(l=null==e?void 0:e.CommonControlBorder)&&void 0!==l?l:Le.a.gray110},se.k),root:{flexShrink:0,height:"10px",width:"20px",minWidth:"20px",border:"1px solid transparent",padding:0,margin:0,color:p.P()?void 0:z.a.GRAY_E,backgroundColor:null==e?void 0:e.DefaultButton,selectors:{".ms-Fabric--isFocusVisible &:focus::after":se.m,".ms-Button-flexContainer":{position:"relative"}}}},menuItem:Object(k.mergeStyles)({overflow:"hidden",margin:0,padding:0,selectors:p.P()?(n={".ms-Button":{color:null==e?void 0:e.Text,selectors:{":hover":{backgroundColor:null==e?void 0:e.DefaultButtonHovered},":active":{backgroundColor:null==e?void 0:e.DefaultButtonPressed}}}},n[k.HighContrastSelector]={".ms-Button:hover":{color:"HighlightText",backgroundColor:"Highlight"},".ms-Button:active":{color:"Field",backgroundColor:"FieldText"},".ms-Button":{color:"ButtonText",backgroundColor:"ButtonFace"}},n):void 0}),contextMenu:Object(k.mergeStyles)({backgroundColor:null==e?void 0:e.CardBackground,minWidth:30,maxWidth:172,paddingTop:"6px",paddingBottom:"6px",margin:0,overflow:"hidden",selectors:{".ms-FocusZone.ms-ContextualMenu.is-open":Object(k.mergeStyles)({display:"flex",alignContent:"flex-end",alignItems:"flex-end",justifyContent:"flex-end",minWidth:30})}}),calloutStyle:{root:{borderColor:null!==(c=null==e?void 0:e.CardBorder)&&void 0!==c?c:z.a.COMMENTS_GRAY,boxShadow:null!==(u=null==t?void 0:t.BoxShadowLevel2)&&void 0!==u?u:se.a.LEVEL2}}}})),Ve=Object(k.memoizeFunction)((function(){var e;return{root:(e={margin:"3px",padding:0,paddingLeft:"7px",paddingRight:"7px",border:"1px transparent",color:z.a.GRAY_E,backgroundColor:"transparent",cursor:"pointer",height:"unset",boxSizing:"border-box",textAlign:"left",minWidth:"30px",maxWidth:166,width:"95%"},e[k.HighContrastSelector]={color:"ButtonText"},e),rootHovered:se.l,rootFocused:se.k,textContainer:{flexGrow:0,flexShrink:0},flexContainer:{justifyContent:"flex-start"},label:{fontSize:"12px",fontWeight:"600",textAlign:"left",fontFamily:"inherit",lineHeight:"20px",maxWidth:122,margin:0,marginLeft:"5px",marginRight:"10px",padding:0,border:0}}}));function Ke(e){e&&e.focus()}var Ge=s.memo((function(e){var t=Ve();return s.createElement(k.DefaultButton,{componentRef:e.data?Ke:void 0,id:e.id,iconProps:{iconName:e.iconName,style:{width:12,height:12,marginTop:"-4px"}},key:e.key,role:"menuitem",ariaLabel:"".concat(e.name),styles:t,"data-is-focusable":!0,onKeyDown:e.onKeyDown,onClick:function(t){e.onClick&&e.onClick(t),e.dismissMenu(t)}},e.name)}));function Qe(e,t,r,n,o,i,a){e>0&&i(Je(t,qe(null==a?void 0:a.colors,null==a?void 0:a.styles),r,n,o))}var Ye=s.memo((function(e){var t=Object(o.f)(s.useState([]),2),r=t[0],n=t[1],i=Object(I.b)(),a=qe(null==i?void 0:i.colors,null==i?void 0:i.styles);return Be.a(Qe,r.length,e.parentId,e.renderContextType,e.itemType,e.menuItems,n,i),s.createElement(k.TooltipHost,{content:e.title,tooltipProps:$.a},function(e,t,r,n,o){var i=s.useCallback((function(t,i){return function(e,t,r,n,o,i){var a;n.length<1&&o(Je(r.parentId,qe(null==i?void 0:i.colors,null==i?void 0:i.styles),r.renderContextType,r.itemType,r.menuItems));null===(a=r.onMenuClick)||void 0===a||a.apply(void 0)}(0,0,e,r,n,o)}),[e,r,n,o]),a=s.useCallback((function(e){e.stopPropagation()}),[]);return s.createElement(k.IconButton,{id:e.id,ariaLabel:e.ariaLabel,styles:t.iconContextMenuAnchor,onMenuClick:i,onFocus:a,menuProps:{ariaLabel:e.ariaLabel,className:t.contextMenu,directionalHint:k.DirectionalHint.bottomRightEdge,gapSpace:2,isBeakVisible:!1,shouldFocusOnMount:!1,calloutProps:{styles:t.calloutStyle,finalHeight:1},items:r},menuIconProps:{iconName:Object(ye.b)(7),style:{width:16}},tabIndex:e.tabIndex})}(e,a,r,n,i))}));function $e(e,t,r){t.onClick(e),r&&r.stopPropagation()}function Je(e,t,r,n,o){return n===D.CardContextMenuItem&&o&&o.length>0?o.map((function(n,i){return{id:q.r({id:e,renderContextType:r},n.id||n.text),key:n.id||n.text,iconName:Object(ye.b)(n.icon),name:n.text,data:0===i,className:t.menuItem,onClick:function(t){return $e(e,n,t)},onKeyDown:function(t){return function(e,t,r,n,o,i){if(Object(Ne.b)(i.key)===Me.a.ArrowDown&&0===o){var a=r.id||r.text||"MissingKey",s=document.getElementById(q.r({id:e,renderContextType:n},a));if(i.target===s&&t&&t.length>1){var l=t[1].id||t[1].text,c=document.getElementById(q.r({id:e,renderContextType:n},l));c&&(c.focus(),i.preventDefault(),i.stopPropagation())}}else Object(Ne.b)(i.key)===Me.a.Tab&&(i.preventDefault(),i.stopPropagation())}(e,o,n,r,i,t)},onRender:Xe}})):n===D.ActionBarItem&&o&&o.length>0?o.map((function(n,i){return{id:q.a({id:e,renderContextType:r},i),key:n.text,iconName:Object(ye.b)(n.icon),name:n.text,data:0===i,className:t.menuItem,onClick:function(t){return $e(e,n,t)},onKeyDown:function(t){return function(e,t,r,n){if(Object(Ne.b)(n.key)===Me.a.ArrowDown){var o=document.getElementById(q.a({id:e,renderContextType:r},0));if(n.target===o&&t&&t.length>1){var i=document.getElementById(q.a({id:e,renderContextType:r},1));i&&(i.focus(),n.preventDefault(),n.stopPropagation())}}else Object(Ne.b)(n.key)===Me.a.Tab&&(n.preventDefault(),n.stopPropagation())}(e,o,r,t)},onRender:Xe}})):[]}var Xe=Object(k.memoizeFunction)((function(e,t){var r=Object(o.a)(Object(o.a)({},e),{dismissMenu:t});return s.createElement(Ge,Object(o.a)({},r))})),Ze=Ye,et={fontWeight:"600",alignSelf:"baseline",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",marginLeft:"3px",userSelect:"text",fontFamily:"".concat(se.g,", ").concat(se.h,", ").concat(se.i,", Arial, Verdana, sans-serif"),marginBottom:"1px",fontSize:"14px",lineHeight:"19px",flex:"4 1 auto"},tt=Object(k.memoizeFunction)((function(){return{author:Object(k.mergeStyles)(et),header:Object(k.mergeStyles)({display:"flex",direction:"inherit",overflow:"hidden",flexDirection:"row",flexWrap:"nowrap",height:20})}}));var rt=Object(k.memoizeFunction)((function(e,t){return Object(a.k)().assertConditionTag(!!e.localizationAPI,"LocalizationAPI must be present when rendering context menu",595710280),{id:q.H({id:e.parentId,renderContextType:t}),parentId:e.parentId,title:e.localizationAPI?e.localizationAPI.getString(123):"",ariaLabel:e.localizationAPI?e.localizationAPI.getString(123):"",onMenuClick:nt(e),tabIndex:e.isTabbable?0:-1,renderContextType:t,menuItems:e.actionBarItems,itemType:D.ActionBarItem}}),5),nt=Object(k.memoizeFunction)((function(e){return function(t){e.trySelectPost(),t&&Object(E.f)(t.key)===E.b.ArrowDown&&t.preventDefault()}})),ot=s.memo((function(e){var t=tt();return s.createElement("div",{className:t.header},s.createElement("div",{className:t.author},e.authorLine),function(e){return!e.contextMenuProps||0===e.contextMenuProps.menuItems.length&&0===e.contextMenuProps.actionBarItems.length?null:s.createElement(Ze,Object(o.a)({},rt(e.contextMenuProps,e.renderContextType)))}(e),e.reactionButtonProps?s.createElement(We,Object(o.a)({},e.reactionButtonProps)):void 0)})),it=r(590);var at,st,lt=s.createContext(void 0);var ct,ut,dt,pt,ft,ht={fontFamily:"inherit",justifyContent:"center",selectors:Object(p.P)()?(at={},at[".ms-Persona-initials"]={selectors:(st={},st[k.HighContrastSelector]={color:"WindowText"},st)},at):void 0},mt=Object(k.memoizeFunction)((function(e){var t,r;return{persona:Object(k.mergeStyles)(ht,{selectors:Object(p.P)()?(t={},t[".ms-Persona-initials"]={color:null==e?void 0:e.PersonaInitialsTextColor},t):void 0}),personaResolved:Object(k.mergeStyles)(ht,{selectors:Object(p.P)()?{selectors:(r={},r[".ms-Persona-initials"]={color:null==e?void 0:e.PersonaInitialsTextColorResolved},r)}:void 0}),personaRootContainer:Object(k.mergeStyles)({margin:8,marginLeft:6,position:"absolute",left:"-15px"}),personaContainer:Object(k.mergeStyles)({margin:4,marginLeft:9,marginRight:3})}})),yt=s.memo((function(e){var t,r,n,l=null===(t=Object(I.b)())||void 0===t?void 0:t.colors,c=mt(l),u=function(){return s.useContext(lt)}(),d=null!==(r=null==l?void 0:l.PersonaColorResolved)&&void 0!==r?r:z.a.GRAY_70,f=null!==(n=null==l?void 0:l.PersonaInitialsTextColorResolved)&&void 0!==n?n:z.a.GRAY_140,h={text:e.authorName,coinSize:20,initialsColor:e.resolved?d:e.authorColor||k.PersonaInitialsColor.purple,initialsTextColor:e.resolved?f:void 0,hidePersonaDetails:!0},m=Object(a.k)().getMetadata(),y="-4"===m.ring&&"DC2"===m.dataCenter?h:Object(o.a)(Object(o.a)({},h),{imageShouldStartVisible:!0,imageUrl:e.authorImageURL,showInitialsUntilImageLoads:!0}),b=s.useMemo((function(){return{personaInfo:{identifiers:{Smtp:e.authorEmail,PersonaType:"User"},displayName:e.authorName},behavior:{onCardOpen:void 0,onCardClose:void 0,disableHover:!0},tabIndex:u&&e.isTabbable?0:-1,clientScenario:"SharedComments"}}),[u,e.isTabbable,e.authorEmail,e.authorName]),v=p.B()&&window.LivePersonaCardHoverTargetV2?s.createElement(window.LivePersonaCardHoverTargetV2,{cardParameters:b}):void 0;return s.createElement("div",{className:e.isParent?c.personaRootContainer:c.personaContainer,style:e.opacity?{opacity:e.opacity}:void 0},function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return s.Children.toArray(t).reduce((function(e,t){if(!t)return e;if(it.isElement(t))return t.props.children&&Object(i.j)("Warning: wrapper elements should not contain children"),s.cloneElement(t,void 0,e);throw new Error("Expected element but got ".concat(t))}),e)}(s.createElement(k.PersonaCoin,Object(o.a)({},y,{className:e.resolved?c.personaResolved:c.persona})),v))})),bt=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.getStyles=function(e){return Object(De.b)(null==e?void 0:e.colors,null==e?void 0:e.styles)},n.renderWithContexts=function(e,t){n.styles=n.getStyles(t);var r=[],i=n.props.displayMode===w.a.Draft||n.props.displayMode===w.a.DraftPreCommitPending,a=e.renderContextType;if(n.props.anchorText){var l=q.b({id:n.props.id,renderContextType:a});r.push({element:s.createElement("div",{id:l,className:n.styles.anchor},n.props.anchorText),visibility:!0,key:l})}if(i){var c=q.t({id:n.props.id,renderContextType:a});r.push({element:n.renderDraftCancelButton(a),visibility:!0,key:c})}else if(n.props.contextMenuProps&&n.props.contextMenuProps.menuItems.length>0&&r.push({element:s.createElement(Ze,Object(o.a)({},n.props.contextMenuProps)),visibility:!n.props.hideActions,key:n.props.contextMenuProps.id}),n.props.reactionButtonProps&&1===n.props.rootAuthorOpacity){var u=q.n({id:n.props.id,renderContextType:a}),d=n.props.reactionButtonProps.usersByReactionType&&n.props.reactionButtonProps.usersByReactionType[Ae.g.Like]?n.props.reactionButtonProps.usersByReactionType[Ae.g.Like]:[];r.push({element:s.createElement(We,Object(o.a)({},n.props.reactionButtonProps)),visibility:d.length>0||!n.props.preventReacting&&!n.props.hideActions,key:u})}var p=r.map((function(e){return s.createElement("div",{key:e.key,className:e.visibility?n.styles.headerItem:n.styles.hiddenHeaderItem},e.element)})),f=1===n.props.rootAuthorOpacity?void 0:{boxShadow:"0px 2px 4px 0px rgba(0, 0, 0, ".concat(.13*(1-n.props.rootAuthorOpacity),")")};return s.createElement("div",{className:n.styles.headerContainer,style:f},n.renderRootPersona(),n.renderRootLabel(a),p.length?s.createElement("div",{className:i?n.styles.headerRightCornerDraft:n.styles.headerRightCorner},p):void 0)},n.render=function(){return p.P()||Object(V.a)(n.renderWithContexts,K.a),Object(V.a)(n.renderWithContexts,K.a,I.a)},n.cancelDraftButtonKeyDownHandler=n.cancelDraftButtonKeyDownHandler.bind(n),n.cancelDraftButtonClickHandler=n.cancelDraftButtonClickHandler.bind(n),n}return Object(o.c)(t,e),t.prototype.cancelDraftButtonClickHandler=function(e){this.props.onCancelDraft(),e.stopPropagation()},t.prototype.cancelDraftButtonKeyDownHandler=function(e){Object(E.f)(e.key)===E.b.Enter&&(this.props.onCancelDraft(),e.stopPropagation(),e.preventDefault())},t.prototype.renderDraftCancelButton=function(e){return s.createElement(k.TooltipHost,{content:this.props.localizationAPI.getString(15),tooltipProps:$.a},this.renderDraftCancelButtonInternal(e))},t.prototype.renderDraftCancelButtonInternal=function(e){return s.createElement("div",{className:this.styles.cancelDraftContainer},s.createElement(k.IconButton,{id:q.t({id:this.props.id,renderContextType:e}),styles:this.styles.cancelDraftButton,disabled:!1,onClick:this.cancelDraftButtonClickHandler,onKeyDown:this.cancelDraftButtonKeyDownHandler,iconProps:{iconName:"CancelGlyph"},tabIndex:p.X()&&!this.props.isTabbable?-1:void 0,ariaLabel:this.props.localizationAPI.getString(15)}))},t.prototype.renderRootPersona=function(){if(0===this.props.rootAuthorOpacity)return null;var e={authorName:Object(u.k)(this.props.author),resolved:this.props.isResolvedCard,isParent:!0,authorEmail:this.props.author.Email,authorColor:this.props.authorColor,authorImageURL:this.props.authorImageURL,opacity:this.props.rootAuthorOpacity,isTabbable:this.props.isTabbable};return s.createElement(yt,Object(o.a)({},e))},t.prototype.renderRootLabel=function(e){if(0===this.props.rootAuthorOpacity)return null;var t={authorLine:Object(u.k)(this.props.author),renderContextType:e};return s.createElement("div",{className:this.styles.headerAuthorContainer,style:{opacity:this.props.rootAuthorOpacity}},s.createElement(ot,Object(o.a)({},t)))},t}(s.PureComponent);!function(e){e.Arabic="Segoe UI Web (Arabic)",e.Cyrillic="Segoe UI Web (Cyrillic)",e.EastEuropean="Segoe UI Web (East European)",e.Greek="Segoe UI Web (Greek)",e.Hebrew="Segoe UI Web (Hebrew)",e.Thai="Leelawadee UI Web",e.Vietnamese="Segoe UI Web (Vietnamese)",e.WestEuropean="Segoe UI Web (West European)",e.Selawik="Selawik Web",e.Armenian="Segoe UI Web (Armenian)",e.Georgian="Segoe UI Web (Georgian)"}(ct||(ct={})),function(e){e.Arabic="'".concat(ct.Arabic,"'"),e.ChineseSimplified="'Microsoft Yahei UI', Verdana, Simsun",e.ChineseTraditional="'Microsoft Jhenghei UI', Pmingliu",e.Cyrillic="'".concat(ct.Cyrillic,"'"),e.EastEuropean="'".concat(ct.EastEuropean,"'"),e.Greek="'".concat(ct.Greek,"'"),e.Hebrew="'".concat(ct.Hebrew,"'"),e.Hindi="'Nirmala UI'",e.Japanese="'Yu Gothic UI', 'Meiryo UI', Meiryo, 'MS Pgothic', Osaka",e.Korean="'Malgun Gothic', Gulim",e.Selawik="'".concat(ct.Selawik,"'"),e.Thai="'Leelawadee UI Web', 'Kmer UI'",e.Vietnamese="'".concat(ct.Vietnamese,"'"),e.WestEuropean="'".concat(ct.WestEuropean,"'"),e.Armenian="'".concat(ct.Armenian,"'"),e.Georgian="'".concat(ct.Georgian,"'")}(ut||(ut={})),function(e){e.size10="10px",e.size12="12px",e.size14="14px",e.size16="16px",e.size18="18px",e.size20="20px",e.size24="24px",e.size28="28px",e.size32="32px",e.size42="42px",e.size68="68px",e.mini="10px",e.xSmall="10px",e.small="12px",e.smallPlus="12px",e.medium="14px",e.mediumPlus="16px",e.icon="16px",e.large="18px",e.xLarge="20px",e.xLargePlus="24px",e.xxLarge="28px",e.xxLargePlus="32px",e.superLarge="42px",e.mega="68px"}(dt||(dt={})),function(e){e.light=100,e.semilight=300,e.regular=400,e.semibold=600,e.bold=700}(pt||(pt={})),function(e){e.xSmall="10px",e.small="12px",e.medium="16px",e.large="20px"}(ft||(ft={}));var vt,gt=Object(k.memoizeFunction)((function(e){var t,r;return{atMentionAriaContainer:Object(k.mergeStyles)({marginTop:"".concat(10,"px")}),atMentionMessageContainer:Object(k.mergeStyles)({backgroundColor:null!==(t=null==e?void 0:e.AtMentionMessageBackground)&&void 0!==t?t:"#F0F0F0"}),atMentionMessage:Object(k.mergeStyles)({fontSize:dt.size12,lineHeight:dt.size14,color:null!==(r=null==e?void 0:e.AtMentionMessageText)&&void 0!==r?r:z.a.GRAY_160}),atMentionUberMessageContainer:Object(k.mergeStyles)({padding:"".concat(12,"px"),display:"flex"})}})),Ot=Object(k.memoizeFunction)((function(e){var t=[];if(!e)return t;for(var r in e){var n=e[r];if(n&&n.stillInDraft){var o=Object(u.g)(n.mentionee);o&&t.push(o)}}return t})),wt=l.a.memo((function(e){var t=Object(K.b)().renderContextType,r=Object(I.b)(),n=gt(null==r?void 0:r.colors),i=Object(q.c)({id:e.commentId,renderContextType:t}),a=l.a.useMemo((function(){return function(e,t){var r,n,i,a,s=[e];try{for(var l=Object(o.i)(t),c=l.next();!c.done;c=l.next()){var u=c.value,d=[];try{for(var p=(i=void 0,Object(o.i)(s)),f=p.next();!f.done;f=p.next())for(var h=f.value.split(u),m=0;m<h.length;++m){d.push(h[m]),m!==h.length-1&&d.push(u)}}catch(e){i={error:e}}finally{try{f&&!f.done&&(a=p.return)&&a.call(p)}finally{if(i)throw i.error}}s=d}}catch(e){r={error:e}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}return s}(e.mentionedNotificationUberString,e.mentionedNames)}),[e.mentionedNotificationUberString,e.mentionedNames]);return l.a.createElement("div",{className:n.atMentionMessageContainer,id:i},l.a.createElement("div",{className:n.atMentionUberMessageContainer},l.a.createElement("div",{className:n.atMentionMessage,"aria-label":e.mentionedNotificationUberString},a.map((function(t){return l.a.createElement("span",{key:t},e.mentionedNames.includes(t)?l.a.createElement("strong",null,t):t)})))))})),xt=r(1076),Ct=r(1021),St=function(e){function t(t){var r=e.call(this,t)||this;return r.state={showLoadingUI:!1},r}return Object(o.c)(t,e),t.prototype.setTimer=function(){var e=this;this.timeoutId||(this.timeoutId=setTimeout((function(){e.setState({showLoadingUI:!0}),e.timeoutId=void 0}),this.props.delay))},t.prototype.clearTimer=function(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=void 0)},t.prototype.componentDidMount=function(){this.props.isLoading&&this.setTimer()},t.prototype.componentWillUnmount=function(){this.clearTimer()},t.prototype.componentDidUpdate=function(e){!e.isLoading&&this.props.isLoading?this.setTimer():e.isLoading&&!this.props.isLoading&&(this.clearTimer(),this.setState({showLoadingUI:!1}))},t.prototype.render=function(){return this.state.showLoadingUI?this.props.loadingUI:s.Children.only(this.props.children)},t}(s.Component),Tt=r(1136),jt={marginTop:"8px",zIndex:20,width:"32px",maxHeight:"30px",selectors:{"& .ms-Spinner-circle":{borderColor:Tt.a,borderTopColor:Tt.b}}},kt={maxHeight:"24px",width:"37px",minWidth:"37px",padding:0,margin:1,marginRight:2,marginLeft:3},Pt=Object(k.memoizeFunction)((function(e,t){var r,n,o,i,a,s,l,c,u;return{commitBar:Object(k.mergeStyles)({marginBottom:"5px",marginTop:"1px",maxHeight:"30px",display:"flex",flexDirection:"row",flexWrap:"nowrap",justifyContent:"flex-end"}),primaryButton:Object(se.o)({root:Object(k.mergeStyles)(kt,{backgroundColor:null!==(r=null==t?void 0:t.PrimaryButton)&&void 0!==r?r:Object(oe.a)().primary,borderColor:null!==(n=null==t?void 0:t.PrimaryButton)&&void 0!==n?n:Object(oe.a)().primary},e&&{transform:"scaleX(-1)"}),rootPressed:{backgroundColor:null!==(o=null==t?void 0:t.PrimaryButtonPressed)&&void 0!==o?o:Object(oe.a)().shade20,borderColor:null!==(i=null==t?void 0:t.PrimaryButtonPressed)&&void 0!==i?i:Object(oe.a)().shade20},rootHovered:Object(k.mergeStyles)({backgroundColor:null!==(a=null==t?void 0:t.PrimaryButtonHovered)&&void 0!==a?a:Object(oe.a)().shade10,borderColor:null!==(s=null==t?void 0:t.PrimaryButtonHovered)&&void 0!==s?s:Object(oe.a)().shade10}),rootFocused:Object(k.mergeStyles)({backgroundColor:null!==(l=null==t?void 0:t.PrimaryButton)&&void 0!==l?l:Object(oe.a)().shade10,borderColor:null!==(c=null==t?void 0:t.PrimaryButton)&&void 0!==c?c:Object(oe.a)().shade10}),icon:{width:16,color:null==t?void 0:t.PrimaryButtonIcon}}),defaultButton:Object(se.o)({root:Object(k.mergeStyles)(kt,{borderColor:null!==(u=null==t?void 0:t.CommonControlBorder)&&void 0!==u?u:Le.a.gray110,backgroundColor:null==t?void 0:t.DefaultButton}),rootPressed:Object(p.P)()?{backgroundColor:null==t?void 0:t.DefaultButtonPressed}:void 0,rootHovered:Object(p.P)()?{backgroundColor:null==t?void 0:t.DefaultButtonHovered}:void 0,icon:{color:null==t?void 0:t.DefaultButtonIcon,height:"12px",marginBottom:"1px",width:"16px",lineHeight:"12px"}}),icon:{fontFamily:"inherit"}}})),Et=function(e){function t(t){var r=e.call(this,t)||this;return r.getStyles=function(e){return p.P()?Pt(Object(k.getRTL)(),null==e?void 0:e.colors):Pt(Object(k.getRTL)())},r.renderWithContexts=function(e){return r.styles=r.getStyles(e),s.createElement("div",{className:r.styles.commitBar},r.renderTaskAssigner(),r.renderCommitButtons(r.props.buttons,r.props.tooltipDirection))},r.renderCommitButtons=Object(k.memoizeFunction)((function(e,t){return void 0===e&&(e=[]),e.map((function(e,n){return s.createElement(k.TooltipHost,{key:n,content:e.disabled?void 0:Object(ye.a)(e),directionalHint:t,tooltipProps:$.a},s.createElement(St,{delay:se.f,isLoading:!!e.showDelayedSpinner,key:n,loadingUI:s.createElement(k.Spinner,{size:k.SpinnerSize.small,className:jt})},e.usePrimaryButtonStyling?s.createElement(k.PrimaryButton,Object(o.a)({},r.getCommitButtonProps(e))):s.createElement(k.DefaultButton,Object(o.a)({},r.getCommitButtonProps(e)))))}))}),5),r.getCommitButtonProps=Object(k.memoizeFunction)((function(e){return{id:e.id,disabled:e.disabled,onClick:e.onClick,onKeyDown:e.onKeyDown,ariaLabel:e.accessibilityLabel,tabIndex:e.isTabbable?void 0:-1,iconProps:{iconName:Object(ye.b)(e.icon),style:r.styles.icon},styles:r.getCommitButtonStyles(!!e.usePrimaryButtonStyling)}}),5),r.getCommitButtonStyles=function(e){return e?r.styles.primaryButton:r.styles.defaultButton},r.getCommitButtonProps=r.getCommitButtonProps.bind(r),r.renderCommitButtons=r.renderCommitButtons.bind(r),r.state={},r}return Object(o.c)(t,e),t.prototype.componentDidMount=function(){var e=this;p.c()&&Object(xt.a)().then((function(t){t?e.setState({taskAssigner:t.TaskAssigner}):Object(a.k)().assertConditionTag(!1,"Unable to load lazy at mention components.",577066527)})).catch(Object(Ct.a)(i.d.reserveTag(595632141)))},t.prototype.render=function(){return Object(V.a)(this.renderWithContexts,I.a)},t.prototype.renderTaskAssigner=function(){return this.props.taskAssigner&&this.state.taskAssigner?s.createElement(this.state.taskAssigner,Object(o.a)({},this.props.taskAssigner)):null},t}(s.PureComponent),_t=r(1087);function It(e){var t=e;return void 0!==t.onMentionCreated&&void 0!==t.onMentioneesStillInDraftUpdated&&void 0!==t.correlationId}!function(e){e[e.ReadOnlyComment=0]="ReadOnlyComment",e[e.DisabledComment=1]="DisabledComment",e[e.DisabledEditor=2]="DisabledEditor"}(vt||(vt={}));var Rt=r(1138),At=r(1535),Dt=r.n(At),Bt=Dt.a.import("delta"),Mt=Dt.a.import("parchment"),Nt=Dt.a.import("blots/inline"),Lt=(Dt.a.import("formats/link"),Dt.a.import("modules/clipboard")),Ft=Dt.a.import("blots/block/embed"),zt=Dt.a;function Ht(e){return!!e&&e.tagName===Ut.tagName&&e.className===Ut.className&&"false"===e.contentEditable&&void 0!==e.href}var Ut=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.c)(t,e),t.create=function(r){var n=JSON.parse(r),o=!!n.editable;delete n.editable;var i=JSON.stringify(n),a=e.create.call(this,i);return a.setAttribute(t.getDataAttributeName(),i),a.setAttribute("href",this.addURLProtocolIfNeeded(n.url)),a.setAttribute("contenteditable",o.toString()),a.setAttribute("class",t.className),a.setAttribute("className",t.className),a.setAttribute("rel","noreferrer"),a.setAttribute("target","_blank"),a.setAttribute("title",n.url),a.setAttribute("tabindex","-1"),a.addEventListener("click",t.onHyperlinkClicked),a},t.onHyperlinkClicked=function(e){var t=e.target;if(Ht(t)){Object(a.k)().createActivityObject("DraftHyperlinkClicked",Object(a.l)(a.g.GlobalAPI),Object(a.n)({aggregationMode:a.a.OnSuccess})).successTag(562438278);var r=t.href;Object(Rt.b)().onHyperlinkClick(r)&&e.preventDefault()}},t.formats=function(e){var t=e.getAttribute(this.getDataAttributeName());return t||(e.href?JSON.stringify({url:this.addURLProtocolIfNeeded(e.href),editable:!0}):void 0)},t.prototype.format=function(r,n){r===t.blotName&&n?this.domNode.setAttribute(t.getDataAttributeName(),n):e.prototype.format.call(this,r,n)},t.prototype.formats=function(){var r=e.prototype.formats.call(this);return r[t.blotName]=t.formats(this.domNode),r},t.getDataAttributeName=function(){return"data-hyperlink"},t.addURLProtocolIfNeeded=function(e){return e.toLowerCase().startsWith("www.")?"https://".concat(e):e},t.blotName="hyperlink",t.tagName="a",t.className="sharedcomments-hyperlink",t}(Nt);function Wt(e){var t,r={width:"100%",textAlign:"left",padding:"4px 0px 4px 8px",height:"16px",color:null!==(t=null==e?void 0:e.SmartRepliesText)&&void 0!==t?t:Le.a.gray140,backgroundColor:null==e?void 0:e.CardBackground,fontFamily:"Segoe UI",fontSize:dt.size12,fontWeight:"400",lineHeight:"16px"};return Object(k.mergeStyles)(r)}function qt(e){var t,r;return Object(k.mergeStyles)(Wt(e),{backgroundColor:null!==(t=null==e?void 0:e.SuggestedItem)&&void 0!==t?t:z.a.SUGGESTED_PICKER_ITEM,":hover":{backgroundColor:null!==(r=null==e?void 0:e.SuggestedItemHovered)&&void 0!==r?r:z.a.SUGGESTED_PICKER_ITEM_HOVER}})}function Vt(e){var t;return Object(k.mergeStyles)({padding:"5px 0px 5px 8px",height:"16px",color:null!==(t=null==e?void 0:e.ResolvedCardText)&&void 0!==t?t:Le.a.gray130,backgroundColor:null==e?void 0:e.CardBackground,fontFamily:"Segoe UI",fontSize:"11px",fontWeight:"400",lineHeight:"16px"})}function Kt(e,t){var r,n;return Object(k.mergeStyles)({boxShadow:null==t?void 0:t.CalloutBoxShadow,selectors:{".ms-Button":{backgroundColor:null==e?void 0:e.CardBackground,color:null==e?void 0:e.Text,selectors:{span:{color:null==e?void 0:e.Text,selectors:{":hover":{backgroundColor:null==e?void 0:e.DefaultButtonHovered},":active":{backgroundColor:null==e?void 0:e.DefaultButtonPressed}}}}},".is-suggested":{selectors:{".ms-Button":{backgroundColor:null!==(r=null==e?void 0:e.SuggestedItem)&&void 0!==r?r:z.a.SUGGESTED_PICKER_ITEM,selectors:{":hover, span:hover":{backgroundColor:null!==(n=null==e?void 0:e.SuggestedItemHovered)&&void 0!==n?n:z.a.SUGGESTED_PICKER_ITEM_HOVER},":active, span:active":{backgroundColor:null==e?void 0:e.DefaultButtonPressed}}}}}}})}var Gt,Qt=Object(k.memoizeFunction)((function(e){var t,r,n;return{selectors:{":focus":{outline:"none"},"& .ql-editor":{boxSizing:"border-box",whiteSpace:"pre-wrap",height:"100%",outline:"none",overflow:"hidden",padding:"3px",paddingTop:2,paddingBottom:2,tabSize:"4",wordWrap:"break-word",userSelect:"text"},"& .ql-clipboard":{left:"-100000px",position:"absolute",top:"50%",height:"1px",userSelect:"text",overflowY:"hidden"},"& .ql-editor p":{margin:0,padding:0,userSelect:"text"},"& .ql-editor em, u, strong, span, a, s":{userSelect:"text"},"& .ql-editor.ql-blank::before":(t={color:null!==(n=null==e?void 0:e.SubText)&&void 0!==n?n:z.a.GRAY_E,content:"attr(data-placeholder)",fontStyle:"normal",fontFamily:"inherit",fontSize:"12px",marginLeft:"1px",pointerEvents:"none",position:"absolute"},t[k.HighContrastSelector]={color:"ButtonText",backgroundColor:"ButtonFace"},t),"& .ql-color-blue":{color:"blue",textDecoration:"none",selectors:(r={},r[k.HighContrastSelector]={textDecoration:"underline"},r)}}}})),Yt={boxSizing:"border-box",flexGrow:"1",position:"relative",overflowY:"hidden"},$t={boxSizing:"border-box",flexGrow:"1",overflowY:"hidden",position:"relative",margin:0,fontFamily:"inherit",fontSize:12,fontWeight:"normal",lineHeight:1.5.toString(),cursor:"text"},Jt={maxHeight:96,overflowY:"auto",selectors:{"::-webkit-scrollbar":{width:0}}},Xt=Object(k.mergeStyles)($t,Jt,{"-ms-overflow-style":"none","scrollbar-width":"none"}),Zt={paddingBottom:"5px"},er={minHeight:22,padding:7,paddingTop:"0px",paddingBottom:"2px",borderRadius:se.c},tr={pointerEvents:"none",cursor:"default"};!function(e){e[e.lineHeight=18]="lineHeight",e[e.maxHeight=4*e.lineHeight+8]="maxHeight",e[e.verticalOffset=e.maxHeight-e.lineHeight-2]="verticalOffset"}(Gt||(Gt={}));var rr={},nr=Object(k.memoizeFunction)((function(e,t,r){var n,i,a,s,l=t?{background:null!==(i=null!=e?e:null==r?void 0:r.CardBackground)&&void 0!==i?i:z.a.WHITE,cursor:"pointer",color:null!==(a=null==r?void 0:r.PrimaryButton)&&void 0!==a?a:Object(oe.a)().primary,fontWeight:"bold"}:{backgroundImage:"linear-gradient(".concat("rgba(255,255,255,0) 0%",", ").concat(null!==(s=null!=e?e:null==r?void 0:r.CardBackground)&&void 0!==s?s:z.a.WHITE,")"),selectors:(n={},n[k.HighContrastSelector]={visibility:"hidden !important"},n)};return Object(k.mergeStyles)(Object(o.a)({position:"absolute",left:0,top:Gt.verticalOffset,right:0,bottom:0,visibility:"hidden"},l),ar)})),or=Object(k.memoizeFunction)((function(e,t,r){var n,o,i,a,s,l;void 0===e&&(e=!1),void 0===t&&(t=!1);var c={backgroundColor:t?void 0:null!==(o=null==r?void 0:r.AtMentionHighlight)&&void 0!==o?o:Le.a.gray20,borderRadius:"2px",boxDecorationBreak:"clone",color:e||t?void 0:null!==(i=null==r?void 0:r.AtMentionText)&&void 0!==i?i:Le.a.gray180,cursor:"default",fontFamily:'"Segoe UI", "Segoe UI Web", Arial, Verdana, sans-serif',fontSize:"12px",fontWeight:"500",padding:"1px 3px",pointerEvents:"none",textDecoration:"none",selectors:(n={},n[k.HighContrastSelector]={textDecoration:"underline"},n)},u=Object(k.mergeStyles)(c,{"-webkit-box-decoration-break":"clone"}),d=null!==(a=null==r?void 0:r.AtMentionToMeHighlight)&&void 0!==a?a:Object(oe.a)().tint40,p=null!==(s=null==r?void 0:r.ResolvedCardBackground)&&void 0!==s?s:Le.a.gray20;return{selectors:{"& .atmention":u,"& .current-user > .atmention":t?u:Object(k.mergeStyles)(u,{color:e?void 0:null!==(l=null==r?void 0:r.AtMentionToMeText)&&void 0!==l?l:Object(oe.a)().shade10,backgroundColor:e?p:d,fontWeight:"600"}),"& office-optional":{userSelect:"text"}}}})),ir=Object(k.memoizeFunction)((function(e){var t;return{selectors:(t={},t["& ".concat(Ut.className)]={wordBreak:"break-all"},t),a:void 0!==e?{":not(.atmention)":{color:e.Hyperlink,":visited":{color:e.Hyperlink},":active":{color:e.HyperlinkActive}}}:void 0}})),ar={selectors:{":focus":{outline:"none"}}},sr=Object(k.memoizeFunction)((function(e,t,r,n,i,a,s,l){var c={};c=t?er:Zt;var u=r?Xt:$t,d=[Qt(s),or(i,a,s),ir(s)];return{EditorWrapper:Object(k.mergeStyles)(Yt),EditorContainerEditing:k.mergeStyles.apply(void 0,Object(o.h)([u,c],Object(o.f)(d),!1)),EditorContainerFullContent:k.mergeStyles.apply(void 0,Object(o.h)([u,rr],Object(o.f)(d),!1)),EditorContainerTruncated:k.mergeStyles.apply(void 0,Object(o.h)([u,rr,{maxHeight:Gt.maxHeight},{marginBottom:e?void 0:"6px"}],Object(o.f)(d),!1)),EditorDisabled:k.mergeStyles.apply(void 0,Object(o.h)([u],Object(o.f)(d),!1)),EditorPlaceholder:k.mergeStyles.apply(void 0,Object(o.h)([u,tr,er],Object(o.f)(d),!1)),InnerEditorDisableFocusOutline:Object(k.mergeStyles)(ar),EditorTruncationOverlay:Object(k.mergeStyles)(nr(n,e,s),ar),SmartReplyHeader:Vt(s),SmartReplyItem:Wt(s),SuggestedSmartReplyItem:qt(s),SmartReplyCallout:Kt(s,l)}})),lr=r(1195),cr=r(1065),ur=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.c)(t,e),t.create=function(r){var n=e.create.call(this,r);return n.setAttribute("class","atmention"),n.setAttribute(t.getDataAttributeName(),r),n.setAttribute("tabIndex","-1"),n.setAttribute("disabled","disabled"),n.setAttribute("spellcheck","false"),n},t.formats=function(e){return e.getAttribute(t.getDataAttributeName())||void 0},t.prototype.format=function(r,n){"atmention"===r&&n?this.domNode.setAttribute(t.getDataAttributeName(),n):e.prototype.format.call(this,r,n)},t.prototype.formats=function(){var r=e.prototype.formats.call(this);return r.atmention=t.formats(this.domNode),r},t.getDataAttributeName=function(){return"data-".concat(t.blotName)},t.blotName="atmention",t.tagName="A",t}(Nt),dr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.c)(t,e),t.create=function(r){var n=e.create.call(this);return n.setAttribute("class",t.className),n.setAttribute("className",t.className),n.setAttribute("style","cursor: pointer"),n.setAttribute("tabindex","-1"),r.tooltip&&n.setAttribute("title",r.tooltip),n},t.blotName="clickable",t.tagName="a",t.className="sharedcomments-clickabletext",t}(Nt),pr=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.isAtmentionSupported=r.isAtmentionSupported,n.removeAtFormat=n.removeAtFormat.bind(n),n.pasteMentionHandler=n.pasteMentionHandler.bind(n),n.removeFontColorAndBackgroundFormat=n.removeFontColorAndBackgroundFormat.bind(n),n}return Object(o.c)(t,e),t.prototype.removeFontColorAndBackgroundFormat=function(e){e&&e.attributes&&(delete e.attributes.color,delete e.attributes.background)},t.prototype.removeAtFormat=function(e,t){this.quill.formatText(e,t,"optional",!1),this.quill.formatText(e,t,"atmention",!1)},t.prototype.pasteMentionHandler=function(){var e=window.getSelection(),t=e&&e.anchorNode?e.anchorNode.parentNode:null,r=e&&e.focusNode?e.focusNode.parentNode:null,n=Mt.find(t),o=t===r?void 0:Mt.find(r);return n&&"atmention"===n.statics.blotName&&this.removeAtFormat(n.offset(this.quill.scroll),n.length()),o&&"atmention"===o.statics.blotName&&this.removeAtFormat(o.offset(this.quill.scroll),o.length()),!0},t.prototype.onPaste=function(e){var r=this;if(!e.defaultPrevented&&this.quill.isEnabled())try{t.pasteOperationInProgress=!0,this.pasteMentionHandler();var n=this.quill.getSelection(),o=(new Bt).retain(n.index),i=this.quill.scrollingContainer.scrollTop;this.container.focus();var s=document.createRange(),l=window.getSelection();s.setStart(this.container,0),s.collapse(!0),l&&(Object(a.k)().assertConditionTag(!!l,"Expected a selection!",595854800),l.removeAllRanges(),l.addRange(s)),this.quill.selection.update("silent"),setTimeout((function(){try{if(o=o.concat(r.convert()).delete(n.length),o=r.isAtmentionSupported?new Bt(o.map((function(e){return e.insert&&(e.attributes&&e.attributes.optional&&delete e.attributes.optional,r.removeFontColorAndBackgroundFormat(e),!e.attributes||!e.attributes.atmention||Ar(JSON.parse(e.attributes.atmention).fullName,e.insert.slice(1))&&"UnknownEmail"!==JSON.parse(e.attributes.atmention).email||delete e.attributes.atmention),e}))):new Bt(o.map((function(e){return e.insert&&e.attributes&&delete e.attributes.atmention,r.removeFontColorAndBackgroundFormat(e),e}))),p.w()&&p.P()){var e=_t.a.getThemeAPI().getThemeMode();1===e&&function(e,t){if(!Object(_t.e)())return;e.forEach((function(e){e.insert&&e.attributes&&(e.attributes.background&&(e.attributes.background=_r(e.attributes.background,t)),e.attributes.color&&(e.attributes.color=_r(e.attributes.color,t)))}))}(o.ops,e)}r.quill.updateContents(o,"user"),r.quill.setSelection(o.length()-n.length,p.J()?"api":"silent"),r.quill.scrollingContainer.scrollTop=i,r.quill.focus()}catch(e){Object(a.k)().assertConditionTag(!1,"CommentClipboard paste delta scrubbing failed.",593035297)}finally{t.pasteOperationInProgress=!1}}),1)}catch(e){Object(a.k)().assertConditionTag(!1,"CommentClipboard preparation for paste failed.",593035298),t.pasteOperationInProgress=!1}},t.pasteOperationInProgress=!1,t}(Lt),fr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.c)(t,e),t.create=function(t){var r=e.create.call(this,JSON.stringify(t));return r.setAttribute("src",t.src),r},t.value=function(e){return{src:e.getAttribute("src")}},t.blotName="image",t.tagName="img",t.className="sharedcomments-image",t}(Ft),hr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.c)(t,e),t.create=function(r){var n=e.create.call(this,r);n.setAttribute(t.getDataAttributeName(),r);var o="string"==typeof r?JSON.parse(r):r;return(o&&o.atmention&&o.atmention.isCurrentUser||o.isCurrentUser)&&n.setAttribute("class","current-user"),n},t.formats=function(e){return e.getAttribute(t.getDataAttributeName())||void 0},t.prototype.format=function(r,n){r===t.blotName&&n?this.domNode.setAttribute(t.getDataAttributeName(),n):e.prototype.format.call(this,r,n)},t.prototype.formats=function(){var r=e.prototype.formats.call(this);return r[t.blotName]=t.formats(this.domNode),r},t.getDataAttributeName=function(){return"data-".concat(t.blotName)},t.blotName="optional",t.tagName=p.K()?"OFFICE-OPTIONAL":"SPAN",t}(Nt);function mr(e,t){var r,n=null===(r=window.getComputedStyle(e))||void 0===r?void 0:r.textDecoration,i=void 0;return n&&(n.indexOf("underline")>-1&&(i={underline:!0}),n.indexOf("line-through")>-1&&(i=Object(o.a)(Object(o.a)({},i),{strike:!0})),i)?t.compose((new Bt).retain(t.length(),i)):t}function yr(e,t){var r,n=e;if(t.ops&&(null===(r=t.ops[0].attributes)||void 0===r?void 0:r.atmention))return t;var o=Ut.formats(n);if(o&&n.text){if(Object(a.k)().createActivityObject("HyperlinkPasted",Object(a.l)(a.g.GlobalAPI),Object(a.n)({aggregationMode:a.a.OnSuccess})).successTag(589894537),!p.x()){var i=JSON.parse(o),s=null==i?void 0:i.url;return s&&s===n.text?p.K()?t.compose((new Bt).retain(t.length(),{hyperlink:o})):new Bt([{insert:n.text,attributes:{hyperlink:o}}]):new Bt(s?[{insert:s,attributes:{hyperlink:o}}]:[{insert:n.text}])}return p.K()?t.compose((new Bt).retain(t.length(),{hyperlink:o})):new Bt([{insert:n.text,attributes:{hyperlink:o}}])}return t}var br=["http://","https://","file://","file:\\\\","ftp://","mailto:","news:","notes:","\\\\","www.","onenote:","tel:","mms://","notes://","mssv://","bookmark://"],vr=new RegExp("\\S+@\\S+\\.[\\w]+"),gr=function(e){var t,r,n=e.toLowerCase();n=function(e){var t=0;if(!e)return"";for(var r=e.length;r>t&&-1!=="#%&*{}:<>?+.;(),!']\"".indexOf(e.charAt(r-1));)r--;for(;t<r&&-1!=="(['\"".indexOf(e.charAt(t));)t++;return e.substr(t,r-t)}(n);try{for(var i=Object(o.i)(br),a=i.next();!a.done;a=i.next()){var s=a.value;if((!n.startsWith("notes:")||n.startsWith("notes://"))&&n.startsWith(s))return!0}}catch(e){t={error:e}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return!1},Or=function(e){if(!e)return"";var t=e;return t.startsWith("HYPERLINK ")&&(t=t.substr("HYPERLINK ".length+1,t.length-"HYPERLINK ".length-2)),(t=t.trim()).startsWith("HYPERLINK ")&&((t=t.substring("HYPERLINK ".length+1,t.lastIndexOf('"'))).startsWith("\\l ")&&(t=(t=t.substr(t.indexOf('"'))).replace('"',"bookmark://")),!gr(t))?t:(function(e){return!!e&&e.length<=254&&vr.test(e)}(t=function(e,t){return e&&e.length>=2&&e.charAt(0)===t&&e.charAt(e.length-1)===t?e.substr(1,e.length-2):e}(t,'"'))&&!gr(t)&&(t="mailto:"+t),gr(t)||(t="http://"+t),t.toLowerCase().startsWith("www")&&(t="https://"+t),t.startsWith("\\\\")&&(t="file:///"+t),-1!==t.toLowerCase().indexOf("alert(")?"":t)};p.e()&&zt.register(Ut),zt.register(ur),zt.register(hr),zt.register(dr),zt.register("modules/clipboard",pr,!0);var wr=/(?:https?:\/\/|www\.)[^\s]+[\s]*$/i,xr=Object(N.a)((function(){var e=[];return p.e()&&e.push("hyperlink"),e.push("atmention","optional","clickable"),p.K()&&e.push("bold","italic","underline","strike","image"),p.w()&&e.push("background","color"),e})),Cr=function(){function e(e){var t=document.createElement("div");t.id=e,t.style.display="none",document.body.appendChild(t),this.quillInstance=new zt("#".concat(e),{formats:xr(),modules:{clipboard:{isAtmentionSupported:!0}}})}return e.prototype.getQuill=function(){return this.quillInstance},e}();function Sr(e){for(var t,r,n,i=void 0,a=e.ops.length-1;a>=0;a--){var s=e.ops[a];i&&(void 0===(null===(t=null==s?void 0:s.attributes)||void 0===t?void 0:t.link)&&(s.attributes=Object(o.a)(Object(o.a)({},s.attributes),{link:i})),i=void 0),0===s.insert.length&&(null===(r=null==s?void 0:s.attributes)||void 0===r?void 0:r.link)&&(i=null===(n=null==s?void 0:s.attributes)||void 0===n?void 0:n.link,e.ops.splice(a,1))}}function Tr(e){var t=cr.b?Object(a.k)().createActivityObject("GetQuillFromOfficeDelta",Object(a.l)(a.g.GlobalAPI),Object(a.j)()):void 0,r=JSON.parse(e);Sr(r);var n=!1;if(Object(_t.e)()){var o=_t.a.getThemeAPI().getThemeMode();n=1===o}var s={},l=p.K(),c=r.ops.map((function(e){if(void 0!==e.insert){var r={};if(r.insert=e.insert,e.attributes){if(r.attributes=e.attributes,r.attributes.atmention&&(r.attributes.atmention=JSON.stringify(e.attributes.atmention)),r.attributes.link&&p.e()&&(r.attributes.hyperlink=JSON.stringify({url:p.N()?Or(r.attributes.link):e.attributes.link}),delete r.attributes.link),p.e()||delete r.attributes.link,r.attributes.weight){if(l&&!r.attributes.atmention){var o=parseInt(r.attributes.weight,10);Object(a.k)().assertConditionTag(o>=700,"weight attribute less than 700.",591192854),r.attributes.bold=o>=700}else Object(a.k)().assertConditionTag(l,"Weight attribute present when rich text feature gate is off",591192855);delete r.attributes.weight}r.attributes.strikethrough&&(l&&!r.attributes.atmention?r.attributes.strike=r.attributes.strikethrough:Object(a.k)().assertConditionTag(l,"strikethrough attribute present when rich text feature gate is off",591192856),delete r.attributes.strikethrough),r.attributes.italic&&r.attributes.atmention&&delete r.attributes.italic,r.attributes.underline&&r.attributes.atmention&&delete r.attributes.underline,r.attributes.image&&r.attributes.atmention&&delete r.attributes.image,r.attributes.highlight&&(p.w()&&!r.attributes.atmention&&(r.attributes.background=n?_r(r.attributes.highlight,1):r.attributes.highlight),delete r.attributes.highlight),r.attributes.color&&(r.attributes.atmention?delete r.attributes.color:p.w()&&(r.attributes.color=n?_r(r.attributes.color,1):r.attributes.color))}if(e.optional)if(e.optional.image){var s=JSON.parse(JSON.stringify(e.optional));s.image.src=s.image.base64,delete s.image.base64,r.insert={image:s.image}}else r.attributes||(r.attributes={}),r.attributes.optional=JSON.stringify(e.optional);return r}return t&&t.failTag(595194440,-2130957543),Object(a.k)().assertConditionTag(!1,"Translation Error: op in office delta is not insert. Inserting empty insert.",i.d.reserveTag(595194441)),{insert:""}}));return t&&t.successTag(595194442),c.length?(s.ops=c,JSON.stringify(s)):JSON.stringify(new Bt)}var jr=void 0;function kr(e,t,r,n){var o=function(){return jr||(jr=new Cr("CommentsDisplayTextTranslationQuill").getQuill()).disable(),jr}();if(r){var i=Tr(r);o.setContents(JSON.parse(i),"api")}Object(a.k)().assertConditionTag(!!o.root,"root element on Quill is undefined",559491102);var s=o.root.cloneNode(!0);s.addEventListener("click",Pr),o.setText(""),s?(t.firstChild?t.replaceChild(s,t.firstChild):t.appendChild(s),t.firstElementChild&&t.firstElementChild.setAttribute("id",e),function(e,t){if(!e||!t)return;for(var r=e.getElementsByClassName(dr.className),n=function(e){r[e].addEventListener("click",(function(n){var o=r[e].textContent;o&&(t(o),n.stopPropagation(),n.preventDefault())}))},o=0;o<r.length;o++)n(o)}(t,n)):Object(a.k)().assertConditionTag(!1,"Clone of Quill root node should be defined",595658959)}function Pr(e){var t=e.target;Ht(t)&&(Object(a.k)().createActivityObject("PostedHyperlinkClicked",Object(a.l)(a.g.GlobalAPI),Object(a.n)({aggregationMode:a.a.OnSuccess})).successTag(562438279),Object(Rt.b)().onHyperlinkClick(t.href)&&e.preventDefault())}function Er(e,t,r,n){var s="#".concat(Object(q.w)(e.id)),l=[];p.e()&&l.push(function(){return["a",yr]}()),p.K()&&l.push(function(){return['[style*="text-decoration"]',mr]}()),e.richTextCapabilities&&lr.DeltaFormattingType.Image&&zt.register(fr);var c={formats:xr(),scrollingContainer:n,modules:Object(o.a)(Object(o.a)({},t),{clipboard:{isAtmentionSupported:It(e),matchers:l.length>0?l:void 0}})};e.placeholder&&(c.placeholder=e.placeholder);var u=new zt(s,c);if(function(e,t,r,n,o){var i=e.root;if(!i)return void Object(a.k)().assertConditionTag(!1,"root element on Quill is undefined",595891799);i.spellcheck=!0,e.history.options.delay=500,i.id=t,i.setAttribute("aria-haspopup","true"),i.setAttribute("role","textbox"),r&&i.setAttribute("aria-describedby",r);p.X()&&!o&&i.setAttribute("tabindex","-1");n&&i.setAttribute(p.f()?"aria-label":"aria-placeholder",n);var s=e.clipboard&&e.clipboard.container;s&&s.setAttribute("aria-hidden","true")}(u,e.id,e.accessibilityDescribedBy,e.accessibilityLabel,e.isTabbable),e.defaultValue){var d=Tr(e.defaultValue);u.setContents(JSON.parse(d),"api")}return u.enable(),u.on("text-change",(function(e,t,n){if(Object(a.k)().assertConditionTag(!!u.root,"root element on Quill is undefined",559491103),u.root&&""===u.root.textContent&&Br(t)){var o=window.getSelection(),s=o&&o.anchorNode?o.anchorNode.parentNode:null,l=Mt.find(s);l&&"scroll"===l.statics.blotName&&Object(a.k)().assertConditionTag(!1,"Quill editor crash in Chrome/Edge/Safari, unable to complete replace operation",589084383)}r(e,t,n),p.e()&&function(e,t){if(Object(i.n)(t.ops,"ops should always be definied when parsing for hyperlinks.",i.d.reserveTag(562937945)),2===t.ops.length&&t.ops[1].insert&&t.ops[1].attributes&&t.ops[1].attributes.hyperlink){var r=window.getSelection(),n=r&&r.anchorNode?r.anchorNode.parentNode:null;if(!n)return;var o=Mt.find(n);if(!o)return;Rr(e,o.offset(e.scroll),o.length())}if(2===t.ops.length&&t.ops[0].retain&&function(e){return/\s/.test(e)}(t.ops[1].insert)){var a=t.ops[0].retain,s=e.getText().substr(0,a).match(wr);if(!s)return;var l=s[0],c=s[0].trimRight(),u=[];a>l.length&&u.push({retain:a-l.length}),u.push({retain:c.length,attributes:{hyperlink:JSON.stringify({url:c,editable:!0})}}),1===u.length&&u[0].retain?Rr(e,0,u[0].retain):2===u.length&&u[0].retain&&u[1].retain&&Rr(e,u[0].retain,u[1].retain),e.updateContents(new Bt(u))}}(u,e)})),u}function _r(e,t){var r,n,o=null===(n=(r=_t.a.getThemeAPI()).convertColorForTheme)||void 0===n?void 0:n.call(r,e,t);return null!=o?o:e}function Ir(e,t){if(e&&p.e())for(var r=e.getElementsByClassName(Ut.className),n=0;n<r.length;n++)r[n].setAttribute("contenteditable",t?"false":"true")}function Rr(e,t,r){e.formatText(t,r,Ut.blotName,!1)}function Ar(e,t){var r=t.trim().split(" "),n=e.trim().split(" ");return r.every((function(e){return n.indexOf(e)>=0}))}function Dr(e){var t=!1;return e.forEach((function(e){t=!!e.delete&&e.delete.valueOf()>1})),t}function Br(e){var t=!1;return e.forEach((function(e){t||(t=e.insert&&e.attributes&&e.attributes.atmention)})),t}function Mr(e,t){var r=document.getElementById(e);r&&(r.setAttribute("data-placeholder",t),r.setAttribute("aria-placeholder",t))}function Nr(e){var t=new Set;return e&&e.ops&&e.ops.forEach((function(e){if(e.attributes){var r=void 0;if("string"==typeof e.attributes.atmention)try{r=JSON.parse(e.attributes.atmention)}catch(e){return void Object(a.k)().assertConditionTag(!1,"Failed to parse atmention attributes",594921041)}else r=e.attributes.atmention;r&&t.add(r.email)}})),t}function Lr(e,t){t?(e.setAttribute("aria-autocomplete",t["aria-autocomplete"]),e.setAttribute("aria-haspopup",t["aria-haspopup"]),e.setAttribute("aria-owns",t["aria-owns"]),e.setAttribute("aria-controls",t["aria-controls"])):(e.removeAttribute("aria-autocomplete"),e.removeAttribute("aria-haspopup"),e.removeAttribute("aria-owns"),e.removeAttribute("aria-controls"))}var Fr,zr=r(1082),Hr=function(e){function t(t){var r=e.call(this,t)||this;return r.contentRef=null,r.truncationRef=null,r.getStyles=function(e){return p.P()||sr(p.M(),!1,!1,r.props.truncationOverlayColor,r.props.dulledAtMentions),sr(p.M(),!1,!1,r.props.truncationOverlayColor,r.props.dulledAtMentions,!1,null==e?void 0:e.colors,null==e?void 0:e.styles)},r.renderWithContexts=function(e){if(r.state.error)throw r.state.error;r.styles=r.getStyles(e);var t=r.getEditorStyle();return s.createElement("div",{className:t,id:Object(q.x)(r.props.id)},s.createElement("div",{ref:r.setContentRef,className:r.styles.InnerEditorDisableFocusOutline,id:Object(q.w)(r.props.id)}),r.renderTruncationOverlay(r.props.id,r.styles))},r.state={error:null},r.setContentRef=r.setContentRef.bind(r),r.setTruncationRef=r.setTruncationRef.bind(r),r}return Object(o.c)(t,e),t.prototype.componentDidMount=function(){this.tryUpdateComponent()},t.prototype.componentDidUpdate=function(e,t){this.tryUpdateComponent(e)},t.prototype.shouldTruncate=function(){return!this.props.showFullContent&&(this.props.content&&Object(zr.e)(this.props.content).length>100||!!this.contentRef&&this.contentRef.offsetHeight>Gt.maxHeight)},t.prototype.tryUpdateComponent=function(e){var t=this;requestAnimationFrame((function(){try{t.updateComponent(e)}catch(e){t.setState({error:e instanceof Error?e:new Error(Object(i.l)(e))})}}))},t.prototype.updateComponent=function(e){this.contentRef&&(e&&this.props.content===e.content&&this.props.themeMode===e.themeMode&&this.props.onClickableTextClicked===e.onClickableTextClicked?this.props.showFullContent!==e.showFullContent&&this.updateTruncationUI():(kr(this.props.id,this.contentRef,this.props.content,this.props.onClickableTextClicked),this.updateTruncationUI()),!this.props.placeholder||e&&e.placeholder===this.props.placeholder||Mr(this.props.id,this.props.placeholder),void 0!==this.props.commentTabbable&&this.props.commentTabbable!==(null==e?void 0:e.commentTabbable)&&function(e,t){if(e)for(var r=p.e()?e.querySelectorAll(".".concat(Ut.className,",.").concat(dr.className)):e.getElementsByClassName(dr.className),n=0;n<r.length;n++){var o=t?"0":"-1";r[n].setAttribute("tabIndex",o)}}(this.contentRef,this.props.commentTabbable))},t.prototype.setContentRef=function(e){this.contentRef=e},t.prototype.setTruncationRef=function(e){this.truncationRef=e},t.prototype.updateTruncationUI=function(){if(this.props.viewerMode!==vt.DisabledEditor)if(this.contentRef){var e=this.shouldTruncate(),t=p.M()?Gt.maxHeight-4:Gt.maxHeight-.75*Gt.lineHeight;this.contentRef.style.maxHeight=e?"".concat(t,"px"):"none",this.truncationRef&&(this.truncationRef.style.visibility=e?"visible":"hidden")}else Object(a.k)().assertConditionTag(!1,"contentRef should be defined",595658961)},t.prototype.getEditorStyle=function(){switch(this.props.viewerMode){case vt.DisabledEditor:return this.styles.EditorPlaceholder;case vt.DisabledComment:return this.shouldTruncate()?this.styles.EditorContainerTruncated:this.styles.EditorDisabled;case vt.ReadOnlyComment:return this.shouldTruncate()?this.styles.EditorContainerTruncated:this.styles.EditorContainerFullContent;default:return Object(i.m)(this.props.viewerMode),{}}},t.prototype.renderTruncationOverlay=function(e,t){if(this.props.viewerMode===vt.DisabledEditor||!1!==this.props.showFullContent)return null;var r=t.EditorTruncationOverlay,n=p.M()?"".concat(this.props.truncationUIText):"";return s.createElement("div",{id:Object(q.Z)(e),className:r,ref:this.setTruncationRef},n)},t.prototype.render=function(){return p.P()?Object(V.a)(this.renderWithContexts,I.a):this.renderWithContexts()},t}(s.PureComponent);function Ur(e,t,r){var n=function(r){function n(){var n=null!==r&&r.apply(this,arguments)||this;return n.allContextContents={},n.keys=Object.keys(t),n.renderFunction=n.keys.reduceRight((function(r,i){return function(a,l){var c=t[i];return s.createElement(c.Consumer,null,(function(t){return n.allContextContents[i]=t,null===r?s.createElement(e,Object(o.a)({ref:a},l,n.allContextContents)):r(a,l)}))}}),null),n.render=function(){var t=n.props,r=t.forwardedRef,i=Object(o.g)(t,["forwardedRef"]);return n.renderFunction?n.renderFunction(r,i):(Object(a.k)().assertConditionTag(!1,"Contexts failed to wrap, default to null.",558724946),s.createElement(e,Object(o.a)({},i,{ref:r},n.allContextContents)))},n}return Object(o.c)(n,r),n}(s.Component),i=s.forwardRef((function(e,t){return s.createElement(n,Object(o.a)({key:"ContextualizedWrapperComponent",forwardedRef:t},e))}));return i.displayName=r,i}!function(e){e[e.SmartReply=0]="SmartReply",e[e.LPP=1]="LPP"}(Fr||(Fr={}));var Wr,qr=Fr;!function(e){e[e.EditTypeUnknown=-1]="EditTypeUnknown",e[e.NoEdits=0]="NoEdits",e[e.CharactersInserted=1]="CharactersInserted",e[e.CharactersDeleted=2]="CharactersDeleted",e[e.CharactersInsertedAndDeleted=3]="CharactersInsertedAndDeleted",e[e.EntireSuggestionDeleted=4]="EntireSuggestionDeleted"}(Wr||(Wr={}));var Vr,Kr,Gr,Qr,Yr=Wr,$r=r(1262);function Jr(e,t){if(e){var r=Object(q.B)(),n=Object(q.F)(),a={"aria-autocomplete":"none","aria-expanded":"true"};switch(t){case qr.LPP:return Object(o.a)(Object(o.a)({},a),{"aria-haspopup":"listbox","aria-owns":r,"aria-controls":r});case qr.SmartReply:return Object(o.a)(Object(o.a)({},a),{"aria-haspopup":"true","aria-owns":n,"aria-controls":n});default:Object(i.m)(t)}}}var Xr=((Vr={})[Yr.CharactersInserted]=((Kr={})[Yr.CharactersInserted]=Yr.CharactersInserted,Kr[Yr.CharactersDeleted]=Yr.CharactersInsertedAndDeleted,Kr[Yr.CharactersInsertedAndDeleted]=Yr.CharactersInsertedAndDeleted,Kr),Vr[Yr.CharactersInsertedAndDeleted]=((Gr={})[Yr.CharactersInserted]=Yr.CharactersInsertedAndDeleted,Gr[Yr.CharactersDeleted]=Yr.CharactersInsertedAndDeleted,Gr[Yr.CharactersInsertedAndDeleted]=Yr.CharactersInsertedAndDeleted,Gr),Vr[Yr.CharactersDeleted]=((Qr={})[Yr.CharactersDeleted]=Yr.CharactersDeleted,Qr[Yr.CharactersInserted]=Yr.CharactersInsertedAndDeleted,Qr[Yr.CharactersInsertedAndDeleted]=Yr.CharactersInsertedAndDeleted,Qr),Vr);function Zr(e,t){var r=null==e?void 0:e.ops;if(void 0===r||!t)return!1;var n=r.some((function(e){return e.delete&&e.delete>0})),o=r.some((function(e){return e.retain&&e.retain>0}));return n&&o}function en(e,t,r,n){return function(e,t){switch(t){case Yr.NoEdits:case Yr.EditTypeUnknown:case Yr.EntireSuggestionDeleted:return t}switch(e){case Yr.EntireSuggestionDeleted:return e;case Yr.EditTypeUnknown:case Yr.NoEdits:return t}return Xr[e]?Xr[e][t]:Yr.EditTypeUnknown}(e,function(e,t,r){return function(e,t){var r=(null==e?void 0:e.ops)&&e.ops.length>0?e.ops[0].insert:"";return!(!(r=r&&"\n"===r[r.length-1]?null==r?void 0:r.slice(0,-1):r)||t!==r)}(r,t)?Yr.NoEdits:function(e,t){var r=null==e?void 0:e.ops;if(void 0===r||0===r.length||!t)return!1;var n=0,o=0,i=0;r.forEach((function(e){var t,r,a,s;n+=null!==(t=e.delete)&&void 0!==t?t:0,o+=null!==(r=e.retain)&&void 0!==r?r:0,i+=null!==(s=null===(a=e.insert)||void 0===a?void 0:a.length)&&void 0!==s?s:0}));var a=o+i;return!(i>0&&0===n)&&(!!(a<=1)||0===a)}(e,t)?Yr.EntireSuggestionDeleted:function(e,t){return!!(t&&(null==e?void 0:e.ops)&&e.ops.some((function(e){return"string"==typeof e.insert})))}(e,t)?Zr(e,t)?Yr.CharactersInsertedAndDeleted:Yr.CharactersInserted:Zr(e,t)?Yr.CharactersDeleted:Yr.EditTypeUnknown}(t,r,n))}var tn,rn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.c)(t,e),t}(k.BaseFloatingPicker),nn=r(1193),on=zt.import("delta"),an=function(){function e(){var e,t;this.disableSelectionChangeCallback=!1,this.currentTheme=0,Object(Rt.b)().initRichContentEditor(this),Object(_t.e)()&&(this.currentTheme=_t.a.getThemeAPI().getThemeMode(),null===(t=(e=_t.a.getThemeAPI()).registerOnThemeChanged)||void 0===t||t.call(e,this.handleThemeChange.bind(this)))}return e.prototype.handleThemeChange=function(){var e=this,t=_t.a.getThemeAPI().getThemeMode();if(this.currentTheme!==t){var r=this.getEditorContents();if(r&&this.editor){var n=0;r.forEach((function(r){var o,i,a,s,l=r.insert.length;if(null===(o=r.attributes)||void 0===o?void 0:o.background){var c=e.convertColorOnThemeChange(r.attributes.background,t);null===(i=e.editor)||void 0===i||i.formatText(n,l,"background",c,"api")}if(null===(a=r.attributes)||void 0===a?void 0:a.color){var u=e.convertColorOnThemeChange(r.attributes.color,t);null===(s=e.editor)||void 0===s||s.formatText(n,l,"color",u,"api")}n+=r.insert.length})),this.currentTheme=t}}},e.prototype.getEditorContents=function(){var e;return null===(e=this.editor)||void 0===e?void 0:e.getContents()},e.prototype.getFormattingAtCurrentSelection=function(){var e;if(!this.editor)return{};if(this.formattingCache)return this.formattingCache;var t,r=this.editor.getSelection(!1);return(t=r&&this.editor.getFormat(r))&&(this.formattingCache={bold:t.bold,italic:t.italic,underline:t.underline,strikethrough:t.strike}),null!==(e=this.formattingCache)&&void 0!==e?e:{}},e.prototype.getSelection=function(){var e=this.getSelectedContent();return{text:e?Object(zr.f)(e):""}},e.prototype.applyFormattingToCurrentSelection=function(e){var t,r=this,n=this.richTextCapabilities&&!!(this.richTextCapabilities&e.type);if(this.editor&&n){var o=this.getSelectedContent();if(null==o?void 0:o.ops)for(var i=o.ops,a=0;a<i.length;a++)if(null===(t=i[a].attributes)||void 0===t?void 0:t.atmention)return;var s=!0,l=this.getFormattingAtCurrentSelection();this.executeWithSelectionChangeCallbackDisabled((function(){var t,n;if(r.editor)switch(e.type){case nn.DeltaFormattingType.Weight:r.editor.format("bold",!l.bold,"api");break;case nn.DeltaFormattingType.Italic:r.editor.format("italic",!l.italic,"api");break;case nn.DeltaFormattingType.Underline:r.editor.format("underline",!l.underline,"api");break;case nn.DeltaFormattingType.Strikethrough:r.editor.format("strike",!l.strikethrough,"api");break;case nn.DeltaFormattingType.Highlight:r.editor.format("background",r.applyColorAdjustedForTheme(null===(t=e.data)||void 0===t?void 0:t.color),"api"),r.moveSelectionToEnd();break;case nn.DeltaFormattingType.Color:r.editor.format("color",r.applyColorAdjustedForTheme(null===(n=e.data)||void 0===n?void 0:n.fontColor),"api"),r.moveSelectionToEnd();break;default:s=!1}})),s&&this.invalidateFormattingCache()}},e.prototype.applyColorAdjustedForTheme=function(e){if(!Object(_t.e)()||!e)return e;var t=_t.a.getThemeAPI().getThemeMode();return 1===t?this.convertColorOnThemeChange(e,t):e},e.prototype.addContent=function(e){var t=this.richTextCapabilities&&!!(this.richTextCapabilities&e.type);if(this.editor&&t)switch(e.type){case nn.DeltaFormattingType.Hyperlink:if(e.data){var r=this.editor.getSelection(!1),n=(new on).retain(r.index).delete(r.length).insert(e.data.text,{hyperlink:JSON.stringify({url:e.data.link,editable:!0})}).insert(" ");this.editor.updateContents(n,"api"),this.editor.setSelection(r.index+e.data.text.length+2,0)}break;case nn.DeltaFormattingType.Image:if(e.data)if(r=this.editor.getSelection(!1)){n=(new on).retain(r.index).delete(r.length).insert({image:e.data});this.editor.updateContents(n,"api"),this.editor.setSelection(r.index+1,0)}}},e.prototype.isFormatEnabled=function(e){return p.J()&&!!this.editor&&!!this.richTextCapabilities&&!!(this.richTextCapabilities&e)},e.prototype.registerSelectionChangeHandler=function(e){this.selectionChangeHandler=e},e.prototype.convertColorOnThemeChange=function(e,t){var r,n;if(Object(_t.e)()){var o=null===(n=(r=_t.a.getThemeAPI()).convertColorForTheme)||void 0===n?void 0:n.call(r,e,t);return null!=o?o:e}return e},e.prototype.registerKeypressHandler=function(e){this.keypressHandler=e},e.prototype.setActiveEditorInfo=function(e){var t,r;this.editor=null!==(t=e.editor)&&void 0!==t?t:this.editor,this.editorContainerElement=null!==(r=e.editorContainer)&&void 0!==r?r:this.editorContainerElement,this.richTextCapabilities=e.richTextCapabilities,this.invokeSelectionChangeHandler()},e.prototype.resetActiveEditorInfo=function(){this.editor=void 0,this.editorContainerElement=void 0,this.richTextCapabilities=void 0},e.prototype.onSelectionChange=function(e){this.editor&&this.editor===e&&!this.disableSelectionChangeCallback&&this.invokeSelectionChangeHandler()},e.prototype.onKeyPress=function(e){var t;this.invalidateFormattingCache(),null===(t=this.keypressHandler)||void 0===t||t.call(this,e)},e.prototype.setFocus=function(){this.editorContainerElement&&this.editorContainerElement.focus()},e.prototype.invalidateFormattingCache=function(){this.formattingCache=void 0},e.prototype.invokeSelectionChangeHandler=function(){var e;this.invalidateFormattingCache(),null===(e=this.selectionChangeHandler)||void 0===e||e.call(this)},e.prototype.moveSelectionToEnd=function(){if(this.editor){var e=this.editor.getSelection(!1);this.editor.setSelection(e.index+e.length,0)}},e.prototype.executeWithSelectionChangeCallbackDisabled=function(e){this.disableSelectionChangeCallback=!0,e(),this.disableSelectionChangeCallback=!1},e.prototype.getSelectedContent=function(){if(this.editor){var e=this.editor.getSelection(!1);if(e)return this.editor.getContents(e.index,e.length)}},e}();function sn(){return tn||(tn=new an),tn}var ln=function(e){function t(t){var r=e.call(this,t)||this;return r.editorContainerRef=s.createRef(),r.editorRef=null,r.smartReplyPickerRef=s.createRef(),r.isRestoreInProgress=!1,r.selectedSmartReply=void 0,r.smartReplyEditHistory=Yr.NoEdits,r.isQuillCursorPositionSet=!1,r.lastKnownCursorIndex=void 0,r.draftContentChangedRecently=!1,r.getStyles=function(e){return p.P()?sr(p.M(),r.props.useReplyBoxStyling,r.props.isHeightBounded,void 0,void 0,r.shouldHideMentionColors(),null==e?void 0:e.colors,null==e?void 0:e.styles):sr(p.M())},r.setUpEditor=function(){var e,t;null===(t=(e=r.props).onMount)||void 0===t||t.call(e),r.initializeQuill(),r.restoreDraftIfExists(),r.props.componentRef(r),p.g()&&r.handleShowSmartReplyPicker(),Ir(r.editorRef,!1)},r.onEditorContainerMutation=function(e,t){if(r.getEditorFocusContainerDiv()){var n=Object(a.k)().createActivityObject("DelayedQuillInitialization",Object(a.l)(a.g.ReviewedAsNotNecessary),Object(a.j)());try{r.setUpEditor()}catch(e){throw n.failTag(556127642,-2130957485),e}n.successTag(556127643),t.disconnect()}},r.selectionChangeHandler=function(){r.myQuill&&(r.isQuillCursorPositionSet=r.myQuill.hasFocus(),r.isQuillCursorPositionSet&&p.J()&&sn().onSelectionChange(r.myQuill))},r.selectionChangeHandler_deprecated=function(){var e;(null===(e=r.myQuill)||void 0===e?void 0:e.hasFocus())&&sn().onSelectionChange(r.myQuill)},r.isInAtMentionMode=function(){return!1},r.getEditorFocusContainerDiv=function(){return document.getElementById(Object(q.w)(r.props.id))},r.isSmartReplyPickerDisplayed=function(){var e;return!!(null===(e=r.smartReplyPickerRef.current)||void 0===e?void 0:e.isSuggestionsShown)},r.handleShowSmartReplyPickerInner=function(){var e,t,n;if(r.smartReplyPickerRef.current){var o=!!((null!==(t=null===(e=r.props.smartReplyProps)||void 0===e?void 0:e.smartReplies)&&void 0!==t?t:[]).length>0&&r.isEditorEmpty()&&(null===(n=r.myQuill)||void 0===n?void 0:n.hasFocus()));if(o!==r.smartReplyPickerRef.current.isSuggestionsShown)if(o){var i=Object(a.k)().createActivityObject("SmartReplyRendered",Object(a.l)(a.g.ReviewedAsNotNecessary),Object(a.n)({diagnosticLevel:a.b.BasicEvent}));r.smartReplyPickerRef.current.showPicker(!0),i.successTag(588292805)}else r.smartReplyPickerRef.current.hidePicker()}},r.renderWithContexts=function(e){r.styles=r.getStyles(e);var t=p.P()?r.styles.EditorContainerEditing:r.getEditorClass_deprecated(),n=r.props.smartReplyProps?r.renderSmartReplyPicker():null,o=p.g()?r.editorContainerRef:void 0;return s.createElement("div",{className:t,id:Object(q.x)(r.props.id),ref:o},s.createElement("div",{tabIndex:-1,ref:r.setEditorRef,className:r.styles.InnerEditorDisableFocusOutline,id:Object(q.w)(r.props.id),onKeyDown:r.onKeyDownHandler,onKeyUp:r.onKeyUpHandler,onKeyPress:r.onKeyPressHandler,onFocus:r.onFocusHandler,onBlur:r.onBlurHandler}),r.renderAdditionalEditorContent(),n)},r.onFocusHandler=r.onFocusHandler.bind(r),r.onKeyDownHandler=r.onKeyDownHandler.bind(r),r.onKeyUpHandler=r.onKeyUpHandler.bind(r),r.onKeyPressHandler=r.onKeyPressHandler.bind(r),r.onTextChangedHandler=r.onTextChangedHandler.bind(r),r.deleteHandler=r.deleteHandler.bind(r),r.removeAtFormat=r.removeAtFormat.bind(r),r.tabKeyHandler=r.tabKeyHandler.bind(r),r.onBlurHandler=r.onBlurHandler.bind(r),r.setEditorRef=r.setEditorRef.bind(r),r.enterNewline=r.enterNewline.bind(r),r.handleEscapeKeys=r.handleEscapeKeys.bind(r),r.handleShowSmartReplyPicker=r.handleShowSmartReplyPicker.bind(r),r.handleSmartReplySelection=r.handleSmartReplySelection.bind(r),r.onSmartRepliesShown=r.onSmartRepliesShown.bind(r),r.onSmartRepliesHidden=r.onSmartRepliesHidden.bind(r),r.toggleSmartReplyAriaAttributes=r.toggleSmartReplyAriaAttributes.bind(r),r.onResolveSmartReplySuggestions=r.onResolveSmartReplySuggestions.bind(r),r.renderSmartReply=r.renderSmartReply.bind(r),r.renderSmartReplyPicker=r.renderSmartReplyPicker.bind(r),r.getKeyboardBindings=r.getKeyboardBindings.bind(r),r}return Object(o.c)(t,e),t.prototype.componentDidUpdate=function(e,t){var r,n,o,i=this.getEditorFocusContainerDiv();if(i){var s=this.getFirstQuillEditor(i);s?(this.props.accessibilityLabel&&s.setAttribute("aria-label",this.props.accessibilityLabel.toString()),this.props.accessibilityDescribedBy&&s.setAttribute("aria-describedby",this.props.accessibilityDescribedBy.toString()),s.setAttribute("aria-readonly","false"),p.X()&&(this.props.isTabbable?s.removeAttribute("tabindex"):s.setAttribute("tabindex","-1"))):Object(a.k)().assertConditionTag(!1,"quillEditorDiv missing in CommentEditor",588805504)}var l=p.s()||this.isEditorEmpty();!e.savedDraftContent&&l&&this.restoreDraftIfExists();var c=this.props.placeholder;(c&&e.placeholder!==c&&Mr(this.props.id,c),p.g())&&((null!==(n=null===(r=this.props.smartReplyProps)||void 0===r?void 0:r.smartReplies)&&void 0!==n?n:[])!==(null===(o=e.smartReplyProps)||void 0===o?void 0:o.smartReplies)&&(this.selectedSmartReply=void 0,this.handleShowSmartReplyPicker()))},t.prototype.componentDidMount=function(){if(!this.getEditorFocusContainerDiv())return this.editorContainerMutationObserver=new MutationObserver(this.onEditorContainerMutation),void this.editorContainerMutationObserver.observe(document.body,{childList:!0,subtree:!0});this.setUpEditor(),this.throttledSaveDraftToSession()},t.prototype.componentWillUnmount=function(){var e,t;null===(t=(e=this.props).onUnmount)||void 0===t||t.call(e)},t.prototype.toggleSmartReplyAriaAttributes=function(e){if(!this.isInAtMentionMode()){var t=this.getQuillEditorFromFocusContainerDiv();t&&Lr(t,Jr(e,qr.SmartReply))}},t.prototype.logSmartReplyPostEditActivity=function(){var e=Object(a.k)().createActivityObject("SmartReplyPosted",Object(a.l)(a.g.ReviewedAsNotNecessary),Object(a.n)({diagnosticLevel:a.b.BasicEvent}));this.smartReplyEditHistory!==Yr.EditTypeUnknown&&(e.addDataField("PostEditedType",this.smartReplyEditHistory,a.d.SystemMetadata),e.successTag(587818312))},t.prototype.onTextChangedHandler=function(e,t,r){var n,o,a,s=this;if(Object(i.n)(this.myQuill,"Quill should always be defined on text changed handlers.",i.d.reserveTag(576583245)),p.g()&&this.handleShowSmartReplyPicker(),"user"===r&&!this.myQuill.history.ignoreChange)if(Dr(e)){var l=this.myQuill.getContents(),c=0;l.forEach((function(e){e.attributes&&e.attributes.atmention&&(Ar(JSON.parse(e.attributes.atmention).fullName,e.insert.slice(1))||s.removeAtFormat(c,e.insert.length)),c+=e.insert.length}))}else{var u=window.getSelection(),d=u&&u.anchorNode?u.anchorNode.parentNode:null,f=Mt.find(d);setTimeout((function(){if(s.myQuill){var t=s.myQuill.getSelection();if(f&&"atmention"===f.statics.blotName){var r=f.offset(s.myQuill.scroll);if(t.index===r+1)s.removeAtFormat(r,1);else if(t.index<r+f.length()&&t.index>r)s.removeAtFormat(r,f.length());else if(t.index===r+f.length()){e.filter((function(e){return"string"==typeof e.insert})).length&&s.removeAtFormat(t.index-1,1)}}}}),0)}var h=this.isEditorEmpty();this.props.isDraftEmpty!==h&&(null===(o=(n=this.props).onDraftEmptinessChanged)||void 0===o||o.call(n,h)),p.g()&&this.selectedSmartReply&&(this.smartReplyEditHistory=en(this.smartReplyEditHistory,e,null!==(a=this.selectedSmartReply)&&void 0!==a?a:"",this.myQuill.getContents())),this.throttledSaveDraftToSession()},t.prototype.throttledSaveDraftToSession=function(){var e=this;p.s()&&!this.draftContentChangedRecently&&this.props.onSaveDraftToSession&&(this.draftContentChangedRecently=!0,setTimeout((function(){var t,r;null===(r=(t=e.props).onSaveDraftToSession)||void 0===r||r.call(t),e.draftContentChangedRecently=!1}),1e3))},t.prototype.getFirstQuillEditor=function(e){var t=e.getElementsByClassName("ql-editor");return t.length>0?t[0]:void 0},t.prototype.getQuillEditorFromFocusContainerDiv=function(){var e=this.getEditorFocusContainerDiv();return e?this.getFirstQuillEditor(e):void 0},t.prototype.restoreDraftIfExists=function(){var e=this,t=this.props.savedDraftContent;if(t){this.isRestoreInProgress=!0;var r=t.editorCursorPosition,n=t.editorContent;r||(Object(a.k)().assertConditionTag(!1,"Cursor position promise should be defined on Web, defaulting to resolve(undefined).",588805505),r=Promise.resolve(void 0)),Promise.all([n,r]).then((function(t){var r=Object(o.f)(t,2),n=r[0],i=r[1];n&&(e.setContents(n,i),e.isRestoreInProgress=!1)})).catch(Object(Ct.a)(i.d.reserveTag(588805506)))}},t.prototype.setEditorRef=function(e){this.editorRef=e,p.J()&&(this.editorRef?sn().setActiveEditorInfo({editorContainer:e}):sn().resetActiveEditorInfo())},t.prototype.removeAtFormat=function(e,t){Object(i.n)(this.myQuill,"Quill should be defined when removing format.",i.d.reserveTag(576583246));try{this.myQuill.formatText(e,t,{optional:!1,atmention:!1})}catch(t){Object(a.k)().assertConditionTag(t instanceof Error,"Missing catch details due to unhandled error type?",520962377),t instanceof Error&&("NotFoundError"===t.message?(Object(a.k)().assertConditionTag(!1,"Error removing At Format",588805508),this.clear()):t.message.indexOf("mutations")>-1&&(Object(a.k)().assertConditionTag(!1,"Threw error cannot find property mutations of undefined",588649689),0===e&&this.myQuill.formatText(e,1,{optional:!1,atmention:!1})))}},t.prototype.getChunkBoundaryForDelete=function(e,t,r,n){Object(i.n)(this.myQuill,"Quill should be defined when processing blots.",i.d.reserveTag(576583247));var o=this.myQuill.getText(r.index,1),a=this.myQuill.getText(r.index-1,1),s=this.myQuill.getText(r.index,r.length),l=-1,c=-1,u=0===r.length,d=u&&" "===a,p=u&&" "===o||!this.myQuill.getFormat(r.index,1).atmention;if(""!==s&&r.index+r.length<=e+t.length||!p&&!d){if(""!==s&&s.indexOf(" ")>=0)return;return l=t.lastIndexOf(" ",r.index-e-1),c=t.indexOf(" ",r.index-e),{chunkStart:l<0?c<0?e:e+1:l+e,chunkEnd:c<0?e+t.length-1:l<0?c+e:c+e-1}}if(u){if(p)return n?(c=t.indexOf(" ",r.index-e+1),{chunkStart:r.index,chunkEnd:c<0?e+t.length-1:c+e}):(l=t.lastIndexOf(" ",r.index-e-1),c=t.indexOf(" ",r.index-e),{chunkStart:l<0?c<0?e:e+1:l+e,chunkEnd:l<0&&" "===o?r.index:r.index-1});if(d)return n?(c=t.indexOf(" ",r.index-e),{chunkStart:r.index-1,chunkEnd:c<0?e+t.length-1:c+e}):{chunkStart:(l=t.lastIndexOf(" ",r.index-e-2))<0?e+1:l+e+1,chunkEnd:r.index-1}}},t.prototype.deleteHandler=function(e){Object(i.n)(this.myQuill,"Quill must be defined in delete handler",i.d.reserveTag(576583248));var t=window.getSelection(),r=t&&t.anchorNode?t.anchorNode.parentNode:null,n=t&&t.focusNode?t.focusNode.parentNode:null,o={startBlot:Mt.find(r),endBlot:r===n?void 0:Mt.find(n)},s=t&&t.anchorNode?Mt.find(t.anchorNode.previousSibling):null;if(s&&"atmention"===s.statics.blotName&&t&&0===t.anchorOffset&&(o.startBlot=s),p.e()&&o.startBlot&&o.startBlot.statics.blotName===Ut.blotName){if(t&&"Caret"===t.type&&t.anchorNode&&t.anchorNode.textContent&&t.anchorOffset===t.anchorNode.textContent.length){var l=this.myQuill.getSelection();if(!l)return!0;var c=t.anchorNode.textContent.length,u=l.index;return this.myQuill.formatText(u-c,c,{optional:!1,hyperlink:!1}),!1}Rr(this.myQuill,o.startBlot.offset(this.myQuill.scroll),o.startBlot.length()),o.endBlot&&o.endBlot.statics.blotName===Ut.blotName&&Rr(this.myQuill,o.endBlot.offset(this.myQuill.scroll),o.endBlot.length())}if(o.startBlot){if(o.endBlot)return"atmention"===o.startBlot.statics.blotName&&this.removeAtFormat(o.startBlot.offset(this.myQuill.scroll),o.startBlot.length()),"atmention"===o.endBlot.statics.blotName&&this.removeAtFormat(o.endBlot.offset(this.myQuill.scroll),o.endBlot.length()),!0;var d=o.startBlot.offset(this.myQuill.scroll),f=this.myQuill.getSelection(),h=this.myQuill.getText(d,o.startBlot.length());if(!f)return Object(a.k)().assertConditionTag(!1,"Unexpected empty selection in Quill",587495514),!0;if("atmention"!==o.startBlot.statics.blotName&&0===f.length&&e&&this.myQuill.getFormat(f.index,1).atmention){var m=this.myQuill.getFormat(f.index+1).atmention.fullName;m&&this.removeAtFormat(f.index,m.length+1)}if("atmention"===o.startBlot.statics.blotName){if(f.index===d)return 0===f.length&&!e||(this.removeAtFormat(o.startBlot.offset(this.myQuill.scroll),o.startBlot.length()),!0);var y=this.getChunkBoundaryForDelete(d,h,f,e);if(y)return y.chunkStart>y.chunkEnd||(this.myQuill.deleteText(y.chunkStart,y.chunkEnd-y.chunkStart+1),!1);this.removeAtFormat(d,o.startBlot.length())}}return!0},t.prototype.getKeyboardBindings=function(){var e=this;return{tab:{key:E.c.Tab,handler:function(){return e.tabKeyHandler()}},shiftTab:{key:E.c.Tab,shiftKey:!0,handler:function(){return e.tabKeyHandler()}},enter:{key:E.c.Enter,handler:function(){return e.enterNewline(!1)}},back:{key:E.c.Backspace,handler:function(){var t=e.deleteHandler(!1);return p.K()&&p.J()&&sn().onKeyPress({key:E.c.Backspace}),t}},delete:{key:E.c.Delete,handler:function(){var t=e.deleteHandler(!0);return p.K()&&p.J()&&sn().onKeyPress({key:E.c.Delete}),t}},commitWithCtrl:{key:E.c.Enter,shortKey:!0,handler:function(){return e.handleCommitKeys()}},newlineWithShift:{key:E.c.Enter,shiftKey:!0,handler:function(){return e.enterNewline(!0)}},bold:{key:E.c.b,shortKey:!0,handler:this.getRichTextKeypressHandler({key:E.c.b,shortKey:!0},p.K(),{type:lr.DeltaFormattingType.Weight})},italic:{key:E.c.i,shortKey:!0,handler:this.getRichTextKeypressHandler({key:E.c.i,shortKey:!0},p.K(),{type:lr.DeltaFormattingType.Italic})},underline:{key:E.c.u,shortKey:!0,handler:this.getRichTextKeypressHandler({key:E.c.u,shortKey:!0},p.K(),{type:lr.DeltaFormattingType.Underline})},strikethrough:{key:E.c.x,shortKey:!0,shiftKey:!0,handler:this.getRichTextKeypressHandler({key:E.c.x,shortKey:!0,shiftKey:!0},p.K()&&p.y(),{type:lr.DeltaFormattingType.Strikethrough})},insertHyperlink:{key:E.c.k,shortKey:!0,handler:this.getRichTextKeypressHandler({key:E.c.k,shortKey:!0},p.K())},highlight:{key:E.c.h,shortKey:!0,altKey:!0,handler:this.getRichTextKeypressHandler({key:E.c.h,shortKey:!0,altKey:!0},p.w())},undo:{key:E.c.z,shortKey:!0,handler:function(){return p.K()&&p.J()&&sn().onKeyPress({key:E.c.z,shortKey:!0}),!0}}}},t.prototype.getRichTextKeypressHandler=function(e,t,r){var n=this;return function(){var o;if(!t)return!1;var i=null===(o=n.myQuill)||void 0===o?void 0:o.getFormat();return!(null==i?void 0:i.atmention)&&(!p.J()||(r&&sn().applyFormattingToCurrentSelection(r),sn().onKeyPress(e),!1))}},t.prototype.tabKeyHandler=function(){return p.X()},t.prototype.getQuillScrollingContainer=function(){return this.props.isHeightBounded?"#".concat(Object(q.x)(this.props.id)):this.props.scrollingContainerId?"#".concat(this.props.scrollingContainerId):void 0},t.prototype.initializeQuill=function(){var e={keyboard:{bindings:this.getKeyboardBindings()}};try{this.myQuill=Er(this.props,e,this.onTextChangedHandler,this.getQuillScrollingContainer()),this.myQuill.on("selection-change",this.selectionChangeHandler)}catch(e){throw e}},t.prototype.onKeyUpHandler=function(e){Object(E.f)(e.key)===E.b.Control&&Ir(this.editorRef,!1)},t.prototype.onKeyDownHandler=function(e){Object(E.f)(e.key)===E.b.Control&&Ir(this.editorRef,!0),Object(E.f)(e.key)===E.b.Escape&&this.handleEscapeKeys()&&e.stopPropagation(),this.props.onKeyDown&&this.props.onKeyDown(e)},t.prototype.onKeyPressHandler=function(e){},t.prototype.enterNewline=function(e){var t=this;if(!this.myQuill)return Object(a.k)().assertConditionTag(!1,"this.myQuill should always be defined if in keyboard handler",588805509),!1;var r=function(){return Object(i.n)(t.myQuill,"Quill must be defined when processing new line.",i.d.reserveTag(576583249)),t.myQuill.insertText(t.myQuill.getSelection().index,"\n"),!1},n=window.getSelection(),o=n&&n.anchorNode?n.anchorNode.parentNode:null,s=Mt.find(o);if(s&&"atmention"===s.statics.blotName){var l=s.offset(this.myQuill.scroll),c=this.myQuill.getSelection();return c.index===l||c.index===l+s.length()||this.removeAtFormat(s.offset(this.myQuill.scroll),s.length()),r()}return!e||r()},t.prototype.handleCommitKeys=function(){return!(!this.props.onCommitRequested||this.isEditorEmpty())&&(this.props.onCommitRequested(A.a.KeyboardShortcut),!0)},t.prototype.handleEscapeKeys=function(){return!!this.props.onEscapeRequested&&(this.props.onEscapeRequested(),!0)},t.prototype.onFocusHandler=function(e){var t;if(this.editorRef){var r=e.target;if(r&&r.classList.contains("ql-clipboard"))return;null===(t=document.getElementById(Object(q.w)(this.props.id)))||void 0===t||t.removeAttribute("tabindex");var n=document.activeElement;this.editorRef.contains(n)&&this.editorRef!==n&&this.isQuillCursorPositionSet||this.focus(),this.props.onFocus&&this.props.onFocus(),p.J()&&this.myQuill&&sn().setActiveEditorInfo({editor:this.myQuill,richTextCapabilities:this.props.richTextCapabilities}),e.stopPropagation(),this.lastKnownCursorIndex=void 0}},t.prototype.onBlurHandler=function(e){var t,r,n,o=e.relatedTarget||document.activeElement;if(null===(t=document.getElementById(Object(q.w)(this.props.id)))||void 0===t||t.setAttribute("tabindex","-1"),p.g()){var i=document.getElementById(Object(q.F)());if(this.props.onEditorBlur&&!pr.pasteOperationInProgress&&o!==this.editorRef&&e.target!==this.editorRef){var a=o;i&&(i.contains(a)||a.contains(i))||this.props.onEditorBlur()}}else this.props.onEditorBlur&&!pr.pasteOperationInProgress&&o!==this.editorRef&&e.target!==this.editorRef&&this.props.onEditorBlur();this.lastKnownCursorIndex=null===(n=null===(r=this.myQuill)||void 0===r?void 0:r.getSelection())||void 0===n?void 0:n.index},t.prototype.getEditorClass_deprecated=function(){return sr(p.M(),this.props.useReplyBoxStyling,this.props.isHeightBounded,void 0,void 0,this.shouldHideMentionColors()).EditorContainerEditing},t.prototype.isEditorEmpty=function(){return!(!this.myQuill||!this.myQuill.editor.isBlank())},t.prototype.setContents=function(e,t){if(this.myQuill){var r=Tr(e),n=JSON.parse(r);this.myQuill.setContents(n),this.isRestoreInProgress&&Ir(this.editorRef,!1);var o=null!=t?t:this.myQuill.getLength();this.lastKnownCursorIndex=o,this.myQuill.hasFocus()&&this.setSelection(o)}},t.prototype.getContentsAsync=function(){var e=this;return this.isRestoreInProgress&&this.props.savedDraftContent?this.props.savedDraftContent.editorContent:new Promise((function(t,r){if(e.myQuill){var n=e.myQuill.getContents();t(function(e){var t=cr.b?Object(a.k)().createActivityObject("GetOfficeDeltaFromQuill",Object(a.l)(a.g.GlobalAPI),Object(a.j)()):void 0,r=JSON.parse(e);Object(i.n)(r.ops,"Quill operations must be defined.",i.d.reserveTag(562937944));var n=!1;if(Object(_t.e)()){var o=1===_t.a.getThemeAPI().getThemeMode();n=o}var s={ops:[]},l=r.ops.map((function(e){if(void 0!==e.insert){var r={insert:e.insert};if(e.attributes&&(e.attributes.optional&&("string"==typeof e.attributes.optional?r.optional=JSON.parse(e.attributes.optional):r.optional=e.attributes.optional),r.attributes={},e.attributes.atmention&&("string"==typeof e.attributes.atmention?r.attributes.atmention=JSON.parse(e.attributes.atmention):r.attributes.atmention=e.attributes.atmention),p.e()&&e.attributes.hyperlink&&("string"==typeof e.attributes.hyperlink?r.attributes.link=JSON.parse(e.attributes.hyperlink).url:r.attributes.link=e.attributes.hyperlink.url,p.N()&&r.attributes.link&&(r.attributes.link=Or(r.attributes.link))),p.K()&&!e.attributes.atmention&&(e.attributes.bold&&(r.attributes.weight=700),e.attributes.strike&&(r.attributes.strikethrough=e.attributes.strike),e.attributes.italic&&(r.attributes.italic=e.attributes.italic),e.attributes.underline&&(r.attributes.underline=e.attributes.underline)),p.w()&&!e.attributes.atmention&&(e.attributes.background&&(r.attributes.highlight=n?_r(e.attributes.background,0):e.attributes.background),e.attributes.color&&(r.attributes.color=n?_r(e.attributes.color,0):e.attributes.color))),e.insert.image){r.optional||(r.optional={});var o=e.insert.image;o.base64=o.src,delete o.src,r.optional.image=o,r.insert=""}return r}return t&&t.failTag(595194443,-2130957544),Object(a.k)().assertConditionTag(!1,"Translation Error: op in quill delta is not insert. Inserting empty insert operation.",i.d.reserveTag(595194444)),{insert:""}}));return l.length?(s.ops=l,Sr(s),t&&t.successTag(595194445),JSON.stringify(s)):(t&&t.failTag(595194446,-2130957544),Object(a.k)().assertConditionTag(!1,"Translation Error: Quill Delta should never have an empty operation",i.d.reserveTag(595194447)),JSON.stringify(new Bt))}(JSON.stringify(n))),p.g()&&e.selectedSmartReply&&(e.logSmartReplyPostEditActivity(),e.selectedSmartReply=void 0,e.smartReplyEditHistory=Yr.NoEdits)}else r(new d.a(R.e,i.d.reserveTag(588351390),-2130957550))}))},t.prototype.getCursorPositionAsync=function(){var e=this;return this.isRestoreInProgress&&this.props.savedDraftContent?this.props.savedDraftContent.editorCursorPosition||Promise.resolve(void 0):new Promise((function(t,r){var n=e.myQuill?e.myQuill.getSelection():void 0;t(n?n.index:e.lastKnownCursorIndex)}))},t.prototype.clear=function(){var e;null===(e=this.myQuill)||void 0===e||e.setText("")},t.prototype.blur=function(){var e;null===(e=this.myQuill)||void 0===e||e.blur()},t.prototype.focus=function(){var e;this.myQuill&&(this.isQuillCursorPositionSet?this.myQuill.focus():this.setSelection(null!==(e=this.lastKnownCursorIndex)&&void 0!==e?e:this.myQuill.getLength()))},t.prototype.setSelection=function(e){var t,r,n;try{null===(t=this.myQuill)||void 0===t||t.setSelection(Math.min(e,null===(r=this.myQuill)||void 0===r?void 0:r.getLength()),0)}catch(e){Object(a.k)().assertConditionTag(!1,Object(i.l)(e),556339362),null===(n=this.myQuill)||void 0===n||n.focus()}},t.prototype.getDisplayMode=function(){return this.props.displayMode},t.prototype.shouldHideMentionColors=function(){return!1},t.prototype.renderAdditionalEditorContent=function(){},t.prototype.handleShowSmartReplyPicker=function(){setTimeout(this.handleShowSmartReplyPickerInner,$r.a)},t.prototype.onResolveSmartReplySuggestions=function(){var e;return(null===(e=this.props.smartReplyProps)||void 0===e?void 0:e.smartReplies)||null},t.prototype.renderSmartReply=function(e,t){var r=t.suggestionModel.selected?this.styles.SuggestedSmartReplyItem:this.styles.SmartReplyItem;return s.createElement("span",{className:r},e)},t.prototype.handleSmartReplySelection=function(e){var t,r=null!==(t=this.onResolveSmartReplySuggestions())&&void 0!==t?t:[];if(-1!==r.indexOf(e)){var n=r.indexOf(e)+1,o=Object(a.k)().createActivityObject("SmartReplyClicked",Object(a.l)(a.g.ReviewedAsNotNecessary),Object(a.n)({diagnosticLevel:a.b.BasicEvent}));o.addDataField("ClickPosition",n,a.d.SystemMetadata),o.addDataField("SmartReplyLength",e.length,a.d.SystemMetadata),Object(i.n)(this.myQuill,"Quill should be defined when processing smart reply selection.",i.d.reserveTag(576583250));var s=this.myQuill.getSelection();s&&this.myQuill.insertText(s.index,e,"api"),this.selectedSmartReply=e,o.successTag(588292807)}},t.prototype.onSmartRepliesShown=function(){this.toggleSmartReplyAriaAttributes(!0)},t.prototype.onSmartRepliesHidden=function(){this.toggleSmartReplyAriaAttributes(!1)},t.prototype.renderSmartReplyPicker=function(){var e;if(!p.g()||!this.props.smartReplyProps||!this.editorContainerRef.current)return null;var t=Object(q.T)(this.props.id),r=Object(N.a)((function(e,r){return{headerItemsProps:[{renderItem:function(){return s.createElement("div",{className:e,id:t},r)},shouldShow:function(){return!0}}]}}))(this.styles.SmartReplyHeader,null===(e=this.props.smartReplyProps)||void 0===e?void 0:e.pickerTitle);return s.createElement(rn,{componentRef:this.smartReplyPickerRef,calloutWidth:Object(ee.g)(),suggestionItems:this.onResolveSmartReplySuggestions()||[],suggestionsStore:new k.SuggestionsStore,onResolveSuggestions:this.onResolveSmartReplySuggestions,onChange:this.handleSmartReplySelection,pickerSuggestionsProps:r,onZeroQuerySuggestion:this.onResolveSmartReplySuggestions,pickerCalloutProps:{ariaLabelledBy:t,target:this.editorContainerRef.current,className:p.P()?this.styles.SmartReplyCallout:void 0},inputElement:this.getQuillEditorFromFocusContainerDiv(),onRenderSuggestionsItem:this.renderSmartReply,onSuggestionsShown:this.onSmartRepliesShown,onSuggestionsHidden:this.onSmartRepliesHidden})},t.prototype.render=function(){return p.P()?Object(V.a)(this.renderWithContexts,I.a):this.renderWithContexts()},t}(s.PureComponent),cn=ln,un=r(1093),dn=r(1054),pn=r(1179),fn=r(1141);var hn=[{UserId:"S::mynameisannie@sharedComments.com::3od7ob07-08q8-0sjs-lob9-7p956l88b3rp",DisplayName:"Annie Lindqvist (Redmond)",Email:"mynameisannie@sharedComments.com",Provider:"AD"},{UserId:"S::ValentinaCanWrite@microsoft.com::87597fbh-6c1y-rdw6-zxf9-21m8o4s3w721",DisplayName:"Valentina Lovric",Email:"ValentinaCanWrite@microsoft.com",Provider:"AD"},{UserId:"S::nichoCanWrite@microsoft.com::89wmux1c-l2o8-zyv9-oj3q-w30p912pi1zf",DisplayName:"Nicho Lundberg",Email:"nichoCanWrite@microsoft.com",Provider:"AD"},{UserId:"S::BellirinaCanReview@microsoft.com::87597fbh-6c1y-rdw6-zxf9-32n9p5t4x832",DisplayName:"Bellirina Rosa",Email:"BellirinaCanReview@microsoft.com",Provider:"AD"},{UserId:"S::aaronReid@microsoft.com::iyy40m52-99h4-a8kc-9d56-j988s9j17755",DisplayName:"Aaron Reid (Asia Pacific Research & Development)",Email:"aaronReid@microsoft.com",Provider:"AD"},{UserId:"S::Roko@microsoft.com::4zvf82t2-140h-3506-l8vm-zgg95407x3h0",DisplayName:"Roko Kolar (India Development Center)",Email:"Roko@microsoft.com",Provider:"AD"},{UserId:"S::Christian@microsoft.com::5azgo6y8-1b38-d2ah-7t95-jqvg5r1nmvx1",DisplayName:"Christian Bergqvist (Israel Research & Development)",Email:"Christian@microsoft.com",Provider:"AD"},{UserId:"S::Maor@microsoft.com::lqj9p96z-fe80-zx4v-a19n-2855t8yp0b80",DisplayName:"Maor Sharett (Vancouver)",Email:"Maor@microsoft.com",Provider:"AD"},{UserId:"S::Anny@microsoft.com::27f75c64-w2kj-7rye-3823-6fs244j9553y",DisplayName:"Anny Lindqvist (New England Research & Development)",Email:"Anny@microsoft.com",Provider:"AD"},{UserId:"S::Aron@microsoft.com::tkec2ao2-h3n4-asqv-lwcm-nuj74bc2501r",DisplayName:"Aron Reid (Silicon Valley & San Francisco)",Email:"Aron@microsoft.com",Provider:"AD"},{UserId:"S::Alix@microsoft.com::9ooh72e8-0224-0tdi-8of3-vf01g64jt140",DisplayName:"Alix Lundberg",Email:"Alix@microsoft.com",Provider:"AD"},{UserId:"S::Roko@microsoft.com::kj1i4m3e-2t48-48tb-54mh-xl5278i109lc",DisplayName:"Roko Kular",Email:"Roko@microsoft.com",Provider:"AD"},{UserId:"S::Christian@microsoft.com::ef944246-30s0-qj56-87le-a4mz2b8k1337",DisplayName:"Christian Bergqvest",Email:"Christian@microsoft.com",Provider:"AD"},{UserId:"S::Valintina@microsoft.com::fjo0bk47-y6q8-20wz-g4na-1d5u572q2pid",DisplayName:"Valintina Lovric",Email:"Valintina@microsoft.com",Provider:"AD"},{UserId:"S::Maor@microsoft.com::zt3sdbse-e073-1562-1js5-v5x78of1p09r",DisplayName:"Maor Sharet",Email:"Maor@microsoft.com",Provider:"AD"},{UserId:"S::Anny@microsoft.com::d4268h1x-6568-bh7s-k789-om88c1f90690",DisplayName:"Anny Lindqvest",Email:"Anny@microsoft.com",Provider:"AD"},{UserId:"S::Alix@microsoft.com::qkxh95h2-22f5-u2z3-h2l2-j5i144rv6480",DisplayName:"Alix Lunberg",Email:"Alix@microsoft.com",Provider:"AD"},{UserId:"S::Annie@microsoft.com::ujy2cg5t-1ya6-v7us-0eqt-0dw5r1p6p547",DisplayName:"Annie Lindqvest",Email:"Annie@microsoft.com",Provider:"AD"},{UserId:"S::Alixander@microsoft.com::91e1zb0b-0321-7a9x-6xui-gwgn2brkup19",DisplayName:"Alixander Lundberg",Email:"Alixander@microsoft.com",Provider:"AD"},{UserId:"S::Anny@microsoft.com::0s510228-n7b1-7u4d-6w13-2t2j8p70bhg4",DisplayName:"Anny Lundqvist",Email:"Anny@microsoft.com",Provider:"AD"},{UserId:"S::Anny@microsoft.com::a560500t-4w06-1712-pgul-b9az2s18kv9g",DisplayName:"Anny Lundqvist (Redmond)",Email:"Anny@microsoft.com",Provider:"AD"},{UserId:"S::Maor@microsoft.com::t2k8y26d-x1eo-qza4-52qr-wtkjr8f233r8",DisplayName:"Maor Shorett",Email:"Maor@microsoft.com",Provider:"AD"},{UserId:"S::Valentina@microsoft.com::f480ks5p-fsd9-tk2u-9xui-1852ex3ve541",DisplayName:"Valentina Lovrics",Email:"Valentina@microsoft.com",Provider:"AD"},{UserId:"S::Maor@microsoft.com::clt641r7-d5si-dd5d-d045-fxu1g97a7r9m",DisplayName:"Maor Sharet",Email:"Maor@microsoft.com",Provider:"AD"},{UserId:"S::Valentina@microsoft.com::8s6j87ee-b7ic-ga48-ox0z-nm37syw7971k",DisplayName:"Valentina Lovrecs",Email:"Valentina@microsoft.com",Provider:"AD"},{UserId:"S::Maor@microsoft.com::e9m0hlvc-cc89-edn9-o2ux-mqwn9m108md4",DisplayName:"Maor Sharitt",Email:"Maor@microsoft.com",Provider:"AD"}].map((function(e){var t=function(e){var t=e.split("::");return 3!==t.length?{UPN:"UnknownUPN",AadObjectId:"UnknownAadObjectId",SubstrateId:"UnknownSubstrateId"}:{UPN:t[1],AadObjectId:t[2],SubstrateId:"".concat(t[2],"@").concat("v0pt9p5w-fw09-7c24-k1r3-lpn9bjq978he")}}(e.UserId);return{AadObjectId:t.AadObjectId,Id:t.SubstrateId,Name:e.DisplayName,UserPrincipalName:t.UPN,EmailAddresses:[t.UPN],SuggestionType:"Person",SuggestionSubtype:"OrganizationUser",HostAppSuggestion:{},Source:"Loki",SuggestionOrigin:"Search"}}));function mn(e){return new Promise((function(t,r){setTimeout((function(){if(""===e)t(hn);else{var r=hn.filter((function(t){return t.Name.toLocaleLowerCase().includes(e.toLocaleLowerCase())||t.EmailAddresses[0].toLocaleLowerCase().includes(e.toLocaleLowerCase())||t.UserPrincipalName.toLocaleLowerCase().includes(e.toLocaleLowerCase())}));t(r)}}),200)}))}function yn(e){return"Df"===e?"Df":"Msit"===e?"Msit":"Prod"===e?"Prod":"Blackforest"===e?"Blackforest":"GccModerate"===e?"GccModerate":"GccHigh"===e?"GccHigh":"DoD"===e?"DoD":"Gallatin"===e?"Gallatin":"AG08"===e?"AG08":"AG09"===e?"AG09":"Unknown"}var bn,vn,gn=r(1037),On=((bn={}).android="Android",bn.web="Web",bn.win32="Win32",bn.macos="Mac",bn.ios="iOS",bn),wn=((vn={}).android="OfficeAndroid",vn.web="OfficeWebApps",vn.win32="OfficeWin32",vn.macos=void 0,vn.ios="OfficeiOS",vn),xn=void 0,Cn=function(e){function t(t){var r=e.call(this,t)||this;return r.configureLPP=function(e){try{if(e&&!r.state.livePersonaPickerInstance){if(!Object(pn.a)()){var t=function(e){var t=e.getMetadata();return{clientType:wn[Object(gn.a)()],hostAppName:t.appName,hostAppPlatform:On[Object(gn.a)()],hostAppRing:t.releaseAudienceGroup||t.ring||t.releaseAudience,hostAppVersion:t.appVersion,complianceEnvironment:t.sovereignEnvironmentName?yn(t.sovereignEnvironmentName):"Prod"}}(Object(a.k)());e.initializeLivePersonaPicker("ACCOUNT_IDENTIFIER",Object(o.a)(Object(o.a)({},t),{complianceEnvironment:t.complianceEnvironment,clientCorrelationId:Object(a.k)().getMetadata().sessionId,refreshAuthToken:r.refreshAuthToken,getHostAppSuggestions:r.isTestEnvironment()?mn:void 0,offline:r.isTestEnvironment(),settings:p.o()?{suggestUseEmailAddress:!0}:void 0}))}Object(pn.b)()}xn=e.getLivePersonaPickerContainer("ACCOUNT_IDENTIFIER"),r.state.livePersonaPickerInstance||r.setState({livePersonaPickerInstance:xn})}catch(e){Object(a.k)().assertConditionTag(!1,"configureLPP: ".concat("string"==typeof e?e:Object(i.l)(e)),595637921)}},r.renderLivePersonaPicker=function(){return r.state.livePersonaPickerInstance?s.createElement(r.state.livePersonaPickerInstance,{inputId:r.props.target?r.props.target:"",strings:r.state.peoplePickerStrings,isOpen:r.props.inAtMentionMode,maxHeight:400,maxWidth:250,onSuggestionSelected:r.props.onSuggestionSelected,onShow:r.props.onShow,onDismiss:r.props.onDismiss,componentRef:r.onPeoplePickerRef,onSuggestionHighlighted:r.props.onSuggestionHighlighted,suggestionListId:q.B()}):null},r.onPeoplePickerRef=r.onPeoplePickerRef.bind(r),r.refreshAuthToken=r.refreshAuthToken.bind(r),r.state={livePersonaPickerInstance:xn,peoplePickerStrings:{loading:"Loading...",error:"Can't search right now.",allResults:"No more results found.",limitedResults:"Top results",emptyResults:"No suggestions found for now.",useThisAddress:"Use this address",atMentionsModePlaceholderText:"Type @ to mention a person",pickerModePlaceholderText:"Enter a name or email address",suggestionsAnnouncement:"Number of suggestions found: ",selectedSuggestionAccessibilityLabel:"Suggestion",selectedSuggestionNumberAccessibilityLabel:"of",suggestionsAvailableAnnouncement:"Suggestions Available"}},r}return Object(o.c)(t,e),t.prototype.componentDidMount=function(){var e=this;Object(xt.a)().then((function(t){e.setState({peoplePicker:t})})).catch(Object(Ct.a)(i.d.reserveTag(595632143))),this.state.lppImports||Object(xt.c)().then((function(t){if(t){e.configureLPP(t);var r=Object(fn.b)().getLocaleInfo().uiCulture;t.getLivePersonaPickerStrings(r).then((function(t){e.setState({peoplePickerStrings:t})})).catch((function(e){Object(a.k)().assertConditionTag(!1,"failed to fetch LPP strings for locale: ".concat(r,", error: ").concat(e.message),595637531)})),e.setState({lppImports:t})}else Object(a.k)().assertConditionTag(!1,"LPP was not able to load.",576582748)})).catch(Object(Ct.a)(i.d.reserveTag(591155841)))},t.prototype.isTestEnvironment=function(){var e=Object(a.k)().getMetadata(),t="-4"===e.ring&&"DC2"===e.dataCenter;return cr.b||t},t.prototype.refreshAuthToken=function(e){return this.props.getAuthToken?this.props.getAuthToken(dn.c.Loki):(Object(a.k)().assertConditionTag(!1,"getAuthToken cannot be undefined",595637532),Promise.resolve(""))},t.prototype.onPeoplePickerRef=function(e){this.peoplePickerRef=e},t.prototype.onMentionsTextChanged=function(e,t){this.peoplePickerRef&&(t?this.props.onDismiss():this.peoplePickerRef.onQueryChanged(e))},t.prototype.onMentionsKeyDownHandler=function(e){if(this.peoplePickerRef&&(Object(a.k)().assertConditionTag(!!this.state.peoplePicker,"peoplepicker did not lazy-load correctly",595632416),e&&e.keyCode&&this.props.inAtMentionMode&&this.state.lppImports)){var t=this.state.lppImports.keyboardEventKeyCodeToCustomKey[e.keyCode];void 0!==t&&this.peoplePickerRef.onCustomKeyPressed(t)}},t.prototype.render=function(){return this.renderLivePersonaPicker()},t}(s.PureComponent),Sn=r(1189),Tn=zt.import("delta"),jn=function(e){function t(t){var r=e.call(this,t)||this;return r.startIndexOfMention=0,r.onAtMentionSuggestionHighlighted=function(e){r.setState({activeDescendantId:e})},r.getActiveDescendantId=function(){return r.state.activeDescendantId},r.isInAtMentionMode=function(){return r.state.inAtMentionMode},r.exitAtMentionMode=r.exitAtMentionMode.bind(r),r.insertMentionText=r.insertMentionText.bind(r),r.onSuggestionSelected=r.onSuggestionSelected.bind(r),r.onKeyDownHandler=r.onKeyDownHandler.bind(r),r.onKeyPressHandler=r.onKeyPressHandler.bind(r),r.onTextChangedHandler=r.onTextChangedHandler.bind(r),r.onMentionHostRef=r.onMentionHostRef.bind(r),r.enterAtMentionMode=r.enterAtMentionMode.bind(r),r.onShowHandler=r.onShowHandler.bind(r),r.enterNewline=r.enterNewline.bind(r),r.getKeyboardBindings=r.getKeyboardBindings.bind(r),r.state={activeDescendantId:void 0,inAtMentionMode:!1,isReplacingContentAtBeginning:!1,mentionQueryString:"",hadWordSelectionShortcut:!1},r}return Object(o.c)(t,e),t.prototype.enterNewline=function(t){return!this.state.inAtMentionMode&&e.prototype.enterNewline.call(this,t)},t.prototype.handleEscapeKeys=function(){return this.state.inAtMentionMode||e.prototype.handleEscapeKeys.call(this)},t.prototype.componentWillUnmount=function(){var e,t;null===(t=(e=this.props).onUnmount)||void 0===t||t.call(e)},t.prototype.componentDidUpdate=function(t,r){r.inAtMentionMode&&!this.state.inAtMentionMode&&this.AtMentionRef&&this.AtMentionRef.onMentionsTextChanged("",!0);var n=this.state.inAtMentionMode,o=this.getQuillEditorFromFocusContainerDiv();if(o&&(n!==r.inAtMentionMode&&Lr(o,Jr(n,qr.LPP)),!n&&this.isSmartReplyPickerDisplayed()&&(Lr(o,Jr(!0,qr.SmartReply)),o.removeAttribute("aria-activedescendant")),n&&!this.isSmartReplyPickerDisplayed())){var i=this.getActiveDescendantId();i&&o&&o.setAttribute("aria-activedescendant",i)}e.prototype.componentDidUpdate.call(this,t,r)},t.prototype.onMentionHostRef=function(e){this.AtMentionRef=e},t.prototype.updateCurrentMentions=function(e,t){var r=Nr(t),n=Nr(t.compose(e));Object(u.o)(r,n)&&this.props.onMentioneesStillInDraftUpdated(n)},t.prototype.onTextChangedHandler=function(t,r,n){if(this.state.isReplacingContentAtBeginning&&this.setState({isReplacingContentAtBeginning:!1}),this.state.inAtMentionMode&&this.AtMentionRef){var o=this.getMentionText();if(o&&o.length>0&&this.state.mentionQueryString!==o)if(o.split(" ").length>3)this.AtMentionRef.onMentionsTextChanged("",!0),this.setState({mentionQueryString:""});else{this.setState({mentionQueryString:o});var i=this.AtMentionRef.isTestEnvironment()?o.substr(1):o;this.AtMentionRef.onMentionsTextChanged(i,!1)}}this.props.displayMode===B.Editing&&p.c()&&(Br(t)||Dr(t)||function(e){var t=!1;return e.forEach((function(e){t||(t=!!e.retain&&!!e.attributes&&null===e.attributes.atmention)})),t}(t))&&this.updateCurrentMentions(t,r),e.prototype.onTextChangedHandler.call(this,t,r,n)},t.prototype.onKeyPressHandler=function(e){if(this.myQuill){var t=this.myQuill.getSelection();if(t){if(this.setState({isReplacingContentAtBeginning:0===t.index&&t.length>0}),String.fromCharCode(e.which)!==Sn.a)return;var r=this.myQuill.getText(t.index-1,1),n=/\s/.test(r),o=/\n/.test(r),i=""===r;(0===t.index||n||o||i)&&(this.enterAtMentionMode(),this.startIndexOfMention=t.index)}}else Object(a.k)().assertConditionTag(!1,"Quill should be defined for editor handlers!",577066520)},t.prototype.onKeyDownHandler=function(t){if(this.myQuill){var r=this.myQuill.getSelection();if(this.state.inAtMentionMode&&this.isEditorEmpty()&&this.exitAtMentionMode(),r&&this.state.inAtMentionMode){var n=Object(E.f)(t.key),o=r.index,i=t.ctrlKey,s=t.shiftKey;switch(this.setState({hadWordSelectionShortcut:i&&s&&(n===E.b.ArrowLeft||n===E.b.ArrowRight)}),n){case E.b.Backspace:var l=o>0&&this.startIndexOfMention===o-1,c=this.startIndexOfMention===o,u=o<this.startIndexOfMention;(l||c||u)&&!this.state.hadWordSelectionShortcut&&this.exitAtMentionMode(),this.state.hadWordSelectionShortcut&&this.setState({hadWordSelectionShortcut:!1});break;case E.b.Delete:o===this.startIndexOfMention&&this.exitAtMentionMode();break;case E.b.Tab:t.stopPropagation(),t.preventDefault();break;case E.b.ArrowUp:case E.b.ArrowDown:t.preventDefault();break;default:0===o&&r.length>0&&this.exitAtMentionMode()}}this.AtMentionRef&&this.AtMentionRef.onMentionsKeyDownHandler(t),e.prototype.onKeyDownHandler.call(this,t)}else Object(a.k)().assertConditionTag(!1,"Quill should be defined for editor handlers!",577066521)},t.prototype.getMentionText=function(){if(this.myQuill){var e=0;this.myQuill.getSelection()&&(e=this.myQuill.getSelection().index),e<this.startIndexOfMention&&Object(i.i)("selection moved before @ when inAtMentionMode: ".concat(this.state.inAtMentionMode,"\n      selectionIndex ").concat(e," startIndexOfMention ").concat(this.startIndexOfMention));var t=1;return t=e>this.startIndexOfMention?e-this.startIndexOfMention:e===this.startIndexOfMention?1:this.myQuill.getLength(),this.myQuill.getText(this.startIndexOfMention,t)}Object(a.k)().assertConditionTag(!1,"Quill should be defined for editor handlers!",577066522)},t.prototype.exitAtMentionMode=function(){this.setState({inAtMentionMode:!1,activeDescendantId:void 0,mentionQueryString:""}),this.updateAriaAttributes(!1)},t.prototype.enterAtMentionMode=function(){var e=this;this.setState({inAtMentionMode:!0}),setTimeout((function(){return e.updateAriaAttributes(!0)}))},t.prototype.onShowHandler=function(){this.enterAtMentionMode()},t.prototype.updateAriaAttributes=function(e){if(this.editorRef){var t=document.getElementById(this.props.id);if(t&&this.myQuill){if(t.hasAttribute("aria-controls")&&!e)t.removeAttribute("aria-controls");else if(e&&t.parentElement){var r=this.myQuill.getSelection();t.parentElement.focus(),r&&this.myQuill.setSelection(r.index,0)}}else Object(a.k)().assertConditionTag(!1,"Trying to use Quill div when not mounted in DOM",588805467)}},t.prototype.insertMentionText=function(e,t,r){if(this.myQuill){this.exitAtMentionMode(),this.props.onMentionCreated(r);var n=Object(u.g)(r),o=Object(u.h)(r),i=zr.b.Resolved,s=(new Tn).retain(this.startIndexOfMention).delete(e).insert("@".concat(t),{atmention:JSON.stringify(Object(zr.c)(n,o,i)),optional:JSON.stringify(Object(zr.d)({directoryId:r.AadObjectId}))}).insert(" ");this.myQuill.updateContents(s,"api");var l=this.startIndexOfMention+t.length+2;this.myQuill.setSelection(l,0),Object(un.b)(this.props.localizationAPI.formatString(227,t))}else Object(a.k)().assertConditionTag(!1,"Quill should be defined for editor handlers!",577066523)},t.prototype.onSuggestionSelected=function(e){this.insertMentionText(this.state.mentionQueryString.length,e.Name,e)},t.prototype.shouldHideMentionColors=function(){return this.state.isReplacingContentAtBeginning},t.prototype.renderAdditionalEditorContent=function(){return this.props.displayMode===B.Editing?s.createElement(Cn,{ref:this.onMentionHostRef,onSuggestionSelected:this.onSuggestionSelected,target:this.props.id,onShow:this.onShowHandler,onDismiss:this.exitAtMentionMode,inAtMentionMode:this.state.inAtMentionMode,getAuthToken:this.props.getAuthToken,onSuggestionHighlighted:this.onAtMentionSuggestionHighlighted}):void 0},t.prototype.getKeyboardBindings=function(){var t=this;return Object(o.a)(Object(o.a)({},e.prototype.getKeyboardBindings.call(this)),{enter:{key:E.c.Enter,handler:function(){var e;return(!p.g()||!(null===(e=t.smartReplyPickerRef.current)||void 0===e?void 0:e.isSuggestionsShown))&&t.enterNewline(!1)}}})},t}(ln),kn=Ur(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.c)(t,e),t.prototype.render=function(){if(this.props.displayMode!==B.Editing){var e={id:this.props.id,accessibilityLabel:this.props.accessibilityLabel,showFullContent:this.props.showFullComment,content:this.props.defaultValue,placeholder:this.props.placeholder,truncationOverlayColor:this.props.truncationOverlayColor,dulledAtMentions:this.props.dulledAtMentions,commentTabbable:this.props.commentTabbable,viewerMode:this.props.useReplyBoxStyling?vt.DisabledEditor:this.props.displayMode===B.Disabled?vt.DisabledComment:vt.ReadOnlyComment,truncationUIText:this.props.localizationAPI.getString(229),themeMode:Object(_t.e)()?_t.a.getThemeAPI().getThemeMode():void 0,onClickableTextClicked:this.props.onClickableTextClicked};return s.createElement(Hr,Object(o.a)({},e))}var t=this.props.componentTreeId.renderContextType;return this.props.supportsAtMentions&&It(this.props)?s.createElement(jn,Object(o.a)({},this.props,{renderContextType:t})):s.createElement(cn,Object(o.a)({},this.props,{renderContextType:t}))},t}(s.PureComponent),{componentTreeId:K.a},"CommentEditor"),Pn=r(1192),En=r(1033),_n=Ur(function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.getStyles=function(e){return p.P()?Object(ee.e)({id:n.props.id,renderContextType:n.props.componentTreeId.renderContextType},!!n.props.taskTopperProps,n.getMaxHeight(),null==e?void 0:e.colors):Object(ee.e)({id:n.props.id,renderContextType:n.props.componentTreeId.renderContextType},!!n.props.taskTopperProps,n.getMaxHeight(),void 0)},n.rootTabIndexValue=-1,n.cardRef=null,n.replyBoxRef=null,n.taskTopperCheckboxRef=null,n.onDraftEmptinessChanged=function(e){n.props.onDraftEmptinessChanged(n,e)},n.contextMenuProps=Object(k.memoizeFunction)((function(e,t,r,o){return{id:q.e({id:e,renderContextType:t}),parentId:n.props.id,title:n.props.localizationAPI.getString(45),ariaLabel:n.props.localizationAPI.getString(45),onMenuClick:n.onContextMenuInteractionHandler,menuItems:r,itemType:D.CardContextMenuItem,tabIndex:o,renderContextType:t}}),5),n.reactionButtonProps=Object(k.memoizeFunction)((function(e,t,r,n,o,i,a,s,l){return p.b()?{commentId:e,isTabbable:r,onReactionPressed:n.onReactionPressed,renderContextType:t,usersByReactionType:o,buttonStrings:i,localizationAPI:a,reactionType:_.a.Like,userReactionSummary:null!=l?l:{Like:{count:0,currentUserReacted:!1}},preventDefaultKeyDownBehavior:void 0,preventReacting:s}:void 0}),5),n.reactionButtonStrings=Object(k.memoizeFunction)((function(){return{buttonLabel:n.props.localizationAPI.getString(231),buttonLabelPlural:n.props.localizationAPI.getString(239),buttonA11yDropdownText:n.props.localizationAPI.getString(240)}})),n.fetchReplyButton=Object(k.memoizeFunction)((function(e,t,r,o,i,a,s,l){var c=W.d(l,e,!!a,s);switch(e){case w.a.Reply:case w.a.ReplyPreCommitPending:return{id:q.S({id:t,renderContextType:r}),icon:2,isTabbable:i,disabled:o,onClick:n.sendReplyButtonClickHandler,onKeyDown:n.sendCommentButtonKeyDownHandler,text:n.props.localizationAPI.getString(48),accessibilityLabel:c,tooltipText:c,usePrimaryButtonStyling:!0};case w.a.ReplyPostCommitPending:return{disabled:!0,icon:2,onClick:function(){},text:n.props.localizationAPI.getString(48),accessibilityLabel:c,showDelayedSpinner:!0,tooltipText:c,usePrimaryButtonStyling:!0};case w.a.Draft:case w.a.DraftPreCommitPending:return{id:q.S({id:t,renderContextType:r}),icon:2,isTabbable:i,disabled:n.shouldDisableSendButton(),onClick:n.sendReplyButtonClickHandler,onKeyDown:n.sendCommentButtonKeyDownHandler,text:n.props.localizationAPI.getString(48),accessibilityLabel:c,tooltipText:c,usePrimaryButtonStyling:!0};default:return}})),n.fetchCancelButton=Object(k.memoizeFunction)((function(e,t,r,o){switch(e){case w.a.Reply:case w.a.ReplyPreCommitPending:var i=n.props.localizationAPI.getString(15);return{id:q.Q({id:t,renderContextType:r}),icon:1,isTabbable:o,disabled:!1,onClick:n.cancelReplyButtonClickHandler,onKeyDown:n.cancelReplyButtonKeyDownHandler,text:i,accessibilityLabel:i,tooltipText:i,usePrimaryButtonStyling:!1};case w.a.ReplyPostCommitPending:var a=n.props.localizationAPI.getString(15);return{disabled:!0,icon:1,onClick:function(){},text:a,accessibilityLabel:a,tooltipText:a,usePrimaryButtonStyling:!1};default:return}})),n.getMemoizedCommitButtons=Object(k.memoizeFunction)((function(e,t,r,o,i,a,s,l){var c=[],u=n.fetchReplyButton(e,t,r,o,i,a,s,l);if(!u)return c;c.push(u);var d=n.fetchCancelButton(e,t,n.props.componentTreeId.renderContextType,i);return d?(c.push(d),c):c})),n.onEditorMount=function(){n.props.onCardEditorMounted(n.props.id)},n.onSaveDraftToSession=function(){n.textEditorRef&&n.props.onSaveDraft(n.getId(),n.textEditorRef)},n.onEditorUnmount=function(){n.onCardSaveDraft(n.textEditorRef)},n.renderWithContexts=function(e){n.styles=n.getStyles(e);var t=s.createElement(k.FocusTrapZone,{className:n.getStyles(e).commentCardFocusTrapZone,disabled:n.shouldDisableFocusTrapZone(),disableFirstFocus:!0,forceFocusInsideTrap:!1,ignoreExternalFocusing:!0,isClickableOutsideFocusTrap:!0},n.renderCard(e));return n.logCardRendered(),p.B()?s.createElement(lt.Provider,{value:n.state.lpcEnabled},t):t},n.renderPosts=n.renderPosts.bind(n),n.expandButtonHandler=n.expandButtonHandler.bind(n),n.onPost=n.onPost.bind(n),n.onCancel=n.onCancel.bind(n),n.onEditorClick=n.onEditorClick.bind(n),n.shouldDisableSendButton=n.shouldDisableSendButton.bind(n),n.cardKeyDownHandler=n.cardKeyDownHandler.bind(n),n.cardClickHandler=n.cardClickHandler.bind(n),n.renderCommitRegion=n.renderCommitRegion.bind(n),n.replyBoxKeyDownHandler=n.replyBoxKeyDownHandler.bind(n),n.cancelReplyThenFocus=n.cancelReplyThenFocus.bind(n),n.cancelReplyButtonKeyDownHandler=n.cancelReplyButtonKeyDownHandler.bind(n),n.sendCommentButtonKeyDownHandler=n.sendCommentButtonKeyDownHandler.bind(n),n.cancelReplyButtonClickHandler=n.cancelReplyButtonClickHandler.bind(n),n.sendReplyButtonClickHandler=n.sendReplyButtonClickHandler.bind(n),n.expandButtonClickHandler=n.expandButtonClickHandler.bind(n),n.expandButtonKeyDownHandler=n.expandButtonKeyDownHandler.bind(n),n.renderableItemListScrollHandler=n.renderableItemListScrollHandler.bind(n),n.clearDraft=n.clearDraft.bind(n),n.onCardMouseEnter=n.onCardMouseEnter.bind(n),n.onCardMouseLeave=n.onCardMouseLeave.bind(n),n.setCardRef=n.setCardRef.bind(n),n.setReplyBoxRef=n.setReplyBoxRef.bind(n),n.setTaskTopperCheckboxRef=n.setTaskTopperCheckboxRef.bind(n),n.onContextMenuInteractionHandler=n.onContextMenuInteractionHandler.bind(n),n.editorBlurHandler=n.editorBlurHandler.bind(n),n.editorComponentRef=n.editorComponentRef.bind(n),n.onContextMenuItemMounted=n.onContextMenuItemMounted.bind(n),n.onEditorCommitRequested=n.onEditorCommitRequested.bind(n),n.onEditorEscapeRequested=n.onEditorEscapeRequested.bind(n),n.getContentsAsync=n.getContentsAsync.bind(n),n.getCursorPositionAsync=n.getCursorPositionAsync.bind(n),n.renderResolvedOrTaskTopper=n.renderResolvedOrTaskTopper.bind(n),n.hideCardHeader=n.hideCardHeader.bind(n),n.state={rootAuthorOpacity:1,headerHidden:!1,isAtMentionHintMessageAllowed:!1,lpcEnabled:!(!p.B()||!window.LivePersonaCardHoverTargetV2)},n.setTabIndex(t),n}return Object(o.c)(t,e),t.prototype.getCommentEditorCallbackProps=function(){return{componentRef:this.editorComponentRef,onDraftEmptinessChanged:this.onDraftEmptinessChanged,onEditorBlur:this.editorBlurHandler,onFocus:this.onEditorFocus,onUnmount:this.onEditorUnmount}},t.prototype.setCardRef=function(e){this.cardRef=e},t.prototype.setReplyBoxRef=function(e){this.replyBoxRef=e},t.prototype.setTaskTopperCheckboxRef=function(){this.taskTopperCheckboxRef=document.getElementById(q.j({id:this.props.id,renderContextType:this.props.componentTreeId.renderContextType})),this.taskTopperCheckboxRef&&this.setTabIndex(this.props)},t.prototype.setTabIndex=function(e){e.selected||e.isTabbable?(this.rootTabIndexValue=0,this.taskTopperCheckboxRef&&(this.taskTopperCheckboxRef.tabIndex=0)):(this.rootTabIndexValue=-1,this.taskTopperCheckboxRef&&(this.taskTopperCheckboxRef.tabIndex=-1))},t.prototype.getInnerElementsTabIndex=function(){return this.props.displayMode===w.a.CardPostCommitPending?-1:this.rootTabIndexValue},t.prototype.getRootTabIndex=function(){return this.rootTabIndexValue},t.prototype.getMaxHeight=function(){return this.props.maximumDimensions&&this.props.maximumDimensions.height?Math.max(this.props.maximumDimensions.height,ee.a):void 0},t.prototype.onCardMouseEnter=function(){this.props.onCardHighlightChange(this,!0)},t.prototype.onCardMouseLeave=function(){this.props.onCardHighlightChange(this,!1)},t.prototype.componentDidMount=function(){e.prototype.componentDidMount.call(this),this.notifyRenderedOnce()},t.prototype.UNSAFE_componentWillUpdate=function(e,t){this.setTabIndex(e)},t.prototype.componentDidUpdate=function(e,t){var r=this.isActiveReply()||this.isActiveDraft();if(this.props.draftId&&!r&&Object(a.k)().assertConditionTag(!1,"CardDisplayMode inconsistent with draft warning state",593799004),p.l())if(this.props.draftId!==e.draftId)this.setState({isAtMentionHintMessageAllowed:!1});else if(!this.state.isAtMentionHintMessageAllowed){var n=void 0===e.currentMentionees||0===Object.keys(e.currentMentionees).length,o=void 0===this.props.currentMentionees||0===Object.keys(this.props.currentMentionees).length;if(n&&!o)try{var s=localStorage.getItem("SharedComments_NumberOfAtMentionHintMessageShown"),l=s?parseInt(s,10):0;l>=3?this.setState({isAtMentionHintMessageAllowed:!1}):(localStorage.setItem("SharedComments_NumberOfAtMentionHintMessageShown",(l+1).toString()),this.setState({isAtMentionHintMessageAllowed:!0}))}catch(e){Object(a.k)().assertConditionTag(!1,"Failed to update local storage: ".concat("string"==typeof e?e:Object(i.l)(e)),527720457)}}this.textEditorRef&&e.cardRelativeDraftingState===x.a.InCard&&this.props.cardRelativeDraftingState===x.a.InOtherContextOfThisCard&&this.props.onSaveDraft(this.getId(),this.textEditorRef),p.B()&&!this.state.lpcEnabled&&window.LivePersonaCardHoverTargetV2&&this.setState({lpcEnabled:!0})},t.prototype.focus=function(){this.props.displayMode!==w.a.ReplySessionRequestPending&&this.cardRef&&this.cardRef.focus({preventScroll:!0})},t.prototype.blur=function(){this.cardRef&&this.cardRef.blur()},t.prototype.getContentsAsync=function(){return this.textEditorRef?this.textEditorRef.getContentsAsync():new Promise((function(e,t){t(new d.a(R.e,i.d.reserveTag(589103744),-2130957550))}))},t.prototype.getCursorPositionAsync=function(){return this.textEditorRef?this.textEditorRef.getCursorPositionAsync():new Promise((function(e,t){e(void 0)}))},t.prototype.cardKeyDownHandler=function(e){var t=this.props.componentTreeId.renderContextType;switch(Object(E.f)(e.key)){case E.b.Tab:if(this.props.isTabbable){if(this.isActiveDraft()&&e.shiftKey&&this.shouldDisableSendButton()&&!this.shouldDisableFocusTrapZone()&&this.textEditorRef&&e.target===document.getElementById(q.i({id:this.props.id,renderContextType:t},this.props.isNewThread)))this.textEditorRef.focus(),e.preventDefault();else if(!p.X()&&this.isActiveDraft()){var r=document.getElementById(q.S({id:this.props.id,renderContextType:t})),n=document.getElementById(q.t({id:this.props.id,renderContextType:t})),o=void 0;e.target!==r||e.shiftKey?e.target===n&&(o=e.shiftKey&&!this.shouldDisableSendButton()?r:this.textEditorRef):o=n,o&&(o.focus(),e.preventDefault())}e.stopPropagation()}break;case E.b.Enter:if(e.ctrlKey&&!this.props.isDraftEmpty&&(this.isActiveDraft()||this.isActiveReply())){this.props.onPost(this,A.a.KeyboardShortcut),e.stopPropagation(),e.preventDefault();break}case E.b.Space:e.currentTarget===e.target&&(this.toggleExpansion(),e.stopPropagation(),e.preventDefault())}},t.prototype.shouldClickTargetExpandCard=function(e){var t=this.props.componentTreeId.renderContextType,r=e.target,n=document.getElementById(q.j({id:this.props.id,renderContextType:t}));if(n&&n.parentElement&&n.parentElement.contains(r))return!1;var o=document.getElementById(q.V({id:this.props.id,renderContextType:t}));return!o||!o.contains(r)},t.prototype.cardClickHandler=function(e){this.props.hasSelectedChild||this.shouldClickTargetExpandCard(e)&&(this.props.onCardSelectExpand(this,!1,!1),e.stopPropagation())},t.prototype.contextMenuClickHandler=function(e,t){e.onClick(this.props.id,!!this.props.taskTopperProps),t&&t.stopPropagation()},t.prototype.expandButtonClickHandler=function(e){this.expandButtonHandler(),null==e||e.stopPropagation()},t.prototype.expandButtonKeyDownHandler=function(e){Object(E.f)(e.key)===E.b.Enter&&(this.expandButtonHandler(),e.stopPropagation())},t.prototype.renderableItemListScrollHandler=function(e){var t=e.target;if(t.id===q.O({id:this.props.id,renderContextType:this.props.componentTreeId.renderContextType})){var r=t.scrollTop;this.setState({rootAuthorOpacity:r>ee.b?0:(ee.b-r)/ee.b})}},t.prototype.expandButtonHandler=function(){this.focus(),this.props.onCardSelectExpand(this,!0,!1)},t.prototype.onPost=function(e){this.props.onPost(this,e)},t.prototype.onCancel=function(){this.props.onCancel(this)},t.prototype.onEditorClick=function(e){this.props.displayMode===w.a.Normal&&this.props.onEditorPress(this),e.stopPropagation()},t.prototype.shouldDisableSendButton=function(){return!1!==this.props.isDraftEmpty},t.prototype.generateCardActionItems=function(e){var t=this,r=[];return e&&e.length>0&&(r=e.map((function(e){return{id:q.d({id:t.props.id,renderContextType:t.props.componentTreeId.renderContextType},e.text),text:e.text,accessibilityLabel:e.text,onClick:t.contextMenuClickHandler.bind(t,e),icon:e.icon,tooltipText:e.tooltipText,tooltipDirection:k.DirectionalHint.topCenter,isTabbable:t.props.isTabbable}}))),r},t.prototype.renderCardFooter=function(){return s.createElement("div",{className:this.styles.cardFooter})},t.prototype.onContextMenuItemMounted=function(e){e&&e.focus()},t.prototype.onContextMenuInteractionHandler=function(e){e&&function(e){return void 0!==e.key}(e)&&Object(E.f)(e.key)===E.b.ArrowDown&&e.preventDefault()},t.prototype.renderCardHeader=function(){var e=this.props.componentTreeId.renderContextType;if(!this.state.headerHidden){var t=this.props.menuItems.length>0&&this.props.displayMode!==w.a.Resolved,r={id:this.props.id,author:this.props.author,authorColor:this.props.authorColor,authorImageURL:this.props.authorImageURL,anchorText:this.props.anchorText,contextMenuProps:t?this.contextMenuProps(this.props.id,e,this.props.menuItems,this.getInnerElementsTabIndex()):void 0,isResolvedCard:this.props.displayMode===w.a.Resolved,hideActions:t?this.props.displayMode===w.a.CardPostCommitPending:void 0,preventReacting:this.props.preventReacting,localizationAPI:this.props.localizationAPI,onCancelDraft:this.onCancel,rootAuthorOpacity:this.state.rootAuthorOpacity,displayMode:this.props.displayMode,cardCollapsedState:this.props.cardCollapsedState,menuItems:this.props.menuItems,preventDefaultKeyDownBehavior:this.props.preventDefaultKeyDownBehavior,isTabbable:this.props.isTabbable,reactionButtonProps:this.reactionButtonProps(this.props.id,e,this.props.isTabbable,{onReactionPressed:this.props.onReactionUpdated},this.props.usersByReactionType,this.reactionButtonStrings(),this.props.localizationAPI,this.props.preventReacting,this.props.userReactionSummary),onEditRootPost:this.props.onEditRootPost,allowRootEditButton:this.props.allowRootEditButton};return s.createElement(bt,Object(o.a)({},r))}},t.prototype.injectHideCommentHeaderCallback=function(e){if(e){var t=e.constructor===Array?e[0]:e;return s.cloneElement(t,{onHideCardHeader:this.hideCardHeader})}},t.prototype.renderPosts=function(){var e=s.Children.toArray(this.props.children),t=e.length,r=this.props.displayMode===w.a.Resolved,n=t>2||r&&t>1,o=this.props.componentTreeId.renderContextType,i=this.injectHideCommentHeaderCallback(t?e[0]:void 0),a=t>1?e[t-1]:void 0,l=[];if(this.props.children&&n)for(var c=1;c<t-1;++c){var u=this.props.children[c];l.push(u)}var d=this.props.cardCollapsedState===O.a.Collapsed,p=d&&n,f=d&&r;return s.createElement("div",{id:q.O({id:this.props.id,renderContextType:o}),onClick:p?this.expandButtonClickHandler:void 0,className:this.styles.renderableItemList,role:"group","aria-expanded":n?!d:void 0,onKeyDown:p?this.expandButtonKeyDownHandler:void 0,onScroll:this.renderableItemListScrollHandler},i,this.renderExpandButton({onPress:this.expandButtonHandler}),p?void 0:l,f?void 0:a,o===S.a.DiscreteIsolated?s.createElement("div",{className:this.styles.spacingAfterLastPost}):void 0)},t.prototype.clearDraft=function(){this.textEditorRef&&this.textEditorRef.clear()},t.prototype.replyBoxKeyDownHandler=function(e){var t=this.props.componentTreeId.renderContextType;if(Object(E.f)(e.key)===E.b.Enter||e.which===E.c.Space)this.props.displayMode!==w.a.Normal&&this.props.displayMode!==w.a.ReplySessionRequestPending||this.props.onEditorPress(this),e.target===this.replyBoxRef&&e.preventDefault(),e.stopPropagation();else if(!p.X()&&Object(E.f)(e.key)===E.b.Tab){var r=this.isActiveReply();if(this.isActiveDraft()||r){var n=document.getElementById(q.S({id:this.props.id,renderContextType:t})),o=r?document.getElementById(q.Q({id:this.props.id,renderContextType:t})):document.getElementById(q.t({id:this.props.id,renderContextType:t})),i=document.getElementById(q.U({id:this.props.id,renderContextType:t}));e.shiftKey||!e.shiftKey&&this.shouldDisableSendButton()?o&&o.focus():i?i.focus():n&&n.focus(),e.preventDefault(),e.stopPropagation()}}},t.prototype.sendCommentButtonKeyDownHandler=function(e){Object(E.f)(e.key)===E.b.Enter&&this.onPost(A.a.CommitButton)},t.prototype.cancelReplyButtonKeyDownHandler=function(e){Object(E.f)(e.key)===E.b.Enter&&this.cancelReplyThenFocus(),p.X()||Object(E.f)(e.key)!==E.b.Tab||e.shiftKey||this.textEditorRef&&(this.textEditorRef.focus(),e.preventDefault(),e.stopPropagation())},t.prototype.sendReplyButtonClickHandler=function(e){this.onPost(A.a.CommitButton),null==e||e.stopPropagation()},t.prototype.cancelReplyButtonClickHandler=function(e){this.cancelReplyThenFocus(),null==e||e.stopPropagation()},t.prototype.cancelReplyThenFocus=function(){this.onCancel();var e=document.getElementById(q.i({id:this.props.id,renderContextType:this.props.componentTreeId.renderContextType},!1));e&&e.focus()},t.prototype.onEditorCommitRequested=function(){this.onPost(A.a.KeyboardShortcut)},t.prototype.onEditorEscapeRequested=function(){p.X()&&this.focus()},t.prototype.editorBlurHandler=function(){this.props.onEditorBlur(this)},t.prototype.editorComponentRef=function(e){this.textEditorRef=e},t.prototype.renderCommentEditor=function(e){var t=W.c(this.props.displayMode,this.props.localizationAPI),r=W.h(this.props.localizationAPI,this.props.supportsAtMentions,this.isActiveDraft(),this.props.cardRelativeDraftingState),n=this.props.componentTreeId.renderContextType,i=Object(o.a)(Object(o.a)(Object(o.a)(Object(o.a)({id:q.f({id:this.props.id,renderContextType:n}),isDraftEmpty:void 0,isTabbable:this.props.isTabbable,accessibilityLabel:p.f()?r:t,accessibilityDescribedBy:q.R({id:this.props.id,renderContextType:n})},this.getCommentEditorCallbackProps()),{displayMode:B.Disabled,useReplyBoxStyling:!0,isHeightBounded:!!this.getMaxHeight(),placeholder:r,scrollingContainerId:this.props.scrollingContainerId,supportsAtMentions:this.props.supportsAtMentions,localizationAPI:this.props.localizationAPI}),this.props.mentionEditorProps),{onMount:this.onEditorMount,onSaveDraftToSession:this.onSaveDraftToSession,focusManagerKeyDownHandler:this.props.commentEditorAdditionalKeyDownHandler,commentId:this.props.id}),a=this.props.smartReplies?{pickerTitle:this.props.localizationAPI.getString(203),smartReplies:this.props.smartReplies}:void 0;return e||(i=Object(o.a)(Object(o.a)({},i),{displayMode:B.Editing,onCommitRequested:this.onEditorCommitRequested,onEscapeRequested:this.onEditorEscapeRequested,savedDraftContent:this.props.savedDraftContent,isDraftEmpty:this.props.isDraftEmpty,richTextCapabilities:this.props.richTextCapabilities,smartReplyProps:a})),s.createElement(kn,Object(o.a)({},i))},t.prototype.hideCardHeader=function(e){this.setState({headerHidden:e})},t.prototype.renderCommitRegion=function(){var e=this.props.componentTreeId.renderContextType,t=this.getMemoizedCommitButtons(this.props.displayMode,this.props.id,e,this.shouldDisableSendButton(),this.props.isTabbable,this.props.taskTopperProps,this.props.selectedTaskAssignee,this.props.localizationAPI);if(t.length)return s.createElement(Et,{taskAssigner:this.getTaskAssignerProps(),buttons:t,tooltipDirection:k.DirectionalHint.bottomCenter})},t.prototype.renderReplyBox=function(){if(!this.props.isReadOnly){var e=this.props.componentTreeId.renderContextType,t=this.isActiveDraft(),r=this.isActiveReply(),n=this.props.displayMode===w.a.ReplyPostCommitPending||this.props.displayMode===w.a.CardPostCommitPending,o=r||t||n,i=!r&&!t&&!n,a=!r&&!t,l=p.p();return s.createElement("div",{className:this.styles.replyBoxContainer,style:{position:"relative"}},s.createElement("div",{id:q.h({id:this.props.id,renderContextType:e}),ref:this.setReplyBoxRef,role:i?"button":void 0,"aria-disabled":!(p.F()||!i||void 0===this.props.cardRelativeDraftingState)||void 0,"aria-label":i?W.h(this.props.localizationAPI,this.props.supportsAtMentions,t,this.props.cardRelativeDraftingState):void 0,className:!p.X()&&this.props.restrictActionControls_deprecated?this.styles.replyBoxRestrictFocus:this.styles.replyBoxDefault,onClick:this.onEditorClick,onKeyDown:this.replyBoxKeyDownHandler,tabIndex:i?this.props.displayMode===w.a.ReplyPostCommitPending?-1:this.getInnerElementsTabIndex():void 0},this.renderCommentEditor(a),s.createElement("div",{className:this.styles.cardOverlay,style:this.props.displayMode===w.a.ReplyPostCommitPending?{display:"inline"}:{display:"none"}})),l?this.renderDraftBoxMessage(!n&&!this.props.isDraftEmpty&&(r||t)):void 0,o?this.renderCommitRegion():void 0,s.createElement("div",{id:q.R({id:this.props.id,renderContextType:e}),style:{display:"none"}},this.props.localizationAPI.getString(55)))}},t.prototype.renderAtMentionHintMessage=function(){var e=this.isActiveDraft(),t=this.isActiveReply(),r=p.l()?Ot(this.props.currentMentionees):[],n=function(e,t){if(0===t.length)return"";var r="";if(1===t.length)r=t[0];else if(2===t.length)r=e.formatString(242,t[0],t[1]);else if(3===t.length)r=e.formatString(243,t[0],t[1],t[2]);else{var n=t.length-1;r=e.formatString(244,t[0],n.toString())}return e.formatString(241,r)}(this.props.localizationAPI,r),o=this.props.displayMode===w.a.ReplyPostCommitPending||this.props.displayMode===w.a.CardPostCommitPending;if(p.l()&&this.state.isAtMentionHintMessageAllowed&&!o&&!1===this.props.isDraftEmpty&&(t||e)&&void 0!==this.props.currentMentionees&&Object.keys(this.props.currentMentionees).length>0&&n.length>0&&!this.props.isReadOnly){var i=gt();return s.createElement("span",{className:i.atMentionAriaContainer,"aria-live":"polite","aria-atomic":"true","aria-relevant":"additions"},this.renderAtMentionInfoBar(n,r))}},t.prototype.renderAtMentionInfoBar=function(e,t){return s.createElement(wt,{commentId:this.props.id,localizationAPI:this.props.localizationAPI,mentionedNotificationUberString:e,mentionedNames:t})},t.prototype.renderResolvedOrTaskTopper=function(){var e=this,t=Object(k.memoizeFunction)((function(t,r){return{cardTopperContainerProps:{},resolvedButtonsProps:t===w.a.Resolved?e.generateCardActionItems(r):void 0,taskTopperCheckboxRef:e.setTaskTopperCheckboxRef}}));return this.renderResolvedOrTaskTopperHelper(t(this.props.displayMode,this.props.menuItems))},t.prototype.shouldDisableFocusTrapZone=function(){var e;if(null===(e=this.props)||void 0===e?void 0:e.tabFocusTrapBehavior)switch(this.props.tabFocusTrapBehavior){case P.b.Trap:return!1;case P.b.DoNotTrap:return!0;default:Object(i.m)(this.props.tabFocusTrapBehavior)}return!Object(En.a)(this.props.componentTreeId.renderContextType)&&(p.X()||!this.isActiveReply()&&!this.isActiveDraft())},t.prototype.renderCard=function(e){var t=this.props.componentTreeId.renderContextType,r=this.styles.cardInnerContainer,n=this.props.isReadOnly?this.styles.cardBodyReadOnly:this.styles.cardBody,i=Object(ee.d)({id:this.props.id,renderContextType:t},this.props.highlightCard,this.isSelectionWithinCard(),this.props.displayMode===w.a.Resolved&&this.props.cardCollapsedState===O.a.Collapsed,null==e?void 0:e.colors,null==e?void 0:e.styles),a={id:this.props.id,renderContextType:t},l={id:q.i(a,this.props.isNewThread),role:"treeitem",className:i,tabIndex:this.getRootTabIndex(),onContextMenu:Pn.a,onKeyDown:this.cardKeyDownHandler,ref:this.setCardRef,onFocus:this.onCardFocus},c={"aria-label":this.props.accessibilityLabel,"aria-expanded":this.props.cardCollapsedState===O.a.Expanded,"aria-selected":this.isSelectionWithinCard(),"aria-level":1,"aria-describedby":q.G({id:this.props.id,renderContextType:t}),"aria-setsize":this.props.accessibilitySetSize,"aria-posinset":this.props.accessibilityPositionInSet};return this.props.displayMode===w.a.Loading?s.createElement("div",Object(o.a)({"aria-label":this.props.accessibilityLabel},l),s.createElement("div",{className:this.styles.cardPlaceholder},s.createElement("div",{id:q.g(a),className:this.styles.cardOverlay},s.createElement(k.DelayedRender,{delay:se.f},s.createElement(k.Spinner,{className:this.styles.cardSpinner,size:k.SpinnerSize.large}))))):!p.X()&&this.isActiveDraft()?s.createElement("div",Object(o.a)({onClick:this.cardClickHandler},l,c),this.renderResolvedOrTaskTopper(),this.renderCardHeader(),s.createElement("div",{className:r},s.createElement("div",{className:n},this.renderPosts(),this.renderReplyBox(),p.p()?void 0:this.renderDraftBoxMessage(!1))),this.renderAtMentionHintMessage()):this.props.displayMode===w.a.Resolved?s.createElement("div",Object(o.a)({onMouseEnter:this.onCardMouseEnter,onMouseLeave:this.onCardMouseLeave,onClick:this.cardClickHandler},l,c),this.renderResolvedOrTaskTopper(),this.renderCardHeader(),s.createElement("div",{className:r},s.createElement("div",{className:n},this.renderPosts(),this.renderCardFooter()))):this.props.displayMode===w.a.CardPostCommitPending?s.createElement("div",Object(o.a)({onMouseEnter:this.onCardMouseEnter,onMouseLeave:this.onCardMouseLeave,onClick:this.cardClickHandler},l,c),this.renderResolvedOrTaskTopper(),this.renderCardHeader(),s.createElement("div",{className:r},s.createElement("div",{className:this.styles.cardBody},this.renderPosts(),this.renderReplyBox(),s.createElement("div",{className:this.styles.cardOverlay},s.createElement(k.DelayedRender,{delay:se.f},s.createElement(k.Spinner,{className:this.styles.cardSpinner,size:k.SpinnerSize.large}))))),this.renderAtMentionHintMessage()):s.createElement("div",Object(o.a)({onMouseEnter:this.onCardMouseEnter,onMouseLeave:this.onCardMouseLeave,onClick:this.cardClickHandler},l,c),this.renderResolvedOrTaskTopper(),this.renderCardHeader(),s.createElement("div",{className:r},s.createElement("div",{className:n},this.renderPosts(),this.renderReplyBox(),p.p()?void 0:this.renderDraftBoxMessage(!1))),this.renderAtMentionHintMessage())},t.prototype.render=function(){return p.P()?Object(V.a)(this.renderWithContexts,I.a):this.renderWithContexts()},t}(Re),{componentTreeId:K.a},Re.DisplayName);var In=s.memo((function(e){var t,r=null===(t=Object(I.b)())||void 0===t?void 0:t.colors,n=function(e){switch(e){case 13:case 14:return"TaskAssign";case 15:return"TaskComplete";case 21:return"TaskReopen";case 17:return"TaskEdit";case 18:return"TaskDelete";default:return}}(e.icon),o=le(r),i=s.createElement("div",null,s.createElement("div",{className:o.container},n&&s.createElement(k.Icon,{iconName:n,className:o.icon}),s.createElement("div",{className:o.body},e.description)));return s.createElement(k.TooltipHost,{content:e.description,directionalHint:k.DirectionalHint.bottomCenter,tooltipProps:$.a},i)})),Rn=Object(k.memoizeFunction)((function(e){var t;return{body:Object(k.mergeStyles)({fontFamily:"inherit",color:null!==(t=null==e?void 0:e.SubText)&&void 0!==t?t:z.a.GRAY_E,fontWeight:"normal",fontSize:"11px",lineHeight:18,marginLeft:"3px",userSelect:"text"})}})),An=s.memo((function(e){var t,r=null===(t=Object(I.b)())||void 0===t?void 0:t.colors,n=Rn(r);return s.createElement("div",{className:n.body,id:e.id},e.timestamp)})),Dn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onFocusParent=function(){return t.props.onFocusParent(t)},t.saveDraftIfEditing=function(e){t.isEditingOrPending(t.props.postDisplayMode)&&t.props.onSaveDraft(t.getId(),e)},t}return Object(o.c)(t,e),Object.defineProperty(t.prototype,"textEditorRef",{get:function(){return this._textEditorRef},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.props.onPostMounted(this.props.id)},t.prototype.componentWillUnmount=function(){this.textEditorRef&&this.saveDraftIfEditing(this.textEditorRef)},t.prototype.setContents=function(e){this.textEditorRef&&this.textEditorRef.setContents(e)},t.prototype.getContentsAsync=function(){return this.textEditorRef?this.textEditorRef.getContentsAsync():Promise.resolve("")},t.prototype.getCursorPositionAsync=function(){return this.textEditorRef?this.textEditorRef.getCursorPositionAsync():Promise.resolve(void 0)},t.prototype.getId=function(){return this.props.id},t.prototype.isEditingOrPending=function(e){return e===C.a.Editing||e===C.a.EditPreCommitPending},t.prototype.renderTimestamp=function(){if(!this.props.collapsed&&this.props.postDisplayMode!==C.a.New_nonFluent&&!this.isEditingOrPending(this.props.postDisplayMode)){var e=this.props.componentTreeId.renderContextType;return s.createElement(An,Object(o.a)({},{timestamp:this.props.timestamp,id:Object(q.J)({id:this.props.id,renderContextType:e}),renderContextType:e,resolved:this.props.postDisplayMode===C.a.Resolved}))}},t.prototype.getActionBarItemsAsButtonProps=function(e){var t=this;return e.actionBarItems.map((function(r,n){r.id,r.onClick;var i=Object(o.g)(r,["id","onClick"]);return Object(o.a)(Object(o.a)({},i),{id:Object(q.a)({id:e.id,renderContextType:t.props.componentTreeId.renderContextType},n),onClick:function(){return r.onClick(t)},onKeyDown:function(e){var n;return null===(n=r.onKeyDown)||void 0===n?void 0:n.call(r,e,t)},isTabbable:e.isTabbable})}))},t.prototype.getNumberOfHistoryItemsToRender=function(){return!p.c()||this.props.collapsed?0:this.props.taskHistoryProps.length},t.prototype.renderHistoryItemContent=function(){if(0!==this.props.taskHistoryProps.length&&0!==this.getNumberOfHistoryItemsToRender())return this.props.taskHistoryProps.map((function(e,t){return s.createElement(In,Object(o.a)({},e,{key:e.description}))}))},t.prototype.renderDraftBoxMessage=function(e){if(!p.F())return null;var t=this.props.draftWarningState;return t||e?s.createElement(ne,{key:"draftBoxMessage",draftWarningState:t,localizationAPI:this.props.localizationAPI,target:M.Post,id:t?Object(q.u)({id:this.props.id,renderContextType:this.props.componentTreeId.renderContextType}):Object(q.L)({id:this.props.id,renderContextType:this.props.componentTreeId.renderContextType}),defaultToPostingTip:e}):null},t.DisplayName="CommentPost",t}(s.PureComponent),Bn=Object(k.memoizeFunction)((function(e,t,r,n){var o,i,a,s;return{actionbarEdit:Object(k.mergeStyles)({maxHeight:"30px",marginTop:"5px",display:"flex",flexDirection:"row",flexWrap:"nowrap",overflow:"hidden",alignSelf:"flex-end"}),body:Object(k.mergeStyles)({display:"flex",direction:"inherit",flexDirection:"column",flexGrow:1,marginTop:"6px",marginBottom:"2px",marginRight:6,position:"relative",overflow:"hidden"},e?{marginLeft:"12px",marginRight:"14px",marginTop:"0px"}:{paddingLeft:"3px"}),container:Object(k.mergeStyles)({display:"flex",direction:"inherit",overflow:"hidden",flexGrow:1,flexDirection:"row",flexWrap:"nowrap",flexShrink:0,margin:0,marginLeft:"2px",marginRight:"2px",border:0,position:"relative",selectors:{":focus":t?{outline:"none",borderRadius:"1px",boxShadow:"0px 0px 0px 1px ".concat(z.a.FOCUS_BOX),selectors:(o={},o[k.HighContrastSelector]={boxShadow:"none",outline:"1px solid ".concat(z.a.FOCUS_BOX)},o)}:{outline:"none"}}},e?{overflow:"visible",backgroundColor:"transparent"}:{}),postOverlay:Object(k.mergeStyles)({position:"absolute",zIndex:10,left:0,top:0,right:0,bottom:0,backgroundColor:null!==(i=null==n?void 0:n.PostOverlay)&&void 0!==i?i:"rgba(255,255,255,0.5)"}),postSpinner:Object(k.mergeStyles)({position:"absolute",zIndex:20,left:"50%",top:"50%",marginLeft:"-20px",marginTop:"-20px",selectors:{"& .ms-Spinner-circle":{borderColor:Tt.a,borderTopColor:Tt.b}}}),editorEditingContainer:Object(k.mergeStyles)({display:"flex",margin:"0px",marginBottom:"4px",backgroundColor:null!==(a=null==r?void 0:r.CardBackground)&&void 0!==a?a:"#FFFFFF",border:"1px solid",borderColor:null!==(s=null==r?void 0:r.CommonControlBorder)&&void 0!==s?s:Le.a.gray110,borderRadius:se.c,userSelect:"text",padding:0}),editorRestContainer:Object(k.mergeStyles)({display:"flex",marginRight:"2px",backgroundColor:"transparent",userSelect:"text",padding:"1px",border:0}),lowFidelityWarning:Object(k.mergeStyles)({display:"flex",marginLeft:"4px",fontFamily:"inherit",fontSize:"12px",fontWeight:"normal",fontStyle:"italic",borderStyle:"dotted",borderColor:"red",borderWidth:"2px",whiteSpace:"normal"})}})),Mn=r(1283),Nn=Object(k.memoizeFunction)((function(e){var t,r,n,o;return{root:{maxHeight:"12px",marginRight:"6px",padding:0,color:null!==(r=null==e?void 0:e.PrimaryButton)&&void 0!==r?r:"#2B5C9C",fontSize:"11px",fontWeight:"600",fontFamily:"inherit",lineHeight:1.4,overflow:"visible",border:"1px solid transparent",selectors:(t={".ms-Fabric--isFocusVisible &:focus::after":se.m},t[k.HighContrastSelector]={outline:"auto"},t)},rootHovered:Object(k.mergeStyles)({color:null!==(n=null==e?void 0:e.PrimaryButtonHovered)&&void 0!==n?n:"#333333"},se.l),rootPressed:Object(p.P)()?Object(k.mergeStyles)({color:null==e?void 0:e.PrimaryButtonPressed}):void 0,rootFocused:Object(k.mergeStyles)({color:null!==(o=null==e?void 0:e.PrimaryButton)&&void 0!==o?o:"#333333",outline:"none",border:"1px dotted"},se.k),label:{margin:0}}})),Ln=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderWithContexts=function(e){var r=Nn(null==e?void 0:e.colors),n={id:t.props.id,disabled:t.props.disabled,onClick:function(e){e.stopPropagation(),t.props.onClick&&t.props.onClick(e)},ariaLabel:t.props.accessibilityLabel,tabIndex:t.props.isTabbable?void 0:-1};return s.createElement(k.ActionButton,Object(o.a)({},n,{styles:r}),t.props.text)},t}return Object(o.c)(t,e),t.prototype.render=function(){return Object(p.P)()?Object(V.a)(this.renderWithContexts,I.a):this.renderWithContexts()},t}(s.PureComponent),Fn=function(e){function t(t){var r=e.call(this,t)||this;return r.state={content:[]},r}return Object(o.c)(t,e),t.prototype.UNSAFE_componentWillMount=function(){this.setState({content:this.generateRenderedContent(this.props.actions)})},t.prototype.UNSAFE_componentWillReceiveProps=function(e){e.actions!==this.props.actions&&this.setState({content:this.generateRenderedContent(e.actions)})},t.prototype.generateRenderedContent=function(e){return e.map((function(e,t){return s.createElement(Ln,Object(o.a)({key:t},e))}))},t.prototype.render=function(){return this.props.isVisible?s.createElement("div",null,this.state.content):s.createElement("div",null)},t}(s.PureComponent),zn=Object(k.memoizeFunction)((function(e){var t;return{errorWrapper:Object(k.mergeStyles)({display:"flex",direction:"inherit",flexDirection:"row",marginTop:"6px",marginRight:"8px",position:"relative",width:"100%"}),errorMessageContainer:Object(k.mergeStyles)({display:"flex",direction:"inherit",flexDirection:"column",marginLeft:"10px",marginRight:"8px",width:"100%"}),errorMessage:Object(k.mergeStyles)({fontSize:"12px",paddingLeft:"1px",color:null!==(t=null==e?void 0:e.Text)&&void 0!==t?t:z.a.ACTIVE_COMMENT_TEXT,textAlign:"left",fontFamily:"inherit",marginRight:"8px",marginBottom:"3px",display:"flex",fontWeight:"normal",whiteSpace:"normal"}),errorIconStyles:{root:{width:"16px",fontSize:"16px",marginTop:"4px",marginLeft:"11px"}}}})),Hn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getIconProps=Object(N.a)((function(e){return{iconName:Object(ye.b)(19),styles:e.errorIconStyles}})),t.renderWithContexts=function(e){return t.styles=Object(p.P)()?zn(null==e?void 0:e.colors):zn(void 0),s.createElement("div",{className:t.styles.errorWrapper},s.createElement(k.Icon,Object(o.a)({},t.getIconProps(t.styles),{tabIndex:-1})),s.createElement("div",{className:t.styles.errorMessageContainer},s.createElement("div",{id:t.props.id,className:t.styles.errorMessage},t.props.warningMessage),s.createElement(Fn,{isVisible:!0,actions:t.props.buttons})))},t}return Object(o.c)(t,e),t.prototype.componentDidMount=function(){this.props.hideCardHeader&&this.props.hideCardHeader(!0)},t.prototype.componentWillUnmount=function(){this.props.hideCardHeader&&this.props.hideCardHeader(!1)},t.prototype.render=function(){return Object(p.P)()?Object(V.a)(this.renderWithContexts,I.a):this.renderWithContexts()},t}(s.PureComponent),Un=Ur(function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.postRootKeyDownHandler=function(e){switch(Object(E.f)(e.key)){case E.b.Enter:case E.b.Space:e.currentTarget===e.target&&n.props.parent&&(n.props.onCollapseParent(n),e.stopPropagation(),e.preventDefault())}},n.onDraftEmptinessChanged=function(e){n.props.onDraftEmptinessChanged(n,e)},n.onEditorMount=function(){n.props.onPostEditorMounted(n.props.id)},n.reactionButtonProps=Object(k.memoizeFunction)((function(e,t,r,n,o,i,a,s,l){return{commentId:e,isTabbable:r,onReactionPressed:n.onReactionPressed,renderContextType:t,usersByReactionType:o,buttonStrings:i,localizationAPI:a,reactionType:_.a.Like,userReactionSummary:null!=l?l:{Like:{count:0,currentUserReacted:!1}},preventDefaultKeyDownBehavior:void 0,preventReacting:s}})),n.reactionButtonStrings=Object(k.memoizeFunction)((function(){return{buttonLabel:n.props.localizationAPI.getString(231),buttonLabelPlural:n.props.localizationAPI.getString(239),buttonA11yDropdownText:n.props.localizationAPI.getString(240)}})),n.getDisplayErrorProps=Object(k.memoizeFunction)((function(e,t,r){var o=n.props.localizationAPI.getString(183),i=q.K({id:t,renderContextType:r});return n.getPostWarningProps(e,o,i)})),n.getLowFidelityWarningProps=Object(k.memoizeFunction)((function(e,t,r,o){var i=q.C({id:r,renderContextType:o});return n.getPostWarningProps(e,t,i)})),n.onSaveDraftToSession=function(){n.textEditorRef&&n.props.onSaveDraft(n.getId(),n.textEditorRef)},n.renderWithContexts=function(e){switch(n.styles=Bn(!!n.props.parent,n.shouldUseFocusStyle(),null==e?void 0:e.colors,null==e?void 0:e.styles),n.defaultEditorProps=n.getDefaultEditorProps(null==e?void 0:e.colors),n.props.postDisplayMode){case C.a.LowFidelityWarningDelete:case C.a.LowFidelityWarningEdit:return n.renderLowFidelityWarningState();case C.a.Editing:case C.a.EditPreCommitPending:return n.renderEditState();case C.a.Resolved:return n.renderResolvedState();case C.a.Normal:case C.a.PendingDraft:return n.renderNormalState();case C.a.PendingEdit:return n.renderPendingEditState();case C.a.Error:return n.renderPostErrorState();case C.a.New_nonFluent:throw new d.a(R.m,i.d.reserveTag(589103702),-2130957558);default:return Object(i.m)(n.props.postDisplayMode),null}},n.state={hover:!1,actionBarItems:[]},n.postFocusHandler=n.postFocusHandler.bind(n),n.postClickHandler=n.postClickHandler.bind(n),n.renderCommentEditor=n.renderCommentEditor.bind(n),n.commitHandler=n.commitHandler.bind(n),n.commentEditorKeyDownHandler_deprecated=n.commentEditorKeyDownHandler_deprecated.bind(n),n.editorComponentRef=n.editorComponentRef.bind(n),n.postEditingKeyDownHandler_deprecated=n.postEditingKeyDownHandler_deprecated.bind(n),n.onMouseLeavePost=n.onMouseLeavePost.bind(n),n.onMouseOverPost=n.onMouseOverPost.bind(n),n.onEditorCommitRequested=n.onEditorCommitRequested.bind(n),n.onContextMenuInteractionHandler=n.onContextMenuInteractionHandler.bind(n),n.trySelectPost=n.trySelectPost.bind(n),n.getDisplayErrorProps=n.getDisplayErrorProps.bind(n),n.onRetry=n.onRetry.bind(n),n.defaultEditorProps=n.getDefaultEditorProps(),n}return Object(o.c)(t,e),t.prototype.getDefaultEditorProps=function(e){var t=this.props.componentTreeId.renderContextType,r=Object(se.n)(this.props.postDisplayMode===C.a.Resolved,!!this.props.cardSelected,e);return Object(o.a)(Object(o.a)({id:q.G({id:this.props.id,renderContextType:t}),isDraftEmpty:void 0,componentRef:this.editorComponentRef},this.props.mentionableEditorProps),{accessibilityLabel:W.m(this.props.localizationAPI),accessibilityDescribedBy:q.v({id:this.props.id,renderContextType:t}),displayMode:B.ReadOnly,defaultValue:this.props.commentBody,scrollingContainerId:this.props.scrollingContainerId,supportsAtMentions:this.props.supportsAtMentions,richTextCapabilities:this.props.richTextCapabilities,truncationOverlayColor:p.P()?r:this.props.truncationOverlayColor,dulledAtMentions:this.props.dulledAtMentions,localizationAPI:this.props.localizationAPI,commentId:this.props.id,commentTabbable:this.props.isTabbable,onClickableTextClicked:this.props.onClickableTextClicked})},t.prototype.editorComponentRef=function(e){this._textEditorRef=e},t.prototype.onMouseOverPost=function(){this.props.collapsed||this.setState({hover:!0})},t.prototype.onMouseLeavePost=function(){this.props.collapsed||this.setState({hover:!1})},t.prototype.UNSAFE_componentWillMount=function(){this.setState({actionBarItems:this.getActionBarItemsAsButtonProps(this.props)})},t.prototype.onContextMenuInteractionHandler=function(e){this.trySelectPost(),e&&Object(E.f)(e.key)===E.b.ArrowDown&&e.preventDefault()},t.prototype.componentDidCatch=function(e){this.onError(e)},t.prototype.UNSAFE_componentWillReceiveProps=function(e){this.props.actionBarItems===e.actionBarItems&&this.props.isTabbable===e.isTabbable||this.setState({actionBarItems:this.getActionBarItemsAsButtonProps(e)})},t.prototype.componentDidUpdate=function(e,t){var r=this.isEditingOrPending(this.props.postDisplayMode);if(this.props.draftId&&!r&&Object(a.k)().assertConditionTag(!1,"PostDisplayMode inconsistent with draft warning state",593802317),this.textEditorRef&&this.isEditingOrPending(e.postDisplayMode)&&this.props.hasDraftInOtherRenderContext&&this.props.onSaveDraft(this.getId(),this.textEditorRef),this.textEditorRef&&!r&&(e.commentBody!==this.props.commentBody||!this.props.collapsed&&e.collapsed))try{this.textEditorRef.setContents(this.props.commentBody)}catch(e){this.onError(e instanceof Error?e:new Error(Object(i.l)(e)))}Object(a.k)().assertConditionTag(void 0===this.props.draftId||this.isEditingOrPending(this.props.postDisplayMode),"post has draft state and is not in editing mode",593802318)},t.prototype.onRetry=function(){this.props.onClearError(this)},t.prototype.onError=function(e){Object(Ct.a)(i.d.reserveTag(594351964))(e),this.props.onError(this)},t.prototype.postFocusHandler=function(e){var t=document.getElementById(q.I({id:this.props.id,renderContextType:this.props.componentTreeId.renderContextType}));t&&e.target===t&&(Object(Mn.a)(this.props.postDisplayMode)||this.props.selected||this.props.collapsed||this.props.onSelect(this,!1))},t.prototype.trySelectPost=function(){Object(Mn.a)(this.props.postDisplayMode)||this.props.selected||this.props.onSelect(this,!1)},t.prototype.postClickHandler=function(e){this.trySelectPost(),e.stopPropagation()},t.prototype.commitHandler=function(e){this.props.onCommit(this,e)},t.prototype.getBodyStyle=function(){return this.styles.body},t.prototype.renderCommitBar=function(){return s.createElement(Et,{buttons:this.state.actionBarItems,tooltipDirection:k.DirectionalHint.bottomCenter})},t.prototype.postEditingKeyDownHandler_deprecated=function(e){if(Object(E.f)(e.key)===E.b.Tab){var t=document.getElementById(q.a({id:this.props.id,renderContextType:this.props.componentTreeId.renderContextType},this.props.actionBarItems.length-1));e.target!==t||e.shiftKey||(this.textEditorRef&&this.textEditorRef.focus(),e.stopPropagation(),e.preventDefault())}},t.prototype.commentEditorKeyDownHandler_deprecated=function(e){if(Object(E.f)(e.key)===E.b.Tab){var t=e.shiftKey?this.props.actionBarItems.length-1:0,r=document.getElementById(q.a({id:this.props.id,renderContextType:this.props.componentTreeId.renderContextType},t));r&&r.focus(),e.stopPropagation()}},t.prototype.onEditorCommitRequested=function(){this.commitHandler(A.a.KeyboardShortcut)},t.prototype.renderBlueDot=function(){return Pe(this.props)?s.createElement(de,{dotType:this.props.parent?ae.RootPost:ae.ReplyPost,historyItemCount:this.getNumberOfHistoryItemsToRender(),renderContextType:this.props.componentTreeId.renderContextType}):null},t.prototype.renderCommentEditor=function(e){var t=this.styles.editorRestContainer,r=void 0;return e.displayMode===B.Editing&&(t=this.styles.editorEditingContainer,r=s.createElement("div",{id:q.v({id:this.props.id,renderContextType:this.props.componentTreeId.renderContextType}),style:{display:"none"}},this.props.localizationAPI.getString(56))),s.createElement("div",{className:t},s.createElement(kn,Object(o.a)({onKeyDown:p.X()?void 0:this.commentEditorKeyDownHandler_deprecated},e,this.props.mentionableEditorProps)),r)},t.prototype.renderHeader=function(){return this.props.parent?null:s.createElement(ot,Object(o.a)({},this.getRenderableItemHeaderProps()))},t.prototype.renderPersona=function(){return this.props.parent?null:s.createElement(yt,Object(o.a)({},this.getRenderableItemPersonaProps()))},t.prototype.getRootDivProps=function(){return{className:Object(k.css)(this.styles.container),tabIndex:this.props.isTabbable?0:-1,onFocus:this.postFocusHandler,onClick:this.postClickHandler,id:q.I({id:this.props.id,renderContextType:this.props.componentTreeId.renderContextType}),onKeyDown:this.postRootKeyDownHandler}},t.prototype.getRenderableItemPersonaProps=function(){return{authorName:Object(u.k)(this.props.author),resolved:this.props.postDisplayMode===C.a.Resolved,isParent:!!this.props.parent,authorColor:this.props.authorColor,authorImageURL:this.props.authorImageURL,authorEmail:this.props.author.Email,isTabbable:this.props.isTabbable}},t.prototype.getRenderableItemHeaderProps=function(){var e=this.props.parent||this.props.collapsed||this.props.postDisplayMode!==C.a.Normal&&this.props.postDisplayMode!==C.a.Resolved||!(this.state.hover||this.props.selected),t=this.props.usersByReactionType&&this.props.usersByReactionType[_.a.Like]?this.props.usersByReactionType[_.a.Like]:[],r=this.props.componentTreeId.renderContextType;return{authorLine:Object(u.k)(this.props.author),renderContextType:r,contextMenuProps:e||0===this.props.actionBarItems.length?void 0:{menuItems:[],actionBarItems:this.props.actionBarItems,isTabbable:this.props.isTabbable,parentId:this.props.id,trySelectPost:this.trySelectPost,localizationAPI:this.props.localizationAPI},reactionButtonProps:(e||this.props.preventReacting)&&0===t.length?void 0:this.reactionButtonProps(this.props.id,r,this.props.isTabbable,{onReactionPressed:this.props.onReactionUpdated},this.props.usersByReactionType,this.reactionButtonStrings(),this.props.localizationAPI,this.props.preventReacting,this.props.userReactionSummary)}},t.prototype.shouldUseFocusStyle=function(){return(p.X()||!this.isEditingOrPending(this.props.postDisplayMode)&&!this.props.restrictActionControls_deprecated)&&this.props.selected},t.prototype.getPostWarningProps=function(e,t,r){return{buttons:e,warningMessage:t,id:r,hideCardHeader:this.props.onHideCardHeader}},t.prototype.renderEditState=function(){var e=W.m(this.props.localizationAPI),t=Object(o.a)(Object(o.a)({},this.defaultEditorProps),{defaultValue:this.props.commentBody,displayMode:B.Editing,savedDraftContent:this.props.savedDraftContent,isDraftEmpty:this.props.isDraftEmpty,isTabbable:this.props.isTabbable,onCommitRequested:this.onEditorCommitRequested,onEscapeRequested:this.onFocusParent,onDraftEmptinessChanged:this.onDraftEmptinessChanged,onSaveDraftToSession:this.onSaveDraftToSession,accessibilityLabel:e,onMount:this.onEditorMount});return s.createElement("div",Object(o.a)({role:"comment","aria-label":this.props.accessibilityLabel,"aria-describedby":t.id,"aria-selected":this.props.selected,"aria-level":2},this.getRootDivProps()),this.renderPersona(),this.renderBlueDot(),s.createElement("div",{className:this.getBodyStyle(),onKeyDown:p.X()?void 0:this.postEditingKeyDownHandler_deprecated},this.renderHeader(),this.renderHistoryItemContent(),this.renderCommentEditor(t),s.createElement("div",{className:this.styles.actionbarEdit},this.renderCommitBar()),this.renderDraftBoxMessage(!1)))},t.prototype.renderLowFidelityWarningState=function(){var e=this.getLowFidelityWarningProps(this.state.actionBarItems,this.props.lowFidelityWarningString,this.props.id,this.props.componentTreeId.renderContextType);return this.renderPostWarning(e,this.props.accessibilityLabel)},t.prototype.renderPostErrorState=function(){var e=this.getDisplayErrorProps(this.state.actionBarItems,this.props.id,this.props.componentTreeId.renderContextType);return this.renderPostWarning(e,this.props.localizationAPI.getString(183))},t.prototype.renderPostWarning=function(e,t){return s.createElement("div",Object(o.a)({role:"treeitem","aria-describedby":e.id,"aria-label":t,"aria-selected":this.props.selected,"aria-level":2},this.getRootDivProps()),s.createElement(Hn,Object(o.a)({},e)))},t.prototype.renderResolvedState=function(){var e=Object(o.a)(Object(o.a)({},this.defaultEditorProps),{displayMode:B.Disabled,showFullComment:!this.props.collapsed,defaultValue:this.props.commentBody,dulledAtMentions:this.props.dulledAtMentions});return s.createElement("div",Object(o.a)({role:"comment","aria-label":this.props.accessibilityLabel,"aria-describedby":e.id,"aria-selected":this.props.selected,"aria-level":2,onMouseOver:this.onMouseOverPost,onMouseLeave:this.onMouseLeavePost},this.getRootDivProps()),this.renderPersona(),this.renderBlueDot(),s.createElement("div",{className:this.getBodyStyle()},s.createElement("div",null," ",this.renderHeader()," "),this.renderHistoryItemContent(),this.renderCommentEditor(e),this.renderTimestamp()))},t.prototype.renderNormalState=function(){var e=Object(o.a)(Object(o.a)({},this.defaultEditorProps),{displayMode:B.ReadOnly,showFullComment:!this.props.collapsed,defaultValue:this.props.commentBody});return s.createElement("div",Object(o.a)({role:"comment","aria-label":this.props.accessibilityLabel,"aria-describedby":e.id,"aria-selected":this.props.selected,"aria-level":2},this.getRootDivProps(),{onMouseOver:this.onMouseOverPost,onMouseLeave:this.onMouseLeavePost}),this.renderPersona(),this.renderBlueDot(),s.createElement("div",{className:this.getBodyStyle()},this.renderHeader(),this.renderHistoryItemContent(),this.renderCommentEditor(e),this.renderTimestamp()))},t.prototype.renderPendingEditState=function(){var e=this,t={id:q.G({id:this.props.id,renderContextType:this.props.componentTreeId.renderContextType}),isDraftEmpty:void 0,componentRef:function(t){return e._textEditorRef=t},displayMode:B.ReadOnly,showFullComment:!this.props.collapsed,defaultValue:this.props.commentBody,accessibilityLabel:this.props.localizationAPI.getString(88),localizationAPI:this.props.localizationAPI};return s.createElement("div",Object(o.a)({style:{position:"relative"}},this.getRootDivProps()),this.renderPersona(),this.renderBlueDot(),s.createElement("div",{className:this.getBodyStyle()},this.renderHeader(),this.renderHistoryItemContent(),this.renderCommentEditor(t),this.renderTimestamp()),s.createElement("div",{className:this.styles.postOverlay},s.createElement(k.DelayedRender,{delay:se.f},s.createElement(k.Spinner,{className:this.styles.postSpinner,size:k.SpinnerSize.large}))))},t.prototype.render=function(){return p.P()?Object(V.a)(this.renderWithContexts,I.a):this.renderWithContexts()},t}(Dn),{componentTreeId:K.a},Dn.DisplayName);var Wn=Object(k.memoizeFunction)((function(e){var t;return e?{outline:"none",borderRadius:"1px",boxShadow:"0px 0px 0px 1px ".concat(z.a.FOCUS_BOX),selectors:(t={},t[k.HighContrastSelector]={boxShadow:"none",outline:"1px solid ".concat(z.a.FOCUS_BOX)},t)}:{outline:"none"}})),qn={display:"flex",direction:"inherit",overflow:"hidden",flexGrow:1,flexDirection:"row",flexWrap:"nowrap",flexShrink:0,marginLeft:"2px",marginRight:"2px",border:0,position:"relative"},Vn=Object(k.memoizeFunction)((function(){return{body:Object(k.mergeStyles)({display:"flex",direction:"inherit",flexDirection:"column",flexGrow:1,marginTop:"6px",marginBottom:"2px",marginRight:6,paddingLeft:"3px",position:"relative",overflow:"hidden"}),container:Object(k.mergeStyles)(qn,{selectors:{":focus":Wn(!0)}}),containerNoFocus:Object(k.mergeStyles)(qn,{selectors:{":focus":Wn(!1)}})}})),Kn=s.memo(s.forwardRef((function(e,t){var r=e.accessibilityLabel,n=e.author,o=e.resolved,i=e.authorColor,a=e.authorImageURL,l=e.selected,c=e.onSelect,d=function(e,t){var r=e.id,n=e.timestamp,o=e.historyItemContent,i=Object(K.b)(),a=s.useCallback((function(){return r}),[r]),l=s.useCallback((function(){return s.createElement(An,{timestamp:n,id:Object(q.J)({id:r,renderContextType:i.renderContextType}),renderContextType:i.renderContextType})}),[r,n,i]),c=s.useCallback((function(){return o.map((function(e){return s.createElement(In,{icon:e.icon,description:e.description,key:e.description})}))}),[o]),u=s.useMemo((function(){return{getId:a}}),[a]);return Object(s.useImperativeHandle)(t,(function(){return u}),[u]),{getId:a,renderTimestamp:l,renderHistoryItemContent:c,componentTreeId:i,imperativeHandle:u}}(e,t),f=d.componentTreeId,h=d.renderHistoryItemContent,m=d.renderTimestamp,y=d.imperativeHandle,b=f.renderContextType,v=s.useRef(null),g=s.useCallback((function(){return s.createElement(yt,{authorName:Object(u.k)(n),resolved:o,isParent:!1,authorColor:i,authorImageURL:a,authorEmail:n.Email,isTabbable:l})}),[n,o,i,a,l]),O=s.useCallback((function(){return s.createElement(ot,{authorLine:Object(u.k)(n),renderContextType:f.renderContextType,contextMenuProps:{menuItems:[],actionBarItems:[],isTabbable:!1,parentId:"",trySelectPost:function(){},localizationAPI:void 0}})}),[f,n]),w=s.useCallback((function(e){var t=v.current;t&&e.target===t&&(l||c(y,!1))}),[v,l,c,y]),x=s.useCallback((function(e){l||c(y,!1),e.stopPropagation()}),[l,c,y]),C=Vn(),S=function(e,t){return(p.X()||!t)&&e}(l,e.restrictActionControls_deprecated)?C.container:C.containerNoFocus;return s.createElement("div",{role:"treeitem","aria-label":r,"aria-level":2,"aria-selected":l,className:Object(k.css)(S),ref:v,tabIndex:l?0:-1,onFocus:w,onClick:x,id:Object(q.I)({id:e.id,renderContextType:b})},g(),s.createElement("div",{className:C.body},O(),h(),e.collapsed?void 0:m()))}))),Gn=r(1194),Qn=r(1068);var Yn,$n={getCardA11yLabel:function(e,t,r,n,o,i,a,s,l,c,d){if(t===w.a.Draft||t===w.a.DraftPreCommitPending)return n?e.formatString(224,n):e.getString(223);if(t===w.a.Loading)return e.getString(225);var p=[],f=i?J.c(i.completion):t===w.a.Resolved;if(i){var h=null==i?void 0:i.assignees[0];h?p.push(e.formatString(f?215:214,Object(u.k)(h))):p.push(e.getString(f?217:216)),p.push(e.formatString(d?266:212,r))}else p.push(e.formatString(f?213:d?265:211,r));return n&&p.push(e.formatString(218,n)),t!==w.a.Reply&&a!==x.a.InChildPost||p.push(e.getString(222)),1===o?p.push(e.getString(219)):o>1&&p.push(e.formatString(220,String(o))),t!==w.a.CardPostCommitPending&&t!==w.a.ReplyPostCommitPending||p.push(e.getString(221)),s&&(p.push(e.getString(237)),p.push(e.getString(238))),p.join(e.getString(226))},getPostA11yLabel:function(e,t,r,n,o){var i=void 0,a=o.author,s=o.timestamp,l=o.isUnread;switch(i=l?145:21,r&&(i=l?137:25),t){case C.a.Editing:case C.a.EditPreCommitPending:i=23;break;case C.a.Resolved:i=l?136:22;break;case C.a.LowFidelityWarningDelete:case C.a.LowFidelityWarningEdit:return n.getStringOrUndefined(26);case C.a.Normal:break;case C.a.New_nonFluent:default:return}return n.formatString(i,a,s)},getTaskHistoryItemA11yLabel:function(e,t,r){return t&&r?e.formatString(232,t,r):(Object(a.k)().assertConditionTag(!1,"Task History Item accessibility label not resolving properly",557056852),e.getString(119))},getTaskHistoryA11yDescription:function(e){Object(a.k)().assertConditionTag(!1,"Task History Item accessibility label not present in web",527765772)}},Jn=r(1035);!function(e){e.None="NONE",e.SmallPhone="SMALL_PHONE",e.Phablet="PHABLET",e.LargeDisplay="LARGE_DISPLAY",e.Infinite="INFINITE"}(Yn||(Yn={}));Yn.None;function Xn(e,t){return!!t&&t.selectedCardId===e&&!Object(v.j)(t.selectionDetails)}function Zn(e,t){return!!t&&t.selectedCardId===e&&Object(v.j)(t.selectionDetails)}function eo(e,t){return!!t&&Object(v.j)(t.selectionDetails)&&t.selectionDetails.selectedPostId===e}function to(e,t,r,n,o){switch(e){case Gn.a.AllCardsTabbable:return!0;case Gn.a.ExpandedCardOrFirstCardTabbable:if(o){var i=Xn(t,o),a=Zn(t,o);return i||n===O.a.Expanded&&a}return r;case Gn.a.ExpandedCardTabbable:return!!o&&n===O.a.Expanded;case Gn.a.SelectedCardTabbable:return!!o&&o.selectedCardId===t}}function ro(e,t,r,n,o,i){if(n===C.a.PendingEdit||n===C.a.PendingDraft)return eo(t,i);switch(e){case Gn.b.AllPostsTabbable:return!0;case Gn.b.ExpandedCardPostsTabbable:return o===O.a.Expanded;case Gn.b.ExpandedCardRootPostTabbable:var a=eo(t,i),s=Xn(r||t,i);return n!==C.a.New_nonFluent&&(a||s&&o===O.a.Expanded&&!r);case Gn.b.SelectedPostTabbable:return eo(t,i)}}function no(e,t,r){return O.a.Collapsed===e||void 0!==r&&(r!==x.a.InChildPost||!t)}function oo(e,t,r,n,l,d,f,h,m,O,w,x,S,T,j,k,P,E){var _=e.localizationAPI,I=e.selectedState,R=e.isDraftThread,A=e.isCommentsContextReadOnly,D=e.draftState,B=e.cardCollapsedState,M=!1;I&&Object(v.j)(I.selectionDetails)&&(M=I.selectionDetails.selectedPostId===t.commentId);var N=function(e,t,r,n,o,s,l){if(t.pending!==b.a.None)return Object(a.k)().assertConditionTag(t.pending!==b.a.Delete,"Post with PostPendingType.Delete should not attempt to be rendered. Falling back to PendingEdit display mode.",595153811),l?C.a.PendingDraft:C.a.PendingEdit;if(s){if(l)return Object(a.k)().assertConditionTag(!p.n(),"New post should not be rendered while drafting in fluent.",574755652),C.a.New_nonFluent;if(r.postIdToDraftIdMap[e.commentId])return Object(y.i)(r)?C.a.EditPreCommitPending:C.a.Editing}if(n&&Object(v.b)(n)===e.commentId)switch(n.selectionDetails.lowFidelityWarningType){case void 0:break;case v.a.DeleteReply:return C.a.LowFidelityWarningDelete;case v.a.Edit:return C.a.LowFidelityWarningEdit;case v.a.DeleteThread:return p.n()?C.a.LowFidelityWarningDelete:C.a.Normal;default:Object(i.m)(n.selectionDetails)}if(t.displayingErrorUI)return C.a.Error;if(o)return C.a.Resolved;return C.a.Normal}(t,r,D,I,n,m,R),L=!!(t.commentFlags&c.a.ReadOnly||A),F=r.displayDate||"",z=D.postIdToDraftIdMap[t.commentId],H=z?D.drafts[z]:void 0,U=!!H&&H.renderContextType!==e.renderContextType,q=m&&H?Object(o.a)({draftId:z},Object(y.g)(H)):{};return s.createElement(Un,Object(o.a)({},e.postCallbacks,q,{postDisplayMode:N,isReadOnly:L,id:t.commentId,author:t.author,authorColor:null==d?void 0:d.authorColor,authorImageURL:null==d?void 0:d.authorImageURL,timestamp:F,commentBody:t.commentBody,parent:""===t.parentId,lowFidelityWarningString:M?W.k(_,I):"",selected:M,isTabbable:ro(l,t.commentId,t.parentId,N,B,I),supportsAtMentions:e.isAtMentionEnabled,localizationAPI:_,actionBarItems:e.getActionBarItems(N,null==I?void 0:I.selectionDetails.lowFidelityWarningType,j,""===t.parentId,L,t.commentFlags,p.A(),p.n()),accessibilityLabel:$n.getPostA11yLabel(0===t.parentId.length,N,L,_,{author:Object(u.k)(t.author),timestamp:F,repliesCount:f,commentBody:t.commentBody,isReplyPending:h,isUnread:p.n()&&!!(t.commentFlags&c.a.IsNew),anchorHintText:t.anchorHintText}),key:t.commentId,mentionableEditorProps:e.mentionableEditorProps,taskHistoryProps:w,accessibilityPositionInSet:O.accessibilityPositionInSet,accessibilitySetSize:O.accessibilitySetSize,accessibilityLevel:O.accessibilityLevel,isNew:!!(t.commentFlags&c.a.IsNew),scrollingContainerId:x,isCardHovered:e.isCardHighlighted,availableScreenHeight:e.availableScreenHeight,extraPaddingLeft:e.extraPaddingLeft,extraPaddingRight:e.extraPaddingRight,preventDefaultKeyDownBehavior:e.preventDefaultKeyDownBehavior,collapsed:S,restrictActionControls_deprecated:T,preventReacting:L||j===g.a.None||!!(t.commentFlags&c.a.ReactionRestricted)||p.Q()&&N===C.a.Resolved,richTextCapabilities:e.richTextCapabilities,usersByReactionType:p.b()?t.usersByReactionType:void 0,userReactionSummary:p.b()?t.userReactionSummary:void 0,truncationOverlayColor:p.P()?void 0:k,dulledAtMentions:P,isUIAAnnotationPatternEnabled:e.isUIAAnnotationPatternEnabled,isEditable:!(t.commentFlags&c.a.EditRestricted||t.commentFlags&c.a.ReadOnly||N===C.a.Resolved||j!==g.a.Any),cardSelected:E,hasDraftInOtherRenderContext:U}))}function io(e,t,r,n,o,i,a,l,c,u,d){var p=Jn.d(t,e),f=Jn.a(t.taskId,t.records[0].recordId),h=!1;i&&Object(v.j)(i.selectionDetails)&&(h=i.selectionDetails.selectedPostId===f);var m=d.displayDate;return s.createElement(Kn,{historyItemContent:p,onSelect:r.onSelect,id:f,key:f,author:t.records[0].user,timestamp:m,selected:h,authorColor:null==n?void 0:n.authorColor,authorImageURL:null==n?void 0:n.authorImageURL,resolved:o,collapsed:a,restrictActionControls_deprecated:l,accessibilitySetSize:c.accessibilitySetSize,accessibilityPositionInSet:c.accessibilityPositionInSet,accessibilityLabel:$n.getTaskHistoryItemA11yLabel(e,t.records[0].user.DisplayName,m),preventDefaultKeyDownBehavior:u})}function ao(e){var t,r=e.thread,n=e.renderContextType,l=e.cardState,C=e.postOrHistoryRecordStates,T=e.postCallbacks,k=e.cardCallbacks,P=e.localizationAPI,E=e.selectedState,_=e.isolationEdit,I=e.isDraftThread,R=e.isCommentsContextReadOnly,A=e.keyboardingOptions,D=e.personaIconPropertiesMap,B=e.draftState,M=e.cardCollapsedState,N=e.cardRelativeDraftingState,L=e.maximumDimensions,F=e.preventDefaultKeyDownBehavior,H=e.restrictActionControls_deprecated,U=e.allowedDraftingSession,W=e.taskState,V=e.isCardTabbable,K=e.tabFocusTrapBehavior,G=Jn.h(r),Q=G.commentId,Y=N===x.a.InChildPost,$=!!(G.commentFlags&c.a.Resolved),X=C[0].displayDate||"",Z=[],ee=function(e,t,r,n,o,a){if(Object(h.O)(t.loadState))return w.a.Loading;switch(t.pending){case m.a.Card:case m.a.Delete:return w.a.CardPostCommitPending;case m.a.Editor:return w.a.ReplyPostCommitPending;case m.a.None:break;default:Object(i.m)(t.pending)}if(a)return Object(y.i)(r)?w.a.DraftPreCommitPending:w.a.Draft;if(n&&n.selectedCardId===e.commentId&&Object(v.d)(n)&&!p.n())return w.a.LowFidelityWarningOnDeleteThread;if(o){if(r.cardIdToDraftIdMap[e.commentId])return Object(y.i)(r)?w.a.ReplyPreCommitPending:w.a.Reply;if(r.pendingDraft&&"REPLY"===r.pendingDraft.sessionType&&r.pendingDraft.threadId===e.commentId)return w.a.ReplySessionRequestPending}if(e.commentFlags&c.a.Resolved)return w.a.Resolved;return w.a.Normal}(G,l,B,E,N===x.a.InCard,I),te=Xn(G.commentId,E),re=R||!!(G.commentFlags&c.a.ReadOnly),ne=Zn(G.commentId,E),oe=function(e,t){return!e||t?z.a.WHITE:z.a.REST_RESOLVED_BODY}(ee===w.a.Resolved,te||ne),ie=function(e,t,r){return e&&(!r||t)}(ee===w.a.Resolved,M===O.a.Collapsed,te||ne),ae=r.length-1,se=!1,le=!Object(h.O)(l.loadState),ce=n!==S.a.HalfPane&&!p.n(),ue=!1;if(le&&(!I||ce))for(var de=0;de<r.length;de++){var pe=r[de],fe=C[de];if(Object(Qn.a)(pe)){pe.commentModel.commentFlags&c.a.LowFidelity&&(se=!0);var he=pe.commentModel.commentId,me=Object(h.J)(B)===he,ye=!!B.postIdToDraftIdMap[he];if(ue=ue||!!(pe.commentModel.commentFlags&c.a.IsNew),!fe)throw new d.a("Post Or History Record state undefined for comment ".concat(he),i.d.reserveTag(589103624),-2130957493);if((!_||!Y||ye)&&Object(b.b)(fe)&&fe.pending!==b.a.Delete){var be=Object(Qn.b)(pe)?Jn.d(pe.historyItem,P):[],ve=no(M,me,N);Z.push(oo(e,pe.commentModel,fe,$,A.postTabbingMode,p.G()?Object(f.d)(D,pe.commentModel.author):void 0,ae,l.pending===m.a.Editor,Y||I,{accessibilitySetSize:r.length,accessibilityPositionInSet:de+1,accessibilityLevel:(null!==(t=e.accessibilityLevel)&&void 0!==t?t:1)+1},be,L&&L.height?Object(q.O)({id:Q,renderContextType:n}):Object(En.b)(n)?Object(q.p)():void 0,M===O.a.Collapsed,ve,U,oe,ie,te))}}else p.c()&&Z.push(io(P,pe.historyItem,T,p.G()?Object(f.d)(D,pe.historyItem.records[0].user):void 0,$,E,M===O.a.Collapsed,H,{accessibilitySetSize:r.length,accessibilityPositionInSet:de+1},F,fe))}var ge=U===g.a.None||!e.isResolveSupported;return function(e,t,r,n,i,a,l,d,f,m,b,O,C,S){var T=e.cardState,j=e.cardCallbacks,k=e.localizationAPI,P=e.selectedState,E=e.isAtMentionEnabled,_=e.isTaskCreationEnabled,I=e.draftState,R=e.cardCollapsedState,A=e.cardRelativeDraftingState,D=e.maximumDimensions,B=e.isolationEdit,M=e.richTextCapabilities,N=e.thread,L=Object(h.O)(T.loadState)?T.loadState.initialItemCount:n.length,F=I.cardIdToDraftIdMap[t.commentId],z=F?I.drafts[F]:void 0,H=A===x.a.InCard&&z?Object(o.a)({draftId:F},Object(y.g)(z)):{};return s.createElement(_n,Object(o.a)({},j,H,{cardCollapsedState:R,selected:f,isReadOnly:O,hasSelectedChild:m,hasLowFidelityChild:b,displayMode:i,id:t.commentId,supportsAtMentions:E,isTabbable:e.isCardTabbable,localizationAPI:k,accessibilityLabel:$n.getCardA11yLabel(k,i,Object(u.k)(t.author),t.anchorHintText,L-1,r,A,b&&"win32"===Object(gn.a)(),d,t.commentBody,S),accessibilityDescription:"win32"===Object(gn.a)()?Object(zr.e)(Jn.h(N).commentBody):void 0,anchorText:t.anchorHintText,author:t.author,authorColor:a?a.authorColor:"",authorImageURL:a?a.authorImageURL:"",cardRelativeDraftingState:A,supportsTaskCreation:_,taskTopperProps:r,isNewThread:e.isDraftThread,foldableLayoutState:e.foldableLayoutState,accessibilityPositionInSet:e.accessibilityPositionInSet,accessibilitySetSize:e.accessibilitySetSize,accessibilityLevel:e.accessibilityLevel,maximumDimensions:D,scrollingContainerId:l,itemCount:L,menuItems:e.getCardContextualMenuItems(t.commentFlags,e.allowedDraftingSession,e.isResolveSupported,Object(v.i)(t,P),!!e.taskState,p.A(),p.n()),allowRootEditButton:!(t.commentFlags&c.a.EditRestricted||t.commentFlags&c.a.ReadOnly||Object(v.i)(t,P))&&e.allowedDraftingSession===g.a.Any,mentionEditorProps:e.mentionEditorProps,onCardLayout:e.onCardLayout,timestamp:d,restrictActionControls_deprecated:e.restrictActionControls_deprecated,preventReacting:O||e.allowedDraftingSession===g.a.None||!!(t.commentFlags&c.a.ReactionRestricted)||p.Q()&&i===w.a.Resolved,contentBackgroundColor:e.contentBackgroundColor,maxDraftHeight:e.maxDraftHeight,availableScreenHeight:e.availableScreenHeight,extraPaddingLeft:e.extraPaddingLeft,extraPaddingRight:e.extraPaddingRight,preventDefaultKeyDownBehavior:e.preventDefaultKeyDownBehavior,highlightCard:e.isCardHighlighted,hideDraftBox:B||e.isCommentsContextReadOnly,hideHeader:B,disableScroll:B,style:e.cardStyle,richTextCapabilities:M,usersByReactionType:p.b()?t.usersByReactionType:void 0,userReactionSummary:p.b()?t.userReactionSummary:void 0,isUIAAnnotationPatternEnabled:e.isUIAAnnotationPatternEnabled,tabFocusTrapBehavior:C}),n)}(e,G,W?function(e,t,r,n,o,i,s,l){if(!p.c())return;var c=t.completion,u=c===J.a;n!==u&&(Object(a.k)().assertConditionTag(!1,"Comment and task resolve state don't match",570826896),c=n?J.a:0);return{id:e,title:t.title,assignees:t.assignees,completion:c,onResolveTaskCheckboxPressed:i,localizationAPI:r,displayMode:o,preventDefaultKeyDownBehavior:s,isTabbable:l}}(Q,W,P,!!(G.commentFlags&c.a.Resolved),re?j.ReadOnly:ge?j.Disabled:j.Default,k.onTaskTopperCheckboxPressed,F,V&&!ge):void 0,Z,ee,p.G()?Object(f.d)(D,G.author):void 0,Object(En.b)(n)?Object(q.p)():void 0,X,te,ne,se,re,K,ue)}var so=s.memo(ao);function lo(e){return s.createElement(so,Object(o.a)({},e))}function co(e,t,r){return e.map((function(e){var n=Jn.e(e);return t[n]||r&&r[n]}))}},1274:function(e,t,r){"use strict";(function(e){var n=r(582),o=r(1463);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var a="object"==("undefined"==typeof exports?"undefined":i(exports))&&exports&&!exports.nodeType&&exports,s=a&&"object"==i(e)&&e&&!e.nodeType&&e,l=s&&s.exports===a?n.a.Buffer:void 0,c=(l?l.isBuffer:void 0)||o.a;t.a=c}).call(this,r(1275)(e))},1275:function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},1276:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(307),o=r(1195),i=r(1),a=function(e){var t=e.textStylePolyester,r=(e.variantFluent,e.colorFluent,Object(n.g)(e,["textStylePolyester","variantFluent","colorFluent"]));return i.createElement(o.Text,Object(n.a)({},r,{textStyle:t}))};a.displayName="TextWrapper"},1277:function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Styles=void 0;var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.combine=function(e,t){if(e||t){var r=e?t?[e,t]:e:t;if(r instanceof Array){for(var n={},i=0;i<r.length;i++){var a=this.combine(r[i]);n=o(o({},n),a)}return void 0===n.marginLeft&&void 0===n.marginRight&&void 0===n.marginTop&&void 0===n.marginBottom||void 0===n.margin||(console.error("Conflicting rules for margin specified."),delete n.margin),void 0===n.paddingLeft&&void 0===n.paddingRight&&void 0===n.paddingTop&&void 0===n.paddingBottom||void 0===n.padding||(console.error("Conflicting rules for padding specified."),delete n.padding),(n.borderWidth||n.borderTopWidth||n.borderRightWidth||n.borderBottomWidth||n.borderLeftWidth)&&(void 0===n.boxSizing&&(n.boxSizing="border-box"),void 0===n.borderColor&&(n.borderColor="black"),void 0===n.borderStyle&&(n.borderStyle="solid")),(n.borderStyle||n.borderTopWidth||n.borderRightWidth||n.borderBottomWidth||n.borderLeftWidth)&&void 0===n.borderWidth&&(void 0===n.borderTopWidth&&(n.borderTopWidth=0),void 0===n.borderRightWidth&&(n.borderRightWidth=0),void 0===n.borderBottomWidth&&(n.borderBottomWidth=0),void 0===n.borderLeftWidth&&(n.borderLeftWidth=0)),n}return r}},t}(s(r(1476)).Styles);t.Styles=l,t.default=new l},1278:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultButtonDefaultProps=void 0,t.DefaultButtonDefaultProps={text:null,onClick:null,disabled:!1}},1279:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.PersonaImage=void 0;var i=r(1498);Object.defineProperty(t,"PersonaImage",{enumerable:!0,get:function(){return i.PersonaImage}}),o(r(1280),t)},1280:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PersonaImagePresence=t.PersonaImageSize=void 0,function(e){e[e.extraSmall=0]="extraSmall",e[e.small=1]="small",e[e.normal=2]="normal",e[e.large=3]="large",e[e.extraLarge=4]="extraLarge",e[e.extraExtraLarge=5]="extraExtraLarge"}(t.PersonaImageSize||(t.PersonaImageSize={})),function(e){e[e.none=0]="none",e[e.away=1]="away",e[e.online=2]="online",e[e.offline=3]="offline",e[e.doNotDisturb=4]="doNotDisturb",e[e.blocked=5]="blocked",e[e.busy=6]="busy",e[e.oof=7]="oof"}(t.PersonaImagePresence||(t.PersonaImagePresence={}))},1281:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.Text=void 0;var i=r(1506);Object.defineProperty(t,"Text",{enumerable:!0,get:function(){return i.Text}}),o(r(1507),t)},1282:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.View=void 0;var i=r(1529);Object.defineProperty(t,"View",{enumerable:!0,get:function(){return i.View}}),o(r(1530),t)},1283:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(1071);function o(e){return e===n.a.LowFidelityWarningDelete||e===n.a.LowFidelityWarningEdit}},1284:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(1),o=n.createContext(new Proxy({},{get:function(){throw new Error("LPPManagerContext undefined. Did you forget to render a LPPManagerContext context provider?")}}))},1285:function(e,t,r){"use strict";r.d(t,"a",(function(){return h})),r.d(t,"c",(function(){return m})),r.d(t,"b",(function(){return y})),r.d(t,"d",(function(){return b}));var n=r(307),o=r(1005),i=r(1029),a=r(1047),s=r(1006),l=r(1104),c=r(1032),u=r(1137),d=r(1071),p=r(1015),f=r(1283),h=function(e,t,r,n,o,i,l,p,h){if(Object(f.a)(t)&&r===c.a.Edit)return[e.proceedItemForLowFidelityWarningEdit,e.cancelLowFidelityWarningEditItem];if(Object(f.a)(t)&&r===c.a.DeleteReply)return[e.deleteItemForLowFidelityWarningDelete,e.cancelLowFidelityWarningDeleteItem];if(t===d.a.Error)return[e.retry,o?e.deleteRootItem:e.deleteItem];if(t===d.a.Resolved)return[];if(h&&t===d.a.EditPreCommitPending)return i?[]:[e.saveItemPending,e.cancelEditItem];if(t===d.a.Editing||t===d.a.EditPreCommitPending)return i?[]:[e.saveItem,e.cancelEditItem];var m=[];return p&&m.push(e.linkToCommentMenuItem),i||n===u.a.None||(n!==u.a.Any||s.I()||l&a.a.EditRestricted||m.push(e.editItem),l&a.a.DeleteRestricted||o||m.push(e.deleteItem)),m};function m(e,t,r,n,i,l,c,d){var p=[];if(c&&p.push(e.linkToComment),r===u.a.None||t&a.a.ReadOnly)return p;var f=(t&a.a.Resolved)>0,h=l?e.resolveTask:e.resolveThread,m=l?e.deleteTask:e.deleteThread;return Object(o.k)().assertConditionTag(n||!f,"Card cannot be resolved when resolved is not supported",593764383),f&&n?(p.push(e.reopenThread),t&a.a.DeleteRestricted||p.push(m),p):(r!==u.a.Any||!d||s.I()||t&a.a.EditRestricted||i||p.push(e.editRootPost),c&&n&&p.push(h),t&a.a.DeleteRestricted||p.push(m),!c&&n&&p.push(h),p)}function y(e,t){var r={text:e.getString(5),icon:3,onClick:t.onDeleteThread,isDestructive:!0,tooltipText:e.getString(5)},o={text:e.getString(3),icon:5,onClick:t.onResolveThread},i=e.getString(4);return{deleteThread:r,resolveThread:o,reopenThread:{id:Object(p.P)(),text:i,icon:s.n()?16:4,onClick:t.onReopenThread,tooltipText:i},editRootPost:{text:e.getString(120),onClick:t.onEditRootPost,icon:6,accessibilityLabel:e.getString(120)},linkToComment:{text:e.getString(207),onClick:t.onPresentLinkToComment,icon:25,tooltipText:e.getString(207)},deleteTask:Object(n.a)(Object(n.a)({},r),{text:e.getString(206),tooltipText:e.getString(206)}),resolveTask:{text:e.getString(126),icon:5,onClick:t.onResolveThread}}}function b(e,t){var r=s.n(),a=e.getString(15),c=e.getString(121),u={text:e.getString(184),onClick:t.onClearError,icon:19,accessibilityLabel:e.getStringOrUndefined(184)},d={text:e.getString(5),onClick:t.onDelete,icon:3,accessibilityLabel:e.getStringOrUndefined(5),isDestructive:!0},p=r?c:e.getString(2),f={text:p,onClick:t.onDelete,icon:3,accessibilityLabel:p,isDestructive:!0},h=r?e.getString(120):e.getString(1),m={text:h,onClick:t.onEdit,icon:6,accessibilityLabel:h},y={text:a,icon:1,onClick:t.onCancel,onKeyDown:function(e,r){r?Object(i.f)(e.key)===i.b.Enter&&t.onCancel(r):Object(o.k)().assertConditionTag(!1,"CommentPostInterface ref is undefined for cancelEditItem.",544477844)},accessibilityLabel:a,isCancelItem:!0,usePrimaryButtonStyling:!1,tooltipText:a},b={text:e.getString(14),icon:24,onClick:function(e){return t.onCommit(e,l.a.CommitButton)},onKeyDown:function(e,r){r?Object(i.f)(e.key)===i.b.Enter&&t.onCommit(r,l.a.CommitButton):Object(o.k)().assertConditionTag(!1,"CommentPostInterface ref is undefined for saveItem.",544477845)},accessibilityLabel:e.getString(173),usePrimaryButtonStyling:!0,tooltipText:e.getString(173)},v=Object(n.a)(Object(n.a)({},b),{showDelayedSpinner:!0}),g=r?c:e.getString(2),O={text:g,onClick:t.onLowFidelityWarningConfirm,icon:3,accessibilityLabel:g,isDestructive:!0},w={text:a,onClick:t.onLowFidelityWarningCancel,accessibilityLabel:a,icon:0,isCancelItem:!0},x={text:e.getString(37),onClick:t.onLowFidelityWarningConfirm,accessibilityLabel:e.getStringOrUndefined(42),icon:0};return{retry:u,deleteRootItem:d,cancelEditItem:y,cancelLowFidelityWarningDeleteItem:w,cancelLowFidelityWarningEditItem:{text:a,icon:1,onClick:t.onLowFidelityWarningCancel,accessibilityLabel:a,isCancelItem:!0,tooltipText:a},deleteItem:f,deleteItemForLowFidelityWarningDelete:O,editItem:m,proceedItemForLowFidelityWarningEdit:x,saveItem:b,saveItemPending:v,linkToCommentMenuItem:{text:e.getString(207),onClick:t.onPresentLinkToComment,icon:25}}}},1286:function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var n=r(307),o=r(2),i=r(993),a=r(1),s=r(1019),l=r(1087),c=r(1006),u=function(e){var t=Object(o.useTheme)(),r=Object(n.f)(a.useState(matchMedia(o.HighContrastSelector).matches),2),u=r[0],d=r[1],p=a.useRef(matchMedia(o.HighContrastSelector)),f=function(e){d(e.matches)};a.useEffect((function(){var e=p.current;return e.addEventListener("change",f),function(){e.removeEventListener("change",f)}}),[p]);var h=a.useMemo((function(){return u||!c.P()?void 0:{colors:Object(l.b)(t),styles:Object(l.c)(t)}}),[u,t]);if(!c.P())return a.createElement(a.Fragment,null,e.children);if(c.O()){var m=Object(o.getRTL)()?"rtl":"ltr";return a.createElement(i.a,{dir:m,style:{background:"transparent",height:"100%",lineHeight:"normal"},theme:Object(l.d)()},a.createElement(o.ThemeProvider,{style:{background:"transparent"},as:a.Fragment,theme:t},a.createElement(s.a.Provider,{value:h},e.children)))}return a.createElement(o.ThemeProvider,{style:{background:"transparent"},as:a.Fragment,theme:t},a.createElement(s.a.Provider,{value:h},e.children))}},1289:function(e,t,r){"use strict";r.d(t,"b",(function(){return Rt})),r.d(t,"h",(function(){return At})),r.d(t,"j",(function(){return Dt})),r.d(t,"a",(function(){return Bt})),r.d(t,"c",(function(){return Mt})),r.d(t,"e",(function(){return Nt})),r.d(t,"m",(function(){return Lt})),r.d(t,"l",(function(){return Ft})),r.d(t,"f",(function(){return zt})),r.d(t,"d",(function(){return Ht})),r.d(t,"n",(function(){return Ut})),r.d(t,"k",(function(){return Wt})),r.d(t,"i",(function(){return qt})),r.d(t,"g",(function(){return Vt}));var n=r(1028);var o=function(){this.__data__=[],this.size=0};var i=function(e,t){return e===t||e!=e&&t!=t};var a=function(e,t){for(var r=e.length;r--;)if(i(e[r][0],t))return r;return-1},s=Array.prototype.splice;var l=function(e){var t=this.__data__,r=a(t,e);return!(r<0)&&(r==t.length-1?t.pop():s.call(t,r,1),--this.size,!0)};var c=function(e){var t=this.__data__,r=a(t,e);return r<0?void 0:t[r][1]};var u=function(e){return a(this.__data__,e)>-1};var d=function(e,t){var r=this.__data__,n=a(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this};function p(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}p.prototype.clear=o,p.prototype.delete=l,p.prototype.get=c,p.prototype.has=u,p.prototype.set=d;var f=p;var h=function(){this.__data__=new f,this.size=0};var m=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r};var y=function(e){return this.__data__.get(e)};var b=function(e){return this.__data__.has(e)},v=r(585);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var O=function(e){var t=g(e);return null!=e&&("object"==t||"function"==t)};var w=function(e){if(!O(e))return!1;var t=Object(v.a)(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},x=r(582),C=x.a["__core-js_shared__"],S=function(){var e=/[^.]+$/.exec(C&&C.keys&&C.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();var T=function(e){return!!S&&S in e},j=Function.prototype.toString;var k=function(e){if(null!=e){try{return j.call(e)}catch(e){}try{return e+""}catch(e){}}return""},P=/^\[object .+?Constructor\]$/,E=Function.prototype,_=Object.prototype,I=E.toString,R=_.hasOwnProperty,A=RegExp("^"+I.call(R).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var D=function(e){return!(!O(e)||T(e))&&(w(e)?A:P).test(k(e))};var B=function(e,t){return null==e?void 0:e[t]};var M=function(e,t){var r=B(e,t);return D(r)?r:void 0},N=M(x.a,"Map"),L=M(Object,"create");var F=function(){this.__data__=L?L(null):{},this.size=0};var z=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},H=Object.prototype.hasOwnProperty;var U=function(e){var t=this.__data__;if(L){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return H.call(t,e)?t[e]:void 0},W=Object.prototype.hasOwnProperty;var q=function(e){var t=this.__data__;return L?void 0!==t[e]:W.call(t,e)};var V=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=L&&void 0===t?"__lodash_hash_undefined__":t,this};function K(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}K.prototype.clear=F,K.prototype.delete=z,K.prototype.get=U,K.prototype.has=q,K.prototype.set=V;var G=K;var Q=function(){this.size=0,this.__data__={hash:new G,map:new(N||f),string:new G}};function Y(e){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var $=function(e){var t=Y(e);return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var J=function(e,t){var r=e.__data__;return $(t)?r["string"==typeof t?"string":"hash"]:r.map};var X=function(e){var t=J(this,e).delete(e);return this.size-=t?1:0,t};var Z=function(e){return J(this,e).get(e)};var ee=function(e){return J(this,e).has(e)};var te=function(e,t){var r=J(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this};function re(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}re.prototype.clear=Q,re.prototype.delete=X,re.prototype.get=Z,re.prototype.has=ee,re.prototype.set=te;var ne=re;var oe=function(e,t){var r=this.__data__;if(r instanceof f){var n=r.__data__;if(!N||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new ne(n)}return r.set(e,t),this.size=r.size,this};function ie(e){var t=this.__data__=new f(e);this.size=t.size}ie.prototype.clear=h,ie.prototype.delete=m,ie.prototype.get=y,ie.prototype.has=b,ie.prototype.set=oe;var ae=ie;var se=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this};var le=function(e){return this.__data__.has(e)};function ce(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new ne;++t<r;)this.add(e[t])}ce.prototype.add=ce.prototype.push=se,ce.prototype.has=le;var ue=ce;var de=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1};var pe=function(e,t){return e.has(t)};var fe=function(e,t,r,n,o,i){var a=1&r,s=e.length,l=t.length;if(s!=l&&!(a&&l>s))return!1;var c=i.get(e),u=i.get(t);if(c&&u)return c==t&&u==e;var d=-1,p=!0,f=2&r?new ue:void 0;for(i.set(e,t),i.set(t,e);++d<s;){var h=e[d],m=t[d];if(n)var y=a?n(m,h,d,t,e,i):n(h,m,d,e,t,i);if(void 0!==y){if(y)continue;p=!1;break}if(f){if(!de(t,(function(e,t){if(!pe(f,t)&&(h===e||o(h,e,r,n,i)))return f.push(t)}))){p=!1;break}}else if(h!==m&&!o(h,m,r,n,i)){p=!1;break}}return i.delete(e),i.delete(t),p},he=r(332),me=x.a.Uint8Array;var ye=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r};var be=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r},ve=he.a?he.a.prototype:void 0,ge=ve?ve.valueOf:void 0;var Oe=function(e,t,r,n,o,a,s){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!a(new me(e),new me(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var l=ye;case"[object Set]":var c=1&n;if(l||(l=be),e.size!=t.size&&!c)return!1;var u=s.get(e);if(u)return u==t;n|=2,s.set(e,t);var d=fe(l(e),l(t),n,o,a,s);return s.delete(e),d;case"[object Symbol]":if(ge)return ge.call(e)==ge.call(t)}return!1};var we=function(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e},xe=Array.isArray;var Ce=function(e,t,r){var n=t(e);return xe(e)?n:we(n,r(e))};var Se=function(e,t){for(var r=-1,n=null==e?0:e.length,o=0,i=[];++r<n;){var a=e[r];t(a,r,e)&&(i[o++]=a)}return i};var Te=function(){return[]},je=Object.prototype.propertyIsEnumerable,ke=Object.getOwnPropertySymbols,Pe=ke?function(e){return null==e?[]:(e=Object(e),Se(ke(e),(function(t){return je.call(e,t)})))}:Te;var Ee=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n},_e=r(584);var Ie=function(e){return Object(_e.a)(e)&&"[object Arguments]"==Object(v.a)(e)},Re=Object.prototype,Ae=Re.hasOwnProperty,De=Re.propertyIsEnumerable,Be=Ie(function(){return arguments}())?Ie:function(e){return Object(_e.a)(e)&&Ae.call(e,"callee")&&!De.call(e,"callee")},Me=r(1274);function Ne(e){return(Ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Le=/^(?:0|[1-9]\d*)$/;var Fe=function(e,t){var r=Ne(e);return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&Le.test(e))&&e>-1&&e%1==0&&e<t};var ze=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},He={};He["[object Float32Array]"]=He["[object Float64Array]"]=He["[object Int8Array]"]=He["[object Int16Array]"]=He["[object Int32Array]"]=He["[object Uint8Array]"]=He["[object Uint8ClampedArray]"]=He["[object Uint16Array]"]=He["[object Uint32Array]"]=!0,He["[object Arguments]"]=He["[object Array]"]=He["[object ArrayBuffer]"]=He["[object Boolean]"]=He["[object DataView]"]=He["[object Date]"]=He["[object Error]"]=He["[object Function]"]=He["[object Map]"]=He["[object Number]"]=He["[object Object]"]=He["[object RegExp]"]=He["[object Set]"]=He["[object String]"]=He["[object WeakMap]"]=!1;var Ue=function(e){return Object(_e.a)(e)&&ze(e.length)&&!!He[Object(v.a)(e)]};var We=function(e){return function(t){return e(t)}},qe=r(1464),Ve=qe.a&&qe.a.isTypedArray,Ke=Ve?We(Ve):Ue,Ge=Object.prototype.hasOwnProperty;var Qe=function(e,t){var r=xe(e),n=!r&&Be(e),o=!r&&!n&&Object(Me.a)(e),i=!r&&!n&&!o&&Ke(e),a=r||n||o||i,s=a?Ee(e.length,String):[],l=s.length;for(var c in e)!t&&!Ge.call(e,c)||a&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Fe(c,l))||s.push(c);return s},Ye=Object.prototype;var $e=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Ye)},Je=r(602),Xe=Object(Je.a)(Object.keys,Object),Ze=Object.prototype.hasOwnProperty;var et=function(e){if(!$e(e))return Xe(e);var t=[];for(var r in Object(e))Ze.call(e,r)&&"constructor"!=r&&t.push(r);return t};var tt=function(e){return null!=e&&ze(e.length)&&!w(e)};var rt=function(e){return tt(e)?Qe(e):et(e)};var nt=function(e){return Ce(e,rt,Pe)},ot=Object.prototype.hasOwnProperty;var it=function(e,t,r,n,o,i){var a=1&r,s=nt(e),l=s.length;if(l!=nt(t).length&&!a)return!1;for(var c=l;c--;){var u=s[c];if(!(a?u in t:ot.call(t,u)))return!1}var d=i.get(e),p=i.get(t);if(d&&p)return d==t&&p==e;var f=!0;i.set(e,t),i.set(t,e);for(var h=a;++c<l;){var m=e[u=s[c]],y=t[u];if(n)var b=a?n(y,m,u,t,e,i):n(m,y,u,e,t,i);if(!(void 0===b?m===y||o(m,y,r,n,i):b)){f=!1;break}h||(h="constructor"==u)}if(f&&!h){var v=e.constructor,g=t.constructor;v==g||!("constructor"in e)||!("constructor"in t)||"function"==typeof v&&v instanceof v&&"function"==typeof g&&g instanceof g||(f=!1)}return i.delete(e),i.delete(t),f},at=M(x.a,"DataView"),st=M(x.a,"Promise"),lt=M(x.a,"Set"),ct=M(x.a,"WeakMap"),ut=k(at),dt=k(N),pt=k(st),ft=k(lt),ht=k(ct),mt=v.a;(at&&"[object DataView]"!=mt(new at(new ArrayBuffer(1)))||N&&"[object Map]"!=mt(new N)||st&&"[object Promise]"!=mt(st.resolve())||lt&&"[object Set]"!=mt(new lt)||ct&&"[object WeakMap]"!=mt(new ct))&&(mt=function(e){var t=Object(v.a)(e),r="[object Object]"==t?e.constructor:void 0,n=r?k(r):"";if(n)switch(n){case ut:return"[object DataView]";case dt:return"[object Map]";case pt:return"[object Promise]";case ft:return"[object Set]";case ht:return"[object WeakMap]"}return t});var yt=mt,bt=Object.prototype.hasOwnProperty;var vt=function(e,t,r,n,o,i){var a=xe(e),s=xe(t),l=a?"[object Array]":yt(e),c=s?"[object Array]":yt(t),u="[object Object]"==(l="[object Arguments]"==l?"[object Object]":l),d="[object Object]"==(c="[object Arguments]"==c?"[object Object]":c),p=l==c;if(p&&Object(Me.a)(e)){if(!Object(Me.a)(t))return!1;a=!0,u=!1}if(p&&!u)return i||(i=new ae),a||Ke(e)?fe(e,t,r,n,o,i):Oe(e,t,l,r,n,o,i);if(!(1&r)){var f=u&&bt.call(e,"__wrapped__"),h=d&&bt.call(t,"__wrapped__");if(f||h){var m=f?e.value():e,y=h?t.value():t;return i||(i=new ae),o(m,y,r,n,i)}}return!!p&&(i||(i=new ae),it(e,t,r,n,o,i))};var gt=function e(t,r,n,o,i){return t===r||(null==t||null==r||!Object(_e.a)(t)&&!Object(_e.a)(r)?t!=t&&r!=r:vt(t,r,n,o,e,i))};var Ot=function(e,t){return gt(e,t)},wt=r(14),xt=r(294),Ct=r(1185),St=r(1186),Tt=r(1035),jt=r(1013),kt=r(1069);function Pt(){return Et||(Et=Object(wt.b)(xt.a,Ot)),Et}var Et=void 0,_t=function(e,t){var r,n;return null!==(n=null===(r=t.resource)||void 0===r?void 0:r.id)&&void 0!==n?n:""},It=function(e,t){return t.componentTree.componentTreeId.renderContextType},Rt=function(){return Object(wt.a)([_t,jt.c],(function(e,t){return t[e]}))},At=function(){return Object(wt.a)([_t,jt.n],(function(e,t){return t===e}))},Dt=function(){return Pt()([_t,jt.t],(function(e,t){return(null==t?void 0:t.selectedCardId)===e?t:void 0}))},Bt=function(){return Object(wt.a)([_t,It,jt.h],(function(e,t,r){return Object(Ct.a)(e,t,r)}))},Mt=function(){return Object(wt.a)([_t,jt.a,jt.c],(function(e,t,r){return Object(St.d)(e,t,r)}))},Nt=function(){return Object(wt.a)([_t,jt.h],(function(e,t){return t.drafts[e]}))},Lt=function(e,t,r,n){return Object(wt.a)([_t,jt.d,jt.b,n,e,r,t],(function(e,t,r,n,o,i,a){return Object(St.c)(e,t,r,n,o,i,a)}))},Ft=function(e){return Pt()([e,jt.s],(function(e,t){return e.thread.reduce((function(e,r){return e[r.commentId]=t[r.commentId],e}),{})}))},zt=function(e){return Pt()([e,kt.a],(function(e,t){var r={};return e&&e.history.forEach((function(n){n.records.forEach((function(n){var o=Tt.a(e.id,n.recordId);r[o]=t[o]}))})),r}))},Ht=function(e,t){return Object(wt.a)([_t,e,jt.h,It,t],(function(e,t,r,n,o){return Object(St.a)(e,t,r,n,o)}))},Ut=function(e){return Object(wt.a)([e],(function(e){return Object(n.h)(e)}))},Wt=function(){return Object(wt.a)([_t,kt.b],(function(e,t){return t[e]}))},qt=function(e,t){return Pt()([e,t],(function(e,t){return Object(Tt.l)(e.thread,t)}))},Vt=function(){return Object(wt.a)([_t,jt.h],(function(e,t){return t.cardIdToDraftIdMap[e]===e}))}},1290:function(e,t,r){"use strict";r.d(t,"a",(function(){return F}));var n=r(1086),o=r(1013),i=r(1289),a=r(307),s=r(1),l=r(1004),c=r(1557),u=r(1552),d=r(1554),p=r(1054),f=r(1005),h=r(1041),m=r(1021),y=r(1006),b=r(1020),v=r(1023),g=r(1014),O=r(1137),w=r(1052),x=r(1012),C=r(1194),S=r(1140),T=r(1199),j=s.createContext(new Proxy({},{get:function(){throw new Error("BaseCommentAPI undefined. Did you forget to configure comment api context?")}}));var k=r(1053),P=r(1284);var E=r(1035),_=r(1285),I=r(1068);function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var A=function(e){function t(t){var r=e.call(this,t)||this;return r.memoGetActionBarItems=Object(c.a)(_.a,20,(function(){Object(f.k)().assertConditionTag(!1,"Cache invalidated, memoization or parameters configured incorrectly?",557875360)})),r.memoGetCardContextualMenuItems=Object(c.a)(_.c,20,(function(){Object(f.k)().assertConditionTag(!1,"Cache invalidated, memoization or parameters configured incorrectly?",557875361)})),r.getMentionableCommentEditorProps=Object(u.a)((function(e,t){if(e===h.b.Enabled)return{onMentionCreated:r.onMentionCreated,onMentioneesStillInDraftUpdated:r.onMentioneesStillInDraftUpdated,getAuthToken:r.getAuthToken,correlationId:r.props.correlationId,suggestionsDetails:t}})),r.getRenderableItemActionBarItems=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!r.renderableItemActionBarItems||void 0===r.memoGetActionBarItems)throw new l.c("Function should not be called when DeleteRestricted gate is off.",l.d.reserveTag(557601689));return r.memoGetActionBarItems.apply(r,Object(a.h)([r.renderableItemActionBarItems],Object(a.f)(e),!1))},r.getCardContextualMenuItems=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!r.cardContextMenuItems||void 0===r.memoGetCardContextualMenuItems)throw new l.c("Function should not be called when DeleteRestricted gate is off.",l.d.reserveTag(557601690));return r.memoGetCardContextualMenuItems.apply(r,Object(a.h)([r.cardContextMenuItems],Object(a.f)(e),!1))},r.onPostDelete=function(e){S.D({trackback:l.d.reserveTag(593826139),id:e,data:r.props.dataItems,selectedComment:r.props.selectedState,renderContextType:r.props.componentTree.componentTreeId.renderContextType,actionDispatchers:r.props,telemetryVisitor:r.props.telemetryVisitor,localizationAPI:r.props.localizationAPI})},r.onPostEdit=function(e){S.E({trackback:l.d.reserveTag(593801875),id:e,data:r.props.dataItems,selectedComment:r.props.selectedState,renderContextType:r.props.componentTree.componentTreeId.renderContextType,actionDispatchers:r.props,telemetryVisitor:r.props.telemetryVisitor})},r.onPostCommit=function(e,t){S.C({trackback:l.d.reserveTag(593826141),id:e.getId(),data:r.props.dataItems,draftState:r.props.draftState,contentPromise:e.getContentsAsync(),atMentionsEnabled:r.props.modelCapabilities.atMention===h.b.Enabled,componentTree:r.props.componentTree,actionDispatchers:r.props,telemetryVisitor:r.props.telemetryVisitor,commitSource:t,localizationAPI:r.props.localizationAPI}).catch(Object(m.a)(l.d.reserveTag(593826142)))},r.onPostDraftEmptinessChanged=function(e,t){S.q({trackback:l.d.reserveTag(592041679),contentId:e.getId(),isEmpty:t,renderContextType:r.props.componentTree.componentTreeId.renderContextType,draftIdMap:r.props.draftState.postIdToDraftIdMap,actionDispatchers:r.props,telemetryVisitor:r.props.telemetryVisitor})},r.onPostSaveDraft=function(e,t){S.x({trackback:l.d.reserveTag(592720402),id:e,editor:t,renderContextType:r.props.componentTree.componentTreeId.renderContextType,draftIdMap:r.props.draftState.postIdToDraftIdMap,draftMap:r.props.draftState.drafts,actionDispatchers:r.props,telemetryVisitor:r.props.telemetryVisitor})},r.onPostCancel=function(e){S.z({trackback:l.d.reserveTag(593826145),commentId:e.getId(),setContents:e.setContents.bind(e),data:r.props.dataItems,draftState:r.props.draftState,shouldClosePaneAfterDiscardDraft:!1,onWillDiscardCallback:void 0,renderContextType:r.props.componentTree.componentTreeId.renderContextType,dispatchProps:r.props,telemetryVisitor:r.props.telemetryVisitor,localizationAPI:r.props.localizationAPI})},r.onLowFidelityWarningCancel=function(){S.r({selectedState:r.props.selectedState,renderContextType:r.props.componentTree.componentTreeId.renderContextType,dispatchProps:r.props,telemetryVisitor:r.props.telemetryVisitor})},r.onLowFidelityWarningConfirm=function(){S.s({selectedState:r.props.selectedState,onCardDelete:r.cardOnDelete,onPostDelete:r.onPostDelete,onPostEdit:r.onPostEdit})},r.onPostReactionUpdated=function(e,t,n){S.w(l.d.reserveTag(587994052),e,t,r.props.componentTree.componentTreeId.renderContextType,r.props,r.props.telemetryVisitor,n)},r.onPresentLinkToComment=function(e){S.v(l.d.reserveTag(578852485),e,r.props.componentTree.componentTreeId.renderContextType,r.props,r.props.telemetryVisitor)},r.onRenderableItemSelect=function(e,t){var n=r.getRenderableItemFromRef(e);n?S.J({trackback:l.d.reserveTag(593826147),renderableItem:n,selectedComment:r.props.selectedState,cardCollapsedState:r.props.cardCollapsedState,dispatchProps:r.props,telemetryVisitor:r.props.telemetryVisitor,componentTree:r.props.componentTree,shouldFocusAfter:t,draftState_deprecated:r.props.draftState}).catch(Object(m.a)(l.d.reserveTag(590123736))):Object(f.k)().assertConditionTag(!1,"Comment not rendered within Card. Is something incorrect in the tree?",593826146)},r.onPostCollapse=function(e){var t=r.getRenderableItemFromRef(e);t?S.B(l.d.reserveTag(589940442),t,r.props,r.props.telemetryVisitor,r.props.componentTree):Object(f.k)().assertConditionTag(!1,"Collapse from an unknown post?",589940441)},r.onPostFocusParent=function(e){var t=r.getRenderableItemFromRef(e);t?S.H(t,r.props.componentTree,r.props.focusManager,r.props.draftState):Object(f.k)().assertConditionTag(!1,"Focus parent from unknown post?",545867680)},r.cardOnResolveThread=function(e){S.m({componentTree:r.props.componentTree,focusManager:r.props.focusManager,trackback:l.d.reserveTag(593826176),id:e,renderContextType:r.props.componentTree.componentTreeId.renderContextType,dispatchProps:r.props,telemetryVisitor:r.props.telemetryVisitor,localizationAPI:r.props.localizationAPI,isTask:!!r.props.threadTaskState})},r.cardOnReopenThread=function(e){S.l({trackback:l.d.reserveTag(593826177),id:e,renderContextType:r.props.componentTree.componentTreeId.renderContextType,dispatchProps:r.props,telemetryVisitor:r.props.telemetryVisitor,localizationAPI:r.props.localizationAPI,isTask:!!r.props.threadTaskState})},r.cardOnDelete=function(e){Object(f.k)().assertConditionTag(r.props.componentTree.componentTreeId.renderContextType!==x.a.HalfPane,"Discard not yet fully supported for HalfPane in DHC",593826178),S.d({trackback:l.d.reserveTag(592840777),id:e,data:r.props.dataItems,selectedComment:r.props.selectedState,componentTree:r.props.componentTree,invokeModalDialog:void 0,dispatchProps:r.props,telemetryVisitor:r.props.telemetryVisitor,localizationAPI:r.props.localizationAPI,focusManager:r.props.focusManager,isTask:!!r.props.threadTaskState,threadIndex:0,shouldCheckForLowFidelity:r.shouldCheckForLowFidelityOnCardDelete()})},r.cardOnPost=function(e,t){var n=r.props.isDraftThread?{type:"CREATE"}:{type:"REPLY",parentId:e.getId()};S.c({trackback:l.d.reserveTag(593622431),commentCardRef:e,draftState:r.props.draftState,areMentionsEnabled:r.props.modelCapabilities.atMention===h.b.Enabled,session:n,componentTree:r.props.componentTree,dispatchProps:r.props,telemetryVisitor:r.props.telemetryVisitor,localizationAPI:r.props.localizationAPI,commitSource:t}).catch(Object(m.a)(l.d.reserveTag(593622432)))},r.cardOnCollapseCallback=function(e){S.b({trackback:l.d.reserveTag(562918285),commentCardRef:e,renderContextType:r.props.componentTree.componentTreeId.renderContextType,dispatchProps:r.props,telemetryVisitor:r.props.telemetryVisitor})},r.cardOnSelectCallback=function(e){S.n({trackback:l.d.reserveTag(571281792),commentCardRef:e,dispatchProps:r.props,telemetryVisitor:r.props.telemetryVisitor,componentTree:r.props.componentTree,options:{selectActionType:b.SelectActionType.SelectCard}})},r.cardOnSelectExpandCallback=function(e,t,n){S.n({trackback:l.d.reserveTag(571281763),commentCardRef:e,dispatchProps:r.props,telemetryVisitor:r.props.telemetryVisitor,componentTree:r.props.componentTree,options:{selectActionType:b.SelectActionType.ExpandCard,relativeDraftingState:r.props.cardRelativeDraftingState,draftState:r.props.draftState,shouldFocusAfter:n,selectRootPost:t}})},r.cardOnFocusCallback=function(e){S.i({trackback:l.d.reserveTag(571340120),commentCardRef:e,dispatchProps:r.props,telemetryVisitor:r.props.telemetryVisitor,componentTree:r.props.componentTree,options:{selectActionType:b.SelectActionType.Polite},focusManager:r.props.focusManager,isDraftThread:r.props.isDraftThread})},r.cardOnBeginReplyCallback=function(e){S.a({trackback:l.d.reserveTag(593826189),threadId:e.getId(),renderContextType:r.props.componentTree.componentTreeId.renderContextType,dispatchProps:r.props,telemetryVisitor:r.props.telemetryVisitor})},r.cardOnHighlight=function(e,t){S.j({trackback:l.d.reserveTag(593826190),commentCardRef:e,renderContextType:r.props.componentTree.componentTreeId.renderContextType,dispatchProps:r.props,telemetryVisitor:r.props.telemetryVisitor,shouldHighlightCard:t})},r.cardOnDraftingInputSizeChange=function(e,t){S.f({trackback:l.d.reserveTag(593826191),focusManager:r.props.focusManager,componentTree:r.props.componentTree,cardId:e.getId(),isCardLie:r.props.isDraftThread,newHeight:t,renderContextType:r.props.componentTree.componentTreeId.renderContextType,selectedComment:r.props.selectedState,dispatchProps:r.props,telemetryVisitor:r.props.telemetryVisitor})},r.cardOnDraftEmptinessChanged=function(e,t){S.q({trackback:l.d.reserveTag(592213847),contentId:e.getId(),isEmpty:t,renderContextType:r.props.componentTree.componentTreeId.renderContextType,draftIdMap:r.props.draftState.cardIdToDraftIdMap,actionDispatchers:r.props,telemetryVisitor:r.props.telemetryVisitor})},r.cardOnEditorFocusLost=function(e){S.g({trackback:l.d.reserveTag(592065734),id:e.getId(),draftState:r.props.draftState,renderContextType:r.props.componentTree.componentTreeId.renderContextType,dispatchProps:r.props,telemetryVisitor:r.props.telemetryVisitor})},r.cardOnTaskTopperCheckboxPressed=function(){r.props.threadTaskState?S.o({componentTree:r.props.componentTree,focusManager:r.props.focusManager,trackback:l.d.reserveTag(593826194),id:r.props.threadId,renderContextType:r.props.componentTree.componentTreeId.renderContextType,dispatchProps:r.props,telemetryVisitor:r.props.telemetryVisitor,localizationAPI:r.props.localizationAPI}):Object(f.k)().assertConditionTag(!1,"props.threadTaskState is undefined",593826193)},r.cardOnSaveDraft=function(e,t){S.x({trackback:l.d.reserveTag(592720403),id:e,editor:t,renderContextType:r.props.componentTree.componentTreeId.renderContextType,draftIdMap:r.props.draftState.cardIdToDraftIdMap,draftMap:r.props.draftState.drafts,actionDispatchers:r.props,telemetryVisitor:r.props.telemetryVisitor})},r.cardOnCancel=function(e){Object(f.k)().assertConditionTag(r.props.isDraftThread||r.props.cardRelativeDraftingState===w.a.InCard,"Mismatch between selectedComment state and cancel reply callback.",593826196),S.e({trackback:l.d.reserveTag(592840778),showDiscardDialog:!1,invokeModalDialog:void 0,componentTree:r.props.componentTree,dispatchProps:r.props,closeOnDiscard:!1,cardId:r.props.threadId,draftState:r.props.draftState,telemetryVisitor:r.props.telemetryVisitor,localizationAPI:r.props.localizationAPI,focusManager:r.props.focusManager,lieIndex:0})},r.commentEditorOnKeyDown=function(e){r.commentEditorKeyDownHandler.onKeyDown(e)},r.onPostError=function(e){S.G({trackback:l.d.reserveTag(593764370),id:e.getId(),data:r.props.dataItems,renderContextType:r.props.componentTree.componentTreeId.renderContextType,actionDispatchers:r.props,telemetryVisitor:r.props.telemetryVisitor})},r.onClearPostError=function(e){S.A({trackback:l.d.reserveTag(593764371),id:e.getId(),data:r.props.dataItems,renderContextType:r.props.componentTree.componentTreeId.renderContextType,actionDispatchers:r.props,telemetryVisitor:r.props.telemetryVisitor})},r.onCardMounted=function(e){S.k({cardProps:e,componentTree:r.props.componentTree,focusManager:r.props.focusManager})},r.onCardEditorMounted=function(e){S.h({cardId:e,componentTree:r.props.componentTree,focusManager:r.props.focusManager})},r.onPostMounted=function(e){S.I({postId:e,componentTree:r.props.componentTree,focusManager:r.props.focusManager})},r.onPostEditorMounted=function(e){S.F({postId:e,componentTree:r.props.componentTree,focusManager:r.props.focusManager})},r.onCardRendered=Object(d.a)((function(e){r.props.onInitialRender({commentId:e.id,renderContextType:r.props.componentTree.componentTreeId.renderContextType})})),r.onSelectedTaskAssigneeUpdated=function(e){S.y({trackback:l.d.reserveTag(593826204),renderContextType:r.props.componentTree.componentTreeId.renderContextType,dispatchProps:r.props,telemetryVisitor:r.props.telemetryVisitor,selectedAssignee:e})},r.getPostOrHistoryRecordStates=Object(u.b)(T.c,(function(){return[r.props.dataItems,r.props.threadPostStates,r.props.historyRecordViewStates]})),r.onMentionCreated=r.onMentionCreated.bind(r),r.onMentioneesStillInDraftUpdated=r.onMentioneesStillInDraftUpdated.bind(r),r.getAuthToken=r.getAuthToken.bind(r),r.commentPostCallbackProps={onDelete:r.onPostDelete,onEdit:r.onPostEdit,onCommit:r.onPostCommit,onCancel:r.onPostCancel,onSelect:r.onRenderableItemSelect,onDraftEmptinessChanged:r.onPostDraftEmptinessChanged,onSaveDraft:r.onPostSaveDraft,onLowFidelityWarningConfirm:r.onLowFidelityWarningConfirm,onLowFidelityWarningCancel:r.onLowFidelityWarningCancel,onPostMounted:r.onPostMounted,onPostEditorMounted:r.onPostEditorMounted,onError:r.onPostError,onClearError:r.onClearPostError,commentEditorAdditionalKeyDownHandler:r.commentEditorOnKeyDown,onCollapseParent:r.onPostCollapse,onFocusParent:r.onPostFocusParent,onReactionUpdated:r.onPostReactionUpdated,onPresentLinkToComment:r.onPresentLinkToComment,onClickableTextClicked:r.props.onClickableTextClicked},r.commentCardCallbackProps={onEditorPress:r.cardOnBeginReplyCallback,onCardCollapse:r.cardOnCollapseCallback,onCardSelect:r.cardOnSelectCallback,onCardSelectExpand:r.cardOnSelectExpandCallback,onCardFocus:r.cardOnFocusCallback,onCardHighlightChange:r.cardOnHighlight,onDraftingInputSizeChange:r.cardOnDraftingInputSizeChange,onDraftEmptinessChanged:r.cardOnDraftEmptinessChanged,onEditorBlur:r.cardOnEditorFocusLost,onCancel:r.cardOnCancel,onPost:r.cardOnPost,onSaveDraft:r.cardOnSaveDraft,onSelectedTaskAssigneeUpdated:r.onSelectedTaskAssigneeUpdated,onCardMounted:r.onCardMounted,onCardEditorMounted:r.onCardEditorMounted,onCardRendered:r.onCardRendered,onLowFidelityWarningConfirm:r.onLowFidelityWarningConfirm,onLowFidelityWarningCancel:r.onLowFidelityWarningCancel,onTaskTopperCheckboxPressed:r.cardOnTaskTopperCheckboxPressed,commentEditorAdditionalKeyDownHandler:r.commentEditorOnKeyDown,onReactionUpdated:r.onPostReactionUpdated,onEditRootPost:r.onPostEdit},r.contextualMenuCallbackProps={onReopenThread:r.cardOnReopenThread,onResolveThread:r.cardOnResolveThread,onDeleteThread:r.cardOnDelete,onEditRootPost:r.onPostEdit,onPresentLinkToComment:r.onPresentLinkToComment},r.renderableItemActionBarItems=_.d(r.props.localizationAPI,r.commentPostCallbackProps),r.cardContextMenuItems=_.b(r.props.localizationAPI,r.contextualMenuCallbackProps),r.commentContentsKeyDownHandler=r.props.focusManager.commentContentsKeyDown((function(){return r.props.componentTree}),y.c()?function(){return r.props.dataItems}:void 0),r.commentEditorKeyDownHandler=r.props.focusManager.commentEditorKeyDown((function(){return r.props.componentTree})),r}return Object(a.c)(t,e),t.prototype.focus=function(){this.props.focusManager.focusCommentCardCommand(this.props.componentTree,this.props.threadId),this.props.selectComment(this.props.componentTree,{renderContextType:this.props.componentTree.componentTreeId.renderContextType,trackback:l.d.reserveTag(590205772),telemetryVisitor:this.props.telemetryVisitor},{selectedCard:this.props.threadId,selectType:b.SelectActionType.ExpandCard,source:v.a.Canvas},!1).catch(Object(m.a)(l.d.reserveTag(590104656)))},t.prototype.getInstanceId=function(){return this.props.componentInstanceId},t.prototype.shouldComponentUpdate=function(e,r){return t.havePropsMeaningfullyChanged(e,this.props)},t.prototype.updateDraftRenderLockIfApplicable=function(e){var t=Object(g.K)(this.props.draftState);t&&t.threadId===this.props.threadId&&this.props.updateRenderLockForDraft({renderContextType:this.props.componentTree.componentTreeId.renderContextType,trackback:l.d.reserveTag(593826137),telemetryVisitor:this.props.telemetryVisitor},e,t.commentDraft.sessionConfiguration.draftId)},t.prototype.componentDidMount=function(){var e,t,r,n;null===(t=(e=this.props).componentRef)||void 0===t||t.call(e,this),null===(n=(r=this.props).setComponentRef)||void 0===n||n.call(r,this.props.componentInstanceId,this),this.updateDraftRenderLockIfApplicable(!0)},t.prototype.componentWillUnmount=function(){var e,t;null===(t=(e=this.props).setComponentRef)||void 0===t||t.call(e,this.props.componentInstanceId,null)},t.prototype.componentDidUpdate=function(e,t){if(this.props.draftState!==e.draftState){var r=Object(g.K)(e.draftState),n=Object(g.K)(this.props.draftState);!n||n.renderContextType===this.props.componentTree.componentTreeId.renderContextType||void 0!==r&&r.renderContextType===n.renderContextType||this.updateDraftRenderLockIfApplicable(!0)}this.props.focusManager.discreteCommentCardPropsUpdated(this.props.componentTree,e,this.props)},t.havePropsMeaningfullyChanged=function(e,t){var r=Object.keys(e),n=Object.keys(t);return r.length!==n.length||r.some((function(r){if(t[r]===e[r])return!1;if("dataItems"===r){if(t.dataItems.length!==e.dataItems.length)return!0;for(var n=0;n<t.dataItems.length;n++){var o=t.dataItems[n],i=e.dataItems[n];if(Object(I.a)(o)&&Object(I.a)(i)&&o.commentModel!==i.commentModel||!!o.historyItem!=!!i.historyItem)return!0}return!1}return"object"!==R(t[r])||!function(e,t){if(!e&&t||e&&!t)return!1;if(!e&&!t)return!0;var r=Object.keys(e),n=Object.keys(t);return r.length===n.length&&r.every((function(r){return e[r]===t[r]}))}(t[r],e[r])}))},t.prototype.getAuthToken=function(){return this.props.peopleAPI.getAuthToken(p.c.Loki)},t.prototype.getRenderableItemFromRef=function(e){var t=e.getId();return this.props.dataItems.find((function(e){return E.e(e)===t}))},t.prototype.shouldCheckForLowFidelityOnCardDelete=function(){return!1},t.prototype.getKeyboardingOptions=function(){return{cardTabbingMode:C.a.ExpandedCardOrFirstCardTabbable,postTabbingMode:C.b.ExpandedCardRootPostTabbable}},t.prototype.onMentionCreated=function(e){S.t({failTag:l.d.reserveTag(593826199),successTag:l.d.reserveTag(593826200),person:e,dispatchProps:this.props,telemetryVisitor:this.props.telemetryVisitor,renderContextType:this.props.componentTree.componentTreeId.renderContextType,trackback:l.d.reserveTag(593826201)})},t.prototype.onMentioneesStillInDraftUpdated=function(e){S.u({trackback:l.d.reserveTag(593826203),emailsStillInDraft:e,renderContextType:this.props.componentTree.componentTreeId.renderContextType,dispatchProps:this.props,telemetryVisitor:this.props.telemetryVisitor})},t.prototype.renderThread=function(e){return e},t.prototype.onQueueLoadThread=function(){this.props.modelCapabilities.virtualized&&!this.props.isDraftThread&&this.props.queueLoadThread({renderContextType:this.props.componentTree.componentTreeId.renderContextType,telemetryVisitor:this.props.telemetryVisitor,trackback:l.d.reserveTag(573145492)})},t.prototype.render=function(){var e,t;this.onQueueLoadThread();var r=this.getMentionableCommentEditorProps(this.props.modelCapabilities.atMention,this.props.suggestionsDetails),n=void 0!==this.props.cardRelativeDraftingState,o=n||this.props.readOnly?O.a.None:O.a.Any,i=this.props.dataItems.length>1,a=T.e({thread:this.props.dataItems,renderContextType:this.props.componentTree.componentTreeId.renderContextType,cardState:this.props.cardState,postCallbacks:this.commentPostCallbackProps,mentionableEditorProps:r,cardCallbacks:this.commentCardCallbackProps,localizationAPI:this.props.localizationAPI,getActionBarItems:this.getRenderableItemActionBarItems,selectedState:this.props.selectedState,isolationEdit:this.props.componentTree.componentTreeId.renderContextType===x.a.HalfPane,isAtMentionEnabled:this.props.modelCapabilities.atMention===h.b.Enabled,isTaskCreationEnabled:Object(g.c)(this.props.modelCapabilities),isDraftThread:this.props.isDraftThread,isCommentsContextReadOnly:this.props.readOnly,keyboardingOptions:this.getKeyboardingOptions(),personaIconPropertiesMap:this.props.personaIconPropertiesMap,draftState:this.props.draftState,cardCollapsedState:this.props.cardCollapsedState,cardRelativeDraftingState:this.props.cardRelativeDraftingState,accessibilitySetSize:this.props.accessibilitySetSize,accessibilityPositionInSet:this.props.accessibilityPositionInSet,accessibilityLevel:this.props.accessibilityLevel,maximumDimensions:this.props.maximumDimensions,getCardContextualMenuItems:this.getCardContextualMenuItems,mentionEditorProps:r,restrictActionControls_deprecated:n,allowedDraftingSession:o,availableScreenHeight:void 0,contentBackgroundColor:i?"CardReplyBackground":"CardBackground",extraPaddingLeft:void 0,extraPaddingRight:void 0,preventDefaultKeyDownBehavior:this.getContentsPreventDefaultKeyDownBehavior(),isCardHighlighted:this.props.isHighlighted,maxDraftHeight:void 0,taskState:this.props.threadTaskState,cardStyle:void 0,onCardLayout:void 0,isCardTabbable:T.b(this.getKeyboardingOptions().cardTabbingMode,this.props.threadId,!1,this.props.cardCollapsedState,this.props.selectedState),postOrHistoryRecordStates:this.getPostOrHistoryRecordStates(),richTextCapabilities:this.props.modelCapabilities.richTextCapabilities,isUIAAnnotationPatternEnabled:this.props.modelCapabilities.UIAAnnotationPattern,isResolveSupported:this.props.modelCapabilities.resolve,tabFocusTrapBehavior:null===(t=null===(e=this.props)||void 0===e?void 0:e.accessibilityMetadata)||void 0===t?void 0:t.tabFocusTrapBehavior});return s.createElement(P.a.Provider,{value:this.props.lppManager},s.createElement(k.a.Provider,{value:this.props.componentTree.componentTreeId},s.createElement(j.Provider,{value:this.props.commentAPI},this.renderThread(a))))},t}(s.Component),D=r(2),B=Object(D.memoizeFunction)((function(e,t){return{cardContainer:Object(D.mergeStyles)({position:"relative",zIndex:Object(T.d)(e,t)||Object(T.a)(e,t)?1:0})}})),M=function(e){function t(t){var r=e.call(this,t)||this;return r.rootRef=s.createRef(),r.componentTree=r.props.componentTree,r}return Object(a.c)(t,e),t.prototype.componentDidMount=function(){this.props.focusManager.discreteCommentCardRootRefMounted(this.rootRef),e.prototype.componentDidMount.call(this)},t.prototype.getContentsPreventDefaultKeyDownBehavior=function(){},t.prototype.renderThread=function(e){var t=B(e.props.id,this.props.selectedState).cardContainer;return s.createElement("div",{ref:this.rootRef,className:t,onKeyDown:this.commentContentsKeyDownHandler.onKeyDown},e)},t}(A),N=r(1084),L=r(1202),F=Object(n.connect)((function(){var e,t=i.e(),r=i.c(),n=i.m((function(e){return o.g(e,!0)}),(function(e){return o.i(e,!0)}),t,r),a=i.l(n),s=i.j(),l=i.h(),c=i.b(),u=i.a(),d=i.k(),p=i.i(n,d),f=i.f(d);return function(t,r){if(r.isVirtualized&&e)return e;var i=n(t,r),h=d(t,r),m=i.thread[0].commentId;return e={threadId:m,dataItems:p(t,r),threadTaskState:h&&h.currentState,threadPostStates:a(t,r),historyRecordViewStates:f(t,r),selectedState:s(t,r),cardCollapsedState:Object(N.a)(m,o.j(t),r.componentTree.componentTreeId.renderContextType),readOnly:o.o(t),cardState:c(t,r),isHighlighted:l(t,r),personaIconPropertiesMap:o.r(t),isDraftThread:i.isDraftThread,draftState:o.h(t),cardRelativeDraftingState:u(t,r),modelCapabilities:o.p(t),suggestionsDetails:o.w(t)}}}),L.a)(M)},1463:function(e,t,r){"use strict";t.a=function(){return!1}},1464:function(e,t,r){"use strict";(function(e){var n=r(601);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i="object"==("undefined"==typeof exports?"undefined":o(exports))&&exports&&!exports.nodeType&&exports,a=i&&"object"==o(e)&&e&&!e.nodeType&&e,s=a&&a.exports===i&&n.a.process,l=function(){try{var e=a&&a.require&&a.require("util").types;return e||s&&s.binding&&s.binding("util")}catch(e){}}();t.a=l}).call(this,r(1275)(e))},1465:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(1466),t),o(r(1469),t),o(r(1470),t),o(r(1474),t),o(r(1479),t),o(r(1481),t),o(r(1484),t),o(r(1487),t),o(r(1491),t),o(r(1495),t),o(r(1198),t),o(r(1279),t),o(r(1500),t),o(r(1503),t),o(r(1504),t),o(r(1510),t),o(r(1514),t),o(r(1517),t),o(r(1521),t),o(r(1525),t),o(r(1528),t),o(r(1531),t),o(r(1281),t),o(r(1532),t),o(r(1282),t)},1466:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.Alert=void 0;var i=r(1467);Object.defineProperty(t,"Alert",{enumerable:!0,get:function(){return i.Alert}}),o(r(1468),t)},1467:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Alert=void 0;var n=function(){function e(){}return e.alert=function(e,t,r,n){var o=e;t&&(o+="\n"+t),r?n?!0===window.confirm(o)?r.onClick():n.onClick():(window.alert(o),r.onClick()):window.alert(o)},e}();t.Alert=n},1468:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AlertButtonStyle=void 0,function(e){e.default="default",e.cancel="cancel",e.destructive="destructive"}(t.AlertButtonStyle||(t.AlertButtonStyle={}))},1469:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AppRegistry=void 0,t.AppRegistry=function(){function e(){}return e.registerComponent=function(e,t){console.error("This does not work in web currently, but will likely be needed once we have a web react bridge")},e}()},1470:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.Checkbox=void 0;var i=r(1471);Object.defineProperty(t,"Checkbox",{enumerable:!0,get:function(){return i.Checkbox}}),o(r(1473),t)},1471:function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Checkbox=void 0;var l=r(2),c=s(r(1)),u=r(1472),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){var e=this.props,t=e.label,r=e.disabled,n=e.defaultChecked,i=e.onValueChange,a={};return void 0!==t&&(a.label=t),void 0!==r&&(a.disabled=r),void 0!==n&&(a.defaultChecked=n),void 0!==i&&(a.onChange=i),c.createElement(l.Checkbox,o({},a))},t.prototype.setFocus=function(){},t.defaultProps=u.CheckboxDefaultProps,t}(c.Component);t.Checkbox=d,t.default=d},1472:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CheckboxDefaultProps=void 0,t.CheckboxDefaultProps={label:"",description:"",disabled:!1,defaultChecked:!1,checked:!1,onValueChange:void 0}},1473:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1474:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.CommandButton=void 0;var i=r(1475);Object.defineProperty(t,"CommandButton",{enumerable:!0,get:function(){return i.CommandButton}}),o(r(1478),t)},1475:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&o(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CommandButton=void 0;var s=r(2),l=r(1105),c=a(r(1)),u=r(1477),d=r(1106);t.CommandButton=function(e){var t=e.accessibilityDescription,r=e.accessibilityLabel,o=e.tooltip,i=e.disabled,a=e.icon,u=e.onClick,p=e.text,f=(0,l.getIconProps)(a),h=(0,d.buildLeafStyle)([{flexGrow:0},e.style]);return c.createElement(s.CommandButton,n({ariaDescription:t,ariaLabel:r,disabled:i,iconProps:f,onClick:u},h&&{style:h},{title:o,text:p}))},t.CommandButton.defaultProps=u.CommandButtonDefaultProps,t.CommandButton.displayName="CommandButton",t.default=t.CommandButton},1476:function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&o(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.View=t.ViewBase=t.Styles=t.Component=void 0;var s=a(r(1)),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t}(s.Component);t.Component=l;var c=function(){return function(){}}();t.Styles=c;var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t}(s.Component);t.ViewBase=u;var d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t}(u);t.View=d},1477:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.CommandButtonDefaultProps=void 0;var o=r(1278);t.CommandButtonDefaultProps=n({},o.DefaultButtonDefaultProps)},1478:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1479:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.ContextualMenu=void 0;var i=r(1197);Object.defineProperty(t,"ContextualMenu",{enumerable:!0,get:function(){return i.ContextualMenu}}),o(r(1480),t)},1480:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1481:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultButton=void 0;var i=r(1482);Object.defineProperty(t,"DefaultButton",{enumerable:!0,get:function(){return i.DefaultButton}}),o(r(1483),t)},1482:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&o(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultButton=void 0;var s=r(2),l=r(1105),c=r(1197),u=a(r(1)),d=r(1278),p=r(1106);t.DefaultButton=function(e){var t=e.text,r=e.tooltip,o=e.onClick,i=e.disabled,a=e.accessibilityLabel,d=e.accessibilityDescription,f=e.icon,h=e.menuProps,m=(0,l.getIconProps)(f),y=(0,c.getContextualMenuItems)(h),b=(0,p.buildLeafStyle)(e.style);return u.createElement(s.DefaultButton,n({text:t,title:r,onClick:o,disabled:i,ariaLabel:a,ariaDescription:d,iconProps:m,menuProps:y},b&&{style:b}))},t.DefaultButton.defaultProps=d.DefaultButtonDefaultProps,t.DefaultButton.displayName="DefaultButton"},1483:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1484:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.Hyperlink=void 0;var i=r(1485);Object.defineProperty(t,"Hyperlink",{enumerable:!0,get:function(){return i.Hyperlink}}),o(r(1486),t)},1485:function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&o(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Hyperlink=void 0;var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){return null},t}(a(r(1)).Component);t.Hyperlink=s,t.default=s},1486:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1487:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.HyperlinkButton=void 0;var i=r(1488);Object.defineProperty(t,"HyperlinkButton",{enumerable:!0,get:function(){return i.HyperlinkButton}}),o(r(1490),t)},1488:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&o(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.HyperlinkButton=void 0;var s=r(2),l=a(r(1)),c=r(1489),u=r(1106);t.HyperlinkButton=function(e){(0,c.validateHyperlinkButtonProps)(e);var t=(0,u.buildLeafStyle)(e.style);return l.createElement(s.Link,n({children:e.text?e.text:e.url,disabled:e.disabled,href:e.url,onClick:e.url?void 0:e.onClick},t&&{style:t},{title:e.tooltip}))},t.HyperlinkButton.displayName="HyperlinkButton"},1489:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTooltip=t.validateHyperlinkButtonProps=t.isHyperLinkShowingUrl=void 0,t.isHyperLinkShowingUrl=function(e){return!e.text||!!e.url&&e.text===e.url},t.validateHyperlinkButtonProps=function(e){e.url&&e.onClick&&console.error("onClick should not be specified on HyperlinkButton when a url is provided.  The onClick handler will be ignored"),e.url||e.onClick||console.error("You must specify either an onClick handler, or a url for a HyperlinkButton"),e.text||e.url||console.error("You must specify either the text or the url property")},t.getTooltip=function(e){return e.tooltip||e.text||e.url}},1490:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1491:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.IconButton=void 0;var i=r(1492);Object.defineProperty(t,"IconButton",{enumerable:!0,get:function(){return i.IconButton}}),o(r(1494),t)},1492:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&o(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.IconButton=void 0;var s=r(2),l=r(1105),c=r(1197),u=a(r(1)),d=r(1493),p=r(1106);t.IconButton=function(e){var t=e.accessibilityDescription,r=e.accessibilityLabel,o=e.tooltip,i=e.disabled,a=e.menuProps,d=e.onClick,f=e.icon,h=(0,l.getIconProps)(f),m=(0,c.getContextualMenuItems)(a),y=(0,p.buildLeafStyle)(e.style);return u.createElement(s.IconButton,n({ariaDescription:t,ariaLabel:r,disabled:i,iconProps:h,menuProps:m,onClick:d},y&&{style:y},{title:o}))},t.IconButton.displayName="IconButton",t.IconButton.defaultProps=d.IconButtonDefaultProps},1493:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IconButtonDefaultProps=void 0,t.IconButtonDefaultProps={icon:null,tooltip:null,onClick:null,disabled:!1}},1494:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1495:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.Image=void 0;var i=r(1105);Object.defineProperty(t,"Image",{enumerable:!0,get:function(){return i.Image}}),o(r(1496),t)},1496:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1497:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.PalettesContext=t.Palettes=t.PalettesCollection=void 0;var a=i(r(1)),s=function(){function e(){this._buildIn={ID:0,Bkg:"#FFFFFF",Text:"#262626",TextSecondary:"#666666",TextEmphasis:"#2B579A",TextDisabled:"#B1B1B1",AccentLight:"#E6E6E6",BkgCtl:"#FFFFFFFF",BkgHover:"#EDEBE9",BkgPressed:"#E1DFDD",BkgDisabled:"#D2D0CE",TextRest:"#262626FF",TextHover:"#262626FF",TextPressed:"#262626FF",TextLink:"357FCAFF"}}return Object.defineProperty(e.prototype,"Default",{get:function(){return this._buildIn},enumerable:!1,configurable:!0}),e.prototype.getPalette=function(e){return this._buildIn},e}();t.PalettesCollection=s,t.Palettes=new s,t.PalettesContext=a.createContext(t.Palettes.Default)},1498:function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&o(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.PersonaImage=t.PersonaInitialsColor=void 0;var s,l=r(2),c=r(2),u=a(r(1)),d=r(1279),p=r(1499);function f(e){switch(e){case d.PersonaImageSize.extraSmall:return l.PersonaSize.size8;case d.PersonaImageSize.small:return l.PersonaSize.size24;case d.PersonaImageSize.normal:return l.PersonaSize.size32;case d.PersonaImageSize.large:return l.PersonaSize.size40;case d.PersonaImageSize.extraLarge:return l.PersonaSize.size48;case d.PersonaImageSize.extraExtraLarge:return l.PersonaSize.size72;default:return l.PersonaSize.size32}}!function(e){e[e.lightBlue=0]="lightBlue",e[e.blue=1]="blue",e[e.darkBlue=2]="darkBlue",e[e.teal=3]="teal",e[e.lightGreen=4]="lightGreen",e[e.green=5]="green",e[e.darkGreen=6]="darkGreen",e[e.lightPink=7]="lightPink",e[e.pink=8]="pink",e[e.magenta=9]="magenta",e[e.purple=10]="purple",e[e.black=11]="black",e[e.orange=12]="orange",e[e.red=13]="red",e[e.darkRed=14]="darkRed"}(s=t.PersonaInitialsColor||(t.PersonaInitialsColor={}));var h=Object.keys(s).length/2,m=function(e){function t(t){var r=e.call(this,t)||this;return r._isMounted=!1,r.state={imageBlobUrl:"string"==typeof r.props.source?r.props.source:r.props.source?r.props.source.uri:void 0,brandImageBlobUrl:"string"==typeof r.props.brandIconSource?r.props.brandIconSource:r.props.brandIconSource?r.props.brandIconSource.uri:void 0},r}return n(t,e),t.prototype.componentWillUnmount=function(){this._isMounted=!1},t.prototype.componentDidMount=function(){this._isMounted=!0,this._updateImageSourceUrl(),this._updateBrandImageSourceUrl()},t.prototype.componentDidUpdate=function(e,t){e.source!==this.props.source&&this._updateImageSourceUrl(),e.brandIconSource!==this.props.brandIconSource&&this._updateBrandImageSourceUrl()},t.prototype.render=function(){var e=this.props.displayName,t=this._getTextBoyColor(e),r=(0,p.getInitials)(e),n=(0,p.getAccessibilityLabel)(e,this.props.accessibilityLabel);if(this.props.brandIconSource){var o=(0,p.getBrandIconSize)(this.props.size);return u.createElement("div",{style:{position:"relative",display:"flex",alignSelf:"flex-start"}},u.createElement(l.Persona,{imageUrl:this.state.imageBlobUrl,size:f(this.props.size),hidePersonaDetails:!0,imageAlt:n,text:this.props.displayName,imageInitials:r,initialsColor:t,imageShouldFadeIn:!1}),u.createElement(c.Image,{style:{position:"absolute",right:0,bottom:0,width:o,height:o,zIndex:10},src:this.state.brandImageBlobUrl}))}return u.createElement(l.Persona,{imageUrl:this.state.imageBlobUrl,size:f(this.props.size),hidePersonaDetails:!0,imageAlt:n,text:this.props.displayName,imageInitials:r,initialsColor:t,imageShouldFadeIn:!1})},t.prototype._updateImageSourceUrl=function(){var e=this,t=this.props.source;t&&"string"!=typeof t?this._retrieveImage(t,!0).then((function(r){e._isMounted&&t===e.props.source&&e.setState({imageBlobUrl:r})})):this.setState({imageBlobUrl:t||void 0})},t.prototype._updateBrandImageSourceUrl=function(){var e=this,t=this.props.brandIconSource;t&&"string"!=typeof t?this._retrieveImage(t,!1).then((function(r){e._isMounted&&t===e.props.brandIconSource&&e.setState({brandImageBlobUrl:r})})):this.setState({brandImageBlobUrl:t||void 0})},t.prototype._retrieveImage=function(e,t){var r=this;return fetch(e.uri,{method:"GET",headers:new Headers(e.headers)}).then((function(e){if(200!==e.status)throw console.warn("Status ="+e.status),new Error("Network error:"+e.status);if(e.ok)return e.blob();throw new Error("Network response was not ok.")})).then((function(e){var n=URL.createObjectURL(e);return t&&r.props.onLoad&&r.props.onLoad(),n})).catch((function(e){console.warn("Error retrieving Picture  "+e.message),t&&r.props.onError&&r.props.onError()}))},t.prototype._getTextBoyColor=function(e){if(!e)return null;for(var t=0,r=e.length-1;r>=0;r--){var n=e.charCodeAt(r),o=r%8;t^=(n<<o)+(n>>8-o)}return t%h},t}(u.Component);t.PersonaImage=m,t.default=m},1499:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBrandIconSize=t.getBackgroundColor=t.getInitialsColor=t.getInitials=t.getAccessibilityLabel=t.PHOTO_ANIMATION_DELAY=t.TEXTBOY_RENDER_DELAY=t.getHash=void 0;var n=r(1280);function o(e){for(var t=0,r=e.length-1;r>=0;r--){var n=e.charCodeAt(r),o=r%8;t^=(n<<o)+(n>>8-o)}return t}t.getHash=o;var i=["rgb(153, 180, 51)","rgb(107, 165, 231)","rgb(231, 115, 189)","rgb(0, 163, 0)","rgb(30, 113, 69)","rgb(255, 0, 151)","rgb(126, 56, 120)","rgb(96, 60, 186)","rgb(29, 29, 29)","rgb(0, 171, 169)","rgb(45, 137, 239)","rgb(43, 87, 151)","rgb(218, 83, 44)","rgb(185, 29, 71)","rgb(238, 17, 17)"];t.TEXTBOY_RENDER_DELAY=100,t.PHOTO_ANIMATION_DELAY=250;t.getAccessibilityLabel=function(e,t){return t||"Picture of "+e};var a=/\(([^)]*)\)/gi,s=/\([^)]*\)|[\0-\u001F\!-/:-@\[-`\{-\u00BF\u0250-\u036F\uD800-\uFFFF]/gi,l=/\s+/gi;t.getInitials=function(e){var t="";if(!e)return t;var r=(e=(e=(e=(e=e.replace(a,"")).replace(s,"")).replace(l," ")).trim()).split(" ");return r.length>=2?(t+=r[0].charAt(0).toUpperCase(),t+=r[r.length-1].charAt(0).toUpperCase()):0!==r.length&&(t+=r[0].charAt(0).toUpperCase()),t},t.getInitialsColor=function(e){return e?"white":"rgb(102,102,102)"},t.getBackgroundColor=function(e,t,r){if(!t)return"rgb(204,204,204)";if(r)return r;if(!e)return"rgb(234,234,234)";var n=o(e);return i[n%i.length]},t.getBrandIconSize=function(e){switch(e){case n.PersonaImageSize.extraSmall:return 8;case n.PersonaImageSize.small:return 12;case n.PersonaImageSize.normal:return 16;case n.PersonaImageSize.large:return 20;case n.PersonaImageSize.extraLarge:return 28;case n.PersonaImageSize.extraExtraLarge:return 36;default:return 0}}},1500:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.Pivot=void 0;var i=r(1501);Object.defineProperty(t,"Pivot",{enumerable:!0,get:function(){return i.Pivot}}),o(r(1502),t)},1501:function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&o(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Pivot=void 0;var s=r(2),l=a(r(1)),c=function(e){function t(t){var r=e.call(this,t)||this;return r._onLinkClick=r._onLinkClick.bind(r),r}return n(t,e),t.prototype.render=function(){var e=void 0!==this.props.initialSelectedIndex?this.props.items[this.props.initialSelectedIndex].key:void 0;return l.createElement(s.Pivot,{defaultSelectedKey:e,onLinkClick:this._onLinkClick},this.props.items.map((function(e){return l.createElement(s.PivotItem,{key:e.key,itemKey:e.key,headerText:e.label},e.render())})))},t.prototype.switchToNextTab=function(e){console.warn("SwitchToNextTab not yet implemented")},t.prototype.setSelectedPivotItem=function(e){console.warn("SetTabIndex not yet implemented")},t.prototype._onLinkClick=function(e,t){this.props.onSelectedPivotChanged(e.props.itemKey)},t}(l.Component);t.Pivot=c,t.default=c},1502:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1503:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Platform=void 0;var n=function(){function e(){}return e.select=function(e){return"web"in e?e.web:e.default},e.OS="web",e}();t.Platform=n},1504:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(1505),t),o(r(1509),t)},1505:function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&o(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ReadOnlyDataField=void 0;var s=r(1281),l=a(r(1)),c=r(1508),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){var e=this.props.text;return l.createElement(s.Text,{textStyle:this.props.textStyle,numberOfLines:this.props.numberOfLines}," ",e," ")},t.defaultProps=c.ReadOnlyDataFieldDefaultProps,t}(l.Component);t.ReadOnlyDataField=u,t.default=u},1506:function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Text=void 0;var l=s(r(1)),c=r(1198),u={defaultStyle:{position:"relative",display:"inline",flex:"0 0 auto",overflow:"hidden",whiteSpace:"pre-wrap",overflowWrap:"break-word",msHyphens:"auto"},ellipsis:{position:"relative",display:"inline",flex:"0 0 auto",overflow:"hidden",whiteSpace:"pre",textOverflow:"ellipsis"}},d={SmallStandard:"ms-font-s",SmallSecondary:"ms-font-s",MediumStandard:"ms-font-m",MediumSecondary:"ms-font-m",MediumApp:"ms-font-m",MediumBold:"ms-font-m ms-fontWeight-semibold",MediumBoldApp:"ms-font-m ms-fontWeight-semibold",LargeStandard:"ms-font-m-plus",LargePlusStandard:"ms-font-l",ExtraLargeStandard:"ms-font-xl",HugeStandard:"ms-font-xxl"},p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){var e=this;return"string"==typeof this.props.children&&"\n"===this.props.children?l.createElement("br",null):l.createElement(c.PalettesContext.Consumer,null,(function(t){return l.createElement("div",{style:e._getStyles(t),className:d[e.props.textStyle]||"ms-font-m"},e.props.children)}))},t.prototype._getStyles=function(e){var t=o({},1===this.props.numberOfLines?u.ellipsis:u.defaultStyle);if(this.props.disabled)t.color=e.TextDisabled;else switch(this.props.textStyle){case"SmallStandard":t.color=e.Text;break;case"SmallSecondary":t.color=e.TextSecondary;break;case"MediumStandard":t.color=e.Text;break;case"MediumSecondary":t.color=e.TextSecondary;break;case"MediumApp":t.color=e.TextEmphasis;break;case"MediumBold":t.color=e.Text;break;case"MediumBoldApp":t.color=e.TextEmphasis;break;case"LargeStandard":case"LargePlusStandard":case"ExtraLargeStandard":case"HugeStandard":t.color=e.Text;break;default:t.color=e.Text}return t},t}(l.Component);t.Text=p,t.default=p},1507:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1508:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReadOnlyDataFieldDefaultProps=void 0,t.ReadOnlyDataFieldDefaultProps={text:"",textStyle:"MediumStandard",numberOfLines:0}},1509:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1510:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.DeltaFormattingType=t.RichTextInput=void 0;var i=r(1511);Object.defineProperty(t,"RichTextInput",{enumerable:!0,get:function(){return i.RichTextInput}});var a=r(1193);Object.defineProperty(t,"DeltaFormattingType",{enumerable:!0,get:function(){return a.DeltaFormattingType}}),o(r(1512),t),o(r(1513),t)},1511:function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&o(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.RichTextInput=void 0;var s=a(r(1)),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){return console.warn("RichTextInput not implemented in web"),s.createElement("div",null,"RichTextInput not implemented in web")},t.prototype.setFormattedText=function(e){},t.prototype.getFormattedText=function(){return null},t.prototype.replaceTextAtCurrentIndex=function(e,t){},t.prototype.replaceText=function(e,t,r){},t.prototype.getSelectionStart=function(){return null},t.prototype.getSelectionEnd=function(){return null},t.prototype.getCaretRect=function(){return null},t.prototype.clear=function(){},t.prototype.focus=function(){},t.prototype.blur=function(){},t.prototype.isFocused=function(){return!1},t.prototype.setTextSelection=function(e,t){console.warn("RTI: setTextSelection not implemented")},t}(s.Component);t.RichTextInput=l,t.default=l},1512:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DeltaParaOperationAlign=t.DeltaListOperationEndType=t.DeltaListOperationType=t.DeltaSubscriptAndSuperscript=void 0,function(e){e[e.None=0]="None",e[e.Subscript=1]="Subscript",e[e.Superscript=2]="Superscript"}(t.DeltaSubscriptAndSuperscript||(t.DeltaSubscriptAndSuperscript={})),function(e){e[e.None=0]="None",e[e.Bullet=1]="Bullet",e[e.NumberArabic=2]="NumberArabic",e[e.AlphabetLowerCase=3]="AlphabetLowerCase",e[e.AlphabetUpperCase=4]="AlphabetUpperCase",e[e.NumberRomanLowerCase=5]="NumberRomanLowerCase",e[e.NumberRomanUpperCase=6]="NumberRomanUpperCase"}(t.DeltaListOperationType||(t.DeltaListOperationType={})),function(e){e[e.Parenthesis=0]="Parenthesis",e[e.Period=1]="Period",e[e.Plain=2]="Plain",e[e.Minus=3]="Minus"}(t.DeltaListOperationEndType||(t.DeltaListOperationEndType={})),function(e){e[e.Left=0]="Left",e[e.Center=1]="Center",e[e.Right=2]="Right",e[e.Justify=3]="Justify"}(t.DeltaParaOperationAlign||(t.DeltaParaOperationAlign={}))},1513:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RichTextInputDefaultProps=t.CustomKeys=void 0,function(e){e.ESCAPE="ESC",e.ENTER="ENTER",e.UP="UP",e.DOWN="DOWN",e.TAB="TAB",e.BACKSPACE="BACKSPACE",e.DEL="DEL",e.LEFT="LEFT",e.RIGHT="RIGHT"}(t.CustomKeys||(t.CustomKeys={})),t.RichTextInputDefaultProps={listenForCustomKeyEvents:!1,customKeys:[],editable:!0,maximumNumberOfLines:0,scrollEnabled:!0,autoCorrect:!0}},1514:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.Separator=void 0;var i=r(1515);Object.defineProperty(t,"Separator",{enumerable:!0,get:function(){return i.Separator}}),o(r(1516),t)},1515:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&o(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Separator=void 0;var s=a(r(1)),l=r(1198);t.Separator=function(e){var t=e.vertical,r=t?{width:1}:{height:1};return s.createElement(l.PalettesContext.Consumer,null,(function(o){return s.createElement("div",{style:n({alignSelf:"stretch",flexDirection:t?"column":"row",display:"flex",alignItems:"center"},e.style)},s.createElement("div",{style:n(n({},r),{backgroundColor:o.AccentLight,flexGrow:1})}))}))},t.Separator.displayName="Separator"},1516:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1517:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.ScrollView=void 0;var i=r(1518);Object.defineProperty(t,"ScrollView",{enumerable:!0,get:function(){return i.ScrollView}}),o(r(1520),t)},1518:function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ScrollView=void 0;var l=s(r(1)),c=r(1519),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){var e,t,r,n;switch(this.props.scrollDirection){case"horizontal":e="hidden",t="auto",r="flex",n="row";break;case"vertical":e="auto",t="hidden",r="block",n="column";break;case"both":e="auto",t="auto",r="block",n="row"}var i={overflowY:e,overflowX:t,display:r,flexDirection:n};return l.createElement("div",{style:o(o(o({},this.props.style),{position:"relative",overflow:"hidden",flexGrow:1,flexShrink:1,alignSelf:"stretch",flex:"1 1 auto"}),i),children:this.props.children})},t.defaultProps=c.ScrollViewDefaultProps,t}(l.Component);t.ScrollView=u,t.default=u},1519:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ScrollViewDefaultProps=void 0,t.ScrollViewDefaultProps={scrollDirection:"vertical"}},1520:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1521:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.SuggestionsCallout=void 0;var i=r(1522);Object.defineProperty(t,"SuggestionsCallout",{enumerable:!0,get:function(){return i.SuggestionsCallout}}),o(r(1524),t)},1522:function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&o(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.SuggestionsCallout=void 0;var s=a(r(1)),l=r(1523),c=function(e){function t(t){var r=e.call(this,t)||this;return r.state={dismiss:!1},r}return n(t,e),t.prototype.render=function(){return null},t.defaultProps=l.SuggestionsCalloutDefaultProps,t}(s.Component);t.SuggestionsCallout=c,t.default=c},1523:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SuggestionsCalloutDefaultProps=void 0,t.SuggestionsCalloutDefaultProps={target:void 0,anchorPos:void 0,onDismiss:void 0}},1524:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1525:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.Spinner=void 0;var i=r(1526);Object.defineProperty(t,"Spinner",{enumerable:!0,get:function(){return i.Spinner}}),o(r(1527),t)},1526:function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&o(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Spinner=void 0;var s=r(2),l=a(r(1)),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){var e=this.props,t=e.size,r=e.label;return l.createElement(s.Spinner,{label:r,size:this._convertSize(t)})},t.prototype._convertSize=function(e){switch(e){case"xsmall":return s.SpinnerSize.xSmall;case"small":return s.SpinnerSize.small;case"medium":return s.SpinnerSize.medium;case"large":return s.SpinnerSize.large;default:return}},t}(l.Component);t.Spinner=c,t.default=c},1527:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1528:function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&o(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.StackView=void 0;var s=a(r(1)),l=r(1282),c=function(){},u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={highlighted:-1},t.isHighlighted=function(e){var r=t.state.highlighted;return r===e||r===e+1},t.separators=function(e){return{highlight:function(){return t.setState({highlighted:e})},unhighlight:function(){return t.setState({highlighted:-1})},updateProps:c}},t.shouldDrawSeparator=function(e,t){return t<e.length-1},t}return n(t,e),t.prototype.render=function(){var e=this,t=this.props,r=t.ItemSeparatorComponent,n=t.horizontal,o=t.data,i=t.keyExtractor,a=t.renderItem;return o&&0!==o.length?s.createElement(l.View,{style:n?{flexDirection:"row"}:{flexDirection:"column"}},o.map((function(t,c){var u=a({item:t,index:c,separators:e.separators(c)});return u?s.createElement(l.View,{key:i(t,c),style:n?{flexDirection:"row"}:{flexDirection:"column"}},u,r&&e.shouldDrawSeparator(o,c)?s.createElement(r,{highlighted:e.isHighlighted(c),vertical:n}):null):null}))):null},t}(s.PureComponent);t.StackView=u},1529:function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.View=void 0;var l=s(r(1)),c=r(1106),u=function(e){function t(t){return e.call(this,t)||this}return n(t,e),t.prototype.render=function(){return l.createElement("div",o({},(0,c.buildDivProps)(this.props)),this.props.children)},t}(l.Component);t.View=u,t.default=u},1530:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventPhase=void 0,function(e){e[e.None=0]="None",e[e.Capturing=1]="Capturing",e[e.AtTarget=2]="AtTarget",e[e.Bubbling=3]="Bubbling"}(t.EventPhase||(t.EventPhase={}))},1531:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StyleSheet=void 0;var n=r(1196);Object.defineProperty(t,"StyleSheet",{enumerable:!0,get:function(){return n.StyleSheet}})},1532:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(1533),t),o(r(1534),t)},1533:function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&o(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.TouchableNative=void 0;var s=a(r(1)),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){return console.warn("TouchableNative not implemented in web"),s.createElement("div",null,"TouchableNative not implemented in web")},t}(s.Component);t.TouchableNative=l,t.default=l},1534:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1535:function(e,t,r){(function(e){var r,n,o;function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(a,s){"object"===i(t)&&"object"===i(e)?e.exports=s():(n=[],void 0===(o="function"==typeof(r=s)?r.apply(t,n):r)||(e.exports=o))}(window,(function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===i(e)&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=59)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(9),o=r(10),i=r(11),a=r(32),s=r(33),l=r(34),c=r(35),u=r(36),d=r(7),p=r(19),f=r(20),h=r(18),m=r(3),y={Scope:m.Scope,create:m.create,find:m.find,query:m.query,register:m.register,Container:n.default,Format:o.default,Leaf:i.default,Embed:c.default,Scroll:a.default,Block:l.default,Inline:s.default,Text:u.default,Attributor:{Attribute:d.default,Class:p.default,Style:f.default,Store:h.default}};t.default=y},function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=r(38),i=r(5),a=r(2),s=r(6),l=String.fromCharCode(0),c=function(e){Array.isArray(e)?this.ops=e:null!=e&&Array.isArray(e.ops)?this.ops=e.ops:this.ops=[]};c.prototype.insert=function(e,t){var r={};return 0===e.length?this:(r.insert=e,null!=t&&"object"===n(t)&&Object.keys(t).length>0&&(r.attributes=t),this.push(r))},c.prototype.delete=function(e){return e<=0?this:this.push({delete:e})},c.prototype.retain=function(e,t){if(e<=0)return this;var r={retain:e};return null!=t&&"object"===n(t)&&Object.keys(t).length>0&&(r.attributes=t),this.push(r)},c.prototype.push=function(e){var t=this.ops.length,r=this.ops[t-1];if(e=a(!0,{},e),"object"===n(r)){if("number"==typeof e.delete&&"number"==typeof r.delete)return this.ops[t-1]={delete:r.delete+e.delete},this;if("number"==typeof r.delete&&null!=e.insert&&(t-=1,"object"!==n(r=this.ops[t-1])))return this.ops.unshift(e),this;if(i(e.attributes,r.attributes)){if("string"==typeof e.insert&&"string"==typeof r.insert)return this.ops[t-1]={insert:r.insert+e.insert},"object"===n(e.attributes)&&(this.ops[t-1].attributes=e.attributes),this;if("number"==typeof e.retain&&"number"==typeof r.retain)return this.ops[t-1]={retain:r.retain+e.retain},"object"===n(e.attributes)&&(this.ops[t-1].attributes=e.attributes),this}}return t===this.ops.length?this.ops.push(e):this.ops.splice(t,0,e),this},c.prototype.chop=function(){var e=this.ops[this.ops.length-1];return e&&e.retain&&!e.attributes&&this.ops.pop(),this},c.prototype.filter=function(e){return this.ops.filter(e)},c.prototype.forEach=function(e){this.ops.forEach(e)},c.prototype.map=function(e){return this.ops.map(e)},c.prototype.partition=function(e){var t=[],r=[];return this.forEach((function(n){(e(n)?t:r).push(n)})),[t,r]},c.prototype.reduce=function(e,t){return this.ops.reduce(e,t)},c.prototype.changeLength=function(){return this.reduce((function(e,t){return t.insert?e+s.length(t):t.delete?e-t.delete:e}),0)},c.prototype.length=function(){return this.reduce((function(e,t){return e+s.length(t)}),0)},c.prototype.slice=function(e,t){e=e||0,"number"!=typeof t&&(t=1/0);for(var r=[],n=s.iterator(this.ops),o=0;o<t&&n.hasNext();){var i;o<e?i=n.next(e-o):(i=n.next(t-o),r.push(i)),o+=s.length(i)}return new c(r)},c.prototype.compose=function(e){var t=s.iterator(this.ops),r=s.iterator(e.ops),n=[],o=r.peek();if(null!=o&&"number"==typeof o.retain&&null==o.attributes){for(var a=o.retain;"insert"===t.peekType()&&t.peekLength()<=a;)a-=t.peekLength(),n.push(t.next());o.retain-a>0&&r.next(o.retain-a)}for(var l=new c(n);t.hasNext()||r.hasNext();)if("insert"===r.peekType())l.push(r.next());else if("delete"===t.peekType())l.push(t.next());else{var u=Math.min(t.peekLength(),r.peekLength()),d=t.next(u),p=r.next(u);if("number"==typeof p.retain){var f={};"number"==typeof d.retain?f.retain=u:f.insert=d.insert;var h=s.attributes.compose(d.attributes,p.attributes,"number"==typeof d.retain);if(h&&(f.attributes=h),l.push(f),!r.hasNext()&&i(l.ops[l.ops.length-1],f)){var m=new c(t.rest());return l.concat(m).chop()}}else"number"==typeof p.delete&&"number"==typeof d.retain&&l.push(p)}return l.chop()},c.prototype.concat=function(e){var t=new c(this.ops.slice());return e.ops.length>0&&(t.push(e.ops[0]),t.ops=t.ops.concat(e.ops.slice(1))),t},c.prototype.diff=function(e,t){if(this.ops===e.ops)return new c;var r=[this,e].map((function(t){return t.map((function(r){if(null!=r.insert)return"string"==typeof r.insert?r.insert:l;throw new Error("diff() called "+(t===e?"on":"with")+" non-document")})).join("")})),n=new c,a=o(r[0],r[1],t),u=s.iterator(this.ops),d=s.iterator(e.ops);return a.forEach((function(e){for(var t=e[1].length;t>0;){var r=0;switch(e[0]){case o.INSERT:r=Math.min(d.peekLength(),t),n.push(d.next(r));break;case o.DELETE:r=Math.min(t,u.peekLength()),u.next(r),n.delete(r);break;case o.EQUAL:r=Math.min(u.peekLength(),d.peekLength(),t);var a=u.next(r),l=d.next(r);i(a.insert,l.insert)?n.retain(r,s.attributes.diff(a.attributes,l.attributes)):n.push(l).delete(r)}t-=r}})),n.chop()},c.prototype.eachLine=function(e,t){t=t||"\n";for(var r=s.iterator(this.ops),n=new c,o=0;r.hasNext();){if("insert"!==r.peekType())return;var i=r.peek(),a=s.length(i)-r.peekLength(),l="string"==typeof i.insert?i.insert.indexOf(t,a)-a:-1;if(l<0)n.push(r.next());else if(l>0)n.push(r.next(l));else{if(!1===e(n,r.next(1).attributes||{},o))return;o+=1,n=new c}}n.length()>0&&e(n,{},o)},c.prototype.transform=function(e,t){if(t=!!t,"number"==typeof e)return this.transformPosition(e,t);for(var r=s.iterator(this.ops),n=s.iterator(e.ops),o=new c;r.hasNext()||n.hasNext();)if("insert"!==r.peekType()||!t&&"insert"===n.peekType())if("insert"===n.peekType())o.push(n.next());else{var i=Math.min(r.peekLength(),n.peekLength()),a=r.next(i),l=n.next(i);if(a.delete)continue;l.delete?o.push(l):o.retain(i,s.attributes.transform(a.attributes,l.attributes,t))}else o.retain(s.length(r.next()));return o.chop()},c.prototype.transformPosition=function(e,t){t=!!t;for(var r=s.iterator(this.ops),n=0;r.hasNext()&&n<=e;){var o=r.peekLength(),i=r.peekType();r.next(),"delete"!==i?("insert"===i&&(n<e||!t)&&(e+=o),n+=o):e-=Math.min(o,e-n)}return e},e.exports=c},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=Object.prototype.hasOwnProperty,i=Object.prototype.toString,a=Object.defineProperty,s=Object.getOwnPropertyDescriptor,l=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===i.call(e)},c=function(e){if(!e||"[object Object]"!==i.call(e))return!1;var t,r=o.call(e,"constructor"),n=e.constructor&&e.constructor.prototype&&o.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!r&&!n)return!1;for(t in e);return void 0===t||o.call(e,t)},u=function(e,t){a&&"__proto__"===t.name?a(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},d=function(e,t){if("__proto__"===t){if(!o.call(e,t))return;if(s)return s(e,t).value}return e[t]};e.exports=function e(){var t,r,o,i,a,s,p=arguments[0],f=1,h=arguments.length,m=!1;for("boolean"==typeof p&&(m=p,p=arguments[1]||{},f=2),(null==p||"object"!==n(p)&&"function"!=typeof p)&&(p={});f<h;++f)if(null!=(t=arguments[f]))for(r in t)o=d(p,r),p!==(i=d(t,r))&&(m&&i&&(c(i)||(a=l(i)))?(a?(a=!1,s=o&&l(o)?o:[]):s=o&&c(o)?o:{},u(p,{name:r,newValue:e(m,s,i)})):void 0!==i&&u(p,{name:r,newValue:i}));return p}},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.register=t.query=t.find=t.create=t.Scope=t.DATA_KEY=t.ParchmentError=void 0;var o=function(e){function t(t){var r=this;return t="[Parchment] "+t,(r=e.call(this,t)||this).message=t,r.name=r.constructor.name,r}return n(t,e),t}(Error);t.ParchmentError=o;var i,a={},s={},l={},c={};function u(e,t){var r;if(void 0===t&&(t=i.ANY),"string"==typeof e)r=c[e]||a[e];else if(e instanceof Text||e.nodeType===Node.TEXT_NODE)r=c.text;else if("number"==typeof e)e&i.LEVEL&i.BLOCK?r=c.block:e&i.LEVEL&i.INLINE&&(r=c.inline);else if(e instanceof HTMLElement){var n=(e.getAttribute("class")||"").split(/\s+/);for(var o in n)if(r=s[n[o]])break;r=r||l[e.tagName]}return null==r?null:t&i.LEVEL&r.scope&&t&i.TYPE&r.scope?r:null}t.DATA_KEY="__blot",function(e){e[e.TYPE=3]="TYPE",e[e.LEVEL=12]="LEVEL",e[e.ATTRIBUTE=13]="ATTRIBUTE",e[e.BLOT=14]="BLOT",e[e.INLINE=7]="INLINE",e[e.BLOCK=11]="BLOCK",e[e.BLOCK_BLOT=10]="BLOCK_BLOT",e[e.INLINE_BLOT=6]="INLINE_BLOT",e[e.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",e[e.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",e[e.ANY=15]="ANY"}(i=t.Scope||(t.Scope={})),t.create=function(e,t){var r=u(e);if(null==r)throw new o("Unable to create ".concat(e," blot"));var n=r,i=e instanceof Node||e.nodeType===Node.TEXT_NODE?e:n.create(t);return new n(i,t)},t.find=function e(r,n){return void 0===n&&(n=!1),null==r?null:null!=r[t.DATA_KEY]?r[t.DATA_KEY].blot:n?e(r.parentNode,n):null},t.query=u,t.register=function e(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(t.length>1)return t.map((function(t){return e(t)}));var n=t[0];if("string"!=typeof n.blotName&&"string"!=typeof n.attrName)throw new o("Invalid definition");if("abstract"===n.blotName)throw new o("Cannot register abstract class");if(c[n.blotName||n.attrName]=n,"string"==typeof n.keyName)a[n.keyName]=n;else if(null!=n.className&&(s[n.className]=n),null!=n.tagName){Array.isArray(n.tagName)?n.tagName=n.tagName.map((function(e){return e.toUpperCase()})):n.tagName=n.tagName.toUpperCase();var i=Array.isArray(n.tagName)?n.tagName:[n.tagName];i.forEach((function(e){null!=l[e]&&null!=n.className||(l[e]=n)}))}return n}},function(e,t,r){(function(e,t){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var n=function(){"use strict";function t(e,t){return null!=t&&e instanceof t}var n,o,i;try{n=Map}catch(e){n=function(){}}try{o=Set}catch(e){o=function(){}}try{i=Promise}catch(e){i=function(){}}function a(s,c,u,d,p){"object"===r(c)&&(u=c.depth,d=c.prototype,p=c.includeNonEnumerable,c=c.circular);var f=[],h=[],m=void 0!==e;return void 0===c&&(c=!0),void 0===u&&(u=1/0),function s(u,y){if(null===u)return null;if(0===y)return u;var b,v;if("object"!=r(u))return u;if(t(u,n))b=new n;else if(t(u,o))b=new o;else if(t(u,i))b=new i((function(e,t){u.then((function(t){e(s(t,y-1))}),(function(e){t(s(e,y-1))}))}));else if(a.__isArray(u))b=[];else if(a.__isRegExp(u))b=new RegExp(u.source,l(u)),u.lastIndex&&(b.lastIndex=u.lastIndex);else if(a.__isDate(u))b=new Date(u.getTime());else{if(m&&e.isBuffer(u))return b=e.allocUnsafe?e.allocUnsafe(u.length):new e(u.length),u.copy(b),b;t(u,Error)?b=Object.create(u):void 0===d?(v=Object.getPrototypeOf(u),b=Object.create(v)):(b=Object.create(d),v=d)}if(c){var g=f.indexOf(u);if(-1!=g)return h[g];f.push(u),h.push(b)}for(var O in t(u,n)&&u.forEach((function(e,t){var r=s(t,y-1),n=s(e,y-1);b.set(r,n)})),t(u,o)&&u.forEach((function(e){var t=s(e,y-1);b.add(t)})),u){var w;v&&(w=Object.getOwnPropertyDescriptor(v,O)),w&&null==w.set||(b[O]=s(u[O],y-1))}if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(u);for(O=0;O<x.length;O++){var C=x[O];(!(T=Object.getOwnPropertyDescriptor(u,C))||T.enumerable||p)&&(b[C]=s(u[C],y-1),T.enumerable||Object.defineProperty(b,C,{enumerable:!1}))}}if(p){var S=Object.getOwnPropertyNames(u);for(O=0;O<S.length;O++){var T,j=S[O];(T=Object.getOwnPropertyDescriptor(u,j))&&T.enumerable||(b[j]=s(u[j],y-1),Object.defineProperty(b,j,{enumerable:!1}))}}return b}(s,u)}function s(e){return Object.prototype.toString.call(e)}function l(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return a.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},a.__objToStr=s,a.__isDate=function(e){return"object"===r(e)&&"[object Date]"===s(e)},a.__isArray=function(e){return"object"===r(e)&&"[object Array]"===s(e)},a.__isRegExp=function(e){return"object"===r(e)&&"[object RegExp]"===s(e)},a.__getRegExpFlags=l,a}();"object"===r(t)&&t.exports&&(t.exports=n)}).call(this,r(52).Buffer,r(57)(e))},function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=r(21),i=r(40),a=r(44),s=r(47),l=r(48),c=r(51),u=Date.prototype.getTime;function d(e,t,r){var h=r||{};return!!(h.strict?a(e,t):e===t)||(!e||!t||"object"!==n(e)&&"object"!==n(t)?h.strict?a(e,t):e==t:function(e,t,r){var a,h;if(n(e)!==n(t))return!1;if(p(e)||p(t))return!1;if(e.prototype!==t.prototype)return!1;if(i(e)!==i(t))return!1;var m=s(e),y=s(t);if(m!==y)return!1;if(m||y)return e.source===t.source&&l(e)===l(t);if(window["6ff612ab-3392-44a5-86ac-d2d82005ae77-deep-equal-patch"]){var b=Object.prototype.toString.call(e),v=Object.prototype.toString.call(t);if(b===v==="[object Date]")return+e==+t}else if(c(e)&&c(t))return u.call(e)===u.call(t);var g=f(e),O=f(t);if(g!==O)return!1;if(g||O){if(e.length!==t.length)return!1;for(a=0;a<e.length;a++)if(e[a]!==t[a])return!1;return!0}if(n(e)!==n(t))return!1;try{var w=o(e),x=o(t)}catch(e){return!1}if(w.length!==x.length)return!1;for(w.sort(),x.sort(),a=w.length-1;a>=0;a--)if(w[a]!=x[a])return!1;for(a=w.length-1;a>=0;a--)if(h=w[a],!d(e[h],t[h],r))return!1;return!0}(e,t,h))}function p(e){return null==e}function f(e){return!(!e||"object"!==n(e)||"number"!=typeof e.length)&&("function"==typeof e.copy&&"function"==typeof e.slice&&!(e.length>0&&"number"!=typeof e[0]))}e.exports=d},function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=r(5),i=r(2),a={attributes:{compose:function(e,t,r){"object"!==n(e)&&(e={}),"object"!==n(t)&&(t={});var o=i(!0,{},t);for(var a in r||(o=Object.keys(o).reduce((function(e,t){return null!=o[t]&&(e[t]=o[t]),e}),{})),e)void 0!==e[a]&&void 0===t[a]&&(o[a]=e[a]);return Object.keys(o).length>0?o:void 0},diff:function(e,t){"object"!==n(e)&&(e={}),"object"!==n(t)&&(t={});var r=Object.keys(e).concat(Object.keys(t)).reduce((function(r,n){return o(e[n],t[n])||(r[n]=void 0===t[n]?null:t[n]),r}),{});return Object.keys(r).length>0?r:void 0},transform:function(e,t,r){if("object"!==n(e))return t;if("object"===n(t)){if(!r)return t;var o=Object.keys(t).reduce((function(r,n){return void 0===e[n]&&(r[n]=t[n]),r}),{});return Object.keys(o).length>0?o:void 0}}},iterator:function(e){return new s(e)},length:function(e){return"number"==typeof e.delete?e.delete:"number"==typeof e.retain?e.retain:"string"==typeof e.insert?e.insert.length:1}};function s(e){this.ops=e,this.index=0,this.offset=0}s.prototype.hasNext=function(){return this.peekLength()<1/0},s.prototype.next=function(e){e||(e=1/0);var t=this.ops[this.index];if(t){var r=this.offset,n=a.length(t);if(e>=n-r?(e=n-r,this.index+=1,this.offset=0):this.offset+=e,"number"==typeof t.delete)return{delete:e};var o={};return t.attributes&&(o.attributes=t.attributes),"number"==typeof t.retain?o.retain=e:"string"==typeof t.insert?o.insert=t.insert.substr(r,e):o.insert=t.insert,o}return{retain:1/0}},s.prototype.peek=function(){return this.ops[this.index]},s.prototype.peekLength=function(){return this.ops[this.index]?a.length(this.ops[this.index])-this.offset:1/0},s.prototype.peekType=function(){return this.ops[this.index]?"number"==typeof this.ops[this.index].delete?"delete":"number"==typeof this.ops[this.index].retain?"retain":"insert":"retain"},s.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var e=this.offset,t=this.index,r=this.next(),n=this.ops.slice(this.index);return this.offset=e,this.index=t,[r].concat(n)}return[]},e.exports=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3),o=function(){function e(e,t,r){void 0===r&&(r={}),this.attrName=e,this.keyName=t;var o=n.Scope.TYPE&n.Scope.ATTRIBUTE;null!=r.scope?this.scope=r.scope&n.Scope.LEVEL|o:this.scope=n.Scope.ATTRIBUTE,null!=r.whitelist&&(this.whitelist=r.whitelist)}return e.keys=function(e){return[].map.call(e.attributes,(function(e){return e.name}))},e.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(e.setAttribute(this.keyName,t),!0)},e.prototype.canAdd=function(e,t){return null!=n.query(e,n.Scope.BLOT&(this.scope|n.Scope.TYPE))&&(null==this.whitelist||("string"==typeof t?this.whitelist.indexOf(t.replace(/["']/g,""))>-1:this.whitelist.indexOf(t)>-1))},e.prototype.remove=function(e){e.removeAttribute(this.keyName)},e.prototype.value=function(e){var t=e.getAttribute(this.keyName);return this.canAdd(e,t)&&t?t:""},e}();t.default=o},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=r(21),i="function"==typeof Symbol&&"symbol"===n(Symbol("foo")),a=Object.prototype.toString,s=Array.prototype.concat,l=Object.defineProperty,c=r(45)(),u=l&&c,d=function(e,t,r,n){if(t in e)if(!0===n){if(e[t]===r)return}else if(!function(e){return"function"==typeof e&&"[object Function]"===a.call(e)}(n)||!n())return;u?l(e,t,{configurable:!0,enumerable:!1,value:r,writable:!0}):e[t]=r},p=function(e,t){var r=arguments.length>2?arguments[2]:{},n=o(t);i&&(n=s.call(n,Object.getOwnPropertySymbols(t)));for(var a=0;a<n.length;a+=1)d(e,n[a],t[n[a]],r[n[a]])};p.supportsDescriptors=!!u,e.exports=p},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(31),i=r(17),a=r(3),s=function(e){function t(t){var r=e.call(this,t)||this;return r.build(),r}return n(t,e),t.prototype.appendChild=function(e){this.insertBefore(e)},t.prototype.attach=function(){e.prototype.attach.call(this),this.children.forEach((function(e){e.attach()}))},t.prototype.build=function(){var e=this;this.children=new o.default,[].slice.call(this.domNode.childNodes).reverse().forEach((function(t){try{var r=l(t);e.insertBefore(r,e.children.head||void 0)}catch(e){if(e instanceof a.ParchmentError)return;throw e}}))},t.prototype.deleteAt=function(e,t){if(0===e&&t===this.length())return this.remove();this.children.forEachAt(e,t,(function(e,t,r){e.deleteAt(t,r)}))},t.prototype.descendant=function(e,r){var n=this.children.find(r),o=n[0],i=n[1];return null==e.blotName&&e(o)||null!=e.blotName&&o instanceof e?[o,i]:o instanceof t?o.descendant(e,i):[null,-1]},t.prototype.descendants=function(e,r,n){void 0===r&&(r=0),void 0===n&&(n=Number.MAX_VALUE);var o=[],i=n;return this.children.forEachAt(r,n,(function(r,n,a){(null==e.blotName&&e(r)||null!=e.blotName&&r instanceof e)&&o.push(r),r instanceof t&&(o=o.concat(r.descendants(e,n,i))),i-=a})),o},t.prototype.detach=function(){this.children.forEach((function(e){e.detach()})),e.prototype.detach.call(this)},t.prototype.formatAt=function(e,t,r,n){this.children.forEachAt(e,t,(function(e,t,o){e.formatAt(t,o,r,n)}))},t.prototype.insertAt=function(e,t,r){var n=this.children.find(e),o=n[0],i=n[1];if(o)o.insertAt(i,t,r);else{var s=null==r?a.create("text",t):a.create(t,r);this.appendChild(s)}},t.prototype.insertBefore=function(e,t){if(null!=this.statics.allowedChildren&&!this.statics.allowedChildren.some((function(t){return e instanceof t})))throw new a.ParchmentError("Cannot insert ".concat(e.statics.blotName," into ").concat(this.statics.blotName));e.insertInto(this,t)},t.prototype.length=function(){return this.children.reduce((function(e,t){return e+t.length()}),0)},t.prototype.moveChildren=function(e,t){this.children.forEach((function(r){e.insertBefore(r,t)}))},t.prototype.optimize=function(t){if(e.prototype.optimize.call(this,t),0===this.children.length)if(null!=this.statics.defaultChild){var r=a.create(this.statics.defaultChild);this.appendChild(r),r.optimize(t)}else this.remove()},t.prototype.path=function(e,r){void 0===r&&(r=!1);var n=this.children.find(e,r),o=n[0],i=n[1],a=[[this,e]];return o instanceof t?a.concat(o.path(i,r)):(null!=o&&a.push([o,i]),a)},t.prototype.removeChild=function(e){this.children.remove(e)},t.prototype.replace=function(r){r instanceof t&&r.moveChildren(this),e.prototype.replace.call(this,r)},t.prototype.split=function(e,t){if(void 0===t&&(t=!1),!t){if(0===e)return this;if(e===this.length())return this.next}var r=this.clone();return this.parent.insertBefore(r,this.next),this.children.forEachAt(e,this.length(),(function(e,n,o){e=e.split(n,t),r.appendChild(e)})),r},t.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},t.prototype.update=function(e,t){var r=this,n=[],o=[];e.forEach((function(e){e.target===r.domNode&&"childList"===e.type&&(n.push.apply(n,e.addedNodes),o.push.apply(o,e.removedNodes))})),o.forEach((function(e){if(!(null!=e.parentNode&&"IFRAME"!==e.tagName&&document.body.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var t=a.find(e);null!=t&&(null!=t.domNode.parentNode&&t.domNode.parentNode!==r.domNode||t.detach())}})),n.filter((function(e){return e.parentNode==r.domNode})).sort((function(e,t){return e===t?0:e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1})).forEach((function(e){var t=null;null!=e.nextSibling&&(t=a.find(e.nextSibling));var n=l(e);n.next==t&&null!=n.next||(null!=n.parent&&n.parent.removeChild(r),r.insertBefore(n,t||void 0))}))},t}(i.default);function l(e){var t=a.find(e);if(null==t)try{t=a.create(e)}catch(r){t=a.create(a.Scope.INLINE),[].slice.call(e.childNodes).forEach((function(e){t.domNode.appendChild(e)})),e.parentNode&&e.parentNode.replaceChild(t.domNode,e),t.attach()}return t}t.default=s},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(7),i=r(18),a=r(9),s=r(3),l=function(e){function t(t){var r=e.call(this,t)||this;return r.attributes=new i.default(r.domNode),r}return n(t,e),t.formats=function(e){return"string"==typeof this.tagName||(Array.isArray(this.tagName)?e.tagName.toLowerCase():void 0)},t.prototype.format=function(e,t){var r=s.query(e);r instanceof o.default?this.attributes.attribute(r,t):t&&(null==r||e===this.statics.blotName&&this.formats()[e]===t||this.replaceWith(e,t))},t.prototype.formats=function(){var e=this.attributes.values(),t=this.statics.formats(this.domNode);return null!=t&&(e[this.statics.blotName]=t),e},t.prototype.replaceWith=function(t,r){var n=e.prototype.replaceWith.call(this,t,r);return this.attributes.copy(n),n},t.prototype.update=function(t,r){var n=this;e.prototype.update.call(this,t,r),t.some((function(e){return e.target===n.domNode&&"attributes"===e.type}))&&this.attributes.build()},t.prototype.wrap=function(r,n){var o=e.prototype.wrap.call(this,r,n);return o instanceof t&&o.statics.scope===this.statics.scope&&this.attributes.move(o),o},t}(a.default);t.default=l},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(17),i=r(3),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.value=function(e){return!0},t.prototype.index=function(e,t){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(t,1):-1},t.prototype.position=function(e,t){var r=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return e>0&&(r+=1),[this.parent.domNode,r]},t.prototype.value=function(){var e;return(e={})[this.statics.blotName]=this.statics.value(this.domNode)||!0,e},t.scope=i.Scope.INLINE_BLOT,t}(o.default);t.default=a},function(e,t,r){"use strict";var n=r(23);e.exports=function(){return n()&&!!Symbol.toStringTag}},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=SyntaxError,i=Function,a=TypeError,s=function(e){try{return i('"use strict"; return ('+e+").constructor;")()}catch(e){}},l=Object.getOwnPropertyDescriptor;if(l)try{l({},"")}catch(e){l=null}var c=function(){throw new a},u=l?function(){try{return c}catch(e){try{return l(arguments,"callee").get}catch(e){return c}}}():c,d=r(41)(),p=Object.getPrototypeOf||function(e){return e.__proto__},f={},h="undefined"==typeof Uint8Array?void 0:p(Uint8Array),m={"%AggregateError%":"undefined"==typeof AggregateError?void 0:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayIteratorPrototype%":d?p([][Symbol.iterator]()):void 0,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":f,"%AsyncGenerator%":f,"%AsyncGeneratorFunction%":f,"%AsyncIteratorPrototype%":f,"%Atomics%":"undefined"==typeof Atomics?void 0:Atomics,"%BigInt%":"undefined"==typeof BigInt?void 0:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?void 0:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?void 0:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?void 0:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?void 0:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?void 0:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?void 0:FinalizationRegistry,"%Function%":i,"%GeneratorFunction%":f,"%Int8Array%":"undefined"==typeof Int8Array?void 0:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?void 0:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?void 0:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":d?p(p([][Symbol.iterator]())):void 0,"%JSON%":"object"===("undefined"==typeof JSON?"undefined":n(JSON))?JSON:void 0,"%Map%":"undefined"==typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&d?p((new Map)[Symbol.iterator]()):void 0,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?void 0:Promise,"%Proxy%":"undefined"==typeof Proxy?void 0:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&d?p((new Set)[Symbol.iterator]()):void 0,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":d?p(""[Symbol.iterator]()):void 0,"%Symbol%":d?Symbol:void 0,"%SyntaxError%":o,"%ThrowTypeError%":u,"%TypedArray%":h,"%TypeError%":a,"%Uint8Array%":"undefined"==typeof Uint8Array?void 0:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?void 0:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?void 0:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?void 0:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?void 0:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?void 0:WeakSet};try{null.error}catch(e){var y=p(p(e));m["%Error.prototype%"]=y}var b={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},v=r(14),g=r(43),O=v.call(Function.call,Array.prototype.concat),w=v.call(Function.apply,Array.prototype.splice),x=v.call(Function.call,String.prototype.replace),C=v.call(Function.call,String.prototype.slice),S=v.call(Function.call,RegExp.prototype.exec),T=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,j=/\\(\\)?/g,k=function(e){var t=C(e,0,1),r=C(e,-1);if("%"===t&&"%"!==r)throw new o("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new o("invalid intrinsic syntax, expected opening `%`");var n=[];return x(e,T,(function(e,t,r,o){n[n.length]=r?x(o,j,"$1"):t||e})),n},P=function(e,t){var r,n=e;if(g(b,n)&&(n="%"+(r=b[n])[0]+"%"),g(m,n)){var i=m[n];if(i===f&&(i=function e(t){var r;if("%AsyncFunction%"===t)r=s("async function () {}");else if("%GeneratorFunction%"===t)r=s("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=s("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var o=e("%AsyncGenerator%");o&&(r=p(o.prototype))}return m[t]=r,r}(n)),void 0===i&&!t)throw new a("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:i}}throw new o("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new a('"allowMissing" argument must be a boolean');if(null===S(/^%?[^%]*%?$/,e))throw new o("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=k(e),n=r.length>0?r[0]:"",i=P("%"+n+"%",t),s=i.name,c=i.value,u=!1,d=i.alias;d&&(n=d[0],w(r,O([0,1],d)));for(var p=1,f=!0;p<r.length;p+=1){var h=r[p],y=C(h,0,1),b=C(h,-1);if(('"'===y||"'"===y||"`"===y||'"'===b||"'"===b||"`"===b)&&y!==b)throw new o("property names with quotes must have matching quotes");if("constructor"!==h&&f||(u=!0),g(m,s="%"+(n+="."+h)+"%"))c=m[s];else if(null!=c){if(!(h in c)){if(!t)throw new a("base intrinsic for "+e+" exists, but the property is not available.");return}if(l&&p+1>=r.length){var v=l(c,h);c=(f=!!v)&&"get"in v&&!("originalValue"in v.get)?v.get:c[h]}else f=g(c,h),c=c[h];f&&!u&&(m[s]=c)}}return c}},function(e,t,r){"use strict";var n=r(42);e.exports=Function.prototype.bind||n},function(e,t,r){"use strict";var n=r(14),o=r(13),i=o("%Function.prototype.apply%"),a=o("%Function.prototype.call%"),s=o("%Reflect.apply%",!0)||n.call(a,i),l=o("%Object.getOwnPropertyDescriptor%",!0),c=o("%Object.defineProperty%",!0),u=o("%Math.max%");if(c)try{c({},"a",{value:1})}catch(e){c=null}e.exports=function(e){var t=s(n,a,arguments);if(l&&c){var r=l(t,"length");r.configurable&&c(t,"length",{value:1+u(0,e.length-(arguments.length-1))})}return t};var d=function(){return s(n,i,arguments)};c?c(e.exports,"apply",{value:d}):e.exports.apply=d},,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3),o=function(){function e(e){this.domNode=e,this.domNode[n.DATA_KEY]={blot:this}}return Object.defineProperty(e.prototype,"statics",{get:function(){return this.constructor},enumerable:!1,configurable:!0}),e.create=function(e){if(null==this.tagName)throw new n.ParchmentError("Blot definition missing tagName");var t;return Array.isArray(this.tagName)?("string"==typeof e&&(e=e.toUpperCase(),parseInt(e).toString()===e&&(e=parseInt(e))),t="number"==typeof e?document.createElement(this.tagName[e-1]):this.tagName.indexOf(e)>-1?document.createElement(e):document.createElement(this.tagName[0])):t=document.createElement(this.tagName),this.className&&t.classList.add(this.className),t},e.prototype.attach=function(){null!=this.parent&&(this.scroll=this.parent.scroll)},e.prototype.clone=function(){var e=this.domNode.cloneNode(!1);return n.create(e)},e.prototype.detach=function(){null!=this.parent&&this.parent.removeChild(this),delete this.domNode[n.DATA_KEY]},e.prototype.deleteAt=function(e,t){this.isolate(e,t).remove()},e.prototype.formatAt=function(e,t,r,o){var i=this.isolate(e,t);if(null!=n.query(r,n.Scope.BLOT)&&o)i.wrap(r,o);else if(null!=n.query(r,n.Scope.ATTRIBUTE)){var a=n.create(this.statics.scope);i.wrap(a),a.format(r,o)}},e.prototype.insertAt=function(e,t,r){var o=null==r?n.create("text",t):n.create(t,r),i=this.split(e);this.parent.insertBefore(o,i)},e.prototype.insertInto=function(e,t){void 0===t&&(t=null),null!=this.parent&&this.parent.children.remove(this);var r=null;e.children.insertBefore(this,t),null!=t&&(r=t.domNode),this.domNode.parentNode==e.domNode&&this.domNode.nextSibling==r||e.domNode.insertBefore(this.domNode,r),this.parent=e,this.attach()},e.prototype.isolate=function(e,t){var r=this.split(e);return r.split(t),r},e.prototype.length=function(){return 1},e.prototype.offset=function(e){return void 0===e&&(e=this.parent),null==this.parent||this==e?0:this.parent.children.offset(this)+this.parent.offset(e)},e.prototype.optimize=function(e){null!=this.domNode[n.DATA_KEY]&&delete this.domNode[n.DATA_KEY].mutations},e.prototype.remove=function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},e.prototype.replace=function(e){null!=e.parent&&(e.parent.insertBefore(this,e.next),e.remove())},e.prototype.replaceWith=function(e,t){var r="string"==typeof e?n.create(e,t):e;return r.replace(this),r},e.prototype.split=function(e,t){return 0===e?this:this.next},e.prototype.update=function(e,t){},e.prototype.wrap=function(e,t){var r="string"==typeof e?n.create(e,t):e;return null!=this.parent&&this.parent.insertBefore(r,this.next),r.appendChild(this),r},e.blotName="abstract",e}();t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(7),o=r(19),i=r(20),a=r(3),s=function(){function e(e){this.attributes={},this.domNode=e,this.build()}return e.prototype.attribute=function(e,t){t?e.add(this.domNode,t)&&(null!=e.value(this.domNode)?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])},e.prototype.build=function(){var e=this;this.attributes={};var t=n.default.keys(this.domNode),r=o.default.keys(this.domNode),s=i.default.keys(this.domNode);t.concat(r).concat(s).forEach((function(t){var r=a.query(t,a.Scope.ATTRIBUTE);r instanceof n.default&&(e.attributes[r.attrName]=r)}))},e.prototype.copy=function(e){var t=this;Object.keys(this.attributes).forEach((function(r){var n=t.attributes[r].value(t.domNode);e.format(r,n)}))},e.prototype.move=function(e){var t=this;this.copy(e),Object.keys(this.attributes).forEach((function(e){t.attributes[e].remove(t.domNode)})),this.attributes={}},e.prototype.values=function(){var e=this;return Object.keys(this.attributes).reduce((function(t,r){return t[r]=e.attributes[r].value(e.domNode),t}),{})},e}();t.default=s},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();function o(e,t){return(e.getAttribute("class")||"").split(/\s+/).filter((function(e){return 0===e.indexOf("".concat(t,"-"))}))}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.keys=function(e){return(e.getAttribute("class")||"").split(/\s+/).map((function(e){return e.split("-").slice(0,-1).join("-")}))},t.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(this.remove(e),e.classList.add("".concat(this.keyName,"-").concat(t)),!0)},t.prototype.remove=function(e){o(e,this.keyName).forEach((function(t){e.classList.remove(t)})),0===e.classList.length&&e.removeAttribute("class")},t.prototype.value=function(e){var t=(o(e,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(e,t)?t:""},t}(r(7).default);t.default=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();function o(e){var t=e.split("-"),r=t.slice(1).map((function(e){return e[0].toUpperCase()+e.slice(1)})).join("");return t[0]+r}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.keys=function(e){return(e.getAttribute("style")||"").split(";").map((function(e){return e.split(":")[0].trim()}))},t.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(e.style[o(this.keyName)]=t,!0)},t.prototype.remove=function(e){e.style[o(this.keyName)]="",e.getAttribute("style")||e.removeAttribute("style")},t.prototype.value=function(e){var t=e.style[o(this.keyName)];return this.canAdd(e,t)?t:""},t}(r(7).default);t.default=i},function(e,t,r){"use strict";var n=Array.prototype.slice,o=r(22),i=Object.keys,a=i?function(e){return i(e)}:r(39),s=Object.keys;a.shim=function(){Object.keys?function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2)||(Object.keys=function(e){return o(e)?s(n.call(e)):s(e)}):Object.keys=a;return Object.keys||a},e.exports=a},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=Object.prototype.toString;e.exports=function(e){var t=o.call(e),r="[object Arguments]"===t;return r||(r="[object Array]"!==t&&null!==e&&"object"===n(e)&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===o.call(e.callee)),r}},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"===n(Symbol.iterator))return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var o=Object.getOwnPropertySymbols(e);if(1!==o.length||o[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},function(e,t,r){"use strict";var n=r(13),o=r(15),i=o(n("String.prototype.indexOf"));e.exports=function(e,t){var r=n(e,!!t);return"function"==typeof r&&i(e,".prototype.")>-1?o(r):r}},function(e,t,r){"use strict";var n=function(e){return e!=e};e.exports=function(e,t){return 0===e&&0===t?1/e==1/t:e===t||!(!n(e)||!n(t))}},function(e,t,r){"use strict";var n=r(25);e.exports=function(){return"function"==typeof Object.is?Object.is:n}},function(e,t,r){"use strict";var n=r(49).functionsHaveConfigurableNames(),o=Object,i=TypeError;e.exports=function(){if(null!=this&&this!==o(this))throw new i("RegExp.prototype.flags getter called on non-object");var e="";return this.hasIndices&&(e+="d"),this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),this.dotAll&&(e+="s"),this.unicode&&(e+="u"),this.sticky&&(e+="y"),e},n&&Object.defineProperty&&Object.defineProperty(e.exports,"name",{value:"get flags"})},function(e,t,r){"use strict";var n=r(27),o=r(8).supportsDescriptors,i=Object.getOwnPropertyDescriptor;e.exports=function(){if(o&&"gim"===/a/gim.flags){var e=i(RegExp.prototype,"flags");if(e&&"function"==typeof e.get&&"boolean"==typeof RegExp.prototype.dotAll&&"boolean"==typeof RegExp.prototype.hasIndices){var t="",r={};if(Object.defineProperty(r,"hasIndices",{get:function(){t+="d"}}),Object.defineProperty(r,"sticky",{get:function(){t+="y"}}),"dy"===t)return e.get}}return n}},function(e,t,r){"use strict";(function(e){}).call(this,r(58))},function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty,o="~";function i(){}function a(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function s(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(o=!1)),s.prototype.eventNames=function(){var e,t,r=[];if(0===this._eventsCount)return r;for(t in e=this._events)n.call(e,t)&&r.push(o?t.slice(1):t);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},s.prototype.listeners=function(e,t){var r=o?o+e:e,n=this._events[r];if(t)return!!n;if(!n)return[];if(n.fn)return[n.fn];for(var i=0,a=n.length,s=new Array(a);i<a;i++)s[i]=n[i].fn;return s},s.prototype.emit=function(e,t,r,n,i,a){var s=o?o+e:e;if(!this._events[s])return!1;var l,c,u=this._events[s],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,n),!0;case 5:return u.fn.call(u.context,t,r,n,i),!0;case 6:return u.fn.call(u.context,t,r,n,i,a),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var p,f=u.length;for(c=0;c<f;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,r);break;case 4:u[c].fn.call(u[c].context,t,r,n);break;default:if(!l)for(p=1,l=new Array(d-1);p<d;p++)l[p-1]=arguments[p];u[c].fn.apply(u[c].context,l)}}return!0},s.prototype.on=function(e,t,r){var n=new a(t,r||this),i=o?o+e:e;return this._events[i]?this._events[i].fn?this._events[i]=[this._events[i],n]:this._events[i].push(n):(this._events[i]=n,this._eventsCount++),this},s.prototype.once=function(e,t,r){var n=new a(t,r||this,!0),i=o?o+e:e;return this._events[i]?this._events[i].fn?this._events[i]=[this._events[i],n]:this._events[i].push(n):(this._events[i]=n,this._eventsCount++),this},s.prototype.removeListener=function(e,t,r,n){var a=o?o+e:e;if(!this._events[a])return this;if(!t)return 0==--this._eventsCount?this._events=new i:delete this._events[a],this;var s=this._events[a];if(s.fn)s.fn!==t||n&&!s.once||r&&s.context!==r||(0==--this._eventsCount?this._events=new i:delete this._events[a]);else{for(var l=0,c=[],u=s.length;l<u;l++)(s[l].fn!==t||n&&!s[l].once||r&&s[l].context!==r)&&c.push(s[l]);c.length?this._events[a]=1===c.length?c[0]:c:0==--this._eventsCount?this._events=new i:delete this._events[a]}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=o?o+e:e,this._events[t]&&(0==--this._eventsCount?this._events=new i:delete this._events[t])):(this._events=new i,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prototype.setMaxListeners=function(){return this},s.prefixed=o,s.EventEmitter=s,e.exports=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this.head=this.tail=null,this.length=0}return e.prototype.append=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.insertBefore(e[0],null),e.length>1&&this.append.apply(this,e.slice(1))},e.prototype.contains=function(e){for(var t,r=this.iterator();t=r();)if(t===e)return!0;return!1},e.prototype.insertBefore=function(e,t){e&&(e.next=t,null!=t?(e.prev=t.prev,null!=t.prev&&(t.prev.next=e),t.prev=e,t===this.head&&(this.head=e)):null!=this.tail?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)},e.prototype.offset=function(e){for(var t=0,r=this.head;null!=r;){if(r===e)return t;t+=r.length(),r=r.next}return-1},e.prototype.remove=function(e){this.contains(e)&&(null!=e.prev&&(e.prev.next=e.next),null!=e.next&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)},e.prototype.iterator=function(e){return void 0===e&&(e=this.head),function(){var t=e;return null!=e&&(e=e.next),t}},e.prototype.find=function(e,t){void 0===t&&(t=!1);for(var r,n=this.iterator();r=n();){var o=r.length();if(e<o||t&&e===o&&(null==r.next||0!==r.next.length()))return[r,e];e-=o}return[null,0]},e.prototype.forEach=function(e){for(var t,r=this.iterator();t=r();)e(t)},e.prototype.forEachAt=function(e,t,r){if(!(t<=0))for(var n,o=this.find(e),i=o[0],a=e-o[1],s=this.iterator(i);(n=s())&&a<e+t;){var l=n.length();e>a?r(n,e-a,Math.min(t,a+l-e)):r(n,0,Math.min(l,e+t-a)),a+=l}},e.prototype.map=function(e){return this.reduce((function(t,r){return t.push(e(r)),t}),[])},e.prototype.reduce=function(e,t){for(var r,n=this.iterator();r=n();)t=e(t,r);return t},e}();t.default=n},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(9),i=r(3),a={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},s=function(e){function t(t){var r=e.call(this,t)||this;return r.scroll=r,r.observer=new MutationObserver((function(e){r.update(e)})),r.observer.observe(r.domNode,a),r.attach(),r}return n(t,e),t.prototype.detach=function(){e.prototype.detach.call(this),this.observer.disconnect()},t.prototype.deleteAt=function(t,r){this.update(),0===t&&r===this.length()?this.children.forEach((function(e){e.remove()})):e.prototype.deleteAt.call(this,t,r)},t.prototype.formatAt=function(t,r,n,o){this.update(),e.prototype.formatAt.call(this,t,r,n,o)},t.prototype.insertAt=function(t,r,n){this.update(),e.prototype.insertAt.call(this,t,r,n)},t.prototype.optimize=function(t,r){var n=this;void 0===t&&(t=[]),void 0===r&&(r={}),e.prototype.optimize.call(this,r);for(var a=[].slice.call(this.observer.takeRecords());a.length>0;)t.push(a.pop());for(var s=function e(t,r){void 0===r&&(r=!0),null!=t&&t!==n&&null!=t.domNode.parentNode&&(null==t.domNode[i.DATA_KEY].mutations&&(t.domNode[i.DATA_KEY].mutations=[]),r&&e(t.parent))},l=function e(t){null!=t.domNode[i.DATA_KEY]&&null!=t.domNode[i.DATA_KEY].mutations&&(t instanceof o.default&&t.children.forEach(e),t.optimize(r))},c=t,u=0;c.length>0;u+=1){if(u>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(c.forEach((function(e){var t=i.find(e.target,!0);null!=t&&(t.domNode===e.target&&("childList"===e.type?(s(i.find(e.previousSibling,!1)),[].forEach.call(e.addedNodes,(function(e){var t=i.find(e,!1);s(t,!1),t instanceof o.default&&t.children.forEach((function(e){s(e,!1)}))}))):"attributes"===e.type&&s(t.prev)),s(t))})),this.children.forEach(l),a=(c=[].slice.call(this.observer.takeRecords())).slice();a.length>0;)t.push(a.pop())}},t.prototype.update=function(t,r){var n=this;void 0===r&&(r={}),(t=t||this.observer.takeRecords()).map((function(e){var t=i.find(e.target,!0);return null==t?null:null==t.domNode[i.DATA_KEY].mutations?(t.domNode[i.DATA_KEY].mutations=[e],t):(t.domNode[i.DATA_KEY].mutations.push(e),null)})).forEach((function(e){null!=e&&e!==n&&null!=e.domNode[i.DATA_KEY]&&e.update(e.domNode[i.DATA_KEY].mutations||[],r)})),null!=this.domNode[i.DATA_KEY].mutations&&e.prototype.update.call(this,this.domNode[i.DATA_KEY].mutations,r),this.optimize(t,r)},t.blotName="scroll",t.defaultChild="block",t.scope=i.Scope.BLOCK_BLOT,t.tagName="DIV",t}(o.default);t.default=s},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(10),i=r(3);var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.formats=function(r){if(r.tagName!==t.tagName)return e.formats.call(this,r)},t.prototype.format=function(r,n){var i=this;r!==this.statics.blotName||n?e.prototype.format.call(this,r,n):(this.children.forEach((function(e){e instanceof o.default||(e=e.wrap(t.blotName,!0)),i.attributes.copy(e)})),this.unwrap())},t.prototype.formatAt=function(t,r,n,o){null!=this.formats()[n]||i.query(n,i.Scope.ATTRIBUTE)?this.isolate(t,r).format(n,o):e.prototype.formatAt.call(this,t,r,n,o)},t.prototype.optimize=function(r){e.prototype.optimize.call(this,r);var n=this.formats();if(0===Object.keys(n).length)return this.unwrap();var o=this.next;o instanceof t&&o.prev===this&&function(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var r in e)if(e[r]!==t[r])return!1;return!0}(n,o.formats())&&(o.moveChildren(this),o.remove())},t.blotName="inline",t.scope=i.Scope.INLINE_BLOT,t.tagName="SPAN",t}(o.default);t.default=a},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(10),i=r(3),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.formats=function(r){var n=i.query(t.blotName).tagName;if(r.tagName!==n)return e.formats.call(this,r)},t.prototype.format=function(r,n){null!=i.query(r,i.Scope.BLOCK)&&(r!==this.statics.blotName||n?e.prototype.format.call(this,r,n):this.replaceWith(t.blotName))},t.prototype.formatAt=function(t,r,n,o){null!=i.query(n,i.Scope.BLOCK)?this.format(n,o):e.prototype.formatAt.call(this,t,r,n,o)},t.prototype.insertAt=function(t,r,n){if(null==n||null!=i.query(r,i.Scope.INLINE))e.prototype.insertAt.call(this,t,r,n);else{var o=this.split(t),a=i.create(r,n);o.parent.insertBefore(a,o)}},t.prototype.update=function(t,r){navigator.userAgent.match(/Trident/)?this.build():e.prototype.update.call(this,t,r)},t.blotName="block",t.scope=i.Scope.BLOCK_BLOT,t.tagName="P",t}(o.default);t.default=a},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.formats=function(e){},t.prototype.format=function(t,r){e.prototype.formatAt.call(this,0,this.length(),t,r)},t.prototype.formatAt=function(t,r,n,o){0===t&&r===this.length()?this.format(n,o):e.prototype.formatAt.call(this,t,r,n,o)},t.prototype.formats=function(){return this.statics.formats(this.domNode)},t}(r(11).default);t.default=o},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(11),i=r(3),a=function(e){function t(t){var r=e.call(this,t)||this;return r.text=r.statics.value(r.domNode),r}return n(t,e),t.create=function(e){return document.createTextNode(e)},t.value=function(e){var t=e.data;return t.normalize&&(t=t.normalize()),t},t.prototype.deleteAt=function(e,t){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+t)},t.prototype.index=function(e,t){return this.domNode===e?t:-1},t.prototype.insertAt=function(t,r,n){null==n?(this.text=this.text.slice(0,t)+r+this.text.slice(t),this.domNode.data=this.text):e.prototype.insertAt.call(this,t,r,n)},t.prototype.length=function(){return this.text.length},t.prototype.optimize=function(r){e.prototype.optimize.call(this,r),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof t&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},t.prototype.position=function(e,t){return void 0===t&&(t=!1),[this.domNode,e]},t.prototype.split=function(e,t){if(void 0===t&&(t=!1),!t){if(0===e)return this;if(e===this.length())return this.next}var r=i.create(this.domNode.splitText(e));return this.parent.insertBefore(r,this.next),this.text=this.statics.value(this.domNode),r},t.prototype.update=function(e,t){var r=this;e.some((function(e){return"characterData"===e.type&&e.target===r.domNode}))&&(this.text=this.statics.value(this.domNode))},t.prototype.value=function(){return this.text},t.blotName="text",t.scope=i.Scope.INLINE_BLOT,t}(o.default);t.default=a},function(e,t){var r=document.createElement("div");if(r.classList.toggle("test-class",!1),r.classList.contains("test-class")){var n=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return arguments.length>1&&!this.contains(e)==!t?t:n.call(this,e)}}String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.substr(t,e.length)===e}),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){var r=this.toString();("number"!=typeof t||!isFinite(t)||Math.floor(t)!==t||t>r.length)&&(t=r.length),t-=e.length;var n=r.indexOf(e,t);return-1!==n&&n===t}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,r=Object(this),n=r.length>>>0,o=arguments[1],i=0;i<n;i++)if(t=r[i],e.call(o,t,i,r))return t}}),document.addEventListener("DOMContentLoaded",(function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)}))},function(e,t){function r(e,t,a){if(e==t)return e?[[0,e]]:[];(a<0||e.length<a)&&(a=null);var l=o(e,t),c=e.substring(0,l);l=i(e=e.substring(l),t=t.substring(l));var u=e.substring(e.length-l),d=function(e,t){var a;if(!e)return[[1,t]];if(!t)return[[-1,e]];var s=e.length>t.length?e:t,l=e.length>t.length?t:e,c=s.indexOf(l);if(-1!=c)return a=[[1,s.substring(0,c)],[0,l],[1,s.substring(c+l.length)]],e.length>t.length&&(a[0][0]=a[2][0]=-1),a;if(1==l.length)return[[-1,e],[1,t]];var u=function(e,t){var r=e.length>t.length?e:t,n=e.length>t.length?t:e;if(r.length<4||2*n.length<r.length)return null;function a(e,t,r){for(var n,a,s,l,c=e.substring(r,r+Math.floor(e.length/4)),u=-1,d="";-1!=(u=t.indexOf(c,u+1));){var p=o(e.substring(r),t.substring(u)),f=i(e.substring(0,r),t.substring(0,u));d.length<f+p&&(d=t.substring(u-f,u)+t.substring(u,u+p),n=e.substring(0,r-f),a=e.substring(r+p),s=t.substring(0,u-f),l=t.substring(u+p))}return 2*d.length>=e.length?[n,a,s,l,d]:null}var s,l,c,u,d,p=a(r,n,Math.ceil(r.length/4)),f=a(r,n,Math.ceil(r.length/2));if(!p&&!f)return null;s=f?p&&p[4].length>f[4].length?p:f:p;e.length>t.length?(l=s[0],c=s[1],u=s[2],d=s[3]):(u=s[0],d=s[1],l=s[2],c=s[3]);var h=s[4];return[l,c,u,d,h]}(e,t);if(u){var d=u[0],p=u[1],f=u[2],h=u[3],m=u[4],y=r(d,f),b=r(p,h);return y.concat([[0,m]],b)}return function(e,t){for(var r=e.length,o=t.length,i=Math.ceil((r+o)/2),a=i,s=2*i,l=new Array(s),c=new Array(s),u=0;u<s;u++)l[u]=-1,c[u]=-1;l[a+1]=0,c[a+1]=0;for(var d=r-o,p=d%2!=0,f=0,h=0,m=0,y=0,b=0;b<i;b++){for(var v=-b+f;v<=b-h;v+=2){for(var g=a+v,O=(T=v==-b||v!=b&&l[g-1]<l[g+1]?l[g+1]:l[g-1]+1)-v;T<r&&O<o&&e.charAt(T)==t.charAt(O);)T++,O++;if(l[g]=T,T>r)h+=2;else if(O>o)f+=2;else if(p){if((C=a+d-v)>=0&&C<s&&-1!=c[C]){var w=r-c[C];if(T>=w)return n(e,t,T,O)}}}for(var x=-b+m;x<=b-y;x+=2){for(var C=a+x,S=(w=x==-b||x!=b&&c[C-1]<c[C+1]?c[C+1]:c[C-1]+1)-x;w<r&&S<o&&e.charAt(r-w-1)==t.charAt(o-S-1);)w++,S++;if(c[C]=w,w>r)y+=2;else if(S>o)m+=2;else if(!p){if((g=a+d-x)>=0&&g<s&&-1!=l[g]){var T=l[g];O=a+T-g;if(T>=(w=r-w))return n(e,t,T,O)}}}}return[[-1,e],[1,t]]}(e,t)}(e=e.substring(0,e.length-l),t=t.substring(0,t.length-l));return c&&d.unshift([0,c]),u&&d.push([0,u]),function e(t){t.push([0,""]);var r,n=0,a=0,s=0,l="",c="";for(;n<t.length;)switch(t[n][0]){case 1:s++,c+=t[n][1],n++;break;case-1:a++,l+=t[n][1],n++;break;case 0:a+s>1?(0!==a&&0!==s&&(0!==(r=o(c,l))&&(n-a-s>0&&0==t[n-a-s-1][0]?t[n-a-s-1][1]+=c.substring(0,r):(t.splice(0,0,[0,c.substring(0,r)]),n++),c=c.substring(r),l=l.substring(r)),0!==(r=i(c,l))&&(t[n][1]=c.substring(c.length-r)+t[n][1],c=c.substring(0,c.length-r),l=l.substring(0,l.length-r))),0===a?t.splice(n-s,a+s,[1,c]):0===s?t.splice(n-a,a+s,[-1,l]):t.splice(n-a-s,a+s,[-1,l],[1,c]),n=n-a-s+(a?1:0)+(s?1:0)+1):0!==n&&0==t[n-1][0]?(t[n-1][1]+=t[n][1],t.splice(n,1)):n++,s=0,a=0,l="",c=""}""===t[t.length-1][1]&&t.pop();var u=!1;n=1;for(;n<t.length-1;)0==t[n-1][0]&&0==t[n+1][0]&&(t[n][1].substring(t[n][1].length-t[n-1][1].length)==t[n-1][1]?(t[n][1]=t[n-1][1]+t[n][1].substring(0,t[n][1].length-t[n-1][1].length),t[n+1][1]=t[n-1][1]+t[n+1][1],t.splice(n-1,1),u=!0):t[n][1].substring(0,t[n+1][1].length)==t[n+1][1]&&(t[n-1][1]+=t[n+1][1],t[n][1]=t[n][1].substring(t[n+1][1].length)+t[n+1][1],t.splice(n+1,1),u=!0)),n++;u&&e(t)}(d),null!=a&&(d=function(e,t){var r=function(e,t){if(0===t)return[0,e];for(var r=0,n=0;n<e.length;n++){var o=e[n];if(-1===o[0]||0===o[0]){var i=r+o[1].length;if(t===i)return[n+1,e];if(t<i){e=e.slice();var a=t-r,s=[o[0],o[1].slice(0,a)],l=[o[0],o[1].slice(a)];return e.splice(n,1,s,l),[n+1,e]}r=i}}throw new Error("cursor_pos is out of bounds!")}(e,t),n=r[1],o=r[0],i=n[o],a=n[o+1];if(null==i)return e;if(0!==i[0])return e;if(null!=a&&i[1]+a[1]===a[1]+i[1])return n.splice(o,2,a,i),s(n,o,2);if(null!=a&&0===a[1].indexOf(i[1])){n.splice(o,2,[a[0],i[1]],[0,i[1]]);var l=a[1].slice(i[1].length);return l.length>0&&n.splice(o+2,0,[a[0],l]),s(n,o,3)}return e}(d,a)),d=function(e){for(var t=!1,r=function(e){return e.charCodeAt(0)>=56320&&e.charCodeAt(0)<=57343},n=function(e){return e.charCodeAt(e.length-1)>=55296&&e.charCodeAt(e.length-1)<=56319},o=2;o<e.length;o+=1)0===e[o-2][0]&&n(e[o-2][1])&&-1===e[o-1][0]&&r(e[o-1][1])&&1===e[o][0]&&r(e[o][1])&&(t=!0,e[o-1][1]=e[o-2][1].slice(-1)+e[o-1][1],e[o][1]=e[o-2][1].slice(-1)+e[o][1],e[o-2][1]=e[o-2][1].slice(0,-1));if(!t)return e;var i=[];for(o=0;o<e.length;o+=1)e[o][1].length>0&&i.push(e[o]);return i}(d)}function n(e,t,n,o){var i=e.substring(0,n),a=t.substring(0,o),s=e.substring(n),l=t.substring(o),c=r(i,a),u=r(s,l);return c.concat(u)}function o(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var r=0,n=Math.min(e.length,t.length),o=n,i=0;r<o;)e.substring(i,o)==t.substring(i,o)?i=r=o:n=o,o=Math.floor((n-r)/2+r);return o}function i(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var r=0,n=Math.min(e.length,t.length),o=n,i=0;r<o;)e.substring(e.length-o,e.length-i)==t.substring(t.length-o,t.length-i)?i=r=o:n=o,o=Math.floor((n-r)/2+r);return o}var a=r;function s(e,t,r){for(var n=t+r-1;n>=0&&n>=t-1;n--)if(n+1<e.length){var o=e[n],i=e[n+1];o[0]===i[1]&&e.splice(n,2,[o[0],o[1]+i[1]])}return e}a.INSERT=1,a.DELETE=-1,a.EQUAL=0,e.exports=a},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o;if(!Object.keys){var i=Object.prototype.hasOwnProperty,a=Object.prototype.toString,s=r(22),l=Object.prototype.propertyIsEnumerable,c=!l.call({toString:null},"toString"),u=l.call((function(){}),"prototype"),d=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],p=function(e){var t=e.constructor;return t&&t.prototype===e},f={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},h=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!f["$"+e]&&i.call(window,e)&&null!==window[e]&&"object"===n(window[e]))try{p(window[e])}catch(e){return!0}}catch(e){return!0}return!1}();o=function(e){var t=null!==e&&"object"===n(e),r="[object Function]"===a.call(e),o=s(e),l=t&&"[object String]"===a.call(e),f=[];if(!t&&!r&&!o)throw new TypeError("Object.keys called on a non-object");var m=u&&r;if(l&&e.length>0&&!i.call(e,0))for(var y=0;y<e.length;++y)f.push(String(y));if(o&&e.length>0)for(var b=0;b<e.length;++b)f.push(String(b));else for(var v in e)m&&"prototype"===v||!i.call(e,v)||f.push(String(v));if(c)for(var g=function(e){if("undefined"==typeof window||!h)return p(e);try{return p(e)}catch(e){return!1}}(e),O=0;O<d.length;++O)g&&"constructor"===d[O]||!i.call(e,d[O])||f.push(d[O]);return f}}e.exports=o},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=r(12)(),i=r(24)("Object.prototype.toString"),a=function(e){return!(o&&e&&"object"===n(e)&&Symbol.toStringTag in e)&&"[object Arguments]"===i(e)},s=function(e){return!!a(e)||null!==e&&"object"===n(e)&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==i(e)&&"[object Function]"===i(e.callee)},l=function(){return a(arguments)}();a.isLegacyArguments=s,e.exports=l?a:s},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o="undefined"!=typeof Symbol&&Symbol,i=r(23);e.exports=function(){return"function"==typeof o&&("function"==typeof Symbol&&("symbol"===n(o("foo"))&&("symbol"===n(Symbol("bar"))&&i())))}},function(e,t,r){"use strict";var n="Function.prototype.bind called on incompatible ",o=Array.prototype.slice,i=Object.prototype.toString;e.exports=function(e){var t=this;if("function"!=typeof t||"[object Function]"!==i.call(t))throw new TypeError(n+t);for(var r,a=o.call(arguments,1),s=function(){if(this instanceof r){var n=t.apply(this,a.concat(o.call(arguments)));return Object(n)===n?n:this}return t.apply(e,a.concat(o.call(arguments)))},l=Math.max(0,t.length-a.length),c=[],u=0;u<l;u++)c.push("$"+u);if(r=Function("binder","return function ("+c.join(",")+"){ return binder.apply(this,arguments); }")(s),t.prototype){var d=function(){};d.prototype=t.prototype,r.prototype=new d,d.prototype=null}return r}},function(e,t,r){"use strict";var n=r(14);e.exports=n.call(Function.call,Object.prototype.hasOwnProperty)},function(e,t,r){"use strict";var n=r(8),o=r(15),i=r(25),a=r(26),s=r(46),l=o(a(),Object);n(l,{getPolyfill:a,implementation:i,shim:s}),e.exports=l},function(e,t,r){"use strict";var n=r(13)("%Object.defineProperty%",!0),o=function(){if(n)try{return n({},"a",{value:1}),!0}catch(e){return!1}return!1};o.hasArrayLengthDefineBug=function(){if(!o())return null;try{return 1!==n([],"length",{value:1}).length}catch(e){return!0}},e.exports=o},function(e,t,r){"use strict";var n=r(26),o=r(8);e.exports=function(){var e=n();return o(Object,{is:e},{is:function(){return Object.is!==e}}),e}},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o,i,a,s,l=r(24),c=r(12)();if(c){o=l("Object.prototype.hasOwnProperty"),i=l("RegExp.prototype.exec"),a={};var u=function(){throw a};s={toString:u,valueOf:u},"symbol"===n(Symbol.toPrimitive)&&(s[Symbol.toPrimitive]=u)}var d=l("Object.prototype.toString"),p=Object.getOwnPropertyDescriptor;e.exports=c?function(e){if(!e||"object"!==n(e))return!1;var t=p(e,"lastIndex");if(!(t&&o(t,"value")))return!1;try{i(e,s)}catch(e){return e===a}}:function(e){return!(!e||"object"!==n(e)&&"function"!=typeof e)&&"[object RegExp]"===d(e)}},function(e,t,r){"use strict";var n=r(8),o=r(15),i=r(27),a=r(28),s=r(50),l=o(a());n(l,{getPolyfill:a,implementation:i,shim:s}),e.exports=l},function(e,t,r){"use strict";var n=function(){return"string"==typeof function(){}.name},o=Object.getOwnPropertyDescriptor;if(o)try{o([],"length")}catch(e){o=null}n.functionsHaveConfigurableNames=function(){if(!n()||!o)return!1;var e=o((function(){}),"name");return!!e&&!!e.configurable};var i=Function.prototype.bind;n.boundFunctionsHaveNames=function(){return n()&&"function"==typeof i&&""!==function(){}.bind().name},e.exports=n},function(e,t,r){"use strict";var n=r(8).supportsDescriptors,o=r(28),i=Object.getOwnPropertyDescriptor,a=Object.defineProperty,s=TypeError,l=Object.getPrototypeOf,c=/a/;e.exports=function(){if(!n||!l)throw new s("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var e=o(),t=l(c),r=i(t,"flags");return r&&r.get===e||a(t,"flags",{configurable:!0,enumerable:!1,get:e}),e}},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=Date.prototype.getDay,i=Object.prototype.toString,a=r(12)();e.exports=function(e){return"object"===n(e)&&null!==e&&(a?function(e){try{return o.call(e),!0}catch(e){return!1}}(e):"[object Date]"===i.call(e))}},function(e,t,r){"use strict";(function(e){var n=r(54),o=r(55),i=r(56);function a(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,r){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return c(this,e,t,r)}function c(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n);l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=p(e,t);return e}(e,t,r,n):"string"==typeof t?function(e,t,r){"string"==typeof r&&""!==r||(r="utf8");if(!l.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|h(t,r),o=(e=s(e,n)).write(t,r);o!==n&&(e=e.slice(0,o));return e}(e,t,r):function(e,t){if(l.isBuffer(t)){var r=0|f(t.length);return 0===(e=s(e,r)).length||t.copy(e,0,0,r),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||function(e){return e!=e}(t.length)?s(e,0):p(e,t);if("Buffer"===t.type&&i(t.data))return p(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(u(t),e=s(e,t<0?0:0|f(t)),!l.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function p(e,t){var r=t.length<0?0:0|f(t.length);e=s(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function f(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function h(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return z(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return H(e).length;default:if(n)return z(e).length;t=(""+t).toLowerCase(),n=!0}}function m(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return E(this,t,r);case"utf8":case"utf-8":return j(this,t,r);case"ascii":return k(this,t,r);case"latin1":case"binary":return P(this,t,r);case"base64":return T(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function y(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function b(e,t,r,n,o){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=o?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(o)return-1;r=e.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof t&&(t=l.from(t,n)),l.isBuffer(t))return 0===t.length?-1:v(e,t,r,n,o);if("number"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):v(e,[t],r,n,o);throw new TypeError("val must be string, number or Buffer")}function v(e,t,r,n,o){var i,a=1,s=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,r/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(o){var u=-1;for(i=r;i<s;i++)if(c(e,i)===c(t,-1===u?0:i-u)){if(-1===u&&(u=i),i-u+1===l)return u*a}else-1!==u&&(i-=i-u),u=-1}else for(r+l>s&&(r=s-l),i=r;i>=0;i--){for(var d=!0,p=0;p<l;p++)if(c(e,i+p)!==c(t,p)){d=!1;break}if(d)return i}return-1}function g(e,t,r,n){r=Number(r)||0;var o=e.length-r;n?(n=Number(n))>o&&(n=o):n=o;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");n>i/2&&(n=i/2);for(var a=0;a<n;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[r+a]=s}return a}function O(e,t,r,n){return U(z(t,e.length-r),e,r,n)}function w(e,t,r,n){return U(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function x(e,t,r,n){return w(e,t,r,n)}function C(e,t,r,n){return U(H(t),e,r,n)}function S(e,t,r,n){return U(function(e,t){for(var r,n,o,i=[],a=0;a<e.length&&!((t-=2)<0);++a)r=e.charCodeAt(a),n=r>>8,o=r%256,i.push(o),i.push(n);return i}(t,e.length-r),e,r,n)}function T(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function j(e,t,r){r=Math.min(e.length,r);for(var n=[],o=t;o<r;){var i,a,s,l,c=e[o],u=null,d=c>239?4:c>223?3:c>191?2:1;if(o+d<=r)switch(d){case 1:c<128&&(u=c);break;case 2:128==(192&(i=e[o+1]))&&(l=(31&c)<<6|63&i)>127&&(u=l);break;case 3:i=e[o+1],a=e[o+2],128==(192&i)&&128==(192&a)&&(l=(15&c)<<12|(63&i)<<6|63&a)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:i=e[o+1],a=e[o+2],s=e[o+3],128==(192&i)&&128==(192&a)&&128==(192&s)&&(l=(15&c)<<18|(63&i)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(u=l)}null===u?(u=65533,d=1):u>65535&&(u-=65536,n.push(u>>>10&1023|55296),u=56320|1023&u),n.push(u),o+=d}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=4096));return r}(n)}t.Buffer=l,t.SlowBuffer=function(e){+e!=e&&(e=0);return l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,r){return c(null,e,t,r)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,r){return function(e,t,r,n){return u(t),t<=0?s(e,t):void 0!==r?"string"==typeof n?s(e,t).fill(r,n):s(e,t).fill(r):s(e,t)}(null,e,t,r)},l.allocUnsafe=function(e){return d(null,e)},l.allocUnsafeSlow=function(e){return d(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,o=0,i=Math.min(r,n);o<i;++o)if(e[o]!==t[o]){r=e[o],n=t[o];break}return r<n?-1:n<r?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!i(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=l.allocUnsafe(t),o=0;for(r=0;r<e.length;++r){var a=e[r];if(!l.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,o),o+=a.length}return n},l.byteLength=h,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)y(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?j(this,0,e):m.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,r,n,o){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),t<0||r>e.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&t>=r)return 0;if(n>=o)return-1;if(t>=r)return 1;if(this===e)return 0;for(var i=(o>>>=0)-(n>>>=0),a=(r>>>=0)-(t>>>=0),s=Math.min(i,a),c=this.slice(n,o),u=e.slice(t,r),d=0;d<s;++d)if(c[d]!==u[d]){i=c[d],a=u[d];break}return i<a?-1:a<i?1:0},l.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},l.prototype.indexOf=function(e,t,r){return b(this,e,t,r,!0)},l.prototype.lastIndexOf=function(e,t,r){return b(this,e,t,r,!1)},l.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var o=this.length-t;if((void 0===r||r>o)&&(r=o),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var i=!1;;)switch(n){case"hex":return g(this,e,t,r);case"utf8":case"utf-8":return O(this,e,t,r);case"ascii":return w(this,e,t,r);case"latin1":case"binary":return x(this,e,t,r);case"base64":return C(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function k(e,t,r){var n="";r=Math.min(e.length,r);for(var o=t;o<r;++o)n+=String.fromCharCode(127&e[o]);return n}function P(e,t,r){var n="";r=Math.min(e.length,r);for(var o=t;o<r;++o)n+=String.fromCharCode(e[o]);return n}function E(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var o="",i=t;i<r;++i)o+=F(e[i]);return o}function _(e,t,r){for(var n=e.slice(t,r),o="",i=0;i<n.length;i+=2)o+=String.fromCharCode(n[i]+256*n[i+1]);return o}function I(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function R(e,t,r,n,o,i){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function A(e,t,r,n){t<0&&(t=65535+t+1);for(var o=0,i=Math.min(e.length-r,2);o<i;++o)e[r+o]=(t&255<<8*(n?o:1-o))>>>8*(n?o:1-o)}function D(e,t,r,n){t<0&&(t=4294967295+t+1);for(var o=0,i=Math.min(e.length-r,4);o<i;++o)e[r+o]=t>>>8*(n?o:3-o)&255}function B(e,t,r,n,o,i){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function M(e,t,r,n,i){return i||B(e,0,r,4),o.write(e,t,r,n,23,4),r+4}function N(e,t,r,n,i){return i||B(e,0,r,8),o.write(e,t,r,n,52,8),r+8}l.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=l.prototype;else{var o=t-e;r=new l(o,void 0);for(var i=0;i<o;++i)r[i]=this[i+e]}return r},l.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||I(e,t,this.length);for(var n=this[e],o=1,i=0;++i<t&&(o*=256);)n+=this[e+i]*o;return n},l.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||I(e,t,this.length);for(var n=this[e+--t],o=1;t>0&&(o*=256);)n+=this[e+--t]*o;return n},l.prototype.readUInt8=function(e,t){return t||I(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||I(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||I(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||I(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||I(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||I(e,t,this.length);for(var n=this[e],o=1,i=0;++i<t&&(o*=256);)n+=this[e+i]*o;return n>=(o*=128)&&(n-=Math.pow(2,8*t)),n},l.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||I(e,t,this.length);for(var n=t,o=1,i=this[e+--n];n>0&&(o*=256);)i+=this[e+--n]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*t)),i},l.prototype.readInt8=function(e,t){return t||I(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||I(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},l.prototype.readInt16BE=function(e,t){t||I(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},l.prototype.readInt32LE=function(e,t){return t||I(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||I(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||I(e,4,this.length),o.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||I(e,4,this.length),o.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||I(e,8,this.length),o.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||I(e,8,this.length),o.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||R(this,e,t,r,Math.pow(2,8*r)-1,0);var o=1,i=0;for(this[t]=255&e;++i<r&&(o*=256);)this[t+i]=e/o&255;return t+r},l.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||R(this,e,t,r,Math.pow(2,8*r)-1,0);var o=r-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+r},l.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):A(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):A(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):D(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var o=Math.pow(2,8*r-1);R(this,e,t,r,o-1,-o)}var i=0,a=1,s=0;for(this[t]=255&e;++i<r&&(a*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+r},l.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var o=Math.pow(2,8*r-1);R(this,e,t,r,o-1,-o)}var i=r-1,a=1,s=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+r},l.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):A(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):A(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):D(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,r){return M(this,e,t,!0,r)},l.prototype.writeFloatBE=function(e,t,r){return M(this,e,t,!1,r)},l.prototype.writeDoubleLE=function(e,t,r){return N(this,e,t,!0,r)},l.prototype.writeDoubleBE=function(e,t,r){return N(this,e,t,!1,r)},l.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var o,i=n-r;if(this===e&&r<t&&t<n)for(o=i-1;o>=0;--o)e[o+t]=this[o+r];else if(i<1e3||!l.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)e[o+t]=this[o+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+i),t);return i},l.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!l.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{var a=l.isBuffer(e)?e:z(new l(e,n).toString()),s=a.length;for(i=0;i<r-t;++i)this[i+t]=a[i%s]}return this};var L=/[^+\/0-9A-Za-z-_]/g;function F(e){return e<16?"0"+e.toString(16):e.toString(16)}function z(e,t){var r;t=t||1/0;for(var n=e.length,o=null,i=[],a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!o){if(r>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&i.push(239,191,189);continue}o=r;continue}if(r<56320){(t-=3)>-1&&i.push(239,191,189),o=r;continue}r=65536+(o-55296<<10|r-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,r<128){if((t-=1)<0)break;i.push(r)}else if(r<2048){if((t-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function H(e){return n.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(L,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function U(e,t,r,n){for(var o=0;o<n&&!(o+r>=t.length||o>=e.length);++o)t[o+r]=e[o];return o}}).call(this,r(53))},function(e,t){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"===("undefined"==typeof window?"undefined":r(window))&&(n=window)}e.exports=n},function(e,t,r){"use strict";t.byteLength=function(e){var t=c(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,n=c(e),a=n[0],s=n[1],l=new i(function(e,t,r){return 3*(t+r)/4-r}(0,a,s)),u=0,d=s>0?a-4:a;for(r=0;r<d;r+=4)t=o[e.charCodeAt(r)]<<18|o[e.charCodeAt(r+1)]<<12|o[e.charCodeAt(r+2)]<<6|o[e.charCodeAt(r+3)],l[u++]=t>>16&255,l[u++]=t>>8&255,l[u++]=255&t;2===s&&(t=o[e.charCodeAt(r)]<<2|o[e.charCodeAt(r+1)]>>4,l[u++]=255&t);1===s&&(t=o[e.charCodeAt(r)]<<10|o[e.charCodeAt(r+1)]<<4|o[e.charCodeAt(r+2)]>>2,l[u++]=t>>8&255,l[u++]=255&t);return l},t.fromByteArray=function(e){for(var t,r=e.length,o=r%3,i=[],a=0,s=r-o;a<s;a+=16383)i.push(d(e,a,a+16383>s?s:a+16383));1===o?(t=e[r-1],i.push(n[t>>2]+n[t<<4&63]+"==")):2===o&&(t=(e[r-2]<<8)+e[r-1],i.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return i.join("")};for(var n=[],o=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=a.length;s<l;++s)n[s]=a[s],o[a.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function u(e){return n[e>>18&63]+n[e>>12&63]+n[e>>6&63]+n[63&e]}function d(e,t,r){for(var n,o=[],i=t;i<r;i+=3)n=(e[i]<<16&16711680)+(e[i+1]<<8&65280)+(255&e[i+2]),o.push(u(n));return o.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,r,n,o){var i,a,s=8*o-n-1,l=(1<<s)-1,c=l>>1,u=-7,d=r?o-1:0,p=r?-1:1,f=e[t+d];for(d+=p,i=f&(1<<-u)-1,f>>=-u,u+=s;u>0;i=256*i+e[t+d],d+=p,u-=8);for(a=i&(1<<-u)-1,i>>=-u,u+=n;u>0;a=256*a+e[t+d],d+=p,u-=8);if(0===i)i=1-c;else{if(i===l)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,n),i-=c}return(f?-1:1)*a*Math.pow(2,i-n)},t.write=function(e,t,r,n,o,i){var a,s,l,c=8*i-o-1,u=(1<<c)-1,d=u>>1,p=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:i-1,h=n?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+d>=1?p/l:p*Math.pow(2,1-d))*l>=2&&(a++,l/=2),a+d>=u?(s=0,a=u):a+d>=1?(s=(t*l-1)*Math.pow(2,o),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,o),a=0));o>=8;e[r+f]=255&s,f+=h,s/=256,o-=8);for(a=a<<o|s,c+=o;c>0;e[r+f]=255&a,f+=h,a/=256,c-=8);e[r+f-h]|=128*m}},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){var r,n,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(e){r=i}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var l,c=[],u=!1,d=-1;function p(){u&&l&&(u=!1,l.length?c=l.concat(c):d=-1,c.length&&f())}function f(){if(!u){var e=s(p);u=!0;for(var t=c.length;t;){for(l=c,c=[];++d<t;)l&&l[d].run();d=-1,t=c.length}l=null,u=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new h(e,t)),1!==c.length||u||s(f)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,r){"use strict";r.r(t);var n=r(0),o=r.n(n),i=(r(37),r(1)),a=r.n(i),s=r(6),l=r.n(s),c=r(2),u=r.n(c);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,h(n.key),n)}}function h(e){var t=function(e,t){if("object"!==d(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===d(t)?t:String(t)}function m(){return(m="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=y(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}}).apply(this,arguments)}function y(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=O(e)););return e}function b(e,t){return(b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=O(e);if(t){var o=O(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return g(this,r)}}function g(e,t){if(t&&("object"===d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(r,e);var t=v(r);function r(){return p(this,r),t.apply(this,arguments)}return function(e,t,r){t&&f(e.prototype,t),r&&f(e,r),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"insertInto",value:function(e,t){0===e.children.length?m(O(r.prototype),"insertInto",this).call(this,e,t):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),r}(o.a.Embed);w.blotName="break",w.tagName="BR";var x=w;function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,T(n.key),n)}}function T(e){var t=function(e,t){if("object"!==C(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==C(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===C(t)?t:String(t)}function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){return(k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=_(e);if(t){var o=_(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return E(this,r)}}function E(e,t){if(t&&("object"===C(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k(e,t)}(r,e);var t=P(r);function r(){return j(this,r),t.apply(this,arguments)}return function(e,t,r){return t&&S(e.prototype,t),r&&S(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(r)}(o.a.Text);function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,B(n.key),n)}}function B(e){var t=function(e,t){if("object"!==R(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==R(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===R(t)?t:String(t)}function M(){return(M="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=N(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}}).apply(this,arguments)}function N(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=H(e)););return e}function L(e,t){return(L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function F(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=H(e);if(t){var o=H(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return z(this,r)}}function z(e,t){if(t&&("object"===R(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function H(e){return(H=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var U=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&L(e,t)}(r,e);var t=F(r);function r(){return A(this,r),t.apply(this,arguments)}return function(e,t,r){t&&D(e.prototype,t),r&&D(e,r),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"formatAt",value:function(e,t,n,i){if(r.compare(this.statics.blotName,n)<0&&o.a.query(n,o.a.Scope.BLOT)){var a=this.isolate(e,t);i&&a.wrap(n,i)}else M(H(r.prototype),"formatAt",this).call(this,e,t,n,i)}},{key:"optimize",value:function(e){if(M(H(r.prototype),"optimize",this).call(this,e),this.parent instanceof r&&r.compare(this.statics.blotName,this.parent.statics.blotName)>0){var t=this.parent.isolate(this.offset(),this.length());this.moveChildren(t),t.wrap(this)}}}],[{key:"compare",value:function(e,t){var n=r.order.indexOf(e),o=r.order.indexOf(t);return n>=0||o>=0?n-o:e===t?0:e<t?-1:1}}]),r}(o.a.Inline);U.allowedChildren=[U,o.a.Embed,I],U.order=["cursor","inline","underline","strike","italic","bold","script","link","code"];var W=U;function q(e){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function K(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Q(n.key),n)}}function G(e,t,r){return t&&K(e.prototype,t),r&&K(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Q(e){var t=function(e,t){if("object"!==q(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==q(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===q(t)?t:String(t)}function Y(){return(Y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=$(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}}).apply(this,arguments)}function $(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=te(e)););return e}function J(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&X(e,t)}function X(e,t){return(X=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=te(e);if(t){var o=te(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ee(this,r)}}function ee(e,t){if(t&&("object"===q(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function te(e){return(te=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var re=function(e){J(r,e);var t=Z(r);function r(){return V(this,r),t.apply(this,arguments)}return G(r,[{key:"attach",value:function(){Y(te(r.prototype),"attach",this).call(this),this.attributes=new o.a.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return(new a.a).insert(this.value(),u()(this.formats(),this.attributes.values()))}},{key:"format",value:function(e,t){var r=o.a.query(e,o.a.Scope.BLOCK_ATTRIBUTE);null!=r&&this.attributes.attribute(r,t)}},{key:"formatAt",value:function(e,t,r,n){this.format(r,n)}},{key:"insertAt",value:function(e,t,n){if("string"==typeof t&&t.endsWith("\n")){var i=o.a.create(ne.blotName);this.parent.insertBefore(i,0===e?this:this.next),i.insertAt(0,t.slice(0,-1))}else Y(te(r.prototype),"insertAt",this).call(this,e,t,n)}}]),r}(o.a.Embed);re.scope=o.a.Scope.BLOCK_BLOT;var ne=function(e){J(r,e);var t=Z(r);function r(e){var n;return V(this,r),(n=t.call(this,e)).cache={},n}return G(r,[{key:"delta",value:function(){return null==this.cache.delta&&(this.cache.delta=this.descendants(o.a.Leaf).reduce((function(e,t){return 0===t.length()?e:e.insert(t.value(),oe(t))}),new a.a).insert("\n",oe(this))),this.cache.delta}},{key:"deleteAt",value:function(e,t){Y(te(r.prototype),"deleteAt",this).call(this,e,t),this.cache={}}},{key:"formatAt",value:function(e,t,n,i){t<=0||(o.a.query(n,o.a.Scope.BLOCK)?e+t===this.length()&&this.format(n,i):Y(te(r.prototype),"formatAt",this).call(this,e,Math.min(t,this.length()-e-1),n,i),this.cache={})}},{key:"insertAt",value:function(e,t,n){if(null!=n)return Y(te(r.prototype),"insertAt",this).call(this,e,t,n);if(0!==t.length){var o=t.split("\n"),i=o.shift();i.length>0&&(e<this.length()-1||null==this.children.tail?Y(te(r.prototype),"insertAt",this).call(this,Math.min(e,this.length()-1),i):this.children.tail.insertAt(this.children.tail.length(),i),this.cache={});var a=this;o.reduce((function(e,t){return(a=a.split(e,!0)).insertAt(0,t),t.length}),e+i.length)}}},{key:"insertBefore",value:function(e,t){var n=this.children.head;Y(te(r.prototype),"insertBefore",this).call(this,e,t),n instanceof x&&n.remove(),this.cache={}}},{key:"length",value:function(){return null==this.cache.length&&(this.cache.length=Y(te(r.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function(e,t){Y(te(r.prototype),"moveChildren",this).call(this,e,t),this.cache={}}},{key:"optimize",value:function(e){Y(te(r.prototype),"optimize",this).call(this,e),this.cache={}}},{key:"path",value:function(e){return Y(te(r.prototype),"path",this).call(this,e,!0)}},{key:"removeChild",value:function(e){Y(te(r.prototype),"removeChild",this).call(this,e),this.cache={}}},{key:"split",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t&&(0===e||e>=this.length()-1)){var n=this.clone();return 0===e?(this.parent.insertBefore(n,this),this):(this.parent.insertBefore(n,this.next),n)}var o=Y(te(r.prototype),"split",this).call(this,e,t);return this.cache={},o}}]),r}(o.a.Block);function oe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==e?t:("function"==typeof e.formats&&(t=u()(t,e.formats())),null==e.parent||"scroll"==e.parent.blotName||e.parent.statics.scope!==e.statics.scope?t:oe(e.parent,t))}function ie(e){return(ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ae(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return se(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return se(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function se(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function le(){return(le="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=ce(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}}).apply(this,arguments)}function ce(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ve(e)););return e}function ue(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pe(n.key),n)}}function de(e,t,r){return t&&ue(e.prototype,t),r&&ue(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function pe(e){var t=function(e,t){if("object"!==ie(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==ie(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ie(t)?t:String(t)}function fe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function he(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&me(e,t)}function me(e,t){return(me=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ye(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ve(e);if(t){var o=ve(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return be(this,r)}}function be(e,t){if(t&&("object"===ie(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ve(e){return(ve=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}ne.blotName="block",ne.tagName="P",ne.defaultChild="break",ne.allowedChildren=[W,o.a.Embed,I];var ge=function(e){he(r,e);var t=ye(r);function r(){return fe(this,r),t.apply(this,arguments)}return de(r)}(W);ge.blotName="code",ge.tagName="CODE";var Oe=function(e){he(r,e);var t=ye(r);function r(){return fe(this,r),t.apply(this,arguments)}return de(r,[{key:"delta",value:function(){var e=this,t=this.domNode.textContent;return t.endsWith("\n")&&(t=t.slice(0,-1)),t.split("\n").reduce((function(t,r){return t.insert(r).insert("\n",e.formats())}),new a.a)}},{key:"format",value:function(e,t){if(e!==this.statics.blotName||!t){var n=ae(this.descendant(I,this.length()-1),1)[0];null!=n&&n.deleteAt(n.length()-1,1),le(ve(r.prototype),"format",this).call(this,e,t)}}},{key:"formatAt",value:function(e,t,n,i){if(0!==t&&null!=o.a.query(n,o.a.Scope.BLOCK)&&(n!==this.statics.blotName||i!==this.statics.formats(this.domNode))){var a=this.newlineIndex(e);if(!(a<0||a>=e+t)){var s=this.newlineIndex(e,!0)+1,l=a-s+1,c=this.isolate(s,l),u=c.next;c.format(n,i),u instanceof r&&u.formatAt(0,e-s+t-l,n,i)}}}},{key:"insertAt",value:function(e,t,r){if(null==r){var n=ae(this.descendant(I,e),2),o=n[0],i=n[1];o.insertAt(i,t)}}},{key:"length",value:function(){var e=this.domNode.textContent.length;return this.domNode.textContent.endsWith("\n")?e:e+1}},{key:"newlineIndex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t)return this.domNode.textContent.slice(0,e).lastIndexOf("\n");var r=this.domNode.textContent.slice(e).indexOf("\n");return r>-1?e+r:-1}},{key:"optimize",value:function(e){this.domNode.textContent.endsWith("\n")||this.appendChild(o.a.create("text","\n")),le(ve(r.prototype),"optimize",this).call(this,e);var t=this.next;null!=t&&t.prev===this&&t.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===t.statics.formats(t.domNode)&&(t.optimize(e),t.moveChildren(this),t.remove())}},{key:"replace",value:function(e){le(ve(r.prototype),"replace",this).call(this,e),[].slice.call(this.domNode.querySelectorAll("*")).forEach((function(e){var t=o.a.find(e);null==t?e.parentNode.removeChild(e):t instanceof o.a.Embed?t.remove():t.unwrap()}))}}],[{key:"create",value:function(e){var t=le(ve(r),"create",this).call(this,e);return t.setAttribute("spellcheck",!1),t}},{key:"formats",value:function(){return!0}}]),r}(ne);function we(e){return(we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ce(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ce(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Se(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Te(n.key),n)}}function Te(e){var t=function(e,t){if("object"!==we(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==we(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===we(t)?t:String(t)}function je(){return(je="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=ke(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}}).apply(this,arguments)}function ke(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ie(e)););return e}function Pe(e,t){return(Pe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Ee(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Ie(e);if(t){var o=Ie(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return _e(this,r)}}function _e(e,t){if(t&&("object"===we(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ie(e){return(Ie=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Oe.blotName="code-block",Oe.tagName="PRE",Oe.TAB="  ";var Re=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pe(e,t)}(r,e);var t=Ee(r);function r(e,n){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(o=t.call(this,e)).selection=n,o.textNode=document.createTextNode(r.CONTENTS),o.domNode.appendChild(o.textNode),o._length=0,o}return function(e,t,r){t&&Se(e.prototype,t),r&&Se(e,r),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"detach",value:function(){null!=this.parent&&this.parent.removeChild(this)}},{key:"format",value:function(e,t){if(0!==this._length)return je(Ie(r.prototype),"format",this).call(this,e,t);for(var n=this,i=0;null!=n&&n.statics.scope!==o.a.Scope.BLOCK_BLOT;)i+=n.offset(n.parent),n=n.parent;null!=n&&(this._length=r.CONTENTS.length,n.optimize(),n.formatAt(i,r.CONTENTS.length,e,t),this._length=0)}},{key:"index",value:function(e,t){return e===this.textNode?0:je(Ie(r.prototype),"index",this).call(this,e,t)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){je(Ie(r.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!this.selection.composing&&null!=this.parent){var e,t,n,i=this.textNode,a=this.selection.getNativeRange();if(null!=a&&a.start.node===i&&a.end.node===i){var s=[i,a.start.offset,a.end.offset];e=s[0],t=s[1],n=s[2]}for(;null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==r.CONTENTS){var l=this.textNode.data.split(r.CONTENTS).join("");this.next instanceof I?(e=this.next.domNode,this.next.insertAt(0,l),this.textNode.data=r.CONTENTS):(this.textNode.data=l,this.parent.insertBefore(o.a.create(this.textNode),this),this.textNode=document.createTextNode(r.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),null!=t){var c=xe([t,n].map((function(t){return Math.max(0,Math.min(e.data.length,t-1))})),2);return t=c[0],n=c[1],{startNode:e,startOffset:t,endNode:e,endOffset:n}}}}},{key:"update",value:function(e,t){var r=this;if(e.some((function(e){return"characterData"===e.type&&e.target===r.textNode}))){var n=this.restore();n&&(t.range=n)}}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),r}(o.a.Embed);Re.blotName="cursor",Re.className="ql-cursor",Re.tagName="span",Re.CONTENTS="\ufeff";var Ae=Re,De=r(4),Be=r.n(De),Me=r(5),Ne=r.n(Me);function Le(e){return(Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ze(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ze(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ze(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function He(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ue(n.key),n)}}function Ue(e){var t=function(e,t){if("object"!==Le(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Le(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Le(t)?t:String(t)}var We=/^[ -~]*$/;function qe(e,t){return Object.keys(t).reduce((function(r,n){return null==e[n]||(t[n]===e[n]?r[n]=t[n]:Array.isArray(t[n])?t[n].indexOf(e[n])<0&&(r[n]=t[n].concat([e[n]])):r[n]=[t[n],e[n]]),r}),{})}var Ve=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scroll=t,this.delta=this.getDelta()}return function(e,t,r){t&&He(e.prototype,t),r&&He(e,r),Object.defineProperty(e,"prototype",{writable:!1})}(e,[{key:"applyDelta",value:function(e){var t=this,r=!1;this.scroll.update();var n=this.scroll.length();return this.scroll.batchStart(),(e=function(e){return e.reduce((function(e,t){if(1===t.insert){var r=Be()(t.attributes);return delete r.image,e.insert({image:t.attributes.image},r)}if(null==t.attributes||!0!==t.attributes.list&&!0!==t.attributes.bullet||((t=Be()(t)).attributes.list?t.attributes.list="ordered":(t.attributes.list="bullet",delete t.attributes.bullet)),"string"==typeof t.insert){var n=t.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return e.insert(n,t.attributes)}return e.push(t)}),new a.a)}(e)).reduce((function(e,i){var a=i.retain||i.delete||i.insert.length||1,s=i.attributes||{};if(null!=i.insert){if("string"==typeof i.insert){var c=i.insert;c.endsWith("\n")&&r&&(r=!1,c=c.slice(0,-1)),e>=n&&!c.endsWith("\n")&&(r=!0),t.scroll.insertAt(e,c);var d=Fe(t.scroll.line(e),2),p=d[0],f=d[1],h=u()({},oe(p));if(p instanceof ne){var m=Fe(p.descendant(o.a.Leaf,f),1)[0];h=u()(h,oe(m))}s=l.a.attributes.diff(h,s)||{}}else if("object"===Le(i.insert)){var y=Object.keys(i.insert)[0];if(null==y)return e;t.scroll.insertAt(e,y,i.insert[y])}n+=a}return Object.keys(s).forEach((function(r){t.scroll.formatAt(e,a,r,s[r])})),e+a}),0),e.reduce((function(e,r){return"number"==typeof r.delete?(t.scroll.deleteAt(e,r.delete),e):e+(r.retain||r.insert.length||1)}),0),this.scroll.batchEnd(),this.update(e)}},{key:"deleteText",value:function(e,t){return this.scroll.deleteAt(e,t),this.update((new a.a).retain(e).delete(t))}},{key:"formatLine",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.scroll.update(),Object.keys(n).forEach((function(o){if(null==r.scroll.whitelist||r.scroll.whitelist[o]){var i=r.scroll.lines(e,Math.max(t,1)),a=t;i.forEach((function(t){var i=t.length();if(t instanceof Oe){var s=e-t.offset(r.scroll),l=t.newlineIndex(s+a)-s+1;t.formatAt(s,l,o,n[o])}else t.format(o,n[o]);a-=i}))}})),this.scroll.optimize(),this.update((new a.a).retain(e).retain(t,Be()(n)))}},{key:"formatText",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(n).forEach((function(o){r.scroll.formatAt(e,t,o,n[o])})),this.update((new a.a).retain(e).retain(t,Be()(n)))}},{key:"getContents",value:function(e,t){return this.delta.slice(e,e+t)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce((function(e,t){return e.concat(t.delta())}),new a.a)}},{key:"getFormat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=[],n=[];0===t?this.scroll.path(e).forEach((function(e){var t=Fe(e,1)[0];t instanceof ne?r.push(t):t instanceof o.a.Leaf&&n.push(t)})):(r=this.scroll.lines(e,t),n=this.scroll.descendants(o.a.Leaf,e,t));var i=[r,n].map((function(e){if(0===e.length)return{};for(var t=oe(e.shift());Object.keys(t).length>0;){var r=e.shift();if(null==r)return t;t=qe(oe(r),t)}return t}));return u.a.apply(u.a,i)}},{key:"getText",value:function(e,t){return this.getContents(e,t).filter((function(e){return"string"==typeof e.insert})).map((function(e){return e.insert})).join("")}},{key:"insertEmbed",value:function(e,t,r){return this.scroll.insertAt(e,t,r),this.update((new a.a).retain(e).insert(function(e,t,r){return(t=Ue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},t,r)))}},{key:"insertText",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t=t.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(e,t),Object.keys(n).forEach((function(o){r.scroll.formatAt(e,t.length,o,n[o])})),this.update((new a.a).retain(e).insert(t,Be()(n)))}},{key:"isBlank",value:function(){if(0==this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;var e=this.scroll.children.head;return e.statics.blotName===ne.blotName&&(!(e.children.length>1)&&e.children.head instanceof x)}},{key:"removeFormat",value:function(e,t){var r=this.getText(e,t),n=Fe(this.scroll.line(e+t),2),o=n[0],i=n[1],s=0,l=new a.a;null!=o&&(s=o instanceof Oe?o.newlineIndex(i)-i+1:o.length()-i,l=o.delta().slice(i,i+s-1).insert("\n"));var c=this.getContents(e,t+s).diff((new a.a).insert(r).concat(l)),u=(new a.a).retain(e).concat(c);return this.applyDelta(u)}},{key:"update",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=this.delta;if(1===t.length&&"characterData"===t[0].type&&t[0].target.data.match(We)&&o.a.find(t[0].target)){var i=o.a.find(t[0].target),s=oe(i),l=i.offset(this.scroll),c=t[0].oldValue.replace(Ae.CONTENTS,""),u=(new a.a).insert(c),d=(new a.a).insert(i.value()),p=(new a.a).retain(l).concat(u.diff(d,r));e=p.reduce((function(e,t){return t.insert?e.insert(t.insert,s):e.push(t)}),new a.a),this.delta=n.compose(e)}else this.delta=this.getDelta(),e&&Ne()(n.compose(e),this.delta)||(e=n.diff(this.delta,r));return e}}]),e}(),Ke=r(30),Ge=r.n(Ke),Qe=["error","warn","log","info"],Ye="warn";function $e(e){if(Qe.indexOf(e)<=Qe.indexOf(Ye)){for(var t,r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];(t=console)[e].apply(t,n)}}function Je(e){return Qe.reduce((function(t,r){return t[r]=$e.bind(console,r,e),t}),{})}$e.level=Je.level=function(e){Ye=e};var Xe=Je;function Ze(e){return(Ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function et(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tt(n.key),n)}}function tt(e){var t=function(e,t){if("object"!==Ze(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Ze(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ze(t)?t:String(t)}function rt(){return(rt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=nt(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}}).apply(this,arguments)}function nt(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=st(e)););return e}function ot(e,t){return(ot=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function it(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=st(e);if(t){var o=st(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return at(this,r)}}function at(e,t){if(t&&("object"===Ze(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function st(e){return(st=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var lt=Xe("quill:events");["selectionchange","mousedown","mouseup","click"].forEach((function(e){document.addEventListener(e,(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];[].slice.call(document.querySelectorAll(".ql-container")).forEach((function(e){var r;e.__quill&&e.__quill.emitter&&(r=e.__quill.emitter).handleDOM.apply(r,t)}))}))}));var ct=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ot(e,t)}(r,e);var t=it(r);function r(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(e=t.call(this)).listeners={},e.on("error",lt.error),e}return function(e,t,r){t&&et(e.prototype,t),r&&et(e,r),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"emit",value:function(){lt.log.apply(lt,arguments),rt(st(r.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];(this.listeners[e.type]||[]).forEach((function(t){var n=t.node,o=t.handler;(e.target===n||n.contains(e.target))&&o.apply(void 0,[e].concat(r))}))}},{key:"listenDOM",value:function(e,t,r){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push({node:t,handler:r})}}]),r}(Ge.a);ct.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},ct.sources={API:"api",SILENT:"silent",USER:"user"};var ut=ct;function dt(e){return(dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ht(n.key),n)}}function ft(e,t,r){return t&&pt(e.prototype,t),r&&pt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ht(e){var t=function(e,t){if("object"!==dt(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==dt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===dt(t)?t:String(t)}function mt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var yt=ft((function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};mt(this,e),this.quill=t,this.options=r}));yt.DEFAULTS={};var bt=yt;function vt(e){return(vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gt(e){return function(e){if(Array.isArray(e))return xt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||wt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ot(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||wt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wt(e,t){if(e){if("string"==typeof e)return xt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?xt(e,t):void 0}}function xt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ct(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Tt(n.key),n)}}function St(e,t,r){return t&&Ct(e.prototype,t),r&&Ct(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Tt(e){var t=function(e,t){if("object"!==vt(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==vt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===vt(t)?t:String(t)}function jt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var kt=Xe("quill:selection"),Pt=St((function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;jt(this,e),this.index=t,this.length=r})),Et=function(){function e(t,r){var n=this;jt(this,e),this.emitter=r,this.scroll=t,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=o.a.create("cursor",this),this.lastRange=this.savedRange=new Pt(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,(function(){n.mouseDown||setTimeout(n.update.bind(n,ut.sources.USER),1)})),this.emitter.on(ut.events.EDITOR_CHANGE,(function(e,t){e===ut.events.TEXT_CHANGE&&t.length()>0&&n.update(ut.sources.SILENT)})),this.emitter.on(ut.events.SCROLL_BEFORE_UPDATE,(function(){if(n.hasFocus()){var e=n.getNativeRange();null!=e&&e.start.node!==n.cursor.textNode&&n.emitter.once(ut.events.SCROLL_UPDATE,(function(){try{n.setNativeRange(e.start.node,e.start.offset,e.end.node,e.end.offset)}catch(e){}}))}})),this.emitter.on(ut.events.SCROLL_OPTIMIZE,(function(e,t){if(t.range){var r=t.range,o=r.startNode,i=r.startOffset,a=r.endNode,s=r.endOffset;n.setNativeRange(o,i,a,s)}})),this.update(ut.sources.SILENT)}return St(e,[{key:"handleComposition",value:function(){var e=this;this.root.addEventListener("compositionstart",(function(){e.composing=!0})),this.root.addEventListener("compositionend",(function(){if(e.composing=!1,e.cursor.parent){var t=e.cursor.restore();if(!t)return;setTimeout((function(){e.setNativeRange(t.startNode,t.startOffset,t.endNode,t.endOffset)}),1)}}))}},{key:"handleDragging",value:function(){var e=this;this.emitter.listenDOM("mousedown",document.body,(function(){e.mouseDown=!0})),this.emitter.listenDOM("mouseup",document.body,(function(){e.mouseDown=!1,e.update(ut.sources.USER)}))}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(e,t){if(null==this.scroll.whitelist||this.scroll.whitelist[e]){this.scroll.update();var r=this.getNativeRange();if(null!=r&&r.native.collapsed&&!o.a.query(e,o.a.Scope.BLOCK)){if(r.start.node!==this.cursor.textNode){var n=o.a.find(r.start.node,!1);if(null==n)return;if(n instanceof o.a.Leaf){var i=n.split(r.start.offset);n.parent.insertBefore(this.cursor,i)}else n.insertBefore(this.cursor,r.start.node);this.cursor.attach()}this.cursor.format(e,t),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=this.scroll.length();e=Math.min(e,r-1),t=Math.min(e+t,r-1)-e;var n,o=this.scroll.leaf(e),i=Ot(o,2),a=i[0],s=i[1];if(null==a)return null;var l=a.position(s,!0),c=Ot(l,2);n=c[0],s=c[1];var u=document.createRange();if(t>0){u.setStart(n,s);var d=this.scroll.leaf(e+t),p=Ot(d,2);if(a=p[0],s=p[1],null==a)return null;var f=a.position(s,!0),h=Ot(f,2);return n=h[0],s=h[1],u.setEnd(n,s),u.getBoundingClientRect()}var m,y="left";return n instanceof Text?(s<n.data.length?(u.setStart(n,s),u.setEnd(n,s+1)):(u.setStart(n,s-1),u.setEnd(n,s),y="right"),m=u.getBoundingClientRect()):(m=a.domNode.getBoundingClientRect(),s>0&&(y="right")),{bottom:m.top+m.height,height:m.height,left:m[y],right:m[y],top:m.top,width:0}}},{key:"getNativeRange",value:function(){var e=document.getSelection();if(null==e||e.rangeCount<=0)return null;var t=e.getRangeAt(0);if(null==t)return null;var r=this.normalizeNative(t);return kt.info("getNativeRange",r),r}},{key:"getRange",value:function(){var e=this.getNativeRange();return null==e?[null,null]:[this.normalizedToRange(e),e]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(e){var t=this,r=[[e.start.node,e.start.offset]];e.native.collapsed||r.push([e.end.node,e.end.offset]);var n=r.map((function(e){var r=Ot(e,2),n=r[0],i=r[1],a=o.a.find(n,!0),s=a.offset(t.scroll);return 0===i?s:a instanceof o.a.Container?s+a.length():s+a.index(n,i)})),i=Math.min(Math.max.apply(Math,gt(n)),this.scroll.length()-1),a=Math.min.apply(Math,[i].concat(gt(n)));return new Pt(a,i-a)}},{key:"normalizeNative",value:function(e){if(!_t(this.root,e.startContainer)||!e.collapsed&&!_t(this.root,e.endContainer))return null;var t={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[t.start,t.end].forEach((function(e){for(var t=e.node,r=e.offset;!(t instanceof Text)&&t.childNodes.length>0;)if(t.childNodes.length>r)t=t.childNodes[r],r=0;else{if(t.childNodes.length!==r)break;r=(t=t.lastChild)instanceof Text?t.data.length:t.childNodes.length+1}e.node=t,e.offset=r})),t}},{key:"rangeToNative",value:function(e){var t=this,r=e.collapsed?[e.index]:[e.index,e.index+e.length],n=[],o=this.scroll.length();return r.forEach((function(e,r){e=Math.min(o-1,e);var i,a=Ot(t.scroll.leaf(e),2),s=a[0],l=a[1],c=Ot(s.position(l,0!==r),2);i=c[0],l=c[1],n.push(i,l)})),n.length<2&&(n=n.concat(n)),n}},{key:"scrollIntoView",value:function(e){var t=this.lastRange;if(null!=t){var r=this.getBounds(t.index,t.length);if(null!=r){var n=this.scroll.length()-1,o=Ot(this.scroll.line(Math.min(t.index,n)),1)[0],i=o;if(t.length>0)i=Ot(this.scroll.line(Math.min(t.index+t.length,n)),1)[0];if(null!=o&&null!=i){var a=e.getBoundingClientRect();r.top<a.top?e.scrollTop-=a.top-r.top:r.bottom>a.bottom&&(e.scrollTop+=r.bottom-a.bottom)}}}}},{key:"setNativeRange",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(kt.info("setNativeRange",e,t,r,n),null==e||null!=this.root.parentNode&&null!=e.parentNode&&null!=r.parentNode){var i=document.getSelection();if(null!=i)if(null!=e){this.hasFocus()||this.root.focus();var a=(this.getNativeRange()||{}).native;if(null==a||o||e!==a.startContainer||t!==a.startOffset||r!==a.endContainer||n!==a.endOffset){"BR"==e.tagName&&(t=[].indexOf.call(e.parentNode.childNodes,e),e=e.parentNode),"BR"==r.tagName&&(n=[].indexOf.call(r.parentNode.childNodes,r),r=r.parentNode);var s=document.createRange();s.setStart(e,t),s.setEnd(r,n),i.removeAllRanges(),i.addRange(s)}}else i.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ut.sources.API;if("string"==typeof t&&(r=t,t=!1),kt.info("setRange",e),null!=e){var n=this.rangeToNative(e);this.setNativeRange.apply(this,gt(n).concat([t]))}else this.setNativeRange(null);this.update(r)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut.sources.USER,t=this.lastRange,r=this.getRange(),n=Ot(r,2),o=n[0],i=n[1];if(this.lastRange=o,null!=this.lastRange&&(this.savedRange=this.lastRange),!Ne()(t,this.lastRange)){var a;!this.composing&&null!=i&&i.native.collapsed&&i.start.node!==this.cursor.textNode&&this.cursor.restore();var s,l=[ut.events.SELECTION_CHANGE,Be()(this.lastRange),Be()(t),e];if((a=this.emitter).emit.apply(a,[ut.events.EDITOR_CHANGE].concat(l)),e!==ut.sources.SILENT)(s=this.emitter).emit.apply(s,l)}}}]),e}();function _t(e,t){try{t.parentNode}catch(e){return!1}return t instanceof Text&&(t=t.parentNode),e.contains(t)}function It(e){return(It="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,At(n.key),n)}}function At(e){var t=function(e,t){if("object"!==It(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==It(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===It(t)?t:String(t)}var Dt=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.options=r,this.modules={}}return function(e,t,r){t&&Rt(e.prototype,t),r&&Rt(e,r),Object.defineProperty(e,"prototype",{writable:!1})}(e,[{key:"init",value:function(){var e=this;Object.keys(this.options.modules).forEach((function(t){null==e.modules[t]&&e.addModule(t)}))}},{key:"addModule",value:function(e){var t=this.quill.constructor.import("modules/".concat(e));return this.modules[e]=new t(this.quill,this.options.modules[e]||{}),this.modules[e]}}]),e}();Dt.DEFAULTS={modules:{}},Dt.themes={default:Dt};var Bt=Dt;function Mt(e){return(Mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Nt(e,t,r){return(t=Ut(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ft(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ft(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ft(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ht(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ut(n.key),n)}}function Ut(e){var t=function(e,t){if("object"!==Mt(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Mt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Mt(t)?t:String(t)}var Wt=Xe("quill"),qt=function(){function e(t){var r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(zt(this,e),this.options=Vt(t,n),this.container=this.options.container,null==this.container)return Wt.error("Invalid Quill container",t);this.options.debug&&e.debug(this.options.debug);var i=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new ut,this.scroll=o.a.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new Ve(this.scroll),this.selection=new Et(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(ut.events.EDITOR_CHANGE,(function(e){e===ut.events.TEXT_CHANGE&&r.root.classList.toggle("ql-blank",r.editor.isBlank())})),this.emitter.on(ut.events.SCROLL_UPDATE,(function(e,t){var n=r.selection.lastRange,o=n&&0===n.length?n.index:void 0;Kt.call(r,(function(){return r.editor.update(null,t,o)}),e)}));var a=this.clipboard.convert("<div class='ql-editor' style=\"white-space: normal;\">".concat(i,"<p><br></p></div>"));this.setContents(a),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return function(e,t,r){t&&Ht(e.prototype,t),r&&Ht(e,r),Object.defineProperty(e,"prototype",{writable:!1})}(e,[{key:"addContainer",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof e){var r=e;(e=document.createElement("div")).classList.add(r)}return this.container.insertBefore(e,t),e}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(e,t,r){var n=this,o=Lt(Gt(e,t,r),4);return e=o[0],t=o[1],r=o[3],Kt.call(this,(function(){return n.editor.deleteText(e,t)}),r,e,-1*t)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}},{key:"focus",value:function(){var e=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=e,this.scrollIntoView()}},{key:"format",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ut.sources.API;return Kt.call(this,(function(){var n=r.getSelection(!0),i=new a.a;if(null==n)return i;if(o.a.query(e,o.a.Scope.BLOCK))i=r.editor.formatLine(n.index,n.length,Nt({},e,t));else{if(0===n.length)return r.selection.format(e,t),i;i=r.editor.formatText(n.index,n.length,Nt({},e,t))}return r.setSelection(n,ut.sources.SILENT),i}),n)}},{key:"formatLine",value:function(e,t,r,n,o){var i,a=this,s=Lt(Gt(e,t,r,n,o),4);return e=s[0],t=s[1],i=s[2],o=s[3],Kt.call(this,(function(){return a.editor.formatLine(e,t,i)}),o,e,0)}},{key:"formatText",value:function(e,t,r,n,o){var i,a=this,s=Lt(Gt(e,t,r,n,o),4);return e=s[0],t=s[1],i=s[2],o=s[3],Kt.call(this,(function(){return a.editor.formatText(e,t,i)}),o,e,0)}},{key:"getBounds",value:function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t="number"==typeof e?this.selection.getBounds(e,r):this.selection.getBounds(e.index,e.length);var n=this.container.getBoundingClientRect();return{bottom:t.bottom-n.top,height:t.height,left:t.left-n.left,right:t.right-n.left,top:t.top-n.top,width:t.width}}},{key:"getContents",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,r=Gt(e,t),n=Lt(r,2);return e=n[0],t=n[1],this.editor.getContents(e,t)}},{key:"getFormat",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"number"==typeof e?this.editor.getFormat(e,t):this.editor.getFormat(e.index,e.length)}},{key:"getIndex",value:function(e){return e.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(e){return this.scroll.leaf(e)}},{key:"getLine",value:function(e){return this.scroll.line(e)}},{key:"getLines",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!=typeof e?this.scroll.lines(e.index,e.length):this.scroll.lines(e,t)}},{key:"getModule",value:function(e){return this.theme.modules[e]}},{key:"getSelection",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,r=Gt(e,t),n=Lt(r,2);return e=n[0],t=n[1],this.editor.getText(e,t)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(t,r,n){var o=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.sources.API;return Kt.call(this,(function(){return o.editor.insertEmbed(t,r,n)}),i,t)}},{key:"insertText",value:function(e,t,r,n,o){var i,a=this,s=Lt(Gt(e,0,r,n,o),4);return e=s[0],i=s[2],o=s[3],Kt.call(this,(function(){return a.editor.insertText(e,t,i)}),o,e,t.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(e,t,r){this.clipboard.dangerouslyPasteHTML(e,t,r)}},{key:"removeFormat",value:function(e,t,r){var n=this,o=Lt(Gt(e,t,r),4);return e=o[0],t=o[1],r=o[3],Kt.call(this,(function(){return n.editor.removeFormat(e,t)}),r,e)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ut.sources.API;return Kt.call(this,(function(){e=new a.a(e);var r=t.getLength(),n=t.editor.deleteText(0,r),o=t.editor.applyDelta(e),i=o.ops[o.ops.length-1];return null!=i&&"string"==typeof i.insert&&"\n"===i.insert[i.insert.length-1]&&(t.editor.deleteText(t.getLength()-1,1),o.delete(1)),n.compose(o)}),r)}},{key:"setSelection",value:function(t,r,n){if(null==t)this.selection.setRange(null,r||e.sources.API);else{var o=Lt(Gt(t,r,n),4);t=o[0],r=o[1],n=o[3],this.selection.setRange(new Pt(t,r),n),n!==ut.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ut.sources.API,r=(new a.a).insert(e);return this.setContents(r,t)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut.sources.USER,t=this.scroll.update(e);return this.selection.update(e),t}},{key:"updateContents",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ut.sources.API;return Kt.call(this,(function(){return e=new a.a(e),t.editor.applyDelta(e,r)}),r,!0)}}],[{key:"debug",value:function(e){!0===e&&(e="log"),Xe.level(e)}},{key:"find",value:function(e){return e.__quill||o.a.find(e)}},{key:"import",value:function(e){return null==this.imports[e]&&Wt.error("Cannot import ".concat(e,". Are you sure it was registered?")),this.imports[e]}},{key:"register",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!=typeof e){var i=e.attrName||e.blotName;"string"==typeof i?this.register("formats/"+i,e,t):Object.keys(e).forEach((function(n){r.register(n,e[n],t)}))}else null==this.imports[e]||n||Wt.warn("Overwriting ".concat(e," with"),t),this.imports[e]=t,(e.startsWith("blots/")||e.startsWith("formats/"))&&"abstract"!==t.blotName?o.a.register(t):e.startsWith("modules")&&"function"==typeof t.register&&t.register()}}]),e}();function Vt(e,t){if((t=u()(!0,{container:e,modules:{clipboard:!0,keyboard:!0,history:!0}},t)).theme&&t.theme!==qt.DEFAULTS.theme){if(t.theme=qt.import("themes/".concat(t.theme)),null==t.theme)throw new Error("Invalid theme ".concat(t.theme,". Did you register it?"))}else t.theme=Bt;var r=u()(!0,{},t.theme.DEFAULTS);[r,t].forEach((function(e){e.modules=e.modules||{},Object.keys(e.modules).forEach((function(t){!0===e.modules[t]&&(e.modules[t]={})}))}));var n=Object.keys(r.modules).concat(Object.keys(t.modules)).reduce((function(e,t){var r=qt.import("modules/".concat(t));return null==r?Wt.error("Cannot load ".concat(t," module. Are you sure you registered it?")):e[t]=r.DEFAULTS||{},e}),{});return null!=t.modules&&t.modules.toolbar&&t.modules.toolbar.constructor!==Object&&(t.modules.toolbar={container:t.modules.toolbar}),t=u()(!0,{},qt.DEFAULTS,{modules:n},r,t),["bounds","container","scrollingContainer"].forEach((function(e){"string"==typeof t[e]&&(t[e]=document.querySelector(t[e]))})),t.modules=Object.keys(t.modules).reduce((function(e,r){return t.modules[r]&&(e[r]=t.modules[r]),e}),{}),t}function Kt(e,t,r,n){if(this.options.strict&&!this.isEnabled()&&t===ut.sources.USER)return new a.a;var o=null==r?null:this.getSelection(),i=this.editor.delta,s=e();if(null!=o&&(!0===r&&(r=o.index),null==n?o=Qt(o,s,t):0!==n&&(o=Qt(o,r,n,t)),this.setSelection(o,ut.sources.SILENT)),s.length()>0){var l,c,u=[ut.events.TEXT_CHANGE,s,i,t];if((l=this.emitter).emit.apply(l,[ut.events.EDITOR_CHANGE].concat(u)),t!==ut.sources.SILENT)(c=this.emitter).emit.apply(c,u)}return s}function Gt(e,t,r,n,o){var i={};return"number"==typeof e.index&&"number"==typeof e.length?"number"!=typeof t?(o=n,n=r,r=t,t=e.length,e=e.index):(t=e.length,e=e.index):"number"!=typeof t&&(o=n,n=r,r=t,t=0),"object"===Mt(r)?(i=r,o=n):"string"==typeof r&&(null!=n?i[r]=n:o=r),[e,t,i,o=o||ut.sources.API]}function Qt(e,t,r,n){if(null==e)return null;var o,i;if(t instanceof a.a){var s=Lt([e.index,e.index+e.length].map((function(e){return t.transformPosition(e,n!==ut.sources.USER)})),2);o=s[0],i=s[1]}else{var l=Lt([e.index,e.index+e.length].map((function(e){return e<t||e===t&&n===ut.sources.USER?e:r>=0?e+r:Math.max(t,e+r)})),2);o=l[0],i=l[1]}return new Pt(o,i-o)}function Yt(e){return(Yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Jt(n.key),n)}}function Jt(e){var t=function(e,t){if("object"!==Yt(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Yt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Yt(t)?t:String(t)}function Xt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zt(e,t){return(Zt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function er(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=rr(e);if(t){var o=rr(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return tr(this,r)}}function tr(e,t){if(t&&("object"===Yt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function rr(e){return(rr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}qt.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},qt.events=ut.events,qt.sources=ut.sources,qt.version="undefined"==typeof QUILL_VERSION?"dev":QUILL_VERSION,qt.imports={delta:a.a,parchment:o.a,"core/module":bt,"core/theme":Bt};var nr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zt(e,t)}(r,e);var t=er(r);function r(){return Xt(this,r),t.apply(this,arguments)}return function(e,t,r){return t&&$t(e.prototype,t),r&&$t(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(r)}(o.a.Container);nr.allowedChildren=[ne,re,nr];var or=nr;function ir(e){return(ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ar(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sr(n.key),n)}}function sr(e){var t=function(e,t){if("object"!==ir(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==ir(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ir(t)?t:String(t)}function lr(){return(lr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=cr(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}}).apply(this,arguments)}function cr(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=fr(e)););return e}function ur(e,t){return(ur=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function dr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=fr(e);if(t){var o=fr(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return pr(this,r)}}function pr(e,t){if(t&&("object"===ir(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function fr(e){return(fr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var hr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ur(e,t)}(r,e);var t=dr(r);function r(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(n=t.call(this,e)).contentNode=document.createElement("span"),n.contentNode.setAttribute("contenteditable",!1),[].slice.call(n.domNode.childNodes).forEach((function(e){n.contentNode.appendChild(e)})),n.leftGuard=document.createTextNode("\ufeff"),n.rightGuard=document.createTextNode("\ufeff"),n.domNode.appendChild(n.leftGuard),n.domNode.appendChild(n.contentNode),n.domNode.appendChild(n.rightGuard),n}return function(e,t,r){t&&ar(e.prototype,t),r&&ar(e,r),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"index",value:function(e,t){return e===this.leftGuard?0:e===this.rightGuard?1:lr(fr(r.prototype),"index",this).call(this,e,t)}},{key:"restore",value:function(e){var t,r,n=e.data.split("\ufeff").join("");if(e===this.leftGuard)if(this.prev instanceof I){var i=this.prev.length();this.prev.insertAt(i,n),t={startNode:this.prev.domNode,startOffset:i+n.length}}else r=document.createTextNode(n),this.parent.insertBefore(o.a.create(r),this),t={startNode:r,startOffset:n.length};else e===this.rightGuard&&(this.next instanceof I?(this.next.insertAt(0,n),t={startNode:this.next.domNode,startOffset:n.length}):(r=document.createTextNode(n),this.parent.insertBefore(o.a.create(r),this.next),t={startNode:r,startOffset:n.length}));return e.data="\ufeff",t}},{key:"update",value:function(e,t){var r=this;e.forEach((function(e){if("characterData"===e.type&&(e.target===r.leftGuard||e.target===r.rightGuard)){var n=r.restore(e.target);n&&(t.range=n)}}))}}]),r}(o.a.Embed);function mr(e){return(mr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function br(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vr(n.key),n)}}function vr(e){var t=function(e,t){if("object"!==mr(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==mr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===mr(t)?t:String(t)}function gr(){return(gr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=Or(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}}).apply(this,arguments)}function Or(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Sr(e)););return e}function wr(e,t){return(wr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function xr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Sr(e);if(t){var o=Sr(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Cr(this,r)}}function Cr(e,t){if(t&&("object"===mr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Sr(e){return(Sr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Tr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wr(e,t)}(r,e);var t=xr(r);function r(){return yr(this,r),t.apply(this,arguments)}return function(e,t,r){t&&br(e.prototype,t),r&&br(e,r),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"value",value:function(e){var t=gr(Sr(r.prototype),"value",this).call(this,e);return t.startsWith("rgb(")?(t=t.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+t.split(",").map((function(e){return("00"+parseInt(e).toString(16)).slice(-2)})).join("")):t}}]),r}(o.a.Attributor.Style),jr=(new o.a.Attributor.Class("color","ql-color",{scope:o.a.Scope.INLINE}),new Tr("color","color",{scope:o.a.Scope.INLINE})),kr=(new o.a.Attributor.Class("background","ql-bg",{scope:o.a.Scope.INLINE}),new Tr("background","background-color",{scope:o.a.Scope.INLINE}));function Pr(e){return(Pr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Er(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ir(n.key),n)}}function Ir(e){var t=function(e,t){if("object"!==Pr(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Pr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Pr(t)?t:String(t)}function Rr(){return(Rr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=Ar(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}}).apply(this,arguments)}function Ar(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Nr(e)););return e}function Dr(e,t){return(Dr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Br(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Nr(e);if(t){var o=Nr(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Mr(this,r)}}function Mr(e,t){if(t&&("object"===Pr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Nr(e){return(Nr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Lr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dr(e,t)}(r,e);var t=Br(r);function r(){return Er(this,r),t.apply(this,arguments)}return function(e,t,r){t&&_r(e.prototype,t),r&&_r(e,r),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"optimize",value:function(e){Rr(Nr(r.prototype),"optimize",this).call(this,e),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return Rr(Nr(r),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),r}(W);Lr.blotName="bold",Lr.tagName=["STRONG","B"];var Fr=Lr;function zr(e){return(zr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ur(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Wr(n.key),n)}}function Wr(e){var t=function(e,t){if("object"!==zr(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==zr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===zr(t)?t:String(t)}function qr(){return(qr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=Vr(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}}).apply(this,arguments)}function Vr(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Yr(e)););return e}function Kr(e,t){return(Kr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Gr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Yr(e);if(t){var o=Yr(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Qr(this,r)}}function Qr(e,t){if(t&&("object"===zr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Yr(e){return(Yr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var $r={scope:o.a.Scope.INLINE,whitelist:["serif","monospace"]},Jr=(new o.a.Attributor.Class("font","ql-font",$r),new(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Kr(e,t)}(r,e);var t=Gr(r);function r(){return Hr(this,r),t.apply(this,arguments)}return function(e,t,r){t&&Ur(e.prototype,t),r&&Ur(e,r),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"value",value:function(e){return qr(Yr(r.prototype),"value",this).call(this,e).replace(/["']/g,"")}}]),r}(o.a.Attributor.Style))("font","font-family",$r));function Xr(e){return(Xr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,en(n.key),n)}}function en(e){var t=function(e,t){if("object"!==Xr(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Xr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Xr(t)?t:String(t)}function tn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rn(e,t){return(rn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function nn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=an(e);if(t){var o=an(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return on(this,r)}}function on(e,t){if(t&&("object"===Xr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function an(e){return(an=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var sn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rn(e,t)}(r,e);var t=nn(r);function r(){return tn(this,r),t.apply(this,arguments)}return function(e,t,r){return t&&Zr(e.prototype,t),r&&Zr(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(r)}(Fr);sn.blotName="italic",sn.tagName=["EM","I"];var ln=sn;function cn(e){return(cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function un(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pn(n.key),n)}}function pn(e){var t=function(e,t){if("object"!==cn(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==cn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===cn(t)?t:String(t)}function fn(){return(fn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=hn(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}}).apply(this,arguments)}function hn(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=vn(e)););return e}function mn(e,t){return(mn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function yn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=vn(e);if(t){var o=vn(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return bn(this,r)}}function bn(e,t){if(t&&("object"===cn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function vn(e){return(vn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var gn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mn(e,t)}(r,e);var t=yn(r);function r(){return un(this,r),t.apply(this,arguments)}return function(e,t,r){t&&dn(e.prototype,t),r&&dn(e,r),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"format",value:function(e,t){if(e!==this.statics.blotName||!t)return fn(vn(r.prototype),"format",this).call(this,e,t);t=this.constructor.sanitize(t),this.domNode.setAttribute("href",t)}}],[{key:"create",value:function(e){var t=fn(vn(r),"create",this).call(this,e);return e=this.sanitize(e),t.setAttribute("href",e),t.setAttribute("rel","noopener noreferrer"),t.setAttribute("target","_blank"),t}},{key:"formats",value:function(e){return e.getAttribute("href")}},{key:"sanitize",value:function(e){return function(e,t){var r=document.createElement("a");r.href=e;var n=r.href.slice(0,r.href.indexOf(":"));return t.indexOf(n)>-1}(e,this.PROTOCOL_WHITELIST)?e:this.SANITIZED_URL}}]),r}(W);function On(e){return(On="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Cn(n.key),n)}}function Cn(e){var t=function(e,t){if("object"!==On(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==On(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===On(t)?t:String(t)}function Sn(){return(Sn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=Tn(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}}).apply(this,arguments)}function Tn(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=En(e)););return e}function jn(e,t){return(jn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function kn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=En(e);if(t){var o=En(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Pn(this,r)}}function Pn(e,t){if(t&&("object"===On(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function En(e){return(En=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}gn.blotName="link",gn.tagName="A",gn.SANITIZED_URL="about:blank",gn.PROTOCOL_WHITELIST=["http","https","mailto","tel"];var _n=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jn(e,t)}(r,e);var t=kn(r);function r(){return wn(this,r),t.apply(this,arguments)}return function(e,t,r){t&&xn(e.prototype,t),r&&xn(e,r),Object.defineProperty(e,"prototype",{writable:!1})}(r,null,[{key:"create",value:function(e){return"super"===e?document.createElement("sup"):"sub"===e?document.createElement("sub"):Sn(En(r),"create",this).call(this,e)}},{key:"formats",value:function(e){return"SUB"===e.tagName?"sub":"SUP"===e.tagName?"super":void 0}}]),r}(W);_n.blotName="script",_n.tagName=["SUB","SUP"];var In=_n,Rn=(new o.a.Attributor.Class("size","ql-size",{scope:o.a.Scope.INLINE,whitelist:["small","large","huge"]}),new o.a.Attributor.Style("size","font-size",{scope:o.a.Scope.INLINE,whitelist:["10px","18px","32px"]}));function An(e){return(An="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Bn(n.key),n)}}function Bn(e){var t=function(e,t){if("object"!==An(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==An(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===An(t)?t:String(t)}function Mn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nn(e,t){return(Nn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Ln(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=zn(e);if(t){var o=zn(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Fn(this,r)}}function Fn(e,t){if(t&&("object"===An(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function zn(e){return(zn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Hn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Nn(e,t)}(r,e);var t=Ln(r);function r(){return Mn(this,r),t.apply(this,arguments)}return function(e,t,r){return t&&Dn(e.prototype,t),r&&Dn(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(r)}(W);Hn.blotName="strike",Hn.tagName="S";var Un=Hn;function Wn(e){return(Wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Vn(n.key),n)}}function Vn(e){var t=function(e,t){if("object"!==Wn(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Wn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Wn(t)?t:String(t)}function Kn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gn(e,t){return(Gn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Qn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=$n(e);if(t){var o=$n(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Yn(this,r)}}function Yn(e,t){if(t&&("object"===Wn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function $n(e){return($n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Jn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gn(e,t)}(r,e);var t=Qn(r);function r(){return Kn(this,r),t.apply(this,arguments)}return function(e,t,r){return t&&qn(e.prototype,t),r&&qn(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(r)}(W);Jn.blotName="underline",Jn.tagName="U";var Xn=Jn,Zn={scope:o.a.Scope.BLOCK,whitelist:["right","center","justify"]},eo=new o.a.Attributor.Attribute("align","align",Zn),to=(new o.a.Attributor.Class("align","ql-align",Zn),new o.a.Attributor.Style("align","text-align",Zn)),ro={scope:o.a.Scope.BLOCK,whitelist:["rtl"]},no=new o.a.Attributor.Attribute("direction","dir",ro),oo=(new o.a.Attributor.Class("direction","ql-direction",ro),new o.a.Attributor.Style("direction","direction",ro));function io(e){return(io="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ao(e,t,r){return(t=uo(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function so(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return lo(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lo(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function co(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uo(n.key),n)}}function uo(e){var t=function(e,t){if("object"!==io(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==io(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===io(t)?t:String(t)}function po(e,t){return(po=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function fo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=yo(e);if(t){var o=yo(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ho(this,r)}}function ho(e,t){if(t&&("object"===io(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return mo(e)}function mo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yo(e){return(yo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var bo=Xe("quill:clipboard"),vo="__ql-matcher",go=[[Node.TEXT_NODE,function(e,t){var r=e.data;if("O:P"===e.parentNode.tagName)return t.insert(r.trim());if(0===r.trim().length&&e.parentNode.classList.contains("ql-clipboard"))return t;if(!So(e.parentNode).whiteSpace.startsWith("pre")){var n=function(e,t){return(t=t.replace(/[^\u00a0]/g,"")).length<1&&e?" ":t};r=(r=r.replace(/\r\n/g," ").replace(/\n/g," ")).replace(/\s\s+/g,n.bind(n,!0)),(null==e.previousSibling&&jo(e.parentNode)||null!=e.previousSibling&&jo(e.previousSibling))&&(r=r.replace(/^\s+/,n.bind(n,!1))),(null==e.nextSibling&&jo(e.parentNode)||null!=e.nextSibling&&jo(e.nextSibling))&&(r=r.replace(/\s+$/,n.bind(n,!1)))}return t.insert(r)}],[Node.TEXT_NODE,Po],["br",function(e,t){To(t,"\n")||t.insert("\n");return t}],[Node.ELEMENT_NODE,Po],[Node.ELEMENT_NODE,function(e,t){var r=o.a.query(e);if(null==r)return t;if(r.prototype instanceof o.a.Embed){var n={},i=r.value(e);null!=i&&(n[r.blotName]=i,t=(new a.a).insert(n,r.formats(e)))}else"function"==typeof r.formats&&(t=Co(t,r.blotName,r.formats(e)));return t}],[Node.ELEMENT_NODE,Eo],[Node.ELEMENT_NODE,function(e,t){var r=o.a.Attributor.Attribute.keys(e),n=o.a.Attributor.Class.keys(e),i=o.a.Attributor.Style.keys(e),a={};r.concat(n).concat(i).forEach((function(t){var r=o.a.query(t,o.a.Scope.ATTRIBUTE);null!=r&&(a[r.attrName]=r.value(e),a[r.attrName])||(null==(r=Oo[t])||r.attrName!==t&&r.keyName!==t||(a[r.attrName]=r.value(e)||void 0),null==(r=wo[t])||r.attrName!==t&&r.keyName!==t||(r=wo[t],a[r.attrName]=r.value(e)||void 0))})),Object.keys(a).length>0&&(t=Co(t,a));return t}],[Node.ELEMENT_NODE,function(e,t){var r={},n=e.style||{};n.fontStyle&&"italic"===So(e).fontStyle&&(r.italic=!0);n.fontWeight&&(So(e).fontWeight.startsWith("bold")||parseInt(So(e).fontWeight)>=700)&&(r.bold=!0);Object.keys(r).length>0&&(t=Co(t,r));parseFloat(n.textIndent||0)>0&&(t=(new a.a).insert("\t").concat(t));return t}],["li",function(e,t){var r=o.a.query(e);if(null==r||"list-item"!==r.blotName||!To(t,"\n"))return t;var n=-1,i=e.parentNode;for(;!i.classList.contains("ql-clipboard");)"list"===(o.a.query(i)||{}).blotName&&(n+=1),i=i.parentNode;return n<=0?t:t.compose((new a.a).retain(t.length()-1).retain(1,{indent:n}))}],["b",ko.bind(ko,"bold")],["i",ko.bind(ko,"italic")],["style",function(){return new a.a}]],Oo=[eo,no].reduce((function(e,t){return e[t.keyName]=t,e}),{}),wo=[to,kr,jr,oo,Jr,Rn].reduce((function(e,t){return e[t.keyName]=t,e}),{}),xo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&po(e,t)}(r,e);var t=fo(r);function r(e,n){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(o=t.call(this,e,n)).quill.root.addEventListener("paste",o.onPaste.bind(mo(o))),o.container=o.quill.addContainer("ql-clipboard"),o.container.setAttribute("contenteditable",!0),o.container.setAttribute("tabindex",-1),o.matchers=[],go.concat(o.options.matchers).forEach((function(e){var t=so(e,2),r=t[0],i=t[1];(n.matchVisual||i!==Eo)&&o.addMatcher(r,i)})),o}return function(e,t,r){t&&co(e.prototype,t),r&&co(e,r),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"addMatcher",value:function(e,t){this.matchers.push([e,t])}},{key:"convert",value:function(e){if("string"==typeof e)return this.container.innerHTML=e.replace(/\>\r?\n +\</g,"><"),this.convert();var t=this.quill.getFormat(this.quill.selection.savedRange.index);if(t[Oe.blotName]){var r=this.container.innerText;return this.container.innerHTML="",(new a.a).insert(r,ao({},Oe.blotName,t[Oe.blotName]))}var n=so(this.prepareMatching(),2),o=n[0],i=n[1],s=function e(t,r,n){return t.nodeType===t.TEXT_NODE?n.reduce((function(e,r){return r(t,e)}),new a.a):t.nodeType===t.ELEMENT_NODE?[].reduce.call(t.childNodes||[],(function(o,i){var a=e(i,r,n);return i.nodeType===t.ELEMENT_NODE&&(a=r.reduce((function(e,t){return t(i,e)}),a),a=(i[vo]||[]).reduce((function(e,t){return t(i,e)}),a)),o.concat(a)}),new a.a):new a.a}(this.container,o,i);return To(s,"\n")&&null==s.ops[s.ops.length-1].attributes&&(s=s.compose((new a.a).retain(s.length()-1).delete(1))),bo.log("convert",this.container.innerHTML,s),this.container.innerHTML="",s}},{key:"dangerouslyPasteHTML",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:qt.sources.API;if("string"==typeof e)this.quill.setContents(this.convert(e),t),this.quill.setSelection(0,qt.sources.SILENT);else{var n=this.convert(t);this.quill.updateContents((new a.a).retain(e).concat(n),r),this.quill.setSelection(e+n.length(),qt.sources.SILENT)}}},{key:"onPaste",value:function(e){var t=this;if(!e.defaultPrevented&&this.quill.isEnabled()){var r=this.quill.getSelection(),n=(new a.a).retain(r.index),o=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(qt.sources.SILENT),setTimeout((function(){n=n.concat(t.convert()).delete(r.length),t.quill.updateContents(n,qt.sources.USER),t.quill.setSelection(n.length()-r.length,qt.sources.SILENT),t.quill.scrollingContainer.scrollTop=o,t.quill.focus()}),1)}}},{key:"prepareMatching",value:function(){var e=this,t=[],r=[];return this.matchers.forEach((function(n){var o=so(n,2),i=o[0],a=o[1];switch(i){case Node.TEXT_NODE:r.push(a);break;case Node.ELEMENT_NODE:t.push(a);break;default:[].forEach.call(e.container.querySelectorAll(i),(function(e){e[vo]=e[vo]||[],e[vo].push(a)}))}})),[t,r]}}]),r}(bt);function Co(e,t,r){return"object"===io(t)?Object.keys(t).reduce((function(e,r){return Co(e,r,t[r])}),e):e.reduce((function(e,n){return n.attributes&&n.attributes[t]?e.push(n):e.insert(n.insert,u()({},ao({},t,r),n.attributes))}),new a.a)}function So(e){if(e.nodeType!==Node.ELEMENT_NODE)return{};return e["__ql-computed-style"]||(e["__ql-computed-style"]=window.getComputedStyle(e))}function To(e,t){for(var r="",n=e.ops.length-1;n>=0&&r.length<t.length;--n){var o=e.ops[n];if("string"!=typeof o.insert)break;r=o.insert+r}return r.slice(-1*t.length)===t}function jo(e){if(0===e.childNodes.length)return!1;var t=So(e);return["block","list-item"].indexOf(t.display)>-1}function ko(e,t,r){return Co(r,e,!0)}function Po(e,t){return To(t,"\n")||(jo(e)||t.length()>0&&e.nextSibling&&jo(e.nextSibling))&&t.insert("\n"),t}function Eo(e,t){if(jo(e)&&null!=e.nextElementSibling&&!To(t,"\n\n")){var r=e.offsetHeight+parseFloat(So(e).marginTop)+parseFloat(So(e).marginBottom);e.nextElementSibling.offsetTop>e.offsetTop+1.5*r&&t.insert("\n")}return t}function _o(e){return(_o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Io(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ro(n.key),n)}}function Ro(e){var t=function(e,t){if("object"!==_o(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==_o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===_o(t)?t:String(t)}function Ao(e,t){return(Ao=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Do(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=No(e);if(t){var o=No(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Bo(this,r)}}function Bo(e,t){if(t&&("object"===_o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Mo(e)}function Mo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function No(e){return(No=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}xo.DEFAULTS={matchers:[],matchVisual:!0};var Lo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ao(e,t)}(r,e);var t=Do(r);function r(e,n){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(o=t.call(this,e,n)).lastRecorded=0,o.ignoreChange=!1,o.clear(),o.quill.on(qt.events.EDITOR_CHANGE,(function(e,t,r,n){e!==qt.events.TEXT_CHANGE||o.ignoreChange||(o.options.userOnly&&n!==qt.sources.USER?o.transform(t):o.record(t,r))})),o.quill.keyboard.addBinding({key:"Z",shortKey:!0},o.undo.bind(Mo(o))),o.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},o.redo.bind(Mo(o))),/Win/i.test(navigator.platform)&&o.quill.keyboard.addBinding({key:"Y",shortKey:!0},o.redo.bind(Mo(o))),o}return function(e,t,r){t&&Io(e.prototype,t),r&&Io(e,r),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"change",value:function(e,t){if(0!==this.stack[e].length){var r=this.stack[e].pop();this.stack[t].push(r),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(r[e],qt.sources.USER),this.ignoreChange=!1;var n=function(e){var t=e.reduce((function(e,t){return e+=t.delete||0}),0),r=e.length()-t;(function(e){var t=e.ops[e.ops.length-1];if(null==t)return!1;if(null!=t.insert)return"string"==typeof t.insert&&t.insert.endsWith("\n");if(null!=t.attributes)return Object.keys(t.attributes).some((function(e){return null!=o.a.query(e,o.a.Scope.BLOCK)}));return!1})(e)&&(r-=1);return r}(r[e]);this.quill.setSelection(n)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(e,t){if(0!==e.ops.length){this.stack.redo=[];var r=this.quill.getContents().diff(t),n=Date.now();if(this.lastRecorded+this.options.delay>n&&this.stack.undo.length>0){var o=this.stack.undo.pop();r=r.compose(o.undo),e=o.redo.compose(e)}else this.lastRecorded=n;this.stack.undo.push({redo:e,undo:r}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(e){this.stack.undo.forEach((function(t){t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)})),this.stack.redo.forEach((function(t){t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)}))}},{key:"undo",value:function(){this.change("undo","redo")}}]),r}(bt);function Fo(e,t,r){return(t=qo(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zo(e){return(zo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ho(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Uo(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Uo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Uo(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Wo(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qo(n.key),n)}}function qo(e){var t=function(e,t){if("object"!==zo(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==zo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===zo(t)?t:String(t)}function Vo(e,t){return(Vo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Ko(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Qo(e);if(t){var o=Qo(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Go(this,r)}}function Go(e,t){if(t&&("object"===zo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Qo(e){return(Qo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Lo.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};var Yo=Xe("quill:keyboard"),$o=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",Jo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vo(e,t)}(r,e);var t=Ko(r);function r(e,n){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(o=t.call(this,e,n)).bindings={},Object.keys(o.options.bindings).forEach((function(t){("list autofill"!==t||null==e.scroll.whitelist||e.scroll.whitelist.list)&&o.options.bindings[t]&&o.addBinding(o.options.bindings[t])})),o.addBinding({key:r.keys.ENTER,shiftKey:null},ri),o.addBinding({key:r.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},(function(){})),/Firefox/i.test(navigator.userAgent)?(o.addBinding({key:r.keys.BACKSPACE},{collapsed:!0},Zo),o.addBinding({key:r.keys.DELETE},{collapsed:!0},ei)):(o.addBinding({key:r.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},Zo),o.addBinding({key:r.keys.DELETE},{collapsed:!0,suffix:/^.?$/},ei)),o.addBinding({key:r.keys.BACKSPACE},{collapsed:!1},ti),o.addBinding({key:r.keys.DELETE},{collapsed:!1},ti),o.addBinding({key:r.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},Zo),o.listen(),o}return function(e,t,r){t&&Wo(e.prototype,t),r&&Wo(e,r),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"addBinding",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=ii(e);if(null==n||null==n.key)return Yo.warn("Attempted to add invalid keyboard binding",n);"function"==typeof t&&(t={handler:t}),"function"==typeof r&&(r={handler:r}),n=u()(n,t,r),this.bindings[n.key]=this.bindings[n.key]||[],this.bindings[n.key].push(n)}},{key:"listen",value:function(){var e=this;this.quill.root.addEventListener("keydown",(function(t){if(!t.defaultPrevented){var n=t.which||t.keyCode,i=(e.bindings[n]||[]).filter((function(e){return r.match(t,e)}));if(0!==i.length){var a=e.quill.getSelection();if(null!=a&&e.quill.hasFocus()){var s=Ho(e.quill.getLine(a.index),2),l=s[0],c=s[1],u=Ho(e.quill.getLeaf(a.index),2),d=u[0],p=u[1],f=Ho(0===a.length?[d,p]:e.quill.getLeaf(a.index+a.length),2),h=f[0],m=f[1],y=d instanceof o.a.Text?d.value().slice(0,p):"",b=h instanceof o.a.Text?h.value().slice(m):"",v={collapsed:0===a.length,empty:0===a.length&&l.length()<=1,format:e.quill.getFormat(a),offset:c,prefix:y,suffix:b};i.some((function(t){if(null!=t.collapsed&&t.collapsed!==v.collapsed)return!1;if(null!=t.empty&&t.empty!==v.empty)return!1;if(null!=t.offset&&t.offset!==v.offset)return!1;if(Array.isArray(t.format)){if(t.format.every((function(e){return null==v.format[e]})))return!1}else if("object"===zo(t.format)&&!Object.keys(t.format).every((function(e){return!0===t.format[e]?null!=v.format[e]:!1===t.format[e]?null==v.format[e]:Ne()(t.format[e],v.format[e])})))return!1;return!(null!=t.prefix&&!t.prefix.test(v.prefix))&&(!(null!=t.suffix&&!t.suffix.test(v.suffix))&&!0!==t.handler.call(e,a,v))}))&&t.preventDefault()}}}}))}}],[{key:"match",value:function(e,t){return t=ii(t),!["altKey","ctrlKey","metaKey","shiftKey"].some((function(r){return!!t[r]!==e[r]&&null!==t[r]}))&&t.key===(e.which||e.keyCode)}}]),r}(bt);function Xo(e,t){var r,n=e===Jo.keys.LEFT?"prefix":"suffix";return Fo(r={key:e,shiftKey:t,altKey:null},n,/^$/),Fo(r,"handler",(function(r){var n=r.index;return e===Jo.keys.RIGHT&&(n+=r.length+1),!(Ho(this.quill.getLeaf(n),1)[0]instanceof o.a.Embed)||(e===Jo.keys.LEFT?t?this.quill.setSelection(r.index-1,r.length+1,qt.sources.USER):this.quill.setSelection(r.index-1,qt.sources.USER):t?this.quill.setSelection(r.index,r.length+1,qt.sources.USER):this.quill.setSelection(r.index+r.length+1,qt.sources.USER),!1)})),r}function Zo(e,t){if(!(0===e.index||this.quill.getLength()<=1)){var r=Ho(this.quill.getLine(e.index),1)[0],n={};if(0===t.offset){var o=Ho(this.quill.getLine(e.index-1),1)[0];if(null!=o&&o.length()>1){var i=r.formats(),a=this.quill.getFormat(e.index-1,1);n=l.a.attributes.diff(i,a)||{}}}var s=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(t.prefix)?2:1;this.quill.deleteText(e.index-s,s,qt.sources.USER),Object.keys(n).length>0&&this.quill.formatLine(e.index-s,s,n,qt.sources.USER),this.quill.focus()}}function ei(e,t){var r=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(t.suffix)?2:1;if(!(e.index>=this.quill.getLength()-r)){var n={},o=0,i=Ho(this.quill.getLine(e.index),1)[0];if(t.offset>=i.length()-1){var a=Ho(this.quill.getLine(e.index+1),1)[0];if(a){var s=i.formats(),c=this.quill.getFormat(e.index,1);n=l.a.attributes.diff(s,c)||{},o=a.length()}}this.quill.deleteText(e.index,r,qt.sources.USER),Object.keys(n).length>0&&this.quill.formatLine(e.index+o-1,r,n,qt.sources.USER)}}function ti(e){var t=this.quill.getLines(e),r={};if(t.length>1){var n=t[0].formats(),o=t[t.length-1].formats();r=l.a.attributes.diff(o,n)||{}}this.quill.deleteText(e,qt.sources.USER),Object.keys(r).length>0&&this.quill.formatLine(e.index,1,r,qt.sources.USER),this.quill.setSelection(e.index,qt.sources.SILENT),this.quill.focus()}function ri(e,t){var r=this;e.length>0&&this.quill.scroll.deleteAt(e.index,e.length);var n=Object.keys(t.format).reduce((function(e,r){return o.a.query(r,o.a.Scope.BLOCK)&&!Array.isArray(t.format[r])&&(e[r]=t.format[r]),e}),{});this.quill.insertText(e.index,"\n",n,qt.sources.USER),this.quill.setSelection(e.index+1,qt.sources.SILENT),this.quill.focus(),Object.keys(t.format).forEach((function(e){null==n[e]&&(Array.isArray(t.format[e])||"link"!==e&&r.quill.format(e,t.format[e],qt.sources.USER))}))}function ni(e){return{key:Jo.keys.TAB,shiftKey:!e,format:{"code-block":!0},handler:function(t){var r=o.a.query("code-block"),n=t.index,i=t.length,a=Ho(this.quill.scroll.descendant(r,n),2),s=a[0],l=a[1];if(null!=s){var c=this.quill.getIndex(s),u=s.newlineIndex(l,!0)+1,d=s.newlineIndex(c+l+i),p=s.domNode.textContent.slice(u,d).split("\n");l=0,p.forEach((function(t,o){e?(s.insertAt(u+l,r.TAB),l+=r.TAB.length,0===o?n+=r.TAB.length:i+=r.TAB.length):t.startsWith(r.TAB)&&(s.deleteAt(u+l,r.TAB.length),l-=r.TAB.length,0===o?n-=r.TAB.length:i-=r.TAB.length),l+=t.length+1})),this.quill.update(qt.sources.USER),this.quill.setSelection(n,i,qt.sources.SILENT)}}}}function oi(e){return{key:e[0].toUpperCase(),shortKey:!0,handler:function(t,r){this.quill.format(e,!r.format[e],qt.sources.USER)}}}function ii(e){if("string"==typeof e||"number"==typeof e)return ii({key:e});if("object"===zo(e)&&(e=Be()(e,!1)),"string"==typeof e.key)if(null!=Jo.keys[e.key.toUpperCase()])e.key=Jo.keys[e.key.toUpperCase()];else{if(1!==e.key.length)return null;e.key=e.key.toUpperCase().charCodeAt(0)}return e.shortKey&&(e[$o]=e.shortKey,delete e.shortKey),e}Jo.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},Jo.DEFAULTS={bindings:{bold:oi("bold"),italic:oi("italic"),underline:oi("underline"),indent:{key:Jo.keys.TAB,format:["blockquote","indent","list"],handler:function(e,t){if(t.collapsed&&0!==t.offset)return!0;this.quill.format("indent","+1",qt.sources.USER)}},outdent:{key:Jo.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(e,t){if(t.collapsed&&0!==t.offset)return!0;this.quill.format("indent","-1",qt.sources.USER)}},"outdent backspace":{key:Jo.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(e,t){null!=t.format.indent?this.quill.format("indent","-1",qt.sources.USER):null!=t.format.list&&this.quill.format("list",!1,qt.sources.USER)}},"indent code-block":ni(!0),"outdent code-block":ni(!1),"remove tab":{key:Jo.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(e){this.quill.deleteText(e.index-1,1,qt.sources.USER)}},tab:{key:Jo.keys.TAB,handler:function(e){this.quill.history.cutoff();var t=(new a.a).retain(e.index).delete(e.length).insert("\t");this.quill.updateContents(t,qt.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index+1,qt.sources.SILENT)}},"list empty enter":{key:Jo.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(e,t){this.quill.format("list",!1,qt.sources.USER),t.format.indent&&this.quill.format("indent",!1,qt.sources.USER)}},"checklist enter":{key:Jo.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(e){var t=Ho(this.quill.getLine(e.index),2),r=t[0],n=t[1],o=u()({},r.formats(),{list:"checked"}),i=(new a.a).retain(e.index).insert("\n",o).retain(r.length()-n-1).retain(1,{list:"unchecked"});this.quill.updateContents(i,qt.sources.USER),this.quill.setSelection(e.index+1,qt.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:Jo.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(e,t){var r=Ho(this.quill.getLine(e.index),2),n=r[0],o=r[1],i=(new a.a).retain(e.index).insert("\n",t.format).retain(n.length()-o-1).retain(1,{header:null});this.quill.updateContents(i,qt.sources.USER),this.quill.setSelection(e.index+1,qt.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(e,t){var r,n=t.prefix.length,o=Ho(this.quill.getLine(e.index),2),i=o[0],s=o[1];if(s>n)return!0;switch(t.prefix.trim()){case"[]":case"[ ]":r="unchecked";break;case"[x]":r="checked";break;case"-":case"*":r="bullet";break;default:r="ordered"}this.quill.insertText(e.index," ",qt.sources.USER),this.quill.history.cutoff();var l=(new a.a).retain(e.index-s).delete(n+1).retain(i.length()-2-s).retain(1,{list:r});this.quill.updateContents(l,qt.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index-n,qt.sources.SILENT)}},"code exit":{key:Jo.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(e){var t=Ho(this.quill.getLine(e.index),2),r=t[0],n=t[1],o=(new a.a).retain(e.index+r.length()-n-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(o,qt.sources.USER)}},"embed left":Xo(Jo.keys.LEFT,!1),"embed left shift":Xo(Jo.keys.LEFT,!0),"embed right":Xo(Jo.keys.RIGHT,!1),"embed right shift":Xo(Jo.keys.RIGHT,!0)}};var ai=function(e,t){return(ai=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)};Object.create;Object.create;r(29);var si,li=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]};!function(e){e[e.None=0]="None",e[e.Redux=1]="Redux",e[e.Comments=2]="Comments"}(si||(si={}));function ci(e,t){return void 0===t&&(t=0),e?e.split("\n").slice(1+t,2+t).join("\n"):"<unable to get stack>"}var ui=Boolean;var di=function e(t,r,n){var o=function(e,t,r){return new Error(e)}(t);return o.name="StructuredError",o.innerException=n,o.tag=r,Object.setPrototypeOf(o,Object.getPrototypeOf(this)),Error.captureStackTrace&&Error.captureStackTrace(o,e),o};function pi(e){if(function(e,t){return!(!e||!(e instanceof di||void 0!==e.isStructuredError)||t&&e.name!==t)}(e))return e.stringify();if(e instanceof Error){var t=di.enableUnknownMessageLogging&&e.message?" - ".concat(e.message):"";return"".concat(e.name).concat(t,":\n").concat(di.enableStackLogging?ci(e.stack):"")}return di.enableUnknownMessageLogging&&"string"==typeof e?e:"Unknown error"}function fi(e){return e}di.enableStackLogging=!1,di.enableMessageLogging=!1,di.enableUnknownMessageLogging=!1,di.prototype=Object.create(Error.prototype,{constructor:{value:Error,enumerable:!1,writable:!0,configurable:!0},stringify:{value:function(){return function(e,t,r,n){return[di.enableMessageLogging&&r?r:void 0,"Tag: ".concat(e),di.enableStackLogging?t:void 0,n?"----------\nInner exception: ".concat(pi(n)):void 0].filter(ui).join("\n")}(this.tag,this.stack,void 0,this.innerException)},enumerable:!1,writable:!0,configurable:!0},isStructuredError:{value:!0,enumerable:!1,writable:!1,configurable:!1}}),Object.setPrototypeOf?Object.setPrototypeOf(di,Error):di.__proto__=Error;fi(0);function hi(e){return(hi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return yi(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yi(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yi(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function bi(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vi(n.key),n)}}function vi(e){var t=function(e,t){if("object"!==hi(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==hi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===hi(t)?t:String(t)}function gi(){return(gi="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=Oi(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}}).apply(this,arguments)}function Oi(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Si(e)););return e}function wi(e,t){return(wi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function xi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Si(e);if(t){var o=Si(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Ci(this,r)}}function Ci(e,t){if(t&&("object"===hi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Si(e){return(Si=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ti(e){return e instanceof ne||e instanceof re}var ji=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wi(e,t)}(r,e);var t=xi(r);function r(e,n){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(o=t.call(this,e)).emitter=n.emitter,Array.isArray(n.whitelist)&&(o.whitelist=n.whitelist.reduce((function(e,t){return e[t]=!0,e}),{})),o.domNode.addEventListener("DOMNodeInserted",(function(){})),o.optimize(),o.enable(),o}return function(e,t,r){t&&bi(e.prototype,t),r&&bi(e,r),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(e,t){var n=mi(this.line(e),2),o=n[0],i=n[1],a=mi(this.line(e+t),1)[0];if(gi(Si(r.prototype),"deleteAt",this).call(this,e,t),null!=a&&o!==a&&i>0){if(o instanceof re||a instanceof re)return void this.optimize();if(o instanceof Oe){var s=o.newlineIndex(o.length(),!0);if(s>-1&&(o=o.split(s+1))===a)return void this.optimize()}else if(a instanceof Oe){var l=a.newlineIndex(0);l>-1&&a.split(l+1)}var c=a.children.head instanceof x?null:a.children.head;o.moveChildren(a,c),o.remove()}this.optimize()}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.domNode.setAttribute("contenteditable",e)}},{key:"formatAt",value:function(e,t,n,o){(null==this.whitelist||this.whitelist[n])&&(gi(Si(r.prototype),"formatAt",this).call(this,e,t,n,o),this.optimize())}},{key:"insertAt",value:function(e,t,n){if(null==n||null==this.whitelist||this.whitelist[t]){if(e>=this.length())if(null==n||null==o.a.query(t,o.a.Scope.BLOCK)){var i=o.a.create(this.statics.defaultChild);this.appendChild(i),null==n&&t.endsWith("\n")&&(t=t.slice(0,-1)),i.insertAt(0,t,n)}else{var a=o.a.create(t,n);this.appendChild(a)}else gi(Si(r.prototype),"insertAt",this).call(this,e,t,n);this.optimize()}}},{key:"insertBefore",value:function(e,t){if(e.statics.scope===o.a.Scope.INLINE_BLOT){var n=o.a.create(this.statics.defaultChild);n.appendChild(e),e=n}gi(Si(r.prototype),"insertBefore",this).call(this,e,t)}},{key:"leaf",value:function(e){return this.path(e).pop()||[null,-1]}},{key:"line",value:function(e){return e===this.length()?this.line(e-1):this.descendant(Ti,e)}},{key:"lines",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE,r=function e(t,r,n){var i=[],a=n;return t.children.forEachAt(r,n,(function(t,r,n){Ti(t)?i.push(t):t instanceof o.a.Container&&(i=i.concat(e(t,r,a))),a-=n})),i};return r(this,e,t)}},{key:"optimize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!0!==this.batch&&(gi(Si(r.prototype),"optimize",this).call(this,e,t),e.length>0&&this.emitter.emit(ut.events.SCROLL_OPTIMIZE,e,t))}},{key:"path",value:function(e){return gi(Si(r.prototype),"path",this).call(this,e).slice(1)}},{key:"update",value:function(e){if(!0!==this.batch){var t=ut.sources.USER;"string"==typeof e&&(t=e),Array.isArray(e)||(e=this.observer.takeRecords()),e.length>0&&this.emitter.emit(ut.events.SCROLL_BEFORE_UPDATE,t,e),gi(Si(r.prototype),"update",this).call(this,e.concat([])),e.length>0&&this.emitter.emit(ut.events.SCROLL_UPDATE,t,e)}}}]),r}(o.a.Scroll);ji.blotName="scroll",ji.className="ql-editor",ji.tagName="DIV",ji.defaultChild="block",ji.allowedChildren=[ne,re,or];var ki=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}ai(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}(t,e),t.create=function(t){e.create.call(this,t)},t.prototype.deleteAt=function(t,r){var n;try{e.prototype.deleteAt.call(this,t,r)}catch(e){li(null!==(n=null==e?void 0:e.message)&&void 0!==n?n:pi(e))}},t.prototype.formatAt=function(t,r,n,o){var i;try{e.prototype.formatAt.call(this,t,r,n,o)}catch(e){li(null!==(i=null==e?void 0:e.message)&&void 0!==i?i:pi(e))}},t.prototype.update=function(t,r){var n;try{e.prototype.update.call(this,t,r)}catch(e){li(null!==(n=null==e?void 0:e.message)&&void 0!==n?n:pi(e))}},t}(ji);qt.register({"blots/block":ne,"blots/block/embed":re,"blots/break":x,"blots/container":or,"blots/cursor":Ae,"blots/embed":hr,"blots/inline":W,"blots/scroll":ki,"blots/text":I,"formats/link":gn,"formats/color":jr,"formats/font":Jr,"formats/size":Rn,"formats/background":kr,"formats/bold":Fr,"formats/italic":ln,"formats/underline":Xn,"formats/strike":Un,"formats/script":In,"modules/clipboard":xo,"modules/history":Lo,"modules/keyboard":Jo}),o.a.register(ne,x,Ae,W,ki,I);t.default=qt}])}))}).call(this,r(281)(e))},1536:function(e,t,r){"use strict";e.exports=r(1537)},1537:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o,i,a,s,l;if("undefined"==typeof window||"function"!=typeof MessageChannel){var c=null,u=null,d=function e(){if(null!==c)try{var r=t.unstable_now();c(!0,r),c=null}catch(t){throw setTimeout(e,0),t}},p=Date.now();t.unstable_now=function(){return Date.now()-p},o=function(e){null!==c?setTimeout(o,0,e):(c=e,setTimeout(d,0))},i=function(e,t){u=setTimeout(e,t)},a=function(){clearTimeout(u)},s=function(){return!1},l=t.unstable_forceFrameRate=function(){}}else{var f=window.performance,h=window.Date,m=window.setTimeout,y=window.clearTimeout;if("undefined"!=typeof console){var b=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof b&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===n(f)&&"function"==typeof f.now)t.unstable_now=function(){return f.now()};else{var v=h.now();t.unstable_now=function(){return h.now()-v}}var g=!1,O=null,w=-1,x=5,C=0;s=function(){return t.unstable_now()>=C},l=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):x=0<e?Math.floor(1e3/e):5};var S=new MessageChannel,T=S.port2;S.port1.onmessage=function(){if(null!==O){var e=t.unstable_now();C=e+x;try{O(!0,e)?T.postMessage(null):(g=!1,O=null)}catch(e){throw T.postMessage(null),e}}else g=!1},o=function(e){O=e,g||(g=!0,T.postMessage(null))},i=function(e,r){w=m((function(){e(t.unstable_now())}),r)},a=function(){y(w),w=-1}}function j(e,t){var r=e.length;e.push(t);e:for(;;){var n=r-1>>>1,o=e[n];if(!(void 0!==o&&0<E(o,t)))break e;e[n]=t,e[r]=o,r=n}}function k(e){return void 0===(e=e[0])?null:e}function P(e){var t=e[0];if(void 0!==t){var r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,o=e.length;n<o;){var i=2*(n+1)-1,a=e[i],s=i+1,l=e[s];if(void 0!==a&&0>E(a,r))void 0!==l&&0>E(l,a)?(e[n]=l,e[s]=r,n=s):(e[n]=a,e[i]=r,n=i);else{if(!(void 0!==l&&0>E(l,r)))break e;e[n]=l,e[s]=r,n=s}}}return t}return null}function E(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}var _=[],I=[],R=1,A=null,D=3,B=!1,M=!1,N=!1;function L(e){for(var t=k(I);null!==t;){if(null===t.callback)P(I);else{if(!(t.startTime<=e))break;P(I),t.sortIndex=t.expirationTime,j(_,t)}t=k(I)}}function F(e){if(N=!1,L(e),!M)if(null!==k(_))M=!0,o(z);else{var t=k(I);null!==t&&i(F,t.startTime-e)}}function z(e,r){M=!1,N&&(N=!1,a()),B=!0;var n=D;try{for(L(r),A=k(_);null!==A&&(!(A.expirationTime>r)||e&&!s());){var o=A.callback;if(null!==o){A.callback=null,D=A.priorityLevel;var l=o(A.expirationTime<=r);r=t.unstable_now(),"function"==typeof l?A.callback=l:A===k(_)&&P(_),L(r)}else P(_);A=k(_)}if(null!==A)var c=!0;else{var u=k(I);null!==u&&i(F,u.startTime-r),c=!1}return c}finally{A=null,D=n,B=!1}}function H(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var U=l;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){M||B||(M=!0,o(z))},t.unstable_getCurrentPriorityLevel=function(){return D},t.unstable_getFirstCallbackNode=function(){return k(_)},t.unstable_next=function(e){switch(D){case 1:case 2:case 3:var t=3;break;default:t=D}var r=D;D=t;try{return e()}finally{D=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=U,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=D;D=e;try{return t()}finally{D=r}},t.unstable_scheduleCallback=function(e,r,s){var l=t.unstable_now();if("object"===n(s)&&null!==s){var c=s.delay;c="number"==typeof c&&0<c?l+c:l,s="number"==typeof s.timeout?s.timeout:H(e)}else s=H(e),c=l;return e={id:R++,callback:r,priorityLevel:e,startTime:c,expirationTime:s=c+s,sortIndex:-1},c>l?(e.sortIndex=c,j(I,e),null===k(_)&&e===k(I)&&(N?a():N=!0,i(F,c-l))):(e.sortIndex=s,j(_,e),M||B||(M=!0,o(z))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();L(e);var r=k(_);return r!==A&&null!==A&&null!==r&&null!==r.callback&&r.startTime<=e&&r.expirationTime<A.expirationTime||s()},t.unstable_wrapCallback=function(e){var t=D;return function(){var r=D;D=t;try{return e.apply(this,arguments)}finally{D=r}}}},1538:function(e,t,r){var n=r(1);function o(e){return n.createElement("svg",e,[n.createElement("defs",{key:0},[n.createElement("rect",{id:"path-1",x:"2",y:"1",width:"270",height:"60",key:0}),n.createElement("filter",{x:"-1.3%",y:"-4.2%",width:"102.6%",height:"111.7%",filterUnits:"objectBoundingBox",id:"filter-2",key:1},[n.createElement("feOffset",{dx:"0",dy:"1",in:"SourceAlpha",result:"shadowOffsetOuter1",key:0}),n.createElement("feGaussianBlur",{stdDeviation:"1",in:"shadowOffsetOuter1",result:"shadowBlurOuter1",key:1}),n.createElement("feComposite",{in:"shadowBlurOuter1",in2:"SourceAlpha",operator:"out",result:"shadowBlurOuter1",key:2}),n.createElement("feColorMatrix",{values:"0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.1 0",type:"matrix",in:"shadowBlurOuter1",key:3})])]),n.createElement("g",{id:"Redlines",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",opacity:"0.718693388",key:1},n.createElement("g",{id:"GhostCard_52px"},[n.createElement("g",{id:"Rectangle-2",key:0},[n.createElement("use",{fill:"black",fillOpacity:"1",filter:"url(#filter-2)",xlinkHref:"#path-1",key:0}),n.createElement("use",{fill:"#FFFFFF",fillRule:"evenodd",xlinkHref:"#path-1",key:1}),n.createElement("rect",{stroke:"#EAEAEA",strokeWidth:"1",x:"2.5",y:"1.5",width:"269",height:"59",key:2})]),n.createElement("circle",{id:"Oval-8",fill:"#EAEAEA",cx:"27",cy:"28",r:"14",key:1}),n.createElement("rect",{id:"Rectangle1",fill:"#EAEAEA",x:"55",y:"16",width:"92",height:"11",rx:"5.5",key:2}),n.createElement("rect",{id:"Rectangle2",fill:"#EAEAEA",x:"55",y:"34",width:"204",height:"11",rx:"5.5",key:3})]))])}o.defaultProps={width:"274px",height:"52px",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 274 52",focusable:"false",version:"1.1"},e.exports=o,o.default=o},1540:function(e,t,r){"use strict";r.r(t),r.d(t,"ExtensionAwareCommentPane",(function(){return Wd}));var n=r(1),o=r.n(n),i=r(1030),a=r(1006),s=r(1086),l=s.useSelector,c=r(1085),u=r(1040),d=r(1027),p=r(1031),f=r(1013),h=r(1069),m=r(1025),y=r(1202),b=r(307),v=r(1004),g=r(1552);var O=r(1054),w=r(1005),x=r(2),C=r(1029),S=r(463),T=r(1041),j=r(1048),k=r(1049),P=r(1019),E=r(1099),_=r(1557),I=function(){function e(){this.valueStruct={hasValue:!1},this.callbacks=[]}return e.prototype.set=function(e){this.valueStruct={value:e,hasValue:!0},this.callbacks.forEach((function(t){t(e)})),this.callbacks=[]},e.prototype.getValue=function(e){var t=this;if(this.valueStruct.hasValue)try{return Promise.resolve(e(this.valueStruct.value))}catch(e){return Promise.reject(e)}return new Promise((function(r,n){t.callbacks.push((function(t){try{r(e(t))}catch(e){n(e)}}))}))},e}(),R=r(1554),A=r(1107),D=r(1061),B=r(1096),M=r(1269),N=r(1098),L=r(1021),F=r(1259),z=r(1020),H=r(1023),U=r(1123),W=r(1014),q=r(1208),V=r(1026),K=r(1124),G=r(1290),Q=r(1137),Y=r(1128),$=r(1066),J=r(1012),X=r(1084),Z=r(1185),ee=r(1140),te=r(1267),re=r(1268),ne=r(1199),oe=r(1015),ie=r(1132),ae=r(1053),se=r(1284),le=r(1037),ce=r(1035),ue=r(1285);function de(e){if(e.topVisibleThread&&e.componentTree.componentTreeId.renderContextType!==J.a.HalfPane&&!e.selectedComment)return e.topVisibleThread.cardId}var pe=function(e){function t(r){var n=e.call(this,r)||this;n.memoGetActionBarItems=Object(_.a)(ue.a,20,(function(){Object(w.k)().assertConditionTag(!1,"Cache invalidated, memoization or parameters configured incorrectly?",557875362)})),n.memoGetCardContextualMenuItems=Object(_.a)(ue.c,20,(function(){Object(w.k)().assertConditionTag(!1,"Cache invalidated, memoization or parameters configured incorrectly?",557875363)})),n.initialAtMentionCapability=new I,n.onCommentInterruptableCommand=function(e){switch(e.type){case"DiscardDraft":var t=void 0;if(e.mode===M.a.Dialog){var r=Object(te.a)(n.props.draftState,n.props.componentTree.componentTreeId.renderContextType);t=n.getOnWillDiscardCallback(r);var o=Object(ie.b)(!0,n.props.componentTree.componentTreeId.renderContextType,n.props.draftState,n.props.selectedComment,n.props.selectedThreadIdBeforeCommentSession);return n.props.discardDraftAsync({renderContextType:n.props.componentTree.componentTreeId.renderContextType,telemetryVisitor:n.props.telemetryVisitor,trackback:v.d.reserveTag(587605836)},H.a.Canvas,o,t)}return Promise.resolve(j.a.Unhandled);case"BringThreadIntoView":return n.props.componentTree.componentTreeId.renderContextType!==J.a.FullPane?Promise.resolve(j.a.Unhandled):n.scrollToThreadById(e.threadId)?Promise.resolve(j.a.Handled):Promise.resolve(j.a.Failed);default:return Object(w.k)().assertConditionTag(!1,"Unknown type of CommentInterruptableCommand",593826210),Promise.resolve(j.a.Unhandled)}},n.onCardPost=function(e,r){var o=e.getId(),i=t.getPaneSingleCreateDraftId(n.props)===e.getId()?{type:"CREATE"}:{type:"REPLY",parentId:o};ee.c({trackback:v.d.reserveTag(593622435),commentCardRef:e,draftState:n.props.draftState,areMentionsEnabled:n.props.modelCapabilities.atMention===T.b.Enabled,session:i,componentTree:n.props.componentTree,dispatchProps:n.props,telemetryVisitor:n.props.telemetryVisitor,localizationAPI:n.props.localizationAPI,commitSource:r}).catch(Object(L.a)(v.d.reserveTag(593622464)))},n.cardOnCollapseCallback=function(e){ee.b({trackback:v.d.reserveTag(562918286),commentCardRef:e,renderContextType:n.props.componentTree.componentTreeId.renderContextType,dispatchProps:n.props,telemetryVisitor:n.props.telemetryVisitor})},n.cardOnSelectCallback=function(e){ee.n({trackback:v.d.reserveTag(571281794),commentCardRef:e,dispatchProps:n.props,telemetryVisitor:n.props.telemetryVisitor,componentTree:n.props.componentTree,options:{selectActionType:z.SelectActionType.SelectCard}})},n.cardOnSelectExpandCallback=function(e,t,r){var o=Object(Z.a)(e.getId(),n.props.componentTree.componentTreeId.renderContextType,n.props.draftState);ee.n({trackback:v.d.reserveTag(571281793),commentCardRef:e,dispatchProps:n.props,telemetryVisitor:n.props.telemetryVisitor,componentTree:n.props.componentTree,options:{selectActionType:z.SelectActionType.ExpandCard,relativeDraftingState:o,draftState:n.props.draftState,shouldFocusAfter:r,selectRootPost:t}})},n.cardOnFocusCallback=function(e){ee.i({trackback:v.d.reserveTag(571340119),commentCardRef:e,dispatchProps:n.props,telemetryVisitor:n.props.telemetryVisitor,componentTree:n.props.componentTree,options:{selectActionType:z.SelectActionType.Polite},focusManager:n.props.focusManager,isDraftThread:t.getPaneSingleCreateDraftId(n.props)===e.getId()})},n.cardOnBeginReplyCallback=function(e){ee.a({trackback:v.d.reserveTag(593826249),threadId:e.getId(),renderContextType:n.props.componentTree.componentTreeId.renderContextType,dispatchProps:n.props,telemetryVisitor:n.props.telemetryVisitor})},n.cardOnResolveThread=function(e){ee.m({componentTree:n.props.componentTree,focusManager:n.props.focusManager,trackback:v.d.reserveTag(593826250),id:e,renderContextType:n.props.componentTree.componentTreeId.renderContextType,dispatchProps:n.props,telemetryVisitor:n.props.telemetryVisitor,localizationAPI:n.props.localizationAPI,isTask:!!n.props.tasks[e]})},n.cardOnReopenThread=function(e){ee.l({trackback:v.d.reserveTag(593826251),id:e,renderContextType:n.props.componentTree.componentTreeId.renderContextType,dispatchProps:n.props,telemetryVisitor:n.props.telemetryVisitor,localizationAPI:n.props.localizationAPI,isTask:!!n.props.tasks[e]})},n.cardOnDelete=function(e){ee.d({trackback:v.d.reserveTag(593826252),id:e,data:n.props.dataItems,selectedComment:n.props.selectedComment,componentTree:n.props.componentTree,invokeModalDialog:n.invokeModalDialog,dispatchProps:n.props,telemetryVisitor:n.props.telemetryVisitor,localizationAPI:n.props.localizationAPI,focusManager:n.props.focusManager,isTask:!!n.props.tasks[e],threadIndex:ce.f(n.state.allRenderableItemThreads,e),shouldCheckForLowFidelity:n.shouldCheckForLowFidelityOnCardDelete()})},n.cardOnDraftingInputSizeChange=function(e,r){var o=t.getPaneSingleCreateDraftId(n.props);ee.f({trackback:v.d.reserveTag(593826253),focusManager:n.props.focusManager,componentTree:n.props.componentTree,cardId:e.getId(),isCardLie:e.getId()===o,newHeight:r,renderContextType:n.props.componentTree.componentTreeId.renderContextType,selectedComment:n.props.selectedComment,dispatchProps:n.props,telemetryVisitor:n.props.telemetryVisitor})},n.cardOnDraftEmptinessChanged=function(e,t){ee.q({trackback:v.d.reserveTag(592213848),contentId:e.getId(),isEmpty:t,renderContextType:n.props.componentTree.componentTreeId.renderContextType,draftIdMap:n.props.draftState.cardIdToDraftIdMap,actionDispatchers:n.props,telemetryVisitor:n.props.telemetryVisitor})},n.cardOnEditorFocusLost=function(e){ee.g({trackback:v.d.reserveTag(592065735),id:e.getId(),draftState:n.props.draftState,renderContextType:n.props.componentTree.componentTreeId.renderContextType,dispatchProps:n.props,telemetryVisitor:n.props.telemetryVisitor})},n.cardOnSaveDraft=function(e,t){ee.x({trackback:v.d.reserveTag(593826255),id:e,editor:t,renderContextType:n.props.componentTree.componentTreeId.renderContextType,draftIdMap:n.props.draftState.cardIdToDraftIdMap,draftMap:n.props.draftState.drafts,actionDispatchers:n.props,telemetryVisitor:n.props.telemetryVisitor})},n.onCardCancel=function(e){var t=Object(ie.b)(!0,n.props.componentTree.componentTreeId.renderContextType,n.props.draftState,n.props.selectedComment,n.props.selectedThreadIdBeforeCommentSession);ee.e({trackback:v.d.reserveTag(592840780),showDiscardDialog:!1,invokeModalDialog:n.invokeModalDialog,componentTree:n.props.componentTree,dispatchProps:n.props,closeOnDiscard:t,cardId:e.getId(),draftState:n.props.draftState,telemetryVisitor:n.props.telemetryVisitor,localizationAPI:n.props.localizationAPI,focusManager:n.props.focusManager,lieIndex:ce.f(n.state.allRenderableItemThreads,e.getId())})},n.onTaskTopperCheckboxPressed=function(e){var t=n.props.tasks[e];t&&ee.o({componentTree:n.props.componentTree,focusManager:n.props.focusManager,trackback:v.d.reserveTag(593826258),id:t.commentId,renderContextType:n.props.componentTree.componentTreeId.renderContextType,dispatchProps:n.props,telemetryVisitor:n.props.telemetryVisitor,localizationAPI:n.props.localizationAPI})},n.cardOnHighlight=function(e,t){ee.j({trackback:v.d.reserveTag(593826259),commentCardRef:e,renderContextType:n.props.componentTree.componentTreeId.renderContextType,dispatchProps:n.props,telemetryVisitor:n.props.telemetryVisitor,shouldHighlightCard:t})},n.onPostDelete=function(e){ee.D({trackback:v.d.reserveTag(593826312),id:e,data:n.props.dataItems,selectedComment:n.props.selectedComment,renderContextType:n.props.componentTree.componentTreeId.renderContextType,actionDispatchers:n.props,telemetryVisitor:n.props.telemetryVisitor,localizationAPI:n.props.localizationAPI})},n.onPostEdit=function(e){ee.E({trackback:v.d.reserveTag(593826316),id:e,data:n.props.dataItems,selectedComment:n.props.selectedComment,renderContextType:n.props.componentTree.componentTreeId.renderContextType,actionDispatchers:n.props,telemetryVisitor:n.props.telemetryVisitor})},n.onPostReactionUpdated=function(e,t,r){ee.w(v.d.reserveTag(587994051),e,t,n.props.componentTree.componentTreeId.renderContextType,n.props,n.props.telemetryVisitor,r)},n.onPostCommit=function(e,t){ee.C({trackback:v.d.reserveTag(593826260),id:e.getId(),data:n.props.dataItems,draftState:n.props.draftState,contentPromise:e.getContentsAsync(),atMentionsEnabled:n.props.modelCapabilities.atMention===T.b.Enabled,componentTree:n.props.componentTree,actionDispatchers:n.props,telemetryVisitor:n.props.telemetryVisitor,localizationAPI:n.props.localizationAPI,commitSource:t}).catch(Object(L.a)(v.d.reserveTag(593826261)))},n.onPostCancel=function(e){var t=Object(ie.b)(!0,n.props.componentTree.componentTreeId.renderContextType,n.props.draftState,n.props.selectedComment,n.props.selectedThreadIdBeforeCommentSession);ee.z({trackback:v.d.reserveTag(593826263),commentId:e.getId(),setContents:e.setContents.bind(e),data:n.props.dataItems,draftState:n.props.draftState,shouldClosePaneAfterDiscardDraft:t,onWillDiscardCallback:void 0,renderContextType:n.props.componentTree.componentTreeId.renderContextType,dispatchProps:n.props,telemetryVisitor:n.props.telemetryVisitor,localizationAPI:n.props.localizationAPI})},n.onPostDraftEmptinessChanged=function(e,t){ee.q({trackback:v.d.reserveTag(592041678),contentId:e.getId(),isEmpty:t,renderContextType:n.props.componentTree.componentTreeId.renderContextType,draftIdMap:n.props.draftState.postIdToDraftIdMap,actionDispatchers:n.props,telemetryVisitor:n.props.telemetryVisitor})},n.onPostSaveDraft=function(e,t){ee.x({trackback:v.d.reserveTag(592720405),id:e,editor:t,renderContextType:n.props.componentTree.componentTreeId.renderContextType,draftIdMap:n.props.draftState.postIdToDraftIdMap,draftMap:n.props.draftState.drafts,actionDispatchers:n.props,telemetryVisitor:n.props.telemetryVisitor})},n.onPresentLinkToComment=function(e){ee.v(v.d.reserveTag(578852484),e,n.props.componentTree.componentTreeId.renderContextType,n.props,n.props.telemetryVisitor)},n.onRenderableItemSelect=function(e,t){var r=n.getRenderableItemFromRef(e);r?ee.J({trackback:v.d.reserveTag(593826266),renderableItem:r,selectedComment:n.props.selectedComment,cardCollapsedState:Object(X.a)(ce.i(r),n.props.expandedComments,n.props.componentTree.componentTreeId.renderContextType),dispatchProps:n.props,telemetryVisitor:n.props.telemetryVisitor,componentTree:n.props.componentTree,shouldFocusAfter:t,draftState_deprecated:n.props.draftState}).catch(Object(L.a)(v.d.reserveTag(590123737))):Object(w.k)().assertConditionTag(!1,"Selection coming from an unknown post?",593826265)},n.onPostCollapseParent=function(e){var t=n.getRenderableItemFromRef(e);t?ee.B(v.d.reserveTag(589940445),t,n.props,n.props.telemetryVisitor,n.props.componentTree):Object(w.k)().assertConditionTag(!1,"Collapse from an unknown post?",589940444)},n.onPostFocusParent=function(e){var t=n.getRenderableItemFromRef(e);t?ee.H(t,n.props.componentTree,n.props.focusManager,n.props.draftState):Object(w.k)().assertConditionTag(!1,"Focus parent from unknown post?",545867681)},n.getContentFilterProps=function(){var e;return{currentFilter:null!==(e=n.props.currentFilter)&&void 0!==e?e:q.a,createOrUpdateFilter:n.props.createOrUpdateFilter,preventDefaultKeyDownBehavior:n.getContentsPreventDefaultKeyDownBehavior(),personaIconPropertiesMap:n.props.personaIconPropertiesMap,localizationAPI:n.props.localizationAPI}},n.getThreadedRenderableIds=Object(g.b)((function(e){return e.map((function(e){return e.map(ce.e)}))}),(function(){return[n.state.allRenderableItemThreads]})),n.getThreadPostOrHistoryRecordStates=function(){var e=function(){var e=[],t={},r=[];return function(n,o,i){if(void 0===i&&(i=function(e,t,r){return r[t]}),n===e&&o===t)return r;var a=n.map((function(n,a){return n===e[a]&&n.every((function(e){return i(n[0],e,o)===i(n[0],e,t)}))?r[a]:n.map((function(e){return i(n[0],e,o)}))}));return e=n,t=o,r=a,a}}();return function(){return e(n.getThreadedRenderableIds(),Object(b.a)(Object(b.a)({},n.props.postViewStates),n.props.historyRecordViewStates))}}(),n.getListItemKey=function(e){var t=ce.h(e).commentId,r=n.props.cardViewStates[t];return r&&r.alternateId||t},n.getHostableComponentInstanceId=function(e,t,r){return"cardInPane_".concat(Object(oe.i)({id:e,renderContextType:t},r))},n.onSelectedTaskAssigneeUpdated=function(e){ee.y({trackback:v.d.reserveTag(593826304),renderContextType:n.props.componentTree.componentTreeId.renderContextType,dispatchProps:n.props,telemetryVisitor:n.props.telemetryVisitor,selectedAssignee:e})},n.getRenderableItemActionBarItems=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!n.renderableItemActionBarItems||void 0===n.memoGetActionBarItems)throw new v.c("Function should not be called when DeleteRestricted gate is off.",v.d.reserveTag(557601691));return n.memoGetActionBarItems.apply(n,Object(b.h)([n.renderableItemActionBarItems],Object(b.f)(e),!1))},n.getCardContextualMenuItems=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!n.cardContextMenuItems||void 0===n.memoGetCardContextualMenuItems)throw new v.c("Function should not be called when DeleteRestricted gate is off.",v.d.reserveTag(557601692));return n.memoGetCardContextualMenuItems.apply(n,Object(b.h)([n.cardContextMenuItems],Object(b.f)(e),!1))},n.onCardMounted=function(e){ee.k({cardProps:e,componentTree:n.props.componentTree,focusManager:n.props.focusManager})},n.onCardEditorMounted=function(e){ee.h({cardId:e,componentTree:n.props.componentTree,focusManager:n.props.focusManager})},n.onPostMounted=function(e){ee.I({postId:e,componentTree:n.props.componentTree,focusManager:n.props.focusManager})},n.onPostEditorMounted=function(e){ee.F({postId:e,componentTree:n.props.componentTree,focusManager:n.props.focusManager})},n.notifyRenderedOnce=Object(R.a)((function(){n.props.onInitialRender({renderContextType:n.props.componentTree.componentTreeId.renderContextType})})),n.onPostError=function(e){ee.G({trackback:v.d.reserveTag(593764372),id:e.getId(),data:n.props.dataItems,renderContextType:n.props.componentTree.componentTreeId.renderContextType,actionDispatchers:n.props,telemetryVisitor:n.props.telemetryVisitor})},n.onClearPostError=function(e){ee.A({trackback:v.d.reserveTag(593764373),id:e.getId(),data:n.props.dataItems,renderContextType:n.props.componentTree.componentTreeId.renderContextType,actionDispatchers:n.props,telemetryVisitor:n.props.telemetryVisitor})},n.onLowFidelityWarningCancel=function(){ee.r({selectedState:n.props.selectedComment,renderContextType:n.props.componentTree.componentTreeId.renderContextType,dispatchProps:n.props,telemetryVisitor:n.props.telemetryVisitor})},n.onLowFidelityWarningConfirm=function(){ee.s({selectedState:n.props.selectedComment,onCardDelete:n.cardOnDelete,onPostDelete:n.onPostDelete,onPostEdit:n.onPostEdit})},n.commentEditorOnKeyDown=function(e){n.commentEditorKeyDownHandler.onKeyDown(e)},n.startNewCommentSession=function(){n.props.discardDraftAndStartNewCommentSession({renderContextType:n.props.componentTree.componentTreeId.renderContextType,trackback:v.d.reserveTag(593826323),telemetryVisitor:n.props.telemetryVisitor})},n.closePane=n.closePane.bind(n),n.onCommentUIAction=n.onCommentUIAction.bind(n),n.onMentionCreated=n.onMentionCreated.bind(n),n.onMentioneesStillInDraftUpdated=n.onMentioneesStillInDraftUpdated.bind(n),n.renderCommentThread=n.renderCommentThread.bind(n),n.onGhostCommentClicked=n.onGhostCommentClicked.bind(n),n.invokeModalDialog=n.invokeModalDialog.bind(n),n.deleteThreadConfirmCallback=n.deleteThreadConfirmCallback.bind(n),n.getOnWillDiscardCallback=n.getOnWillDiscardCallback.bind(n),n.isReadyToRender=n.isReadyToRender.bind(n),n.commentPostCallbackProps={onDelete:n.onPostDelete,onEdit:n.onPostEdit,onCommit:n.onPostCommit,onCancel:n.onPostCancel,onSelect:n.onRenderableItemSelect,onDraftEmptinessChanged:n.onPostDraftEmptinessChanged,onSaveDraft:n.onPostSaveDraft,onLowFidelityWarningConfirm:n.onLowFidelityWarningConfirm,onLowFidelityWarningCancel:n.onLowFidelityWarningCancel,onPostMounted:n.onPostMounted,onPostEditorMounted:n.onPostEditorMounted,onError:n.onPostError,onClearError:n.onClearPostError,commentEditorAdditionalKeyDownHandler:n.commentEditorOnKeyDown,onCollapseParent:n.onPostCollapseParent,onFocusParent:n.onPostFocusParent,onReactionUpdated:n.onPostReactionUpdated,onPresentLinkToComment:n.onPresentLinkToComment,onClickableTextClicked:n.props.onClickableTextClicked},n.commentCardCallbackProps={onEditorPress:n.cardOnBeginReplyCallback,onCardCollapse:n.cardOnCollapseCallback,onCardSelect:n.cardOnSelectCallback,onCardSelectExpand:n.cardOnSelectExpandCallback,onCardFocus:n.cardOnFocusCallback,onCardHighlightChange:n.cardOnHighlight,onDraftingInputSizeChange:n.cardOnDraftingInputSizeChange,onDraftEmptinessChanged:n.cardOnDraftEmptinessChanged,onEditorBlur:n.cardOnEditorFocusLost,onCancel:n.onCardCancel,onPost:n.onCardPost,onSaveDraft:n.cardOnSaveDraft,onSelectedTaskAssigneeUpdated:n.onSelectedTaskAssigneeUpdated,onCardMounted:n.onCardMounted,onCardEditorMounted:n.onCardEditorMounted,onCardRendered:n.notifyRenderedOnce,onLowFidelityWarningCancel:n.onLowFidelityWarningCancel,onLowFidelityWarningConfirm:n.onLowFidelityWarningConfirm,onTaskTopperCheckboxPressed:n.onTaskTopperCheckboxPressed,commentEditorAdditionalKeyDownHandler:n.commentEditorOnKeyDown,onReactionUpdated:n.onPostReactionUpdated,onEditRootPost:n.onPostEdit},n.cardContextualMenuCallbackProps={onReopenThread:n.cardOnReopenThread,onResolveThread:n.cardOnResolveThread,onDeleteThread:n.cardOnDelete,onEditRootPost:n.onPostEdit,onPresentLinkToComment:n.onPresentLinkToComment},n.renderableItemActionBarItems=ue.d(n.props.localizationAPI,n.commentPostCallbackProps),n.cardContextMenuItems=ue.b(n.props.localizationAPI,n.cardContextualMenuCallbackProps),n.paneContainerKeyDownHandler=n.props.focusManager.paneContainerKeyDown((function(){return n.props.componentTree})),n.commentContentsKeyDownHandler=n.props.focusManager.commentContentsKeyDown((function(){return n.props.componentTree}),(function(){return n.props.dataItems})),n.commentEditorKeyDownHandler=n.props.focusManager.commentEditorKeyDown((function(){return n.props.componentTree}));var o=Object(w.k)().createActivityObject("BaseCommentPaneConstruction",n.props.telemetryVisitor,Object(w.j)());return o.addDataField("PaneCorrelationId",n.props.correlationId,w.d.SystemMetadata),v.a||o.addDataField("SharedCommentsVersion",F.a,w.d.SystemMetadata),o.addDataField("RenderContextType",n.props.componentTree.componentTreeId.renderContextType,w.d.SystemMetadata),o.successTag(593826206),n}return Object(b.c)(t,e),t.prototype.onCommentUIAction=function(e){return e.actionType===B.a.BackKeyPressed?(Object(w.k)().assertConditionTag(Object(N.d)(e.actionBehavior),"This action type does not support toggled/enabled status",593826207),Object(N.d)(e.actionBehavior)&&this.onBackKeyPressed(),N.a.Success):N.a.NotHandled},t.prototype.getOnWillDiscardCallback=function(e){var t=this;return Object(W.n)(this.props.draftState)===$.a.CannotAutoDiscard?function(r,n){return t.invokeModalDialog(e,r,n)}:void 0},t.prototype.updateDraftRenderLocks=function(e){0!==Object(V.e)(this.props.draftState)&&this.props.updateRenderLocksForAllDrafts({renderContextType:this.props.componentTree.componentTreeId.renderContextType,trackback:v.d.reserveTag(593826211),telemetryVisitor:this.props.telemetryVisitor},e)},t.prototype.componentDidMount=function(){var e,t;null===(t=(e=this.props).componentRef)||void 0===t||t.call(e,this),this.props.registerComponentUIActionListener(this.onCommentUIAction),this.props.registerComponentInterruptableCommandListener(this.onCommentInterruptableCommand),this.props.modelCapabilities.atMention!==T.b.Unknown&&this.processAtMentionCapabilityState(),this.updateDraftRenderLocks(!0),a.v()&&this.props.lastContextChangeIncrement>0&&this.onContextChanged()},t.prototype.componentWillUnmount=function(){this.props.unregisterComponentUIActionListener(this.onCommentUIAction),this.props.unregisterComponentInterruptableCommandListener(this.onCommentInterruptableCommand)},t.prototype.componentDidUpdate=function(e,t){var r,n;if(this.props.lastContextChangeIncrement!==e.lastContextChangeIncrement&&this.onContextChanged(),this.props.modelCapabilities.atMention!==e.modelCapabilities.atMention&&this.processAtMentionCapabilityState(),this.sendReadyToRenderNotification(e),this.props.draftState!==e.draftState)try{for(var o=Object(b.i)(Object(V.f)(this.props.draftState)),i=o.next();!i.done;i=o.next()){var a=i.value;if(this.props.draftState.drafts[a].renderContextType!==this.props.componentTree.componentTreeId.renderContextType&&(void 0===e.draftState.drafts[a]||e.draftState.drafts[a].renderContextType!==this.props.draftState.drafts[a].renderContextType)){this.updateDraftRenderLocks(!0);break}}}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}this.props.focusManager.commentPanePropsUpdated(this.props.componentTree,e,this.props)},t.prototype.focus=function(){this.props.focusManager.focusCommentPaneCommand(this.props.componentTree)},t.prototype.getInstanceId=function(){var e;return null!==(e=this.props.componentInstanceId)&&void 0!==e?e:"CommentPane"},t.prototype.getRenderableItemFromRef=function(e){var r=e.getId();return a.W()?this.props.dataItems.find((function(e){return ce.e(e)===r})):r===t.getPaneSingleCreateDraftId(this.props)?this.props.createdCommentLie&&{commentModel:this.props.createdCommentLie.newComment_deprecated}:this.props.dataItems.find((function(e){return ce.e(e)===r}))},t.prototype.closePane=function(){ee.p({ownProps:this.props,dispatchProps:this.props,componentTree:this.props.componentTree,draftState:this.props.draftState,invokeModalDialog:this.invokeModalDialog})},t.prototype.renderCommentThread=function(e,r,o){var i,s;void 0===o&&(o=ne.e);var l=ce.h(r),c=l.commentId===t.getPaneSingleCreateDraftId(this.props);if(a.U())return n.createElement(G.a,{commentAPI:this.props.commentAPI,componentTree:this.props.componentTree,focusManager:this.props.focusManager,localizationAPI:this.props.localizationAPI,peopleAPI:this.props.peopleAPI,resource:{id:l.commentId},getDiscardDraftCallback:this.getOnWillDiscardCallback,telemetryVisitor:this.props.telemetryVisitor,accessibilityPositionInSet:e+1,accessibilitySetSize:this.state.allRenderableItemThreads.length,onInitialRender:this.props.onInitialRender,correlationId:this.props.correlationId,lppManager:this.props.lppManager,componentInstanceId:this.getHostableComponentInstanceId(l.commentId,this.props.componentTree.componentTreeId.renderContextType,c)});var u=a.X()?this.state.allRenderableItemThreads.length>0&&ce.h(this.state.allRenderableItemThreads[0]).commentId===l.commentId:0===this.props.dataItems.length||ce.h(this.props.dataItems).commentId===l.commentId,d=this.getMentionableCommentEditorProps(this.props.modelCapabilities.atMention,this.props.suggestionsDetails),p=l.commentId,f=Object(V.d)(this.props.draftState),h=f||this.props.readOnly?Q.a.None:Q.a.Any,m=null===(i=this.props.tasks[p])||void 0===i?void 0:i.currentState,y=this.props.componentTree.componentTreeId.renderContextType===J.a.HalfPane&&!!Object(W.J)(this.props.draftState),b=this.props.highlightedCommentId||de(this.props),v=this.getPinnedCardIndex_deprecated(),g=this.getThreadPostOrHistoryRecordStates()[v&&!a.D()?v:e],O=(null===(s=this.props.selectedComment)||void 0===s?void 0:s.selectedCardId)===p?this.props.selectedComment:void 0,w=Object(X.a)(l.commentId,this.props.expandedComments,this.props.componentTree.componentTreeId.renderContextType);return o({thread:r,renderContextType:this.props.componentTree.componentTreeId.renderContextType,cardState:this.props.cardViewStates[p],postCallbacks:this.commentPostCallbackProps,mentionableEditorProps:d,cardCallbacks:this.commentCardCallbackProps,localizationAPI:this.props.localizationAPI,getActionBarItems:this.getRenderableItemActionBarItems,selectedState:O,isolationEdit:y,isAtMentionEnabled:!!d,isTaskCreationEnabled:Object(W.c)(this.props.modelCapabilities),isDraftThread:c,foldableLayoutState:this.props.foldableLayoutState,isCommentsContextReadOnly:this.props.readOnly,keyboardingOptions:this.getKeyboardingOptions(),personaIconPropertiesMap:this.props.personaIconPropertiesMap,draftState:this.props.draftState,cardCollapsedState:w,cardRelativeDraftingState:Object(Z.a)(l.commentId,this.props.componentTree.componentTreeId.renderContextType,this.props.draftState),accessibilityPositionInSet:e+1,accessibilitySetSize:this.state.allRenderableItemThreads.length,maximumDimensions:void 0,getCardContextualMenuItems:this.getCardContextualMenuItems,mentionEditorProps:d,availableScreenHeight:this.getAvailableScreenHeight(),extraPaddingLeft:this.getContentExtraPaddingLeft(),extraPaddingRight:this.getContentExtraPaddingRight(),preventDefaultKeyDownBehavior:this.getContentsPreventDefaultKeyDownBehavior(),isCardHighlighted:b===p,contentBackgroundColor:this.getContentBackgroundColor(r.length>1,y),maxDraftHeight:this.getMaxDraftHeight(),restrictActionControls_deprecated:f,allowedDraftingSession:h,taskState:m,cardStyle:this.getCommentCardStyle(),onCardLayout:this.onCardLayout,isCardTabbable:ne.b(this.getKeyboardingOptions().cardTabbingMode,p,u,w,this.props.selectedComment),postOrHistoryRecordStates:g,richTextCapabilities:this.props.modelCapabilities.richTextCapabilities,isUIAAnnotationPatternEnabled:this.props.modelCapabilities.UIAAnnotationPattern,isResolveSupported:this.props.modelCapabilities.resolve,tabFocusTrapBehavior:A.b.Unspecified})},t.prototype.onMentionCreated=function(e){ee.t({failTag:v.d.reserveTag(593826271),successTag:v.d.reserveTag(593826272),person:e,dispatchProps:this.props,telemetryVisitor:this.props.telemetryVisitor,renderContextType:this.props.componentTree.componentTreeId.renderContextType,trackback:v.d.reserveTag(593826273)})},t.prototype.onMentioneesStillInDraftUpdated=function(e){ee.u({trackback:v.d.reserveTag(593826275),emailsStillInDraft:e,renderContextType:this.props.componentTree.componentTreeId.renderContextType,dispatchProps:this.props,telemetryVisitor:this.props.telemetryVisitor})},t.prototype.onBackKeyPressed=function(){if(Object(V.c)(this.props.draftState)){var e=Object(te.a)(this.props.draftState,this.props.componentTree.componentTreeId.renderContextType),t=Object(ie.b)(!0,this.props.componentTree.componentTreeId.renderContextType,this.props.draftState,this.props.selectedComment,this.props.selectedThreadIdBeforeCommentSession),r=Object(W.I)(this.props.draftState),n=Object(W.J)(this.props.draftState);if(r){var o=Object(W.n)(this.props.draftState)===$.a.CannotAutoDiscard;ee.e({trackback:v.d.reserveTag(592840781),showDiscardDialog:o,invokeModalDialog:this.invokeModalDialog,componentTree:this.props.componentTree,dispatchProps:this.props,closeOnDiscard:t,cardId:r,draftState:this.props.draftState,telemetryVisitor:this.props.telemetryVisitor,localizationAPI:this.props.localizationAPI,focusManager:this.props.focusManager,lieIndex:ce.f(this.state.allRenderableItemThreads,r)})}else n&&ee.z({trackback:v.d.reserveTag(592487364),commentId:n,setContents:void 0,data:this.props.dataItems,draftState:this.props.draftState,shouldClosePaneAfterDiscardDraft:t,onWillDiscardCallback:this.getOnWillDiscardCallback(e),renderContextType:this.props.componentTree.componentTreeId.renderContextType,dispatchProps:this.props,telemetryVisitor:this.props.telemetryVisitor,localizationAPI:this.props.localizationAPI})}else this.props.componentTree.componentTreeId.renderContextType===J.a.HalfPane&&ee.p({ownProps:this.props,dispatchProps:this.props,componentTree:this.props.componentTree,draftState:this.props.draftState,invokeModalDialog:this.invokeModalDialog})},t.prototype.sendReadyToRenderNotification=function(e){this.props.initializationStatus===Y.a.Initialized&&(this.props.componentTree.componentTreeId.renderContextType===e.componentTree.componentTreeId.renderContextType&&this.props.initializationStatus===e.initializationStatus||this.props.readyToRender({renderContextType:this.props.componentTree.componentTreeId.renderContextType,telemetryVisitor:this.props.telemetryVisitor,trackback:v.d.reserveTag(593826313)}))},t.prototype.deleteThreadConfirmCallback=function(){return this.props.selectedComment?(this.props.requestDeleteThread({renderContextType:this.props.componentTree.componentTreeId.renderContextType,telemetryVisitor:this.props.telemetryVisitor,trackback:v.d.reserveTag(593826314)},this.props.selectedComment.selectedCardId),j.a.Handled):(Object(w.k)().assertConditionTag(!1,"Selected Comment should not be undefined for DeleteThread",593826315),j.a.Unhandled)},t.prototype.processAtMentionCapabilityState=function(){var e=this.props.modelCapabilities.atMention;e!==T.b.Unknown&&this.initialAtMentionCapability.set(e)},t.getPaneSingleCreateDraftId=function(e){return Object(W.G)(e.draftState,!0,e.componentTree.componentTreeId.renderContextType)},t.prototype.getUpdatedItemThreads=function(e){if(!this.isReadyToRenderWithProps(e))return[];var t=!!this.props.currentFilter||Object(re.a)(this.props.draftState,this.props.componentTree.componentTreeId.renderContextType),r=(a.S()?!!e.currentFilter:!!this.props.currentFilter)||Object(re.a)(e.draftState,e.componentTree.componentTreeId.renderContextType);return this.props.dataItems===e.dataItems&&this.props.cardViewStates===e.cardViewStates&&this.props.componentTree.componentTreeId.renderContextType===e.componentTree.componentTreeId.renderContextType&&this.props.personaIconPropertiesMap===e.personaIconPropertiesMap&&(a.W()||this.props.createdCommentLie===e.createdCommentLie&&t===r)?this.state.allRenderableItemThreads:ce.c(e.dataItems,e.cardViewStates,e.createdCommentLie,e.componentTree.componentTreeId.renderContextType!==J.a.HalfPane,r)},t.prototype.getInitialState=function(e){var t=!!e.currentFilter||Object(re.a)(e.draftState,e.componentTree.componentTreeId.renderContextType);return{allRenderableItemThreads:this.isReadyToRenderWithProps(e)?ce.c(e.dataItems,e.cardViewStates,e.createdCommentLie,e.componentTree.componentTreeId.renderContextType!==J.a.HalfPane,a.S()?t:Object(re.a)(e.draftState,e.componentTree.componentTreeId.renderContextType)):[],atMentionState:void 0}},t.prototype.onRequestLoadThreads=function(e){this.props.modelCapabilities.virtualized?this.props.queueLoadThreads({renderContextType:this.props.componentTree.componentTreeId.renderContextType,telemetryVisitor:this.props.telemetryVisitor,trackback:v.d.reserveTag(593826320)},e):Object(w.k)().assertConditionTag(!1,"onRequestLoadThreads called for non-virtualized store",593826321)},t.prototype.shouldShowGhostComment=function(){return this.props.componentTree.componentTreeId.renderContextType===J.a.FullPane&&this.props.nextPopulatedContextDetails!==k.a.Unknown&&this.props.nextPopulatedContextDetails!==k.a.NoComments&&this.props.nextPopulatedContextDetails!==k.a.OnlyCommentsInCurrent},t.prototype.onGhostCommentClicked=function(){var e=this,t=a.t(),r=t&&!a.X()||!t&&"web"!==Object(le.a)();this.props.discardDraftIfEmpty({renderContextType:this.props.componentTree.componentTreeId.renderContextType,telemetryVisitor:this.props.telemetryVisitor,trackback:v.d.reserveTag(590955266)},H.a.SharedComments,r?K.a.GhostCard:void 0).then((function(t){r&&t.draftDiscardBehavior!==$.a.NoDraft&&t.draftDiscardResult!==j.a.Handled||e.props.selectionManager.selectAcrossContexts(D.d.Next,e.props.componentTree.componentTreeId.renderContextType)})).catch(Object(L.a)(v.d.reserveTag(590955267)))},t.prototype.isReadyToRender=function(){return this.isReadyToRenderWithProps(this.props)},t.prototype.isReadyToRenderWithProps=function(e){return Object(U.a)(e.pendingCommentLoad,e.modelCapabilities.virtualized,e.DoNotUse_isFilteringEnabled)},t.prototype.canCardDelete=function(e){return!0},t.prototype.shouldCheckForLowFidelityOnCardDelete=function(){return!1},t.prototype.render=function(){return n.createElement(se.a.Provider,{value:this.props.lppManager},n.createElement(ae.a.Provider,{value:this.props.componentTree.componentTreeId},this.renderInner()))},t}(n.Component),fe=r(1135),he=r(1017),me=r(1136),ye=r(1018),be=Object(x.mergeStyles)({height:"100%"}),ve=Object(x.memoizeFunction)((function(e,t){var r;return Object(x.mergeStyles)({fontFamily:'"Segoe UI", "Segoe UI Web", Arial, Verdana, sans-serif',width:"".concat(t+32,"px"),display:"flex",flexDirection:"column",alignItems:"stretch",height:"100%",overflowX:"hidden",overflowY:"hidden",backgroundColor:a.L()?void 0:null!==(r=null==e?void 0:e.PaneBackground)&&void 0!==r?r:he.a.GRAY_30,selectors:{":focus":{color:"#333333",outline:"thin dotted"}}})})),ge=Object(x.mergeStyles)({display:"flex",flexDirection:"column",flex:"1 1 auto",overflowY:"auto",overflowX:"hidden",justifyContent:"space-between",height:"100%",selectors:{":focus":{outline:"none"},"::-webkit-scrollbar-button:start:increment":{display:"none"},"::-webkit-scrollbar-button:end:decrement":{display:"none"}}}),Oe=Object(x.mergeStyles)({display:"flex",flex:"1 0 auto",marginTop:"3px"}),we=Object(x.mergeStyles)({padding:"16px",paddingLeft:"8px",height:"54px",boxSizing:"border-box",display:"flex",flexDirection:"row"}),xe=Object(x.mergeStyles)({display:"flex",flex:2,flexDirection:"row",paddingLeft:"10px",height:a.O()?"32px":void 0}),Ce=function(e){return Object(x.mergeStyles)({display:"flex",flexDirection:"row",width:e+11})};function Se(e){var t;return Object(x.mergeStyles)({height:"22px",fontWeight:600,fontSize:"16px",fontFamily:"".concat(ye.h,",").concat(ye.g,",").concat(ye.i,", Arial, Verdana, sans-serif"),color:null!==(t=null==e?void 0:e.NewCommentButtonLabel)&&void 0!==t?t:"#252423",display:"inline-block",textOverflow:"ellipsis",whiteSpace:"nowrap",flexGrow:1,overflow:"hidden",margin:"0px !important"})}var Te=function(e){var t,r,n,o;return{root:{padding:0,border:"1px solid transparent",margin:0,width:"22px",minWidth:"22px",height:"22px",alignContent:"center",marginLeft:"0px",selectors:{".ms-Fabric--isFocusVisible &:focus::after":ye.m,".ms-Button-flexContainer":{position:"relative"}}},icon:{color:null!==(t=null==e?void 0:e.ClosePaneButtonIcon)&&void 0!==t?t:he.a.GRAY_F,margin:0,width:"20px",height:"20px"},iconHovered:{color:null!==(r=null==e?void 0:e.ClosePaneButtonIconHovered)&&void 0!==r?r:he.a.GRAY_J},iconPressed:{color:null!==(n=null==e?void 0:e.ClosePaneButtonIconPressed)&&void 0!==n?n:he.a.GRAY_J},rootPressed:{backgroundColor:null==e?void 0:e.ClosePaneButtonPressed},rootHovered:Object(x.mergeStyles)({backgroundColor:null==e?void 0:e.ClosePaneButtonHovered},ye.l),rootFocused:Object(x.mergeStyles)({color:null!==(o=null==e?void 0:e.ClosePaneButtonFocused)&&void 0!==o?o:"#333333",outline:"none",border:"1px solid"},ye.k)}},je=function(e){var t;return Object(x.mergeStyles)({color:null!==(t=null==e?void 0:e.Text)&&void 0!==t?t:he.a.ACTIVE_COMMENT_TEXT,fontWeight:"normal",fontFamily:"inherit",fontSize:"12px",outline:"none",border:"1px solid transparent",marginLeft:"16px",marginRight:"9px",marginTop:"8px",selectors:{":focus":{color:"#333333",outline:"none",border:"1px dotted"}}})},ke={selectors:{"& .ms-Spinner-circle":{borderColor:me.a,borderTopColor:me.b}}},Pe=Object(g.c)({},(function(e,t){return{paneContainer:ve(e,t),listContainer:ge,commentList:Oe,paneHeader:we,paneTitle:Se(e),iconClosePane:Te(e),emptyPaneMessage:je(e),spinnerStyles:ke,focusTrapZone:be,topWrapper:Ce(t),filterRegion:xe}}),(function(){return[Object(fe.a)()]})),Ee=r(1060),_e=r(752),Ie=r(967),Re=r(963),Ae=r(608),De=n.useInsertionEffect?n.useInsertionEffect:void 0,Be=function(){var e={};return function(t,r){De&&Object(Ae.a)()?De((function(){t.insertCSSRules(r)}),[t,r]):void 0===e[t.id]&&(t.insertCSSRules(r),e[t.id]=!0)}},Me=r(933),Ne=r(932);function Le(e,t){var r=Object(Re.a)(e,t,Be);return function(){var e=Object(Ne.b)(),t=Object(Me.a)();return r({dir:e,renderer:t})}}var Fe=r(570);function ze(e){return(ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var He=["title","primaryFill"];function Ue(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function We(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ue(Object(r),!0).forEach((function(t){qe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ue(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function qe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==ze(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==ze(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ze(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ve(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var Ke=Le({root:{mc9l5x:"f1w7gpdv",Bg96gwp:"fez10in",ycbfsm:"fg4l7m0"},rtl:{Bz10aip:"f13rod7r"}},{d:[".f1w7gpdv{display:inline;}",".fez10in{line-height:0;}",".f13rod7r{-webkit-transform:scaleX(-1);-moz-transform:scaleX(-1);-ms-transform:scaleX(-1);transform:scaleX(-1);}"],t:["@media (forced-colors: active){.fg4l7m0{forced-color-adjust:auto;}}"]});function Ge(e){return(Ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qe(e){return function(e){if(Array.isArray(e))return Ye(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ye(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ye(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Je(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$e(Object(r),!0).forEach((function(t){Xe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$e(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Xe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Ge(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Ge(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ge(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ze=function(e,t,r,o){var i="1em"===t?"20":t,a=n.forwardRef((function(e,a){var s=Je(Je({},function(e,t){var r=e.title,n=e.primaryFill,o=void 0===n?"currentColor":n,i=We(We({},Ve(e,He)),{},{title:void 0,fill:o}),a=Ke(),s=Object(Ie.b)();return i.className=Object(Fe.a)(a.root,(null==t?void 0:t.flipInRtl)&&"rtl"===(null==s?void 0:s.textDirection)&&a.rtl,i.className),r&&(i["aria-label"]=r),i["aria-label"]||i["aria-labelledby"]?i.role="img":i["aria-hidden"]=!0,i}(e,{flipInRtl:null==o?void 0:o.flipInRtl})),{},{ref:a,width:t,height:t,viewBox:"0 0 ".concat(i," ").concat(i),xmlns:"http://www.w3.org/2000/svg"});return n.createElement.apply(n,["svg",s].concat(Qe(r.map((function(e){return n.createElement("path",{d:e,fill:s.fill})})))))}));return a.displayName=e,a},et=Ze("Checkmark16Filled","16",["M14.05 3.49c.28.3.27.77-.04 1.06l-7.93 7.47A.85.85 0 0 1 4.9 12L2.22 9.28a.75.75 0 1 1 1.06-1.06l2.24 2.27 7.47-7.04a.75.75 0 0 1 1.06.04Z"]),tt=Ze("ChevronDown12Regular","12",["M2.15 4.65c.2-.2.5-.2.7 0L6 7.79l3.15-3.14a.5.5 0 1 1 .7.7l-3.5 3.5a.5.5 0 0 1-.7 0l-3.5-3.5a.5.5 0 0 1 0-.7Z"]),rt=r(938),nt=r(1536),ot=function(e){var t=n.createContext({value:{current:e},version:{current:-1},listeners:[]});return t.Provider=function(e){return function(t){var r=n.useRef(t.value),o=n.useRef(0),i=n.useRef();return i.current||(i.current={value:r,version:o,listeners:[]}),Object(rt.a)((function(){r.current=t.value,o.current+=1,Object(nt.unstable_runWithPriority)(nt.unstable_NormalPriority,(function(){i.current.listeners.forEach((function(e){e([o.current,t.value])}))}))}),[t.value]),n.createElement(e,{value:i.current},t.children)}}(t.Provider),delete t.Consumer,t};function it(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return at(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return at(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function at(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var st=function(e,t){var r=n.useContext(e),o=r.value.current,i=r.version.current,a=r.listeners,s=t(o),l=it(n.useReducer((function(e,r){if(!r)return[o,s];if(r[0]<=i)return lt(e[1],s)?e:[o,s];try{if(lt(e[0],r[1]))return e;var n=t(r[1]);return lt(e[1],n)?e:[r[1],n]}catch(e){}return[e[0],e[1]]}),[o,s]),2),c=l[0],u=l[1];return lt(c[1],s)||u(void 0),Object(rt.a)((function(){return a.push(u),function(){var e=a.indexOf(u);a.splice(e,1)}}),[a]),c[1]};var lt="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},ct=ot(void 0),ut={checkedValues:{},setFocusByFirstCharacter:function(){return null},toggleCheckbox:function(){return null},selectRadio:function(){return null},hasIcons:!1,hasCheckmarks:!1},dt=ct.Provider,pt=function(e){return st(ct,(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut;return e(t)}))},ft=r(689),ht=r(964),mt=function(e){var t=n.useRef((function(){throw new Error("Cannot call an event handler while rendering")}));return Object(rt.a)((function(){t.current=e}),[e]),n.useCallback((function(){var e=t.current;return e.apply(void 0,arguments)}),[t])},yt=r(961),bt=n.createContext(void 0),vt=bt.Provider,gt=["className","primaryFill","filled"];function Ot(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var wt=Le({root:{mc9l5x:"fjseox"},visible:{mc9l5x:"f1w7gpdv"}},{d:[".fjseox{display:none;}",".f1w7gpdv{display:inline;}"]}),xt=function(e,t){var r=function(r){var o=r.className,i=r.primaryFill,a=void 0===i?"currentColor":i,s=r.filled,l=Ot(r,gt),c=wt();return n.createElement(n.Fragment,null,n.createElement(e,Object.assign({},l,{className:Object(Fe.a)(c.root,s&&c.visible,"fui-Icon-filled",o),fill:a})),n.createElement(t,Object.assign({},l,{className:Object(Fe.a)(c.root,!s&&c.visible,"fui-Icon-regular",o),fill:a})))};return r.displayName="CompoundIcon",r},Ct=Ze("ChevronLeftFilled","1em",["M12.27 15.8a.75.75 0 0 1-1.06-.03l-5-5.25a.75.75 0 0 1 0-1.04l5-5.25a.75.75 0 1 1 1.08 1.04L7.8 10l4.5 4.73c.29.3.28.78-.02 1.06Z"]),St=Ze("ChevronLeftRegular","1em",["M12.35 15.85a.5.5 0 0 1-.7 0L6.16 10.4a.55.55 0 0 1 0-.78l5.49-5.46a.5.5 0 1 1 .7.7L7.2 10l5.16 5.15c.2.2.2.5 0 .7Z"]),Tt=Ze("ChevronRightFilled","1em",["M7.73 4.2a.75.75 0 0 1 1.06.03l5 5.25c.28.3.28.75 0 1.04l-5 5.25a.75.75 0 1 1-1.08-1.04L12.2 10l-4.5-4.73a.75.75 0 0 1 .02-1.06Z"]),jt=Ze("ChevronRightRegular","1em",["M7.65 4.15c.2-.2.5-.2.7 0l5.49 5.46c.21.22.21.57 0 .78l-5.49 5.46a.5.5 0 0 1-.7-.7L12.8 10 7.65 4.85a.5.5 0 0 1 0-.7Z"]),kt=ot(void 0),Pt={open:!1,setOpen:function(){return!1},checkedValues:{},onCheckedValueChange:function(){return null},isSubmenu:!1,triggerRef:{current:null},menuPopoverRef:{current:null},mountNode:null,triggerId:"",openOnContext:!1,openOnHover:!1,hasIcons:!1,hasCheckmarks:!1,inline:!1,persistOnItemClick:!1},Et=kt.Provider,_t=function(e){return st(kt,(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt;return e(t)}))};function It(e){return(It="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Rt=["disabled","disabledFocusable","aria-disabled","onClick","onKeyDown","onKeyUp"];function At(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Dt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?At(Object(r),!0).forEach((function(t){Bt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):At(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Bt(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==It(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==It(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===It(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mt(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function Nt(e,t){var r=null!=t?t:{},n=r.disabled,o=r.disabledFocusable,i=void 0!==o&&o,a=r["aria-disabled"],s=r.onClick,l=r.onKeyDown,c=r.onKeyUp,u=Mt(r,Rt),d="string"==typeof a?"true"===a:a,p=n||i||d,f=mt((function(e){p?(e.preventDefault(),e.stopPropagation()):null==s||s(e)})),h=mt((function(e){if(null==l||l(e),!e.isDefaultPrevented()){var t=e.key;if(p&&("Enter"===t||" "===t))return e.preventDefault(),void e.stopPropagation();" "!==t?"Enter"===t&&(e.preventDefault(),e.currentTarget.click()):e.preventDefault()}})),m=mt((function(e){if(null==c||c(e),!e.isDefaultPrevented()){var t=e.key;if(p&&("Enter"===t||" "===t))return e.preventDefault(),void e.stopPropagation();" "===t&&(e.preventDefault(),e.currentTarget.click())}}));if("button"===e||void 0===e)return Dt(Dt({},u),{},{disabled:n&&!i,"aria-disabled":!!i||d,onClick:i?void 0:f,onKeyUp:i?void 0:c,onKeyDown:i?void 0:l});var y=Dt(Dt({role:"button",tabIndex:n&&!i?void 0:0},u),{},{onClick:f,onKeyUp:m,onKeyDown:h,"aria-disabled":n||i||d});return"a"===e&&p&&(y.href=void 0),y}function Lt(e){return(Lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ft(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function zt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ft(Object(r),!0).forEach((function(t){Ht(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ft(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ht(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Lt(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Lt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Lt(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ut=xt(Tt,jt),Wt=xt(Ct,St),qt=function(e,t){var r=function(){var e;return null!==(e=n.useContext(bt))&&void 0!==e&&e}(),o=_t((function(e){return e.persistOnItemClick})),i=e.as,a=void 0===i?"div":i,s=e.disabled,l=void 0!==s&&s,c=e.hasSubmenu,u=void 0===c?r:c,d=e.persistOnClick,p=void 0===d?o:d,f=pt((function(e){return e.hasIcons})),h=pt((function(e){return e.hasCheckmarks})),m=_t((function(e){return e.setOpen})),y=Object(yt.b)().dir,b=n.useRef(null),v=n.useRef(!1),g={hasSubmenu:u,disabled:l,persistOnClick:p,components:{root:"div",icon:"span",checkmark:"span",submenuIndicator:"span",content:"span",secondaryContent:"span"},root:_e.a.always(Object(ft.a)(a,Nt(a,zt(zt({role:"menuitem"},e),{},{disabled:!1,disabledFocusable:l,ref:Object(ht.a)(t,b),onKeyDown:mt((function(t){var r;null===(r=e.onKeyDown)||void 0===r||r.call(e,t),t.isDefaultPrevented()||" "!==t.key&&"Enter"!==t.key||(v.current=!0)})),onMouseEnter:mt((function(t){var r,n;null===(r=b.current)||void 0===r||r.focus(),null===(n=e.onMouseEnter)||void 0===n||n.call(e,t)})),onClick:mt((function(t){var r;u||p||(m(t,{open:!1,keyboard:v.current,bubble:!0,type:"menuItemClick",event:t}),v.current=!1),null===(r=e.onClick)||void 0===r||r.call(e,t)}))}))),{elementType:"div"}),icon:_e.a.optional(e.icon,{renderByDefault:f,elementType:"span"}),checkmark:_e.a.optional(e.checkmark,{renderByDefault:h,elementType:"span"}),submenuIndicator:_e.a.optional(e.submenuIndicator,{renderByDefault:u,defaultProps:{children:"ltr"===y?n.createElement(Ut,null):n.createElement(Wt,null)},elementType:"span"}),content:_e.a.optional(e.content,{renderByDefault:!!e.children,defaultProps:{children:e.children},elementType:"span"}),secondaryContent:_e.a.optional(e.secondaryContent,{elementType:"span"})};return function(e,t){var r=pt((function(e){return e.setFocusByFirstCharacter})),n=e.root.onKeyDown;e.root.onKeyDown=function(e){var o;null==n||n(e),(null===(o=e.key)||void 0===o?void 0:o.length)>1||t.current&&(null==r||r(e,t.current))}}(g,b),g};function Vt(e){return(Vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Kt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Gt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Kt(Object(r),!0).forEach((function(t){Qt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Qt(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Vt(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Vt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Vt(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Yt=r(198),$t=r(609),Jt=Le({root:{a9b677:"fjw5fx7",Bqenvij:"fd461yt",Bcdw1i0:"fd7fpy0"},rootChecked:{Bcdw1i0:"f1022m68"}},{d:[".fjw5fx7{width:16px;}",".fd461yt{height:16px;}",".fd7fpy0{visibility:hidden;}",".f1022m68{visibility:visible;}"]}),Xt=function(e){var t=Jt();e.checkmark&&(e.checkmark.className=Object(Fe.a)(t.root,e.checked&&t.rootChecked,e.checkmark.className))},Zt=r(588);function er(e,t,r){var n=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Zt.a,o=n();function i(n){var i=n.dir,a=n.renderer,s="ltr"===i?e:t||e;return o(a,Array.isArray(r)?{r:r}:r),s}return i}(e,t,r,Be);return function(){var e=Object(Ne.b)(),t=Object(Me.a)();return n({dir:e,renderer:t})}}var tr="fui-MenuItem",rr="fui-MenuItem__icon",nr="fui-MenuItem__checkmark",or="fui-MenuItem__submenuIndicator",ir="fui-MenuItem__content",ar="fui-MenuItem__secondaryContent",sr=er("rx0oqon","r25f100",[".rx0oqon{border-radius:var(--borderRadiusMedium);position:relative;color:var(--colorNeutralForeground2);background-color:var(--colorNeutralBackground1);padding-right:var(--spacingVerticalSNudge);padding-left:var(--spacingVerticalSNudge);padding-top:var(--spacingVerticalSNudge);box-sizing:border-box;max-width:290px;min-height:32px;flex-shrink:0;display:flex;align-items:start;font-size:var(--fontSizeBase300);cursor:pointer;gap:4px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}",".rx0oqon:hover{background-color:var(--colorNeutralBackground1Hover);color:var(--colorNeutralForeground2Hover);}",".rx0oqon:hover .fui-Icon-filled{display:inline;}",".rx0oqon:hover .fui-Icon-regular{display:none;}",".rx0oqon:hover .fui-MenuItem__icon{color:var(--colorNeutralForeground2BrandSelected);}",".rx0oqon:focus{outline-style:none;}",".rx0oqon:focus-visible{outline-style:none;}",".rx0oqon[data-fui-focus-visible]{border-top-color:transparent;border-right-color:transparent;border-bottom-color:transparent;border-left-color:transparent;}",'.rx0oqon[data-fui-focus-visible]::after{content:"";position:absolute;pointer-events:none;z-index:1;border-top-style:solid;border-right-style:solid;border-bottom-style:solid;border-left-style:solid;border-top-width:2px;border-right-width:2px;border-bottom-width:2px;border-left-width:2px;border-bottom-right-radius:var(--borderRadiusMedium);border-bottom-left-radius:var(--borderRadiusMedium);border-top-right-radius:var(--borderRadiusMedium);border-top-left-radius:var(--borderRadiusMedium);border-top-color:var(--colorStrokeFocus2);border-right-color:var(--colorStrokeFocus2);border-bottom-color:var(--colorStrokeFocus2);border-left-color:var(--colorStrokeFocus2);top:calc(2px * -1);right:calc(2px * -1);bottom:calc(2px * -1);left:calc(2px * -1);}',".r25f100{border-radius:var(--borderRadiusMedium);position:relative;color:var(--colorNeutralForeground2);background-color:var(--colorNeutralBackground1);padding-left:var(--spacingVerticalSNudge);padding-right:var(--spacingVerticalSNudge);padding-top:var(--spacingVerticalSNudge);box-sizing:border-box;max-width:290px;min-height:32px;flex-shrink:0;display:flex;align-items:start;font-size:var(--fontSizeBase300);cursor:pointer;gap:4px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}",".r25f100:hover{background-color:var(--colorNeutralBackground1Hover);color:var(--colorNeutralForeground2Hover);}",".r25f100:hover .fui-Icon-filled{display:inline;}",".r25f100:hover .fui-Icon-regular{display:none;}",".r25f100:hover .fui-MenuItem__icon{color:var(--colorNeutralForeground2BrandSelected);}",".r25f100:focus{outline-style:none;}",".r25f100:focus-visible{outline-style:none;}",".r25f100[data-fui-focus-visible]{border-top-color:transparent;border-left-color:transparent;border-bottom-color:transparent;border-right-color:transparent;}",'.r25f100[data-fui-focus-visible]::after{content:"";position:absolute;pointer-events:none;z-index:1;border-top-style:solid;border-left-style:solid;border-bottom-style:solid;border-right-style:solid;border-top-width:2px;border-left-width:2px;border-bottom-width:2px;border-right-width:2px;border-bottom-left-radius:var(--borderRadiusMedium);border-bottom-right-radius:var(--borderRadiusMedium);border-top-left-radius:var(--borderRadiusMedium);border-top-right-radius:var(--borderRadiusMedium);border-top-color:var(--colorStrokeFocus2);border-left-color:var(--colorStrokeFocus2);border-bottom-color:var(--colorStrokeFocus2);border-right-color:var(--colorStrokeFocus2);top:calc(2px * -1);left:calc(2px * -1);bottom:calc(2px * -1);right:calc(2px * -1);}']),lr=er("r1ls86vo","rpbc5dr",[".r1ls86vo{padding-left:2px;padding-right:2px;background-color:transparent;flex-grow:1;}",".rpbc5dr{padding-right:2px;padding-left:2px;background-color:transparent;flex-grow:1;}"]),cr=er("r79npjw","r1j24c7y",[".r79npjw{padding-left:2px;padding-right:2px;color:var(--colorNeutralForeground3);}",".r79npjw:hover{color:var(--colorNeutralForeground3Hover);}",".r79npjw:focus{color:var(--colorNeutralForeground3Hover);}",".r1j24c7y{padding-right:2px;padding-left:2px;color:var(--colorNeutralForeground3);}",".r1j24c7y:hover{color:var(--colorNeutralForeground3Hover);}",".r1j24c7y:focus{color:var(--colorNeutralForeground3Hover);}"]),ur=er("r9c34qo",null,[".r9c34qo{width:20px;height:20px;font-size:20px;line-height:0;align-items:center;display:inline-flex;justify-content:center;}"]),dr=er("r9c34qo",null,[".r9c34qo{width:20px;height:20px;font-size:20px;line-height:0;align-items:center;display:inline-flex;justify-content:center;}"]),pr=Le({checkmark:{B6of3ja:"fmnzpld"},splitItemMain:{Bh6795r:"fqerorx"},splitItemTrigger:{Btl43ni:["f1ozlkrg","f10ostut"],Beyfa6y:["f1deotkl","f1krrbdw"],uwmqm3:["f1cnd47f","fhxju0i"],Ftih45:"f1wl9k8s",Ccq8qp:"f1yn80uh",Baz25je:"f68mna0",cmx5o7:"f1p5zmk"},disabled:{sj55zd:"f1s2aq7o",Bi91k9c:"fvgxktp",Jwef8y:"f1ijtazh",eoavqd:"fphbwmw",Bk3fhr4:"f19vpps7",Bmfj8id:"fv5swzo",Bg7n49j:"f1q1x1ba",t0hwav:"ft33916",Bbusuzp:"f1dcs8yz",ze5xyy:"f1kc2mi9",Bctn1xl:"fk56vqo",Bh6z0a4:"f1ikwg0d"}},{d:[".fmnzpld{margin-top:2px;}",".fqerorx{flex-grow:1;}",".f1ozlkrg{border-top-left-radius:0;}",".f10ostut{border-top-right-radius:0;}",".f1deotkl{border-bottom-left-radius:0;}",".f1krrbdw{border-bottom-right-radius:0;}",".f1cnd47f{padding-left:0;}",".fhxju0i{padding-right:0;}",'.f1wl9k8s::before{content:"";}',".f1yn80uh::before{width:var(--strokeWidthThin);}",".f68mna0::before{height:24px;}",".f1p5zmk::before{background-color:var(--colorNeutralStroke1);}",".f1s2aq7o{color:var(--colorNeutralForegroundDisabled);}"],h:[".fvgxktp:hover{color:var(--colorNeutralForegroundDisabled);}",".f1ijtazh:hover{background-color:var(--colorNeutralBackground1);}",".fphbwmw:hover{cursor:not-allowed;}",".f19vpps7:hover .fui-Icon-filled{display:none;}",".fv5swzo:hover .fui-Icon-regular{display:inline;}",".f1q1x1ba:hover .fui-MenuItem__icon{color:var(--colorNeutralForegroundDisabled);}"],f:[".ft33916:focus{color:var(--colorNeutralForegroundDisabled);}"],m:[["@media (forced-colors: active){.f1dcs8yz{color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1kc2mi9:hover{color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fk56vqo:hover .fui-MenuItem__icon{color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1ikwg0d:focus{color:GrayText;}}",{m:"(forced-colors: active)"}]]}),fr=function(e){var t=pr(),r=sr(),n=lr(),o=cr(),i=ur(),a=dr();e.root.className=Object(Fe.a)(tr,r,e.disabled&&t.disabled,e.root.className),e.content&&(e.content.className=Object(Fe.a)(ir,n,e.content.className)),e.checkmark&&(e.checkmark.className=Object(Fe.a)(nr,t.checkmark,e.checkmark.className)),e.secondaryContent&&(e.secondaryContent.className=Object(Fe.a)(ar,!e.disabled&&o,e.secondaryContent.className)),e.icon&&(e.icon.className=Object(Fe.a)(rr,i,e.icon.className)),e.submenuIndicator&&(e.submenuIndicator.className=Object(Fe.a)(or,a,e.submenuIndicator.className)),Xt(e)},hr="fui-MenuItemCheckbox",mr="fui-MenuItemCheckbox__icon",yr="fui-MenuItemCheckbox__checkmark",br="fui-MenuItemCheckbox__content",vr="fui-MenuItemCheckbox__secondaryContent",gr=r(962),Or=n.forwardRef((function(e,t){var r=function(e,t){var r=pt((function(e){return e.toggleCheckbox})),o=e.name,i=e.value,a=pt((function(e){var t;return-1!==((null===(t=e.checkedValues)||void 0===t?void 0:t[o])||[]).indexOf(i)}));return Gt(Gt({},qt(Gt(Gt({role:"menuitemcheckbox",persistOnClick:!0},e),{},{"aria-checked":a,checkmark:_e.a.optional(e.checkmark,{defaultProps:{children:n.createElement(et,null)},renderByDefault:!0,elementType:"span"}),onClick:function(t){var n;null==r||r(t,o,i,a),null===(n=e.onClick)||void 0===n||n.call(e,t)}}),t)),{},{name:o,value:i,checked:a})}(e,t);return function(e){e.root.className=Object(Fe.a)(hr,e.root.className),e.content&&(e.content.className=Object(Fe.a)(br,e.content.className)),e.secondaryContent&&(e.secondaryContent.className=Object(Fe.a)(vr,e.secondaryContent.className)),e.icon&&(e.icon.className=Object(Fe.a)(mr,e.icon.className)),e.checkmark&&(e.checkmark.className=Object(Fe.a)(yr,e.checkmark.className)),fr(e),Xt(e)}(r),Object(gr.c)("useMenuItemCheckboxStyles_unstable")(r),function(e){return Object($t.a)(e),Object(Yt.b)(e.root,{children:[e.checkmark&&Object(Yt.a)(e.checkmark,{}),e.icon&&Object(Yt.a)(e.icon,{}),e.content&&Object(Yt.a)(e.content,{}),e.secondaryContent&&Object(Yt.a)(e.secondaryContent,{})]})}(r)}));function wr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return xr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}Or.displayName="MenuItemCheckbox";var Cr={above:{position:"above",align:"center"},"above-start":{position:"above",align:"start"},"above-end":{position:"above",align:"end"},below:{position:"below",align:"center"},"below-start":{position:"below",align:"start"},"below-end":{position:"below",align:"end"},before:{position:"before",align:"center"},"before-top":{position:"before",align:"top"},"before-bottom":{position:"before",align:"bottom"},after:{position:"after",align:"center"},"after-top":{position:"after",align:"top"},"after-bottom":{position:"after",align:"bottom"}};function Sr(e){return null==e?{}:"string"==typeof e?Cr[e]:e}function Tr(e){return(Tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function kr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jr(Object(r),!0).forEach((function(t){Pr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Pr(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Tr(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Tr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Tr(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Er=["top","right","bottom","left"],_r=Math.min,Ir=Math.max,Rr=Math.round,Ar=(Math.floor,function(e){return{x:e,y:e}}),Dr={left:"right",right:"left",bottom:"top",top:"bottom"},Br={start:"end",end:"start"};function Mr(e,t,r){return Ir(e,_r(t,r))}function Nr(e,t){return"function"==typeof e?e(t):e}function Lr(e){return e.split("-")[0]}function Fr(e){return e.split("-")[1]}function zr(e){return"x"===e?"y":"x"}function Hr(e){return"y"===e?"height":"width"}function Ur(e){return["top","bottom"].includes(Lr(e))?"y":"x"}function Wr(e){return zr(Ur(e))}function qr(e,t,r){void 0===r&&(r=!1);var n=Fr(e),o=Wr(e),i=Hr(o),a="x"===o?n===(r?"end":"start")?"right":"left":"start"===n?"bottom":"top";return t.reference[i]>t.floating[i]&&(a=Qr(a)),[a,Qr(a)]}function Vr(e){var t=Qr(e);return[Kr(e),t,Kr(t)]}function Kr(e){return e.replace(/start|end/g,(function(e){return Br[e]}))}function Gr(e,t,r,n){var o=Fr(e),i=function(e,t,r){var n=["left","right"],o=["right","left"];switch(e){case"top":case"bottom":return r?t?o:n:t?n:o;case"left":case"right":return t?["top","bottom"]:["bottom","top"];default:return[]}}(Lr(e),"start"===r,n);return o&&(i=i.map((function(e){return e+"-"+o})),t&&(i=i.concat(i.map(Kr)))),i}function Qr(e){return e.replace(/left|right|bottom|top/g,(function(e){return Dr[e]}))}function Yr(e){return"number"!=typeof e?function(e){return kr({top:0,right:0,bottom:0,left:0},e)}(e):{top:e,right:e,bottom:e,left:e}}function $r(e){return kr(kr({},e),{},{top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height})}var Jr=["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"],Xr=["strategy"],Zr=["mainAxis","crossAxis","limiter"],en=["apply"];function tn(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function rn(e){return function(e){if(Array.isArray(e))return nn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return nn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nn(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function on(){on=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var i=t&&t.prototype instanceof y?t:y,a=Object.create(i.prototype),s=new E(n||[]);return o(a,"_invoke",{value:T(e,r,s)}),a}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var p="suspendedStart",f="executing",h="completed",m={};function y(){}function b(){}function v(){}var g={};c(g,a,(function(){return this}));var O=Object.getPrototypeOf,w=O&&O(O(_([])));w&&w!==r&&n.call(w,a)&&(g=w);var x=v.prototype=y.prototype=Object.create(g);function C(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function r(o,i,a,s){var l=d(e[o],e,i);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==an(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return r("throw",e,a,s)}))}s(l.arg)}var i;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return i=i?i.then(o,o):o()}})}function T(t,r,n){var o=p;return function(i,a){if(o===f)throw new Error("Generator is already running");if(o===h){if("throw"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var l=j(s,n);if(l){if(l===m)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=f;var c=d(t,r,n);if("normal"===c.type){if(o=n.done?h:"suspendedYield",c.arg===m)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=h,n.method="throw",n.arg=c.arg)}}}function j(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,j(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var i=d(o,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,m;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function _(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(an(t)+" is not iterable")}return b.prototype=v,o(x,"constructor",{value:v,configurable:!0}),o(v,"constructor",{value:b,configurable:!0}),b.displayName=c(v,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,c(e,l,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},C(S.prototype),c(S.prototype,s,(function(){return this})),t.AsyncIterator=S,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new S(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},C(x),c(x,l,"Generator"),c(x,a,(function(){return this})),c(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=_,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;P(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:_(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}function an(e){return(an="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ln(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?sn(Object(r),!0).forEach((function(t){cn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function cn(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==an(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==an(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===an(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function un(e,t,r,n,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,o)}function dn(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){un(i,n,o,a,s,"next",e)}function s(e){un(i,n,o,a,s,"throw",e)}a(void 0)}))}}function pn(e,t,r){var n,o=e.reference,i=e.floating,a=Ur(t),s=Wr(t),l=Hr(s),c=Lr(t),u="y"===a,d=o.x+o.width/2-i.width/2,p=o.y+o.height/2-i.height/2,f=o[l]/2-i[l]/2;switch(c){case"top":n={x:d,y:o.y-i.height};break;case"bottom":n={x:d,y:o.y+o.height};break;case"right":n={x:o.x+o.width,y:p};break;case"left":n={x:o.x-i.width,y:p};break;default:n={x:o.x,y:o.y}}switch(Fr(t)){case"start":n[s]-=f*(r&&u?-1:1);break;case"end":n[s]+=f*(r&&u?-1:1)}return n}var fn=function(){var e=dn(on().mark((function e(t,r,n){var o,i,a,s,l,c,u,d,p,f,h,m,y,b,v,g,O,w,x,C,S,T,j,k,P,E;return on().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.placement,i=void 0===o?"bottom":o,a=n.strategy,s=void 0===a?"absolute":a,l=n.middleware,c=void 0===l?[]:l,u=n.platform,d=c.filter(Boolean),e.next=4,null==u.isRTL?void 0:u.isRTL(r);case 4:return p=e.sent,e.next=7,u.getElementRects({reference:t,floating:r,strategy:s});case 7:f=e.sent,h=pn(f,i,p),m=h.x,y=h.y,b=i,v={},g=0,O=0;case 13:if(!(O<d.length)){e.next=46;break}return w=d[O],x=w.name,C=w.fn,e.next=17,C({x:m,y:y,initialPlacement:i,placement:b,strategy:s,middlewareData:v,rects:f,platform:u,elements:{reference:t,floating:r}});case 17:if(S=e.sent,T=S.x,j=S.y,k=S.data,P=S.reset,m=null!=T?T:m,y=null!=j?j:y,v=ln(ln({},v),{},cn({},x,ln(ln({},v[x]),k))),!(P&&g<=50)){e.next=43;break}if(g++,"object"!==an(P)){e.next=41;break}if(P.placement&&(b=P.placement),!P.rects){e.next=38;break}if(!0!==P.rects){e.next=36;break}return e.next=33,u.getElementRects({reference:t,floating:r,strategy:s});case 33:e.t0=e.sent,e.next=37;break;case 36:e.t0=P.rects;case 37:f=e.t0;case 38:E=pn(f,b,p),m=E.x,y=E.y;case 41:return O=-1,e.abrupt("continue",43);case 43:O++,e.next=13;break;case 46:return e.abrupt("return",{x:m,y:y,placement:b,strategy:s,middlewareData:v});case 47:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}();function hn(e,t){return mn.apply(this,arguments)}function mn(){return(mn=dn(on().mark((function e(t,r){var n,o,i,a,s,l,c,u,d,p,f,h,m,y,b,v,g,O,w,x,C,S,T,j,k;return on().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r={}),o=t.x,i=t.y,a=t.platform,s=t.rects,l=t.elements,c=t.strategy,u=Nr(r,t),d=u.boundary,p=void 0===d?"clippingAncestors":d,f=u.rootBoundary,h=void 0===f?"viewport":f,m=u.elementContext,y=void 0===m?"floating":m,b=u.altBoundary,v=void 0!==b&&b,g=u.padding,O=Yr(void 0===g?0:g),w="floating"===y?"reference":"floating",x=l[v?w:y],e.t0=$r,e.t1=a,e.next=10,null==a.isElement?void 0:a.isElement(x);case 10:if(e.t2=n=e.sent,null==e.t2){e.next=15;break}e.t3=n,e.next=16;break;case 15:e.t3=!0;case 16:if(!e.t3){e.next=20;break}e.t4=x,e.next=26;break;case 20:if(e.t5=x.contextElement,e.t5){e.next=25;break}return e.next=24,null==a.getDocumentElement?void 0:a.getDocumentElement(l.floating);case 24:e.t5=e.sent;case 25:e.t4=e.t5;case 26:return e.t6=e.t4,e.t7=p,e.t8=h,e.t9=c,e.t10={element:e.t6,boundary:e.t7,rootBoundary:e.t8,strategy:e.t9},e.next=33,e.t1.getClippingRect.call(e.t1,e.t10);case 33:return e.t11=e.sent,C=(0,e.t0)(e.t11),S="floating"===y?ln(ln({},s.floating),{},{x:o,y:i}):s.reference,e.next=38,null==a.getOffsetParent?void 0:a.getOffsetParent(l.floating);case 38:return T=e.sent,e.next=41,null==a.isElement?void 0:a.isElement(T);case 41:if(!e.sent){e.next=50;break}return e.next=44,null==a.getScale?void 0:a.getScale(T);case 44:if(e.t13=e.sent,e.t13){e.next=47;break}e.t13={x:1,y:1};case 47:e.t12=e.t13,e.next=51;break;case 50:e.t12={x:1,y:1};case 51:if(j=e.t12,e.t14=$r,!a.convertOffsetParentRelativeRectToViewportRelativeRect){e.next=59;break}return e.next=56,a.convertOffsetParentRelativeRectToViewportRelativeRect({rect:S,offsetParent:T,strategy:c});case 56:e.t15=e.sent,e.next=60;break;case 59:e.t15=S;case 60:return e.t16=e.t15,k=(0,e.t14)(e.t16),e.abrupt("return",{top:(C.top-k.top+O.top)/j.y,bottom:(k.bottom-C.bottom+O.bottom)/j.y,left:(C.left-k.left+O.left)/j.x,right:(k.right-C.right+O.right)/j.x});case 63:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var yn=function(e){return{name:"arrow",options:e,fn:function(t){return dn(on().mark((function r(){var n,o,i,a,s,l,c,u,d,p,f,h,m,y,b,v,g,O,w,x,C,S,T,j,k,P,E,_,I,R,A,D,B,M,N,L;return on().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i=t.x,a=t.y,s=t.placement,l=t.rects,c=t.platform,u=t.elements,d=t.middlewareData,p=Nr(e,t)||{},f=p.element,h=p.padding,m=void 0===h?0:h,null!=f){r.next=4;break}return r.abrupt("return",{});case 4:return y=Yr(m),b={x:i,y:a},v=Wr(s),g=Hr(v),r.next=10,c.getDimensions(f);case 10:return O=r.sent,x=(w="y"===v)?"top":"left",C=w?"bottom":"right",S=w?"clientHeight":"clientWidth",T=l.reference[g]+l.reference[v]-b[v]-l.floating[g],j=b[v]-l.reference[v],r.next=19,null==c.getOffsetParent?void 0:c.getOffsetParent(f);case 19:if(k=r.sent,P=k?k[S]:0,r.t0=!P,r.t0){r.next=26;break}return r.next=25,null==c.isElement?void 0:c.isElement(k);case 25:r.t0=!r.sent;case 26:if(!r.t0){r.next=28;break}P=u.floating[S]||l.floating[g];case 28:return E=T/2-j/2,_=P/2-O[g]/2-1,I=_r(y[x],_),R=_r(y[C],_),A=I,D=P-O[g]-R,B=P/2-O[g]/2+E,M=Mr(A,B,D),N=!d.arrow&&null!=Fr(s)&&B!=M&&l.reference[g]/2-(B<A?I:R)-O[g]/2<0,L=N?B<A?B-A:B-D:0,r.abrupt("return",(cn(o={},v,b[v]+L),cn(o,"data",ln((cn(n={},v,M),cn(n,"centerOffset",B-M-L),n),N&&{alignmentOffset:L})),cn(o,"reset",N),o));case 39:case"end":return r.stop()}}),r)})))()}}};function bn(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function vn(e){return Er.some((function(t){return e[t]>=0}))}var gn=function(e){return void 0===e&&(e={}),{name:"hide",options:e,fn:function(t){return dn(on().mark((function r(){var n,o,i,a,s,l,c,u,d;return on().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:n=t.rects,o=Nr(e,t),i=o.strategy,a=void 0===i?"referenceHidden":i,s=tn(o,Xr),r.t0=a,r.next="referenceHidden"===r.t0?5:"escaped"===r.t0?10:15;break;case 5:return r.next=7,hn(t,ln(ln({},s),{},{elementContext:"reference"}));case 7:return l=r.sent,c=bn(l,n.reference),r.abrupt("return",{data:{referenceHiddenOffsets:c,referenceHidden:vn(c)}});case 10:return r.next=12,hn(t,ln(ln({},s),{},{altBoundary:!0}));case 12:return u=r.sent,d=bn(u,n.floating),r.abrupt("return",{data:{escapedOffsets:d,escaped:vn(d)}});case 15:return r.abrupt("return",{});case 16:case"end":return r.stop()}}),r)})))()}}};function On(e,t){return wn.apply(this,arguments)}function wn(){return(wn=dn(on().mark((function e(t,r){var n,o,i,a,s,l,c,u,d,p,f,h,m,y;return on().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.placement,o=t.platform,i=t.elements,e.next=3,null==o.isRTL?void 0:o.isRTL(i.floating);case 3:return a=e.sent,s=Lr(n),l=Fr(n),c="y"===Ur(n),u=["left","top"].includes(s)?-1:1,d=a&&c?-1:1,p=Nr(r,t),f="number"==typeof p?{mainAxis:p,crossAxis:0,alignmentAxis:null}:ln({mainAxis:0,crossAxis:0,alignmentAxis:null},p),h=f.mainAxis,m=f.crossAxis,y=f.alignmentAxis,l&&"number"==typeof y&&(m="end"===l?-1*y:y),e.abrupt("return",c?{x:m*d,y:h*u}:{x:h*u,y:m*d});case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var xn=function(e){return void 0===e&&(e={}),{options:e,fn:function(t){var r,n=t.x,o=t.y,i=t.placement,a=t.rects,s=t.middlewareData,l=Nr(e,t),c=l.offset,u=void 0===c?0:c,d=l.mainAxis,p=void 0===d||d,f=l.crossAxis,h=void 0===f||f,m={x:n,y:o},y=Ur(i),b=zr(y),v=m[b],g=m[y],O=Nr(u,t),w="number"==typeof O?{mainAxis:O,crossAxis:0}:ln({mainAxis:0,crossAxis:0},O);if(p){var x="y"===b?"height":"width",C=a.reference[b]-a.floating[x]+w.mainAxis,S=a.reference[b]+a.reference[x]-w.mainAxis;v<C?v=C:v>S&&(v=S)}if(h){var T,j,k="y"===b?"width":"height",P=["top","left"].includes(Lr(i)),E=a.reference[y]-a.floating[k]+(P&&(null==(T=s.offset)?void 0:T[y])||0)+(P?0:w.crossAxis),_=a.reference[y]+a.reference[k]+(P?0:(null==(j=s.offset)?void 0:j[y])||0)-(P?w.crossAxis:0);g<E?g=E:g>_&&(g=_)}return cn(r={},b,v),cn(r,y,g),r}}},Cn=r(571);function Sn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Tn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Tn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function jn(e,t,r){var o=n.useRef(!0),i=Sn(n.useState((function(){return{value:e,callback:t,facade:{get current(){return i.value},set current(e){var t=i.value;if(t!==e){if(i.value=e,r&&o.current)return;i.callback(e,t)}}}}})),1)[0];return Object(rt.a)((function(){o.current=!1}),[]),i.callback=t,i.facade}var kn=function e(t){var r=t&&function(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}(t);if(!r)return document.body;switch(r.nodeName){case"HTML":case"BODY":return r.ownerDocument.body;case"#document":return r.body}var n=function(e){var t;return 1!==e.nodeType?{}:(null===(t=e.ownerDocument)||void 0===t?void 0:t.defaultView).getComputedStyle(e,null)}(r),o=n.overflow,i=n.overflowX,a=n.overflowY;return/(auto|scroll|overlay)/.test(o+a+i)?r:e(r)},Pn=function(e,t,r){var n=function(e,t){var r="above"===e||"below"===e,n="top"===t||"bottom"===t;return r&&n||!r&&!n}(t,e)?"center":e,o=t&&function(e){return{above:"top",below:"bottom",before:e?"right":"left",after:e?"left":"right"}}(r)[t],i=n&&function(){return{start:"start",end:"end",top:"start",bottom:"end",center:void 0}}()[n];return o&&i?"".concat(o,"-").concat(i):o};function En(e,t){if("window"===t)return null==e?void 0:e.ownerDocument.documentElement;if("clippingParents"===t)return"clippingAncestors";if("scrollParent"===t){var r=kn(e);return"BODY"===r.nodeName&&(r=null==e?void 0:e.ownerDocument.documentElement),r}return t}function _n(e){return(_n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function In(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Rn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?In(Object(r),!0).forEach((function(t){An(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):In(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function An(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==_n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==_n(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===_n(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Dn=function(e){return{name:"resetMaxSize",fn:function(t){var r,n=t.middlewareData,o=t.elements;if(null===(r=n.resetMaxSize)||void 0===r?void 0:r.maxSizeAlreadyReset)return{};var i=e.applyMaxWidth,a=e.applyMaxHeight;return i&&(o.floating.style.removeProperty("box-sizing"),o.floating.style.removeProperty("max-width"),o.floating.style.removeProperty("width")),a&&(o.floating.style.removeProperty("box-sizing"),o.floating.style.removeProperty("max-height"),o.floating.style.removeProperty("height")),{data:{maxSizeAlreadyReset:!0},reset:{rects:!0}}}}};function Bn(e,t){var r=t.container,n=t.overflowBoundary;return function(e){return void 0===e&&(e={}),{name:"size",options:e,fn:function(t){return dn(on().mark((function r(){var n,o,i,a,s,l,c,u,d,p,f,h,m,y,b,v,g,O,w,x,C,S,T,j,k,P,E,_,I;return on().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.placement,o=t.rects,i=t.platform,a=t.elements,s=Nr(e,t),l=s.apply,c=void 0===l?function(){}:l,u=tn(s,en),r.next=4,hn(t,u);case 4:if(d=r.sent,p=Lr(n),f=Fr(n),h="y"===Ur(n),m=o.floating,y=m.width,b=m.height,"top"!==p&&"bottom"!==p){r.next=28;break}return v=p,r.t0=f,r.next=14,null==i.isRTL?void 0:i.isRTL(a.floating);case 14:if(!r.sent){r.next=18;break}r.t1="start",r.next=19;break;case 18:r.t1="end";case 19:if(r.t2=r.t1,r.t0!==r.t2){r.next=24;break}r.t3="left",r.next=25;break;case 24:r.t3="right";case 25:g=r.t3,r.next=30;break;case 28:g=p,v="end"===f?"top":"bottom";case 30:return O=b-d[v],w=y-d[g],x=!t.middlewareData.shift,C=O,S=w,h?(T=y-d.left-d.right,S=f||x?_r(w,T):T):(j=b-d.top-d.bottom,C=f||x?_r(O,j):j),x&&!f&&(k=Ir(d.left,0),P=Ir(d.right,0),E=Ir(d.top,0),_=Ir(d.bottom,0),h?S=y-2*(0!==k||0!==P?k+P:Ir(d.left,d.right)):C=b-2*(0!==E||0!==_?E+_:Ir(d.top,d.bottom))),r.next=39,c(ln(ln({},t),{},{availableWidth:S,availableHeight:C}));case 39:return r.next=41,i.getDimensions(a.floating);case 41:if(I=r.sent,y===I.width&&b===I.height){r.next=44;break}return r.abrupt("return",{reset:{rects:!0}});case 44:return r.abrupt("return",{});case 45:case"end":return r.stop()}}),r)})))()}}}(Rn(Rn({},n&&{altBoundary:!0,boundary:En(r,n)}),{},{apply:function(t){var r=t.availableHeight,n=t.availableWidth,o=t.elements,i=t.rects,a=function(e,t,r){if(e&&(o.floating.style.setProperty("box-sizing","border-box"),o.floating.style.setProperty("max-".concat(t),"".concat(r,"px")),i.floating[t]>r)){o.floating.style.setProperty(t,"".concat(r,"px"));var n="width"===t?"x":"y";o.floating.style.getPropertyValue("overflow-".concat(n))||o.floating.style.setProperty("overflow-".concat(n),"auto")}},s=e.applyMaxWidth,l=e.applyMaxHeight;a(s,"width",n),a(l,"height",r)}}))}function Mn(e){var t=e.split("-");return{side:t[0],alignment:t[1]}}function Nn(e){return(Nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ln(e){return e?"number"==typeof e||"object"===Nn(e)?e:function(t){var r=t.rects,n=r.floating,o=r.reference,i=function(e){var t=Mn(e),r=t.side,n=t.alignment,o=function(){return{top:"above",bottom:"below",right:"after",left:"before"}}()[r];return{position:o,alignment:n&&function(e){return"above"===e||"below"===e?{start:"start",end:"end"}:{start:"top",end:"bottom"}}(o)[n]}}(t.placement),a=i.position,s=i.alignment;return e({positionedRect:n,targetRect:o,position:a,alignment:s})}:e}function Fn(e){return function(e){return void 0===e&&(e=0),{name:"offset",options:e,fn:function(t){return dn(on().mark((function r(){var n,o,i;return on().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.x,o=t.y,r.next=3,On(t,e);case 3:return i=r.sent,r.abrupt("return",{x:n+i.x,y:o+i.y,data:i});case 5:case"end":return r.stop()}}),r)})))()}}}(Ln(e))}function zn(){return{name:"coverTarget",fn:function(e){var t=e.placement,r=e.rects,n={x:e.x,y:e.y};switch(Mn(t).side){case"bottom":n.y-=r.reference.height;break;case"top":n.y+=r.reference.height;break;case"left":n.x+=r.reference.width;break;case"right":n.x-=r.reference.width}return n}}}function Hn(e){return(Hn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Un(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Wn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Un(Object(r),!0).forEach((function(t){qn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Un(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function qn(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Hn(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Hn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Hn(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vn(e){var t=e.hasScrollableElement,r=e.flipBoundary,n=e.container,o=e.fallbackPositions,i=void 0===o?[]:o,a=e.isRtl,s=i.reduce((function(e,t){var r=Sr(t),n=r.position,o=r.align,i=Pn(o,n,a);return i&&e.push(i),e}),[]);return function(e){return void 0===e&&(e={}),{name:"flip",options:e,fn:function(t){return dn(on().mark((function r(){var n,o,i,a,s,l,c,u,d,p,f,h,m,y,b,v,g,O,w,x,C,S,T,j,k,P,E,_,I,R,A,D,B,M,N,L,F;return on().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i=t.placement,a=t.middlewareData,s=t.rects,l=t.initialPlacement,c=t.platform,u=t.elements,d=Nr(e,t),p=d.mainAxis,f=void 0===p||p,h=d.crossAxis,m=void 0===h||h,y=d.fallbackPlacements,b=d.fallbackStrategy,v=void 0===b?"bestFit":b,g=d.fallbackAxisSideDirection,O=void 0===g?"none":g,w=d.flipAlignment,x=void 0===w||w,C=tn(d,Jr),null==(n=a.arrow)||!n.alignmentOffset){r.next=4;break}return r.abrupt("return",{});case 4:return S=Lr(i),T=Lr(l)===l,r.next=8,null==c.isRTL?void 0:c.isRTL(u.floating);case 8:return j=r.sent,k=y||(T||!x?[Qr(l)]:Vr(l)),y||"none"===O||k.push.apply(k,rn(Gr(l,x,O,j))),P=[l].concat(rn(k)),r.next=14,hn(t,C);case 14:if(E=r.sent,_=[],I=(null==(o=a.flip)?void 0:o.overflows)||[],f&&_.push(E[S]),m&&(R=qr(i,s,j),_.push(E[R[0]],E[R[1]])),I=[].concat(rn(I),[{placement:i,overflows:_}]),_.every((function(e){return e<=0}))){r.next=37;break}if(B=((null==(A=a.flip)?void 0:A.index)||0)+1,!(M=P[B])){r.next=25;break}return r.abrupt("return",{data:{index:B,overflows:I},reset:{placement:M}});case 25:if(N=null==(D=I.filter((function(e){return e.overflows[0]<=0})).sort((function(e,t){return e.overflows[1]-t.overflows[1]}))[0])?void 0:D.placement){r.next=35;break}r.t0=v,r.next="bestFit"===r.t0?30:"initialPlacement"===r.t0?33:35;break;case 30:return(F=null==(L=I.map((function(e){return[e.placement,e.overflows.filter((function(e){return e>0})).reduce((function(e,t){return e+t}),0)]})).sort((function(e,t){return e[1]-t[1]}))[0])?void 0:L[0])&&(N=F),r.abrupt("break",35);case 33:return N=l,r.abrupt("break",35);case 35:if(i===N){r.next=37;break}return r.abrupt("return",{reset:{placement:N}});case 37:return r.abrupt("return",{});case 38:case"end":return r.stop()}}),r)})))()}}}(Wn(Wn(Wn({},t&&{boundary:"clippingAncestors"}),r&&{altBoundary:!0,boundary:En(n,r)}),{},{fallbackStrategy:"bestFit"},s.length&&{fallbackPlacements:s}))}var Kn=["start","end"];function Gn(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function Qn(e,t){if("number"==typeof e)return e;e.start,e.end;var r=Gn(e,Kn),n=t?"end":"start",o=t?"start":"end";return e[n]&&(r.left=e[n]),e[o]&&(r.right=e[o]),r}function Yn(e){return(Yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Jn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$n(Object(r),!0).forEach((function(t){Xn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Xn(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Yn(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Yn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Yn(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zn(e){var t=e.hasScrollableElement,r=e.disableTether,n=e.overflowBoundary,o=e.container,i=e.overflowBoundaryPadding,a=e.isRtl;return function(e){return void 0===e&&(e={}),{name:"shift",options:e,fn:function(t){return dn(on().mark((function r(){var n,o,i,a,s,l,c,u,d,p,f,h,m,y,b,v,g,O,w,x,C,S,T,j,k;return on().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=t.x,i=t.y,a=t.placement,s=Nr(e,t),l=s.mainAxis,c=void 0===l||l,u=s.crossAxis,d=void 0!==u&&u,p=s.limiter,f=void 0===p?{fn:function(e){return{x:e.x,y:e.y}}}:p,h=tn(s,Zr),m={x:o,y:i},r.next=5,hn(t,h);case 5:return y=r.sent,b=Ur(Lr(a)),v=zr(b),g=m[v],O=m[b],c&&(w="y"===v?"bottom":"right",x=g+y["y"===v?"top":"left"],C=g-y[w],g=Mr(x,g,C)),d&&(S="y"===b?"bottom":"right",T=O+y["y"===b?"top":"left"],j=O-y[S],O=Mr(T,O,j)),k=f.fn(ln(ln({},t),{},(cn(n={},v,g),cn(n,b,O),n))),r.abrupt("return",ln(ln({},k),{},{data:{x:k.x-o,y:k.y-i}}));case 14:case"end":return r.stop()}}),r)})))()}}}(Jn(Jn(Jn(Jn({},t&&{boundary:"clippingAncestors"}),r&&{crossAxis:"all"===r,limiter:xn({crossAxis:"all"!==r,mainAxis:!1})}),i&&{padding:Qn(i,a)}),n&&{altBoundary:!0,boundary:En(o,n)}))}function eo(e){return(eo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function to(){to=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var i=t&&t.prototype instanceof y?t:y,a=Object.create(i.prototype),s=new E(n||[]);return o(a,"_invoke",{value:T(e,r,s)}),a}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var p="suspendedStart",f="executing",h="completed",m={};function y(){}function b(){}function v(){}var g={};c(g,a,(function(){return this}));var O=Object.getPrototypeOf,w=O&&O(O(_([])));w&&w!==r&&n.call(w,a)&&(g=w);var x=v.prototype=y.prototype=Object.create(g);function C(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function r(o,i,a,s){var l=d(e[o],e,i);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==eo(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return r("throw",e,a,s)}))}s(l.arg)}var i;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return i=i?i.then(o,o):o()}})}function T(t,r,n){var o=p;return function(i,a){if(o===f)throw new Error("Generator is already running");if(o===h){if("throw"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var l=j(s,n);if(l){if(l===m)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=f;var c=d(t,r,n);if("normal"===c.type){if(o=n.done?h:"suspendedYield",c.arg===m)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=h,n.method="throw",n.arg=c.arg)}}}function j(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,j(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var i=d(o,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,m;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function _(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(eo(t)+" is not iterable")}return b.prototype=v,o(x,"constructor",{value:v,configurable:!0}),o(v,"constructor",{value:b,configurable:!0}),b.displayName=c(v,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,c(e,l,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},C(S.prototype),c(S.prototype,s,(function(){return this})),t.AsyncIterator=S,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new S(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},C(x),c(x,l,"Generator"),c(x,a,(function(){return this})),c(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=_,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;P(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:_(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}function ro(e,t,r,n,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,o)}function no(){return{name:"intersectionObserver",fn:function(){var e=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){ro(i,n,o,a,s,"next",e)}function s(e){ro(i,n,o,a,s,"throw",e)}a(void 0)}))}}(to().mark((function e(t){var r,n,o,i,a;return to().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.rects.floating,e.next=3,hn(t,{altBoundary:!0});case 3:return n=e.sent,o=n.top<r.height&&n.top>0,i=n.bottom<r.height&&n.bottom>0,a=o||i,e.abrupt("return",{data:{intersecting:a}});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}function oo(e){return so(e)?(e.nodeName||"").toLowerCase():"#document"}function io(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function ao(e){var t;return null==(t=(so(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function so(e){return e instanceof Node||e instanceof io(e).Node}function lo(e){return e instanceof Element||e instanceof io(e).Element}function co(e){return e instanceof HTMLElement||e instanceof io(e).HTMLElement}function uo(e){return"undefined"!=typeof ShadowRoot&&(e instanceof ShadowRoot||e instanceof io(e).ShadowRoot)}function po(e){var t=bo(e),r=t.overflow,n=t.overflowX,o=t.overflowY,i=t.display;return/auto|scroll|overlay|hidden|clip/.test(r+o+n)&&!["inline","contents"].includes(i)}function fo(e){return["table","td","th"].includes(oo(e))}function ho(e){var t=mo(),r=bo(e);return"none"!==r.transform||"none"!==r.perspective||!!r.containerType&&"normal"!==r.containerType||!t&&!!r.backdropFilter&&"none"!==r.backdropFilter||!t&&!!r.filter&&"none"!==r.filter||["transform","perspective","filter"].some((function(e){return(r.willChange||"").includes(e)}))||["paint","layout","strict","content"].some((function(e){return(r.contain||"").includes(e)}))}function mo(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function yo(e){return["html","body","#document"].includes(oo(e))}function bo(e){return io(e).getComputedStyle(e)}function vo(e){return lo(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function go(e){if("html"===oo(e))return e;var t=e.assignedSlot||e.parentNode||uo(e)&&e.host||ao(e);return uo(t)?t.host:t}function Oo(e,t,r){var n;void 0===t&&(t=[]),void 0===r&&(r=!0);var o=function e(t){var r=go(t);return yo(r)?t.ownerDocument?t.ownerDocument.body:t.body:co(r)&&po(r)?r:e(r)}(e),i=o===(null==(n=e.ownerDocument)?void 0:n.body),a=io(o);return i?t.concat(a,a.visualViewport||[],po(o)?o:[],a.frameElement&&r?Oo(a.frameElement):[]):t.concat(o,Oo(o,[],r))}function wo(e){return(wo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xo(){xo=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var i=t&&t.prototype instanceof y?t:y,a=Object.create(i.prototype),s=new E(n||[]);return o(a,"_invoke",{value:T(e,r,s)}),a}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var p="suspendedStart",f="executing",h="completed",m={};function y(){}function b(){}function v(){}var g={};c(g,a,(function(){return this}));var O=Object.getPrototypeOf,w=O&&O(O(_([])));w&&w!==r&&n.call(w,a)&&(g=w);var x=v.prototype=y.prototype=Object.create(g);function C(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function r(o,i,a,s){var l=d(e[o],e,i);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==wo(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return r("throw",e,a,s)}))}s(l.arg)}var i;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return i=i?i.then(o,o):o()}})}function T(t,r,n){var o=p;return function(i,a){if(o===f)throw new Error("Generator is already running");if(o===h){if("throw"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var l=j(s,n);if(l){if(l===m)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=f;var c=d(t,r,n);if("normal"===c.type){if(o=n.done?h:"suspendedYield",c.arg===m)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=h,n.method="throw",n.arg=c.arg)}}}function j(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,j(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var i=d(o,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,m;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function _(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(wo(t)+" is not iterable")}return b.prototype=v,o(x,"constructor",{value:v,configurable:!0}),o(v,"constructor",{value:b,configurable:!0}),b.displayName=c(v,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,c(e,l,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},C(S.prototype),c(S.prototype,s,(function(){return this})),t.AsyncIterator=S,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new S(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},C(x),c(x,l,"Generator"),c(x,a,(function(){return this})),c(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=_,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;P(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:_(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}function Co(e,t,r,n,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,o)}function So(e){return function(e){if(Array.isArray(e))return jo(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||To(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function To(e,t){if(e){if("string"==typeof e)return jo(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?jo(e,t):void 0}}function jo(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ko(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Po(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ko(Object(r),!0).forEach((function(t){Eo(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ko(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Eo(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==wo(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==wo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===wo(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _o(e){var t=bo(e),r=parseFloat(t.width)||0,n=parseFloat(t.height)||0,o=co(e),i=o?e.offsetWidth:r,a=o?e.offsetHeight:n,s=Rr(r)!==i||Rr(n)!==a;return s&&(r=i,n=a),{width:r,height:n,$:s}}function Io(e){return lo(e)?e:e.contextElement}function Ro(e){var t=Io(e);if(!co(t))return Ar(1);var r=t.getBoundingClientRect(),n=_o(t),o=n.width,i=n.height,a=n.$,s=(a?Rr(r.width):r.width)/o,l=(a?Rr(r.height):r.height)/i;return s&&Number.isFinite(s)||(s=1),l&&Number.isFinite(l)||(l=1),{x:s,y:l}}var Ao=Ar(0);function Do(e){var t=io(e);return mo()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:Ao}function Bo(e,t,r,n){void 0===t&&(t=!1),void 0===r&&(r=!1);var o=e.getBoundingClientRect(),i=Io(e),a=Ar(1);t&&(n?lo(n)&&(a=Ro(n)):a=Ro(e));var s=function(e,t,r){return void 0===t&&(t=!1),!(!r||t&&r!==io(e))&&t}(i,r,n)?Do(i):Ar(0),l=(o.left+s.x)/a.x,c=(o.top+s.y)/a.y,u=o.width/a.x,d=o.height/a.y;if(i)for(var p=io(i),f=n&&lo(n)?io(n):n,h=p.frameElement;h&&n&&f!==p;){var m=Ro(h),y=h.getBoundingClientRect(),b=bo(h),v=y.left+(h.clientLeft+parseFloat(b.paddingLeft))*m.x,g=y.top+(h.clientTop+parseFloat(b.paddingTop))*m.y;l*=m.x,c*=m.y,u*=m.x,d*=m.y,l+=v,c+=g,h=io(h).frameElement}return $r({width:u,height:d,x:l,y:c})}function Mo(e){return Bo(ao(e)).left+vo(e).scrollLeft}function No(e,t,r){var n;if("viewport"===t)n=function(e,t){var r=io(e),n=ao(e),o=r.visualViewport,i=n.clientWidth,a=n.clientHeight,s=0,l=0;if(o){i=o.width,a=o.height;var c=mo();(!c||c&&"fixed"===t)&&(s=o.offsetLeft,l=o.offsetTop)}return{width:i,height:a,x:s,y:l}}(e,r);else if("document"===t)n=function(e){var t=ao(e),r=vo(e),n=e.ownerDocument.body,o=Ir(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=Ir(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight),a=-r.scrollLeft+Mo(e),s=-r.scrollTop;return"rtl"===bo(n).direction&&(a+=Ir(t.clientWidth,n.clientWidth)-o),{width:o,height:i,x:a,y:s}}(ao(e));else if(lo(t))n=function(e,t){var r=Bo(e,!0,"fixed"===t),n=r.top+e.clientTop,o=r.left+e.clientLeft,i=co(e)?Ro(e):Ar(1);return{width:e.clientWidth*i.x,height:e.clientHeight*i.y,x:o*i.x,y:n*i.y}}(t,r);else{var o=Do(e);n=Po(Po({},t),{},{x:t.x-o.x,y:t.y-o.y})}return $r(n)}function Lo(e,t){var r=go(e);return!(r===t||!lo(r)||yo(r))&&("fixed"===bo(r).position||Lo(r,t))}function Fo(e,t,r){var n=co(t),o=ao(t),i="fixed"===r,a=Bo(e,!0,i,t),s={scrollLeft:0,scrollTop:0},l=Ar(0);if(n||!n&&!i)if(("body"!==oo(t)||po(o))&&(s=vo(t)),n){var c=Bo(t,!0,i,t);l.x=c.x+t.clientLeft,l.y=c.y+t.clientTop}else o&&(l.x=Mo(o));return{x:a.left+s.scrollLeft-l.x,y:a.top+s.scrollTop-l.y,width:a.width,height:a.height}}function zo(e,t){return co(e)&&"fixed"!==bo(e).position?t?t(e):e.offsetParent:null}function Ho(e,t){var r=io(e);if(!co(e))return r;for(var n=zo(e,t);n&&fo(n)&&"static"===bo(n).position;)n=zo(n,t);return n&&("html"===oo(n)||"body"===oo(n)&&"static"===bo(n).position&&!ho(n))?r:n||function(e){for(var t=go(e);co(t)&&!yo(t);){if(ho(t))return t;t=go(t)}return null}(e)||r}var Uo={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){var t=e.rect,r=e.offsetParent,n=e.strategy,o=co(r),i=ao(r);if(r===i)return t;var a={scrollLeft:0,scrollTop:0},s=Ar(1),l=Ar(0);if((o||!o&&"fixed"!==n)&&(("body"!==oo(r)||po(i))&&(a=vo(r)),co(r))){var c=Bo(r);s=Ro(r),l.x=c.x+r.clientLeft,l.y=c.y+r.clientTop}return{width:t.width*s.x,height:t.height*s.y,x:t.x*s.x-a.scrollLeft*s.x+l.x,y:t.y*s.y-a.scrollTop*s.y+l.y}},getDocumentElement:ao,getClippingRect:function(e){var t=e.element,r=e.boundary,n=e.rootBoundary,o=e.strategy,i="clippingAncestors"===r?function(e,t){var r=t.get(e);if(r)return r;for(var n=Oo(e,[],!1).filter((function(e){return lo(e)&&"body"!==oo(e)})),o=null,i="fixed"===bo(e).position,a=i?go(e):e;lo(a)&&!yo(a);){var s=bo(a),l=ho(a);l||"fixed"!==s.position||(o=null),(i?!l&&!o:!l&&"static"===s.position&&!!o&&["absolute","fixed"].includes(o.position)||po(a)&&!l&&Lo(e,a))?n=n.filter((function(e){return e!==a})):o=s,a=go(a)}return t.set(e,n),n}(t,this._c):[].concat(r),a=[].concat(So(i),[n]),s=a[0],l=a.reduce((function(e,r){var n=No(t,r,o);return e.top=Ir(n.top,e.top),e.right=_r(n.right,e.right),e.bottom=_r(n.bottom,e.bottom),e.left=Ir(n.left,e.left),e}),No(t,s,o));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}},getOffsetParent:Ho,getElementRects:function(){var e=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Co(i,n,o,a,s,"next",e)}function s(e){Co(i,n,o,a,s,"throw",e)}a(void 0)}))}}(xo().mark((function e(t){var r,n,o,i,a;return xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.reference,n=t.floating,o=t.strategy,i=this.getOffsetParent||Ho,a=this.getDimensions,e.t0=Fo,e.t1=r,e.next=7,i(n);case 7:return e.t2=e.sent,e.t3=o,e.t4=(0,e.t0)(e.t1,e.t2,e.t3),e.t5=Po,e.t6={x:0,y:0},e.next=14,a(n);case 14:return e.t7=e.sent,e.t8=(0,e.t5)(e.t6,e.t7),e.abrupt("return",{reference:e.t4,floating:e.t8});case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){return _o(e)},getScale:Ro,isElement:lo,isRTL:function(e){return"rtl"===bo(e).direction}};var Wo=r(965);function qo(e){for(var t=[],r=e;r;){var n=kn(r);if(e.ownerDocument.body===n){t.push(n);break}t.push(n),r=n}return t}function Vo(e){var t=e.container,r=e.target,n=e.arrow,o=e.strategy,i=e.middleware,a=e.placement,s=e.useTransform,l=void 0===s||s,c=!1;if(!r||!t)return{updatePosition:function(){},dispose:function(){}};var u=!0,d=new Set,p=t.ownerDocument.defaultView;Object.assign(t.style,{position:"fixed",left:0,top:0,margin:0});var f=function(){c||(u&&(qo(t).forEach((function(e){return d.add(e)})),Object(Wo.a)(r)&&qo(r).forEach((function(e){return d.add(e)})),d.forEach((function(e){e.addEventListener("scroll",h,{passive:!0})})),u=!1),Object.assign(t.style,{position:o}),function(e,t,r){var n=new Map,o=Po({platform:Uo},r),i=Po(Po({},o.platform),{},{_c:n});return fn(e,t,Po(Po({},o),{},{platform:i}))}(r,t,{placement:a,middleware:i,strategy:o}).then((function(e){var r=e.x,i=e.y,a=e.middlewareData,s=e.placement;c||(function(e){var t=e.arrow,r=e.middlewareData;if(r.arrow&&t){var n=r.arrow,o=n.x,i=n.y;Object.assign(t.style,{left:"".concat(o,"px"),top:"".concat(i,"px")})}}({arrow:n,middlewareData:a}),function(e){var t,r,n,o=e.container,i=e.placement,a=e.middlewareData,s=e.strategy,l=e.lowPPI,c=e.coordinates,u=e.useTransform,d=void 0===u||u;if(o){o.setAttribute("data-popper-placement",i),o.removeAttribute("data-popper-is-intersecting"),a.intersectionObserver.intersecting&&o.setAttribute("data-popper-is-intersecting",""),o.removeAttribute("data-popper-escaped"),(null===(t=a.hide)||void 0===t?void 0:t.escaped)&&o.setAttribute("data-popper-escaped",""),o.removeAttribute("data-popper-reference-hidden"),(null===(r=a.hide)||void 0===r?void 0:r.referenceHidden)&&o.setAttribute("data-popper-reference-hidden","");var p=(null===(n=o.ownerDocument.defaultView)||void 0===n?void 0:n.devicePixelRatio)||1,f=Math.round(c.x*p)/p,h=Math.round(c.y*p)/p;Object.assign(o.style,{position:s}),d?Object.assign(o.style,{transform:l?"translate(".concat(f,"px, ").concat(h,"px)"):"translate3d(".concat(f,"px, ").concat(h,"px, 0)")}):Object.assign(o.style,{left:"".concat(f,"px"),top:"".concat(h,"px")})}}({container:t,middlewareData:a,placement:s,coordinates:{x:r,y:i},lowPPI:((null==p?void 0:p.devicePixelRatio)||1)<=1,strategy:o,useTransform:l}))})).catch((function(e){0})))},h=function(e){var t;return function(){return t||(t=new Promise((function(r){Promise.resolve().then((function(){t=void 0,r(e())}))}))),t}}((function(){return f()}));return p&&(p.addEventListener("scroll",h,{passive:!0}),p.addEventListener("resize",h)),h(),{updatePosition:h,dispose:function(){c=!0,p&&(p.removeEventListener("scroll",h),p.removeEventListener("resize",h)),d.forEach((function(e){e.removeEventListener("scroll",h)})),d.clear()}}}function Ko(e){return(Ko="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Go(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Qo(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Ko(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Ko(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ko(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yo(e){var t=n.useRef(null),r=n.useRef(null),o=n.useRef(null),i=n.useRef(null),a=n.useRef(null),s=e.enabled,l=void 0===s||s,c=function(e){var t=e.align,r=e.arrowPadding,o=e.autoSize,i=e.coverTarget,a=e.flipBoundary,s=e.offset,l=e.overflowBoundary,c=e.pinned,u=e.position,d=e.unstable_disableTether,p=e.positionFixed,f=e.strategy,h=e.overflowBoundaryPadding,m=e.fallbackPositions,y=e.useTransform,b="rtl"===Object(yt.b)().dir,v=(null!=f?f:p)?"fixed":"absolute",g=function(e){switch(e){case"always":case!0:return{applyMaxWidth:!0,applyMaxHeight:!0};case"width-always":case"width":return{applyMaxWidth:!0,applyMaxHeight:!1};case"height-always":case"height":return{applyMaxWidth:!1,applyMaxHeight:!0};default:return!1}}(o);return n.useCallback((function(e,n){var o=function(e){var t,r=kn(e);return!!r&&r!==(null===(t=r.ownerDocument)||void 0===t?void 0:t.body)}(e),p=[g&&Dn(g),s&&Fn(s),i&&zn(),!c&&Vn({container:e,flipBoundary:a,hasScrollableElement:o,isRtl:b,fallbackPositions:m}),Zn({container:e,hasScrollableElement:o,overflowBoundary:l,disableTether:d,overflowBoundaryPadding:h,isRtl:b}),g&&Bn(g,{container:e,overflowBoundary:l}),no(),n&&yn({element:n,padding:r}),gn({strategy:"referenceHidden"}),gn({strategy:"escaped"})].filter(Boolean);return{placement:Pn(t,u,b),middleware:p,strategy:v,useTransform:y}}),[t,r,g,i,d,a,b,s,l,c,u,v,h,m,y])}(e),u=n.useCallback((function(){var e;t.current&&t.current.dispose(),t.current=null;var n=null!==(e=o.current)&&void 0!==e?e:r.current;l&&Object(Cn.a)()&&n&&i.current&&(t.current=Vo(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Go(Object(r),!0).forEach((function(t){Qo(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Go(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({container:i.current,target:n,arrow:a.current},c(i.current,a.current))))}),[l,c]),d=mt((function(e){o.current=e,u()}));return n.useImperativeHandle(e.positioningRef,(function(){return{updatePosition:function(){var e;return null===(e=t.current)||void 0===e?void 0:e.updatePosition()},setTarget:function(t){e.target,d(t)}}}),[e.target,d]),Object(rt.a)((function(){var t;d(null!==(t=e.target)&&void 0!==t?t:null)}),[e.target,d]),Object(rt.a)((function(){u()}),[u]),{targetRef:jn(null,(function(e){r.current!==e&&(r.current=e,u())})),containerRef:jn(null,(function(e){i.current!==e&&(i.current=e,u())})),arrowRef:jn(null,(function(e){a.current!==e&&(a.current=e,u())}))}}var $o=r(1002);function Jo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Xo(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xo(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Zo=function(e){var t=Jo(n.useState((function(){return void 0===e.defaultState?e.initialState:function(e){return"function"==typeof e}(e.defaultState)?e.defaultState():e.defaultState})),2),r=t[0],o=t[1],i=n.useRef(e.state);n.useEffect((function(){i.current=e.state}),[e.state]);var a=n.useCallback((function(e){(function(e){return"function"==typeof e})(e)&&e(i.current)}),[]);return ei(e.state)?[e.state,a]:[r,o]};var ei=function(e){return Jo(n.useState((function(){return void 0!==e})),1)[0]};function ti(e){return(ti="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var ri=function(e,t){return!!(null==e?void 0:e.contains(t))},ni=function(e){var t,r,n;if(e)return"object"===ti(e.window)&&e.window===e?e.event:null!==(n=null===(r=e.ownerDocument)||void 0===r||null===(t=r.defaultView)||void 0===t?void 0:t.event)&&void 0!==n?n:void 0},oi=function(e){var t=e.disabled,r=e.element,o=e.callback,i=e.contains,a=void 0===i?ri:i,s=e.pollDuration,l=void 0===s?1e3:s,c=e.refs,u=n.useRef(),d=mt((function(e){c.every((function(t){return!a(t.current||null,e.target)}))&&!t&&o(e)}));n.useEffect((function(){if(!t)return null==r||r.addEventListener("fuiframefocus",d,!0),function(){null==r||r.removeEventListener("fuiframefocus",d,!0)}}),[r,t,d]),n.useEffect((function(){var e;if(!t)return u.current=null==r||null===(e=r.defaultView)||void 0===e?void 0:e.setInterval((function(){var e=null==r?void 0:r.activeElement;if("IFRAME"===(null==e?void 0:e.tagName)||"WEBVIEW"===(null==e?void 0:e.tagName)){var t=new CustomEvent("fuiframefocus",{bubbles:!0});e.dispatchEvent(t)}}),l),function(){var e;null==r||null===(e=r.defaultView)||void 0===e||e.clearTimeout(u.current)}}),[r,t,l])};function ii(e){return function(e){return e&&!!e._virtual}(e)&&e._virtual.parent||null}function ai(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return null;if(!t.skipVirtual){var r=ii(e);if(r)return r}return(null==e?void 0:e.parentNode)||null}function si(e,t){if(!e||!t)return!1;if(e===t)return!0;for(var r=new WeakSet;t;){var n=ai(t,{skipVirtual:r.has(t)});if(r.add(t),n===e)return!0;t=n}return!1}var li=r(395);function ci(){return(ci="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=ui(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}}).apply(this,arguments)}function ui(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=gi(e)););return e}function di(){di=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var i=t&&t.prototype instanceof y?t:y,a=Object.create(i.prototype),s=new E(n||[]);return o(a,"_invoke",{value:T(e,r,s)}),a}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var p="suspendedStart",f="executing",h="completed",m={};function y(){}function b(){}function v(){}var g={};c(g,a,(function(){return this}));var O=Object.getPrototypeOf,w=O&&O(O(_([])));w&&w!==r&&n.call(w,a)&&(g=w);var x=v.prototype=y.prototype=Object.create(g);function C(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function r(o,i,a,s){var l=d(e[o],e,i);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==_i(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return r("throw",e,a,s)}))}s(l.arg)}var i;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return i=i?i.then(o,o):o()}})}function T(t,r,n){var o=p;return function(i,a){if(o===f)throw new Error("Generator is already running");if(o===h){if("throw"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var l=j(s,n);if(l){if(l===m)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=f;var c=d(t,r,n);if("normal"===c.type){if(o=n.done?h:"suspendedYield",c.arg===m)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=h,n.method="throw",n.arg=c.arg)}}}function j(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,j(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var i=d(o,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,m;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function _(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(_i(t)+" is not iterable")}return b.prototype=v,o(x,"constructor",{value:v,configurable:!0}),o(v,"constructor",{value:b,configurable:!0}),b.displayName=c(v,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,c(e,l,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},C(S.prototype),c(S.prototype,s,(function(){return this})),t.AsyncIterator=S,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new S(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},C(x),c(x,l,"Generator"),c(x,a,(function(){return this})),c(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=_,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;P(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:_(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}function pi(e,t,r,n,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,o)}function fi(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){pi(i,n,o,a,s,"next",e)}function s(e){pi(i,n,o,a,s,"throw",e)}a(void 0)}))}}function hi(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mi(e,t)}function mi(e,t){return(mi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function yi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=gi(e);if(t){var o=gi(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return bi(this,r)}}function bi(e,t){if(t&&("object"===_i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return vi(e)}function vi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gi(e){return(gi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Oi(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=wi(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function wi(e,t){if(e){if("string"==typeof e)return xi(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?xi(e,t):void 0}}function xi(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ci(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Si(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ci(Object(r),!0).forEach((function(t){Ti(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ci(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ti(e,t,r){return(t=Pi(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ji(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Pi(n.key),n)}}function ki(e,t,r){return t&&ji(e.prototype,t),r&&ji(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Pi(e){var t=function(e,t){if("object"!==_i(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==_i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===_i(t)?t:String(t)}function Ei(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _i(e){return(_i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Ii,Ri={Any:0,Accessible:1,Focusable:2},Ai={History:0,DeloserDefault:1,RootDefault:2,DeloserFirst:3,RootFirst:4},Di={Invisible:0,PartiallyVisible:1,Visible:2},Bi={Source:0,Target:1},Mi={Both:0,Vertical:1,Horizontal:2,Grid:3,GridLinear:4},Ni={Unlimited:0,Limited:1,LimitedTrapFocus:2},Li={Auto:0,Inside:1,Outside:2},Fi=Object.freeze({__proto__:null,TabsterAttributeName:"data-tabster",TabsterDummyInputAttributeName:"data-tabster-dummy",DeloserEventName:"tabster:deloser",ModalizerActiveEventName:"tabster:modalizer:active",ModalizerInactiveEventName:"tabster:modalizer:inactive",ModalizerFocusInEventName:"tabster:modalizer:focusin",ModalizerFocusOutEventName:"tabster:modalizer:focusout",ModalizerBeforeFocusOutEventName:"tabster:modalizer:beforefocusout",MoverEventName:"tabster:mover",FocusInEventName:"tabster:focusin",FocusOutEventName:"tabster:focusout",ObservedElementAccesibilities:Ri,RestoreFocusOrders:Ai,Visibilities:Di,RestorerTypes:Bi,MoverDirections:Mi,GroupperTabbabilities:Ni,SysDummyInputsPositions:Li});function zi(e,t){var r;return null===(r=e.storageEntry(t))||void 0===r?void 0:r.tabster}function Hi(e,t,r){var n,o,i,a=r||e._noop?void 0:t.getAttribute("data-tabster"),s=e.storageEntry(t);if(a){if(a===(null===(n=null==s?void 0:s.attr)||void 0===n?void 0:n.string))return;try{var l=JSON.parse(a);if("object"!==_i(l))throw new Error("Value is not a JSON object, got '".concat(a,"'."));i={string:a,object:l}}catch(e){0}}else if(!s)return;s||(s=e.storageEntry(t,!0)),s.tabster||(s.tabster={});for(var c=s.tabster||{},u=(null===(o=s.attr)||void 0===o?void 0:o.object)||{},d=(null==i?void 0:i.object)||{},p=0,f=Object.keys(u);p<f.length;p++){var h=f[p];if(!d[h]){if("root"===h){var m=c[h];m&&e.root.onRoot(m,!0)}switch(h){case"deloser":case"root":case"groupper":case"modalizer":case"restorer":case"mover":var y=c[h];y&&(y.dispose(),delete c[h]);break;case"observed":delete c[h],e.observedElement&&e.observedElement.onObservedElementUpdate(t);break;case"focusable":case"outline":case"uncontrolled":case"sys":delete c[h]}}}for(var b=0,v=Object.keys(d);b<v.length;b++){var g=v[b],O=d.sys;switch(g){case"deloser":c.deloser?c.deloser.setProps(d.deloser):e.deloser&&(c.deloser=e.deloser.createDeloser(t,d.deloser));break;case"root":c.root?c.root.setProps(d.root):c.root=e.root.createRoot(t,d.root,O),e.root.onRoot(c.root);break;case"modalizer":c.modalizer?c.modalizer.setProps(d.modalizer):e.modalizer&&(c.modalizer=e.modalizer.createModalizer(t,d.modalizer,O));break;case"restorer":c.restorer?c.restorer.setProps(d.restorer):e.restorer&&d.restorer&&(c.restorer=e.restorer.createRestorer(t,d.restorer));break;case"focusable":c.focusable=d.focusable;break;case"groupper":c.groupper?c.groupper.setProps(d.groupper):e.groupper&&(c.groupper=e.groupper.createGroupper(t,d.groupper,O));break;case"mover":c.mover?c.mover.setProps(d.mover):e.mover&&(c.mover=e.mover.createMover(t,d.mover,O));break;case"observed":e.observedElement&&(c.observed=d.observed,e.observedElement.onObservedElementUpdate(t));break;case"uncontrolled":c.uncontrolled=d.uncontrolled;break;case"outline":e.outline&&(c.outline=d.outline);break;case"sys":c.sys=d.sys;break;default:console.error("Unknown key '".concat(g,"' in data-tabster attribute value."))}}i?s.attr=i:(0===Object.keys(c).length&&(delete s.tabster,delete s.attr),e.storageEntry(t,!1))}var Ui="undefined"!=typeof DOMRect?DOMRect:function(){return ki((function e(t,r,n,o){Ei(this,e),this.left=t||0,this.top=r||0,this.right=(t||0)+(n||0),this.bottom=(r||0)+(o||0)}))}(),Wi=0;try{document.createTreeWalker(document,NodeFilter.SHOW_ELEMENT),Ii=!1}catch(e){Ii=!0}function qi(e){var t=e(),r=t.__tabsterInstanceContext;return r||(r={elementByUId:{},basics:{Promise:t.Promise||void 0,WeakRef:t.WeakRef||void 0},containerBoundingRectCache:{},lastContainerBoundingRectCacheId:0,fakeWeakRefs:[],fakeWeakRefsStarted:!1},t.__tabsterInstanceContext=r),r}var Vi=function(){function e(t){Ei(this,e),this._target=t}return ki(e,[{key:"deref",value:function(){return this._target}}],[{key:"cleanup",value:function(e,t){return!e._target||!(!t&&na(e._target.ownerDocument,e._target))&&(delete e._target,!0)}}]),e}(),Ki=function(){function e(t,r,n){Ei(this,e);var o,i=qi(t);i.WeakRef?o=new i.WeakRef(r):(o=new Vi(r),i.fakeWeakRefs.push(o)),this._ref=o,this._data=n}return ki(e,[{key:"get",value:function(){var e,t=this._ref;return t&&((e=t.deref())||delete this._ref),e}},{key:"getData",value:function(){return this._data}}]),e}();function Gi(e,t){var r=qi(e);r.fakeWeakRefs=r.fakeWeakRefs.filter((function(e){return!Vi.cleanup(e,t)}))}function Qi(e,t,r){if(t.nodeType===Node.ELEMENT_NODE){var n=Ii?r:{acceptNode:r};return e.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,n,!1)}}function Yi(e,t){var r=t.__tabsterCacheId,n=qi(e),o=r?n.containerBoundingRectCache[r]:void 0;if(o)return o.rect;var i=t.ownerDocument&&t.ownerDocument.documentElement;if(!i)return new Ui;var a=0,s=0,l=i.clientWidth,c=i.clientHeight;if(t!==i){var u=t.getBoundingClientRect();a=Math.max(a,u.left),s=Math.max(s,u.top),l=Math.min(l,u.right),c=Math.min(c,u.bottom)}var d=new Ui(a<l?a:-1,s<c?s:-1,a<l?l-a:0,s<c?c-s:0);return r||(r="r-"+ ++n.lastContainerBoundingRectCacheId,t.__tabsterCacheId=r),n.containerBoundingRectCache[r]={rect:d,element:t},n.containerBoundingRectCacheTimer||(n.containerBoundingRectCacheTimer=window.setTimeout((function(){n.containerBoundingRectCacheTimer=void 0;for(var e=0,t=Object.keys(n.containerBoundingRectCache);e<t.length;e++){var r=t[e];delete n.containerBoundingRectCache[r].element.__tabsterCacheId}n.containerBoundingRectCache={}}),50)),d}function $i(e,t,r){var n=Xi(t);if(!n)return!1;var o=Yi(e,n),i=t.getBoundingClientRect(),a=i.height*(1-r),s=Math.max(0,o.top-i.top)+Math.max(0,i.bottom-o.bottom);return 0===s||s<=a}function Ji(e,t,r){var n=Xi(t);if(n){var o=Yi(e,n),i=t.getBoundingClientRect();n.scrollTop+=r?i.top-o.top:i.bottom-o.bottom}}function Xi(e){var t=e.ownerDocument;if(t){for(var r=e.parentElement;r;r=r.parentElement)if(r.scrollWidth>r.clientWidth||r.scrollHeight>r.clientHeight)return r;return t.documentElement}return null}function Zi(e){return!!e.__shouldIgnoreFocus}function ea(e){var t=new Uint32Array(4);if(e.crypto&&e.crypto.getRandomValues)e.crypto.getRandomValues(t);else if(e.msCrypto&&e.msCrypto.getRandomValues)e.msCrypto.getRandomValues(t);else for(var r=0;r<t.length;r++)t[r]=4294967295*Math.random();for(var n=[],o=0;o<t.length;o++)n.push(t[o].toString(36));return n.push("|"),n.push((++Wi).toString(36)),n.push("|"),n.push(Date.now().toString(36)),n.join("")}function ta(e,t){var r=qi(e),n=t.__tabsterElementUID;return n||(n=t.__tabsterElementUID=ea(e())),!r.elementByUId[n]&&na(t.ownerDocument,t)&&(r.elementByUId[n]=new Ki(e,t)),n}function ra(e,t){for(var r=qi(e),n=0,o=Object.keys(r.elementByUId);n<o.length;n++){var i=o[n],a=r.elementByUId[i],s=a&&a.get();s&&t&&!t.contains(s)||delete r.elementByUId[i]}}function na(e,t){var r;return!!(null===(r=null==e?void 0:e.body)||void 0===r?void 0:r.contains(t))}function oa(e,t){var r=e.matches||e.matchesSelector||e.msMatchesSelector||e.webkitMatchesSelector;return r&&r.call(e,t)}function ia(e){var t=qi(e);if(t.basics.Promise)return t.basics.Promise;throw new Error("No Promise defined.")}var aa=0,sa=function(){function e(t,r,n){Ei(this,e);var o=t.getWindow;this._tabster=t,this._element=new Ki(o,r),this._props=Si({},n),this.id="i"+ ++aa}return ki(e,[{key:"getElement",value:function(){return this._element.get()}},{key:"getProps",value:function(){return this._props}},{key:"setProps",value:function(e){this._props=Si({},e)}}]),e}(),la=function(){function e(t,r,n,o){var i,a=this;Ei(this,e),this._focusIn=function(e){var t=a.input;if(a.onFocusIn&&t){var r=da.getLastPhantomFrom()||e.relatedTarget;a.onFocusIn(a,a._isBackward(!0,t,r),r)}},this._focusOut=function(e){a.useDefaultAction=!1;var t=a.input;if(a.onFocusOut&&t){var r=e.relatedTarget;a.onFocusOut(a,a._isBackward(!1,t,r),r)}};var s=t(),l=s.document.createElement("i");l.tabIndex=0,l.setAttribute("role","none"),l.setAttribute("data-tabster-dummy",""),l.setAttribute("aria-hidden","true");var c=l.style;c.position="fixed",c.width=c.height="1px",c.opacity="0.001",c.zIndex="-1",c.setProperty("content-visibility","hidden"),function(e){e.__shouldIgnoreFocus=!0}(l),this.input=l,this.isFirst=n.isFirst,this.isOutside=r,this._isPhantom=null!==(i=n.isPhantom)&&void 0!==i&&i,l.addEventListener("focusin",this._focusIn),l.addEventListener("focusout",this._focusOut),l.__tabsterDummyContainer=o,this._isPhantom&&(this._disposeTimer=s.setTimeout((function(){delete a._disposeTimer,a.dispose()}),0),this._clearDisposeTimeout=function(){a._disposeTimer&&(s.clearTimeout(a._disposeTimer),delete a._disposeTimer),delete a._clearDisposeTimeout})}return ki(e,[{key:"dispose",value:function(){var e;this._clearDisposeTimeout&&this._clearDisposeTimeout();var t=this.input;t&&(delete this.onFocusIn,delete this.onFocusOut,delete this.input,t.removeEventListener("focusin",this._focusIn),t.removeEventListener("focusout",this._focusOut),delete t.__tabsterDummyContainer,null===(e=t.parentElement)||void 0===e||e.removeChild(t))}},{key:"setTopLeft",value:function(e,t){var r,n=null===(r=this.input)||void 0===r?void 0:r.style;n&&(n.top="".concat(e,"px"),n.left="".concat(t,"px"))}},{key:"_isBackward",value:function(e,t,r){return e&&!r?!this.isFirst:!!(r&&t.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_FOLLOWING)}}]),e}(),ca=1,ua=3,da=function(){function e(t,r,n,o,i,a){Ei(this,e),this._element=r,this._instance=new fa(t,r,this,n,o,i,a)}return ki(e,[{key:"_setHandlers",value:function(e,t){this._onFocusIn=e,this._onFocusOut=t}},{key:"moveOut",value:function(e){var t;null===(t=this._instance)||void 0===t||t.moveOut(e)}},{key:"moveOutWithDefaultAction",value:function(e){var t;null===(t=this._instance)||void 0===t||t.moveOutWithDefaultAction(e)}},{key:"getHandler",value:function(e){return e?this._onFocusIn:this._onFocusOut}},{key:"setTabbable",value:function(e){var t;null===(t=this._instance)||void 0===t||t.setTabbable(this,e)}},{key:"dispose",value:function(){this._instance&&(this._instance.dispose(this),delete this._instance),delete this._onFocusIn,delete this._onFocusOut}}],[{key:"getLastPhantomFrom",value:function(){var t=e._lastPhantomFrom;return delete e._lastPhantomFrom,t}},{key:"moveWithPhantomDummy",value:function(t,r,n,o){var i=new la(t.getWindow,!0,{isPhantom:!0,isFirst:!0}).input;if(i){var a=r.parentElement;if(a){var s=n&&!o||!n&&o?r.nextElementSibling:r;if(s)if(o){var l=s.previousElementSibling;l&&l.__tabsterDummyContainer&&(s=l)}else s.__tabsterDummyContainer&&(s=s.nextElementSibling);a.insertBefore(i,s),e._lastPhantomFrom=r,t.getWindow().setTimeout((function(){delete e._lastPhantomFrom}),0),Object(li.d)(i)}}}}]),e}();var pa=function(){function e(t){var r=this;Ei(this,e),this._updateQueue=new Set,this._lastUpdateQueueTime=0,this._changedParents=new WeakSet,this._dummyElements=[],this._dummyCallbacks=new WeakMap,this._domChanged=function(e){var t;r._changedParents.has(e)||(r._changedParents.add(e),r._updateDummyInputsTimer||(r._updateDummyInputsTimer=null===(t=r._win)||void 0===t?void 0:t.call(r).setTimeout((function(){delete r._updateDummyInputsTimer;var e,t=Oi(r._dummyElements);try{for(t.s();!(e=t.n()).done;){var n=e.value.deref();if(n){var o=r._dummyCallbacks.get(n);if(o){var i=n.parentElement;i&&!r._changedParents.has(i)||o()}}}}catch(e){t.e(e)}finally{t.f()}r._changedParents=new WeakSet}),100)))},this._win=t}return ki(e,[{key:"add",value:function(e,t){this._dummyCallbacks.has(e)||(this._dummyElements.push(new WeakRef(e)),this._dummyCallbacks.set(e,t),this.domChanged=this._domChanged)}},{key:"remove",value:function(e){this._dummyElements=this._dummyElements.filter((function(t){var r=t.deref();return r&&r!==e})),this._dummyCallbacks.delete(e),0===this._dummyElements.length&&delete this.domChanged}},{key:"dispose",value:function(){var e,t=null===(e=this._win)||void 0===e?void 0:e.call(this);this._updateTimer&&(null==t||t.clearTimeout(this._updateTimer),delete this._updateTimer),this._updateDummyInputsTimer&&(null==t||t.clearTimeout(this._updateDummyInputsTimer),delete this._updateDummyInputsTimer),this._changedParents=new WeakSet,this._dummyCallbacks=new WeakMap,this._dummyElements=[],this._updateQueue.clear(),delete this.domChanged,delete this._win}},{key:"updatePositions",value:function(e){this._win&&(this._updateQueue.add(e),this._lastUpdateQueueTime=Date.now(),this._scheduledUpdatePositions())}},{key:"_scheduledUpdatePositions",value:function(){var e,t=this;this._updateTimer||(this._updateTimer=null===(e=this._win)||void 0===e?void 0:e.call(this).setTimeout((function(){if(delete t._updateTimer,t._lastUpdateQueueTime+100<=Date.now()){var e,r=new Map,n=[],o=Oi(t._updateQueue);try{for(o.s();!(e=o.n()).done;){var i=e.value;n.push(i(r))}}catch(e){o.e(e)}finally{o.f()}t._updateQueue.clear();for(var a=0,s=n;a<s.length;a++){(0,s[a])()}r.clear()}else t._scheduledUpdatePositions()}),100))}}]),e}(),fa=function(){function e(t,r,n,o,i,a,s){var l=this;Ei(this,e),this._wrappers=[],this._isOutside=!1,this._transformElements=new Set,this._onFocusIn=function(e,t,r){l._onFocus(!0,e,t,r)},this._onFocusOut=function(e,t,r){l._onFocus(!1,e,t,r)},this.moveOut=function(e){var t,r=l._firstDummy,n=l._lastDummy;if(r&&n){l._ensurePosition();var o,i=r.input,a=n.input,s=null===(t=l._element)||void 0===t?void 0:t.get();if(i&&a&&s)e?(i.tabIndex=0,o=i):(a.tabIndex=0,o=a),o&&Object(li.d)(o)}},this.moveOutWithDefaultAction=function(e){var t,r=l._firstDummy,n=l._lastDummy;if(r&&n){l._ensurePosition();var o,i=r.input,a=n.input,s=null===(t=l._element)||void 0===t?void 0:t.get();if(i&&a&&s)e?!r.isOutside&&l._tabster.focusable.isFocusable(s,!0,!0,!0)?o=s:(r.useDefaultAction=!0,i.tabIndex=0,o=i):(n.useDefaultAction=!0,a.tabIndex=0,o=a),o&&Object(li.d)(o)}},this.setTabbable=function(e,t){var r,n,o,i=Oi(l._wrappers);try{for(i.s();!(o=i.n()).done;){var a=o.value;if(a.manager===e){a.tabbable=t;break}}}catch(e){i.e(e)}finally{i.f()}var s=l._getCurrent();if(s){var c=s.tabbable?0:-1,u=null===(r=l._firstDummy)||void 0===r?void 0:r.input;u&&(u.tabIndex=c),(u=null===(n=l._lastDummy)||void 0===n?void 0:n.input)&&(u.tabIndex=c)}},this._addDummyInputs=function(){l._addTimer||(l._addTimer=l._getWindow().setTimeout((function(){delete l._addTimer,l._ensurePosition(),l._addTransformOffsets()}),0))},this._addTransformOffsets=function(){l._tabster._dummyObserver.updatePositions(l._computeTransformOffsets)},this._computeTransformOffsets=function(e){for(var t,r,n=(null===(t=l._firstDummy)||void 0===t?void 0:t.input)||(null===(r=l._lastDummy)||void 0===r?void 0:r.input),o=l._transformElements,i=new Set,a=0,s=0,c=l._getWindow(),u=n;u&&u.nodeType===Node.ELEMENT_NODE;u=u.parentElement){var d=e.get(u);if(void 0===d){var p=c.getComputedStyle(u).transform;p&&"none"!==p&&(d={scrollTop:u.scrollTop,scrollLeft:u.scrollLeft}),e.set(u,d||null)}d&&(i.add(u),o.has(u)||u.addEventListener("scroll",l._addTransformOffsets),a+=d.scrollTop,s+=d.scrollLeft)}var f,h=Oi(o);try{for(h.s();!(f=h.n()).done;){var m=f.value;i.has(m)||m.removeEventListener("scroll",l._addTransformOffsets)}}catch(e){h.e(e)}finally{h.f()}return l._transformElements=i,function(){var e,t;null===(e=l._firstDummy)||void 0===e||e.setTopLeft(a,s),null===(t=l._lastDummy)||void 0===t||t.setTopLeft(a,s)}};var c=r.get();if(!c)throw new Error("No element");this._tabster=t,this._getWindow=t.getWindow,this._callForDefaultAction=s;var u=c.__tabsterDummy;if((u||this)._wrappers.push({manager:n,priority:o,tabbable:!0}),u)return u;c.__tabsterDummy=this;var d=null==i?void 0:i.dummyInputsPosition,p=c.tagName;this._isOutside=d?d===Li.Outside:(a||"UL"===p||"OL"===p||"TABLE"===p)&&!("LI"===p||"TD"===p||"TH"===p),this._firstDummy=new la(this._getWindow,this._isOutside,{isFirst:!0},r),this._lastDummy=new la(this._getWindow,this._isOutside,{isFirst:!1},r);var f=this._firstDummy.input;f&&t._dummyObserver.add(f,this._addDummyInputs),this._firstDummy.onFocusIn=this._onFocusIn,this._firstDummy.onFocusOut=this._onFocusOut,this._lastDummy.onFocusIn=this._onFocusIn,this._lastDummy.onFocusOut=this._onFocusOut,this._element=r,this._addDummyInputs()}return ki(e,[{key:"dispose",value:function(e,t){var r,n,o,i;if(0===(this._wrappers=this._wrappers.filter((function(r){return r.manager!==e&&!t}))).length){delete(null===(r=this._element)||void 0===r?void 0:r.get()).__tabsterDummy;var a,s=Oi(this._transformElements);try{for(s.s();!(a=s.n()).done;){a.value.removeEventListener("scroll",this._addTransformOffsets)}}catch(e){s.e(e)}finally{s.f()}this._transformElements.clear();var l=this._getWindow();this._addTimer&&(l.clearTimeout(this._addTimer),delete this._addTimer);var c=null===(n=this._firstDummy)||void 0===n?void 0:n.input;c&&this._tabster._dummyObserver.remove(c),null===(o=this._firstDummy)||void 0===o||o.dispose(),null===(i=this._lastDummy)||void 0===i||i.dispose()}}},{key:"_onFocus",value:function(e,t,r,n){var o,i=this._getCurrent();!i||t.useDefaultAction&&!this._callForDefaultAction||null===(o=i.manager.getHandler(e))||void 0===o||o(t,r,n)}},{key:"_getCurrent",value:function(){return this._wrappers.sort((function(e,t){return e.tabbable!==t.tabbable?e.tabbable?-1:1:e.priority-t.priority})),this._wrappers[0]}},{key:"_ensurePosition",value:function(){var e,t,r,n=null===(e=this._element)||void 0===e?void 0:e.get(),o=null===(t=this._firstDummy)||void 0===t?void 0:t.input,i=null===(r=this._lastDummy)||void 0===r?void 0:r.input;if(n&&o&&i)if(this._isOutside){var a=n.parentElement;if(a){var s=n.nextElementSibling;s!==i&&a.insertBefore(i,s),n.previousElementSibling!==o&&a.insertBefore(o,n)}}else{n.lastElementChild!==i&&n.appendChild(i);var l=n.firstElementChild;l&&l!==o&&n.insertBefore(o,l)}}}]),e}();function ha(e){for(var t=null,r=e.lastElementChild;r;r=r.lastElementChild)t=r;return t||void 0}function ma(e,t,r){var n=document.createEvent("HTMLEvents");return n.initEvent(t,!0,!0),n.details=r,e.dispatchEvent(n),!n.defaultPrevented}function ya(e,t){var r=JSON.stringify(e);return!0===t?r:Ti({},"data-tabster",r)}function ba(e,t,r){var n;if(r){var o=e.getAttribute("data-tabster");if(o)try{n=JSON.parse(o)}catch(e){0}}n||(n={}),function(e,t){for(var r=0,n=Object.keys(t);r<n.length;r++){var o=n[r],i=t[o];i?e[o]=i:delete e[o]}}(n,t),Object.keys(n).length>0?e.setAttribute("data-tabster",ya(n,!0)):e.removeAttribute("data-tabster")}var va=function(e){hi(r,e);var t=yi(r);function r(e,n,o,i){var a;return Ei(this,r),(a=t.call(this,e,n,ca,i,void 0,!0))._onDummyInputFocus=function(e){var t;if(e.useDefaultAction)a._setFocused(!1,!0);else{a._tabster.keyboardNavigation.setNavigatingWithKeyboard(!0);var r=a._element.get();if(r){a._setFocused(!0,!0);var n=a._tabster.focusedElement.getFirstOrLastTabbable(e.isFirst,{container:r,ignoreAccessibility:!0});if(n)return void Object(li.d)(n)}null===(t=e.input)||void 0===t||t.blur()}},a._setHandlers(a._onDummyInputFocus),a._tabster=e,a._setFocused=o,a}return ki(r)}(da),ga=function(e){hi(r,e);var t=yi(r);function r(e,n,o,i,a){var s;Ei(this,r),(s=t.call(this,e,n,i))._isFocused=!1,s._setFocused=function(e,t){if(s._setFocusedTimer&&(s._tabster.getWindow().clearTimeout(s._setFocusedTimer),delete s._setFocusedTimer),s._isFocused!==e){var r=s._element.get();r&&(e?(s._isFocused=!0,ma(s._tabster.root.eventTarget,"focus",{element:r,fromAdjacent:t})):s._setFocusedTimer=s._tabster.getWindow().setTimeout((function(){delete s._setFocusedTimer,s._isFocused=!1,ma(s._tabster.root.eventTarget,"blur",{element:r,fromAdjacent:t})}),0))}},s._onFocus=function(e){var t,r=s._tabster.getWindow();if(s._setTabbableTimer&&(r.clearTimeout(s._setTabbableTimer),delete s._setTabbableTimer),e){var n=Oa.getTabsterContext(s._tabster,e);if(n&&s._setFocused(n.root.getElement()===s._element.get()),!n||n.uncontrolled||s._tabster.rootDummyInputs)return void(null===(t=s._dummyManager)||void 0===t||t.setTabbable(!1))}else s._setFocused(!1);s._setTabbableTimer=r.setTimeout((function(){var e;delete s._setTabbableTimer,null===(e=s._dummyManager)||void 0===e||e.setTabbable(!0)}),0)},s._onDispose=o;var l=e.getWindow;return s.uid=ta(l,n),s._sys=a,(e.controlTab||e.rootDummyInputs)&&s.addDummyInputs(),e.focusedElement.subscribe(s._onFocus),s._add(),s}return ki(r,[{key:"addDummyInputs",value:function(){this._dummyManager||(this._dummyManager=new va(this._tabster,this._element,this._setFocused,this._sys))}},{key:"dispose",value:function(){var e;this._onDispose(this);var t=this._tabster.getWindow();this._setFocusedTimer&&(t.clearTimeout(this._setFocusedTimer),delete this._setFocusedTimer),this._setTabbableTimer&&(t.clearTimeout(this._setTabbableTimer),delete this._setTabbableTimer),null===(e=this._dummyManager)||void 0===e||e.dispose(),this._remove()}},{key:"moveOutWithDefaultAction",value:function(e){var t=this._dummyManager;if(t)t.moveOutWithDefaultAction(e);else{var r=this.getElement();r&&va.moveWithPhantomDummy(this._tabster,r,!0,e)}}},{key:"_add",value:function(){0}},{key:"_remove",value:function(){0}}]),r}(sa),Oa=function(){function e(t,r){var n=this;Ei(this,e),this._autoRootWaiting=!1,this._roots={},this._forceDummy=!1,this.rootById={},this._autoRootCreate=function(){var e,t=n._win().document,r=t.body;if(r){n._autoRootUnwait(t);var o=n._autoRoot;if(o)return ba(r,{root:o},!0),Hi(n._tabster,r),null===(e=zi(n._tabster,r))||void 0===e?void 0:e.root}else n._autoRootWaiting||(n._autoRootWaiting=!0,t.addEventListener("readystatechange",n._autoRootCreate))},this._onRootDispose=function(e){delete n._roots[e.id]},this._tabster=t,this._win=t.getWindow,this._autoRoot=r,this.eventTarget=function(e){var t=e();try{if(t.EventTarget)return new t.EventTarget}catch(e){if(!(e instanceof TypeError))throw e}return t.document.createElement("div")}(this._win),t.queueInit((function(){n._autoRoot&&n._autoRootCreate()}))}return ki(e,[{key:"_autoRootUnwait",value:function(e){e.removeEventListener("readystatechange",this._autoRootCreate),this._autoRootWaiting=!1}},{key:"dispose",value:function(){var e=this,t=this._win();this._autoRootUnwait(t.document),delete this._autoRoot,Object.keys(this._roots).forEach((function(t){e._roots[t]&&(e._roots[t].dispose(),delete e._roots[t])})),this.rootById={}}},{key:"createRoot",value:function(e,t,r){var n=new ga(this._tabster,e,this._onRootDispose,t,r);return this._roots[n.id]=n,this._forceDummy&&n.addDummyInputs(),n}},{key:"addDummyInputs",value:function(){this._forceDummy=!0;for(var e=this._roots,t=0,r=Object.keys(e);t<r.length;t++){e[r[t]].addDummyInputs()}}},{key:"onRoot",value:function(e,t){t?delete this.rootById[e.uid]:this.rootById[e.uid]=e}}],[{key:"getRootByUId",value:function(e,t){var r=e().__tabsterInstance;return r&&r.root.rootById[t]}},{key:"getTabsterContext",value:function(e,t,r){var n,o,i,a;if(void 0===r&&(r={}),t.ownerDocument){var s,l,c,u,d=r,p=d.checkRtl,f=d.referenceElement,h=e.getParent;e.drainInitQueue();for(var m,y,b,v,g=!1,O=f||t,w={};O&&(!s||p);){var x=zi(e,O);if(p&&void 0===b){var C=O.dir;C&&(b="rtl"===C.toLowerCase())}if(x){var S=O.tagName;(x.uncontrolled||"IFRAME"===S||"WEBVIEW"===S)&&(v=O),u||!(null===(n=x.focusable)||void 0===n?void 0:n.excludeFromMover)||c||(g=!0);var T=x.modalizer,j=x.groupper,k=x.mover;!l&&T&&(l=T),c||!j||l&&!T||(l?(!j.isActive()&&j.getProps().tabbability&&l.userId!==(null===(o=e.modalizer)||void 0===o?void 0:o.activeId)&&(l=void 0,c=j),y=j):c=j),u||!k||l&&!T||j&&O===t||(u=k,m=!!c&&c!==j),x.root&&(s=x.root),(null===(i=x.focusable)||void 0===i?void 0:i.ignoreKeydown)&&Object.assign(w,x.focusable.ignoreKeydown),O=h(O)}else O=h(O)}if(!s){var P=e.root;P._autoRoot&&(null===(a=t.ownerDocument)||void 0===a?void 0:a.body)&&(s=P._autoRootCreate())}c&&!u&&(m=!0);return s?{root:s,modalizer:l,groupper:c,mover:u,isGroupperFirst:m,modalizerInGroupper:y,isRtl:p?!!b:void 0,uncontrolled:v,isExcludedFromMover:g,ignoreKeydown:function(e){return!!w[e.key]}}:void 0}}},{key:"getRoot",value:function(e,t){for(var r,n=t;n;n=n.parentElement){var o=null===(r=zi(e,n))||void 0===r?void 0:r.root;if(o)return o}}}]),e}();var wa=function(){function e(){Ei(this,e),this._callbacks=[]}return ki(e,[{key:"dispose",value:function(){this._callbacks=[],delete this._val}},{key:"subscribe",value:function(e){var t=this._callbacks;t.indexOf(e)<0&&t.push(e)}},{key:"subscribeFirst",value:function(e){var t=this._callbacks,r=t.indexOf(e);r>=0&&t.splice(r,1),t.unshift(e)}},{key:"unsubscribe",value:function(e){var t=this._callbacks.indexOf(e);t>=0&&this._callbacks.splice(t,1)}},{key:"setVal",value:function(e,t){this._val!==e&&(this._val=e,this._callCallbacks(e,t))}},{key:"getVal",value:function(){return this._val}},{key:"trigger",value:function(e,t){this._callCallbacks(e,t)}},{key:"_callCallbacks",value:function(e,t){this._callbacks.forEach((function(r){return r(e,t)}))}}]),e}();var xa=["a[href]","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","*[tabindex]","*[contenteditable]"].join(", "),Ca=function(){function e(t){Ei(this,e),this._tabster=t}return ki(e,[{key:"dispose",value:function(){}},{key:"getProps",value:function(e){var t=zi(this._tabster,e);return t&&t.focusable||{}}},{key:"isFocusable",value:function(e,t,r,n){return!(!oa(e,xa)||!t&&-1===e.tabIndex)&&((r||this.isVisible(e))&&(n||this.isAccessible(e)))}},{key:"isVisible",value:function(e){if(!e.ownerDocument||e.nodeType!==Node.ELEMENT_NODE)return!1;if(null===e.offsetParent&&e.ownerDocument.body!==e)return!1;var t=e.ownerDocument.defaultView;if(!t)return!1;var r=e.ownerDocument.body.getBoundingClientRect();return(0!==r.width||0!==r.height)&&"hidden"!==t.getComputedStyle(e).visibility}},{key:"isAccessible",value:function(e){for(var t,r=e;r;r=r.parentElement){var n=zi(this._tabster,r);if(this._isHidden(r))return!1;if(!(null===(t=null==n?void 0:n.focusable)||void 0===t?void 0:t.ignoreAriaDisabled)&&this._isDisabled(r))return!1}return!0}},{key:"_isDisabled",value:function(e){return e.hasAttribute("disabled")}},{key:"_isHidden",value:function(e){var t,r=e.getAttribute("aria-hidden");return!(!r||"true"!==r.toLowerCase()||(null===(t=this._tabster.modalizer)||void 0===t?void 0:t.isAugmented(e)))}},{key:"findFirst",value:function(e){return this.findElement(Si({},e))}},{key:"findLast",value:function(e){return this.findElement(Si({isBackward:!0},e))}},{key:"findNext",value:function(e,t){return this.findElement(Si({},e),t)}},{key:"findPrev",value:function(e,t){return this.findElement(Si(Si({},e),{},{isBackward:!0}),t)}},{key:"findDefault",value:function(e){var t=this;return this.findElement(Si(Si({},e),{},{acceptCondition:function(r){return t._tabster.focusable.isFocusable(r,e.includeProgrammaticallyFocusable)&&!!t.getProps(r).isDefault}}))||null}},{key:"findAll",value:function(e){return this._findElements(!0,e)||[]}},{key:"findElement",value:function(e,t){var r=this._findElements(!1,e,t);return r?r[0]:r}},{key:"_findElements",value:function(e,t,r){var n,o,i,a=this,s=t.container,l=t.currentElement,c=void 0===l?null:l,u=t.includeProgrammaticallyFocusable,d=t.useActiveModalizer,p=t.ignoreUncontrolled,f=t.ignoreAccessibility,h=t.modalizerId,m=t.isBackward,y=t.onUncontrolled,b=t.onElement;r||(r={});var v=[],g=t.acceptCondition;if(!s)return null;g||(g=function(e){return a._tabster.focusable.isFocusable(e,u,!1,f)});var O={container:s,modalizerUserId:void 0===h&&d?null===(n=this._tabster.modalizer)||void 0===n?void 0:n.activeId:h||(null===(i=null===(o=Oa.getTabsterContext(this._tabster,s))||void 0===o?void 0:o.modalizer)||void 0===i?void 0:i.userId),from:c||s,isBackward:m,acceptCondition:g,includeProgrammaticallyFocusable:u,ignoreUncontrolled:p,ignoreAccessibility:f,cachedGrouppers:{}},w=Qi(s.ownerDocument,s,(function(e){return a._acceptElement(e,O)}));if(!w)return null;var x,C=function(t){var r=O.foundElement;return r&&v.push(r),e?!(r&&(O.found=!1,delete O.foundElement,delete O.fromCtx,O.from=r,b&&!b(r)))&&!(!r&&!t):!(!t||r)};if(c||(r.outOfDOMOrder=!0),c)w.currentNode=c;else if(m){var S=ha(s);if(!S)return null;if(this._acceptElement(S,O)===NodeFilter.FILTER_ACCEPT&&!C(!0))return O.skippedFocusable&&(r.outOfDOMOrder=!0),v;w.currentNode=S}do{x=(m?w.previousNode():w.nextNode())||void 0}while(C());if(!e){var T=O.nextUncontrolled;if(T)return y&&y(T),x?void 0:null}return O.skippedFocusable&&(r.outOfDOMOrder=!0),v.length?v:null}},{key:"_acceptElement",value:function(e,t){var r,n,o,i,a;if(t.found)return NodeFilter.FILTER_ACCEPT;var s=t.container;if(e===s)return NodeFilter.FILTER_SKIP;if(!s.contains(e))return NodeFilter.FILTER_REJECT;if(e.__tabsterDummyContainer)return NodeFilter.FILTER_REJECT;var l=t.lastToIgnore;if(l){if(l.contains(e))return NodeFilter.FILTER_REJECT;l=t.lastToIgnore=void 0}var c,u=t.currentCtx=Oa.getTabsterContext(this._tabster,e);if(!u)return NodeFilter.FILTER_SKIP;if(t.ignoreUncontrolled){if(Zi(e))return NodeFilter.FILTER_SKIP}else if(u.uncontrolled&&!t.nextUncontrolled&&this._tabster.focusable.isFocusable(e,void 0,!0,!0)&&!u.groupper&&!u.mover&&(null===(r=u.modalizer)||void 0===r?void 0:r.userId)===(null===(n=this._tabster.modalizer)||void 0===n?void 0:n.activeId))return this.isVisible(u.uncontrolled)&&(t.nextUncontrolled=u.uncontrolled),t.skippedFocusable=!0,NodeFilter.FILTER_REJECT;if("IFRAME"===e.tagName||"WEBVIEW"===e.tagName)return(null===(o=u.modalizer)||void 0===o?void 0:o.userId)===(null===(i=this._tabster.modalizer)||void 0===i?void 0:i.activeId)?(t.found=!0,t.lastToIgnore=t.foundElement=e,NodeFilter.FILTER_ACCEPT):NodeFilter.FILTER_REJECT;if(!t.ignoreAccessibility&&!this.isAccessible(e))return this.isFocusable(e,!1,!0,!0)&&(t.skippedFocusable=!0),NodeFilter.FILTER_REJECT;var d=t.fromCtx;d||(d=t.fromCtx=Oa.getTabsterContext(this._tabster,t.from));var p=null==d?void 0:d.mover,f=u.groupper,h=u.mover;if(void 0!==(c=null===(a=this._tabster.modalizer)||void 0===a?void 0:a.acceptElement(e,t))&&(t.skippedFocusable=!0),void 0===c&&(f||h||p)){var m=null==f?void 0:f.getElement(),y=null==p?void 0:p.getElement(),b=null==h?void 0:h.getElement();b&&(null==y?void 0:y.contains(b))&&s.contains(y)&&(!m||!h||y.contains(m))&&(h=p,b=y),!m||m!==s&&s.contains(m)||(f=void 0),b&&!s.contains(b)&&(h=void 0),f&&h&&(b&&m&&!m.contains(b)?h=void 0:f=void 0),f&&(c=f.acceptElement(e,t)),h&&(c=h.acceptElement(e,t))}return void 0===c&&(c=t.acceptCondition(e)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP)===NodeFilter.FILTER_SKIP&&this.isFocusable(e,!1,!0,!0)&&(t.skippedFocusable=!0),c!==NodeFilter.FILTER_ACCEPT||t.found||(t.found=!0,t.foundElement=e),c}}]),e}(),Sa=9,Ta=33,ja=34,ka=35,Pa=36,Ea=37,_a=38,Ia=39,Ra=40,Aa=function(e){hi(r,e);var t=yi(r);function r(e,n){var o;return Ei(this,r),(o=t.call(this))._init=function(){var e=o._win(),t=e.document;t.addEventListener(li.a,o._onFocusIn,!0),t.addEventListener("focusout",o._onFocusOut,!0),e.addEventListener("keydown",o._onKeyDown,!0);var r=t.activeElement;r&&r!==t.body&&o._setFocusedElement(r),o.subscribe(o._onChanged)},o._onFocusIn=function(e){o._setFocusedElement(e.target,e.details.relatedTarget,e.details.isFocusedProgrammatically)},o._onFocusOut=function(e){o._setFocusedElement(void 0,e.relatedTarget)},o._validateFocusedElement=function(e){},o._onKeyDown=function(e){var t,n;if(e.keyCode===Sa&&!e.ctrlKey){var i=o.getVal();if(i&&i.ownerDocument&&"true"!==i.contentEditable){var a=o._tabster,s=a.controlTab,l=Oa.getTabsterContext(a,i);if(l&&!l.ignoreKeydown(e)){var c,u=e.shiftKey,d=r.findNextTabbable(a,l,void 0,i,void 0,u,void 0,!0);if(d){var p=d.uncontrolled;if(p){var f=l.isGroupperFirst,h=!1;if(void 0!==f){var m,y=null===(t=l.groupper)||void 0===t?void 0:t.getElement(),b=null===(n=l.mover)||void 0===n?void 0:n.getElement();f&&y&&p.contains(y)?m=y:!f&&b&&p.contains(b)&&(m=b),m&&(p=m,h=!0)}return void(p&&l.uncontrolled!==p&&da.moveWithPhantomDummy(o._tabster,p,h,u))}c=d.element}if(c){if("IFRAME"===c.tagName)return void da.moveWithPhantomDummy(o._tabster,c,!1,u);(s||(null==d?void 0:d.outOfDOMOrder))&&(e.preventDefault(),e.stopImmediatePropagation(),Object(li.d)(c))}else l.root.moveOutWithDefaultAction(u)}}}},o._onChanged=function(e,t){var r,n;if(e)ma(e,"tabster:focusin",t);else{var i=null===(r=o._lastVal)||void 0===r?void 0:r.get();if(i){var a=Si({},t),s=Oa.getTabsterContext(o._tabster,i),l=null===(n=null==s?void 0:s.modalizer)||void 0===n?void 0:n.userId;l&&(a.modalizerId=l),ma(i,"tabster:focusout",a)}}},o._tabster=e,o._win=n,e.queueInit(o._init),o}return ki(r,[{key:"dispose",value:function(){ci(gi(r.prototype),"dispose",this).call(this);var e=this._win();e.document.removeEventListener(li.a,this._onFocusIn,!0),e.document.removeEventListener("focusout",this._onFocusOut,!0),e.removeEventListener("keydown",this._onKeyDown,!0),this.unsubscribe(this._onChanged),delete r._lastResetElement,delete this._nextVal,delete this._lastVal}},{key:"getFocusedElement",value:function(){return this.getVal()}},{key:"getLastFocusedElement",value:function(){var e,t=null===(e=this._lastVal)||void 0===e?void 0:e.get();return(!t||t&&!na(t.ownerDocument,t))&&(this._lastVal=t=void 0),t}},{key:"focus",value:function(e,t,r){return!!this._tabster.focusable.isFocusable(e,t,!1,r)&&(e.focus(),!0)}},{key:"focusDefault",value:function(e){var t=this._tabster.focusable.findDefault({container:e});return!!t&&(this._tabster.focusedElement.focus(t),!0)}},{key:"getFirstOrLastTabbable",value:function(e,t){var n,o,i=this._tabster.focusable,a=t.container,s=t.ignoreAccessibility;if(a){var l=Oa.getTabsterContext(this._tabster,a);if(l){var c=r.findNextTabbable(this._tabster,l,a,void 0,void 0,!e,void 0,s);if(c)for(o=c.element,n=c.uncontrolled;!o&&n;)(o=i.isFocusable(n,!1,!0,!0)?n:i[e?"findFirst":"findLast"]({container:n,ignoreUncontrolled:!0,ignoreAccessibility:s,useActiveModalizer:!0}))||(c=r.findNextTabbable(this._tabster,l,n,void 0,void 0,!e,void 0,s))&&(o=c.element,n=c.uncontrolled)}}return o&&!(null==a?void 0:a.contains(o))&&(o=void 0),o||void 0}},{key:"_focusFirstOrLast",value:function(e,t){var r=this.getFirstOrLastTabbable(e,t);return!!r&&(this.focus(r,!1,!0),!0)}},{key:"focusFirst",value:function(e){return this._focusFirstOrLast(!0,e)}},{key:"focusLast",value:function(e){return this._focusFirstOrLast(!1,e)}},{key:"resetFocus",value:function(e){if(!this._tabster.focusable.isVisible(e))return!1;if(this._tabster.focusable.isFocusable(e,!0,!0,!0))this.focus(e);else{var t=e.getAttribute("tabindex"),n=e.getAttribute("aria-hidden");e.tabIndex=-1,e.setAttribute("aria-hidden","true"),r._lastResetElement=new Ki(this._win,e),this.focus(e,!0,!0),this._setOrRemoveAttribute(e,"tabindex",t),this._setOrRemoveAttribute(e,"aria-hidden",n)}return!0}},{key:"_setOrRemoveAttribute",value:function(e,t,r){null===r?e.removeAttribute(t):e.setAttribute(t,r)}},{key:"_setFocusedElement",value:function(e,t,n){var o,i;if(!this._tabster._noop){var a={relatedTarget:t};if(e){var s=null===(o=r._lastResetElement)||void 0===o?void 0:o.get();if(r._lastResetElement=void 0,s===e||Zi(e))return;a.isFocusedProgrammatically=n;var l=Oa.getTabsterContext(this._tabster,e),c=null===(i=null==l?void 0:l.modalizer)||void 0===i?void 0:i.userId;c&&(a.modalizerId=c)}var u=this._nextVal={element:e?new Ki(this._win,e):void 0,details:a};e&&e!==this._val&&this._validateFocusedElement(e),this._nextVal===u&&this.setVal(e,a),this._nextVal=void 0}}},{key:"setVal",value:function(e,t){ci(gi(r.prototype),"setVal",this).call(this,e,t),e&&(this._lastVal=new Ki(this._win,e))}}],[{key:"forgetMemorized",value:function(e,t){var n,o,i=r._lastResetElement,a=i&&i.get();a&&t.contains(a)&&delete r._lastResetElement,(a=null===(o=null===(n=e._nextVal)||void 0===n?void 0:n.element)||void 0===o?void 0:o.get())&&t.contains(a)&&delete e._nextVal,(a=(i=e._lastVal)&&i.get())&&t.contains(a)&&delete e._lastVal}},{key:"findNextTabbable",value:function(e,t,n,o,i,a,s,l){var c=n||t.root.getElement();if(!c)return null;var u=null,d=r._isTabbingTimer,p=e.getWindow();d&&p.clearTimeout(d),r.isTabbing=!0,r._isTabbingTimer=p.setTimeout((function(){delete r._isTabbingTimer,r.isTabbing=!1}),0);var f=t.modalizer,h=t.groupper,m=t.mover,y=function(t){var c;if(u=t.findNextTabbable(o,i,a,s,l),o&&!(null==u?void 0:u.element)&&!(null==u?void 0:u.uncontrolled)){var d=t!==f&&(null===(c=t.getElement())||void 0===c?void 0:c.parentElement);if(d){var p=Oa.getTabsterContext(e,o,{referenceElement:d});if(p){var h=t.getElement(),m=a?h:h&&ha(h)||h;m&&(u=r.findNextTabbable(e,p,n,m,d,a,s,l))&&(u.outOfDOMOrder=!0)}}}};if(h&&m)y(t.isGroupperFirst?h:m);else if(h)y(h);else if(m)y(m);else if(f)y(f);else{var b,v={container:c,currentElement:o,referenceElement:i,onUncontrolled:function(e){b=e},ignoreUncontrolled:s,ignoreAccessibility:l,useActiveModalizer:!0},g={},O=e.focusable[a?"findPrev":"findNext"](v,g);u={element:b?void 0:O,uncontrolled:b,outOfDOMOrder:g.outOfDOMOrder}}return u}}]),r}(wa);Aa.isTabbing=!1;var Da=function(e){hi(r,e);var t=yi(r);function r(e){var n;return Ei(this,r),(n=t.call(this))._onChange=function(e){n.setVal(e,void 0)},n._keyborg=Object(li.b)(e()),n._keyborg.subscribe(n._onChange),n}return ki(r,[{key:"dispose",value:function(){ci(gi(r.prototype),"dispose",this).call(this),this._keyborg&&(this._keyborg.unsubscribe(this._onChange),Object(li.c)(this._keyborg),delete this._keyborg)}},{key:"setNavigatingWithKeyboard",value:function(e){var t;null===(t=this._keyborg)||void 0===t||t.setVal(e)}},{key:"isNavigatingWithKeyboard",value:function(){var e;return!!(null===(e=this._keyborg)||void 0===e?void 0:e.isNavigatingWithKeyboard())}}]),r}(wa);var Ba=["input","textarea","*[contenteditable]"].join(", "),Ma=function(e){hi(r,e);var t=yi(r);function r(e,n,o,i){var a;return Ei(this,r),(a=t.call(this,n,e,ua,i))._onFocusDummyInput=function(e){var t,r,n=a._element.get(),o=e.input;if(n&&o){var i,s=Oa.getTabsterContext(a._tabster,n);s&&(i=null===(t=Aa.findNextTabbable(a._tabster,s,void 0,o,void 0,!e.isFirst,!0))||void 0===t?void 0:t.element);var l=null===(r=a._getMemorized())||void 0===r?void 0:r.get();l&&(i=l),i&&Object(li.d)(i)}},a._tabster=n,a._getMemorized=o,a._setHandlers(a._onFocusDummyInput),a}return ki(r)}(da),Na=function(e){hi(r,e);var t=yi(r);function r(e,n,o,i,a){var s,l;Ei(this,r),(s=t.call(this,e,n,i))._visible={},s._onIntersection=function(e){var t,r=Oi(e);try{for(r.s();!(t=r.n()).done;){var n=t.value,o=n.target,i=ta(s._win,o),a=void 0,l=s._fullyVisible;if(n.intersectionRatio>=.25?(a=n.intersectionRatio>=.75?Di.Visible:Di.PartiallyVisible)===Di.Visible&&(l=i):a=Di.Invisible,s._visible[i]!==a){void 0===a?(delete s._visible[i],l===i&&delete s._fullyVisible):(s._visible[i]=a,s._fullyVisible=l);var c=s.getState(o);c&&ma(o,"tabster:mover",c)}}}catch(e){r.e(e)}finally{r.f()}},s._win=e.getWindow,s.visibilityTolerance=null!==(l=i.visibilityTolerance)&&void 0!==l?l:.8,(s._props.trackState||s._props.visibilityAware)&&(s._intersectionObserver=new IntersectionObserver(s._onIntersection,{threshold:[0,.25,.5,.75,1]}),s._observeState()),s._onDispose=o;return e.controlTab||(s.dummyManager=new Ma(s._element,e,(function(){return i.memorizeCurrent?s._current:void 0}),a)),s}return ki(r,[{key:"dispose",value:function(){var e;this._onDispose(this),this._intersectionObserver&&(this._intersectionObserver.disconnect(),delete this._intersectionObserver),delete this._current,delete this._fullyVisible,delete this._allElements,delete this._updateQueue,this._unobserve&&(this._unobserve(),delete this._unobserve);var t=this._win();this._setCurrentTimer&&(t.clearTimeout(this._setCurrentTimer),delete this._setCurrentTimer),this._updateTimer&&(t.clearTimeout(this._updateTimer),delete this._updateTimer),null===(e=this.dummyManager)||void 0===e||e.dispose(),delete this.dummyManager}},{key:"setCurrent",value:function(e){var t=this;this._current=e?new Ki(this._win,e):void 0,!this._props.trackState&&!this._props.visibilityAware||this._setCurrentTimer||(this._setCurrentTimer=this._win().setTimeout((function(){var e;delete t._setCurrentTimer;var r=[];t._current!==t._prevCurrent&&(r.push(t._current),r.push(t._prevCurrent),t._prevCurrent=t._current);for(var n=0,o=r;n<o.length;n++){var i=o[n],a=null==i?void 0:i.get();if(a&&(null===(e=t._allElements)||void 0===e?void 0:e.get(a))===t){var s=t._props;if(a&&(void 0!==s.visibilityAware||s.trackState)){var l=t.getState(a);l&&ma(a,"tabster:mover",l)}}}})))}},{key:"getCurrent",value:function(){var e;return(null===(e=this._current)||void 0===e?void 0:e.get())||null}},{key:"findNextTabbable",value:function(e,t,r,n,o){var i,a=this.getElement(),s=a&&(null===(i=null==e?void 0:e.__tabsterDummyContainer)||void 0===i?void 0:i.get())===a;if(!a)return null;var l,c=this._tabster,u=null,d=!1;if(this._props.tabbable||s||e&&!a.contains(e)){var p={currentElement:e,referenceElement:t,container:a,onUncontrolled:function(e){l=e},ignoreUncontrolled:n,ignoreAccessibility:o,useActiveModalizer:!0},f={};u=c.focusable[r?"findPrev":"findNext"](p,f),d=!!f.outOfDOMOrder}return{element:u,uncontrolled:l,outOfDOMOrder:d}}},{key:"acceptElement",value:function(e,t){var r,n,o,i=this;if(!Aa.isTabbing)return(null===(r=t.currentCtx)||void 0===r?void 0:r.isExcludedFromMover)?NodeFilter.FILTER_REJECT:void 0;var a=this._props,s=a.memorizeCurrent,l=a.visibilityAware,c=a.hasDefault,u=void 0===c||c,d=this.getElement();if(d&&(s||l||u)&&(!d.contains(t.from)||(null===(n=t.from.__tabsterDummyContainer)||void 0===n?void 0:n.get())===d)){var p;if(s){var f=null===(o=this._current)||void 0===o?void 0:o.get();f&&t.acceptCondition(f)&&(p=f)}if(!p&&u&&(p=this._tabster.focusable.findDefault({container:d,ignoreUncontrolled:!0,useActiveModalizer:!0})),!p&&l&&(p=this._tabster.focusable.findElement({container:d,ignoreUncontrolled:!0,useActiveModalizer:!0,isBackward:t.isBackward,acceptCondition:function(e){var r,n=ta(i._win,e),o=i._visible[n];return d!==e&&!!(null===(r=i._allElements)||void 0===r?void 0:r.get(e))&&t.acceptCondition(e)&&(o===Di.Visible||o===Di.PartiallyVisible&&(l===Di.PartiallyVisible||!i._fullyVisible))}})),p)return t.found=!0,t.foundElement=p,t.lastToIgnore=d,t.skippedFocusable=!0,NodeFilter.FILTER_ACCEPT}}},{key:"_observeState",value:function(){var e=this,t=this.getElement();if(!this._unobserve&&t&&"undefined"!=typeof MutationObserver){var r=this._win(),n=this._allElements=new WeakMap,o=this._tabster.focusable,i=this._updateQueue=[],a=new MutationObserver((function(e){var t,r=Oi(e);try{for(r.s();!(t=r.n()).done;){var n=t.value,o=n.target,a=n.removedNodes,s=n.addedNodes;if("attributes"===n.type)"tabindex"===n.attributeName&&i.push({element:o,type:2});else{for(var l=0;l<a.length;l++)i.push({element:a[l],type:3});for(var c=0;c<s.length;c++)i.push({element:s[c],type:1})}}}catch(e){r.e(e)}finally{r.f()}d()})),s=function(t,r){var o,i,a=n.get(t);a&&r&&(null===(o=e._intersectionObserver)||void 0===o||o.unobserve(t),n.delete(t)),a||r||(n.set(t,e),null===(i=e._intersectionObserver)||void 0===i||i.observe(t))},l=function(e){var t=o.isFocusable(e);n.get(e)?t||s(e,!0):t&&s(e)},c=function(t){var n=p(t).mover;if(n&&n!==e){if(n.getElement()!==t||!o.isFocusable(t))return;s(t)}var i=Qi(r.document,t,(function(t){var r=p(t),n=r.mover,i=r.groupper;if(n&&n!==e)return NodeFilter.FILTER_REJECT;var a=null==i?void 0:i.getFirst(!0);return i&&i.getElement()!==t&&a&&a!==t?NodeFilter.FILTER_REJECT:(o.isFocusable(t)&&s(t),NodeFilter.FILTER_SKIP)}));if(i)for(i.currentNode=t;i.nextNode(););},u=function e(t){n.get(t)&&s(t,!0);for(var r=t.firstElementChild;r;r=r.nextElementSibling)e(r)},d=function(){!e._updateTimer&&i.length&&(e._updateTimer=r.setTimeout((function(){delete e._updateTimer;for(var t=0,r=i;t<r.length;t++){var n=r[t],o=n.element;switch(n.type){case 2:l(o);break;case 1:c(o);break;case 3:u(o)}}i=e._updateQueue=[]}),0))},p=function(t){for(var r={},n=t;n;n=n.parentElement){var o=zi(e._tabster,n);if(o&&(o.groupper&&!r.groupper&&(r.groupper=o.groupper),o.mover)){r.mover=o.mover;break}}return r};i.push({element:t,type:1}),d(),a.observe(t,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["tabindex"]}),this._unobserve=function(){a.disconnect()}}}},{key:"getState",value:function(e){var t=ta(this._win,e);if(t in this._visible){var r=this._visible[t]||Di.Invisible;return{isCurrent:this._current?this._current.get()===e:void 0,visibility:r}}}}]),r}(sa);function La(e,t,r,n,o,i,a,s){var l=r<o?o-r:a<e?e-a:0,c=n<i?i-n:s<t?t-s:0;return 0===l?c:0===c?l:Math.sqrt(l*l+c*c)}var Fa=function(){function e(t,r){var n=this;Ei(this,e),this._init=function(){n._win().addEventListener("keydown",n._onKeyDown,!0),n._tabster.focusedElement.subscribe(n._onFocus)},this._onMoverDispose=function(e){delete n._movers[e.id]},this._onFocus=function(e){for(var t,r=e;r;r=r.parentElement){var o=null===(t=zi(n._tabster,r))||void 0===t?void 0:t.mover;if(o){o.setCurrent(e);break}}},this._onKeyDown=function(){var e=fi(di().mark((function e(t){var r,o,i,a,s,l,c,u,d,p,f,h,m,y,b,v,g,O,w,x,C,S,T,j,k,P,E,_,I,R,A,D,B,M,N,L,F;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n._ignoredInputTimer&&(n._win().clearTimeout(n._ignoredInputTimer),delete n._ignoredInputTimer),null===(r=n._ignoredInputResolve)||void 0===r||r.call(n,!1),s=t.keyCode,!(t.ctrlKey||t.altKey||t.shiftKey||t.metaKey)){e.next=5;break}return e.abrupt("return");case 5:e.t0=s,e.next=e.t0===Ra||e.t0===Ia||e.t0===_a||e.t0===Ea||e.t0===ja||e.t0===Ta||e.t0===Pa||e.t0===ka?8:9;break;case 8:return e.abrupt("break",10);case 9:return e.abrupt("return");case 10:if(l=n._tabster,c=l.focusedElement.getFocusedElement(),e.t1=!c,e.t1){e.next=17;break}return e.next=16,n._isIgnoredInput(c,s);case 16:e.t1=e.sent;case 17:if(!e.t1){e.next=19;break}return e.abrupt("return");case 19:if((u=Oa.getTabsterContext(l,c,{checkRtl:!0}))&&u.mover&&!u.isExcludedFromMover&&!u.ignoreKeydown(t)){e.next=22;break}return e.abrupt("return");case 22:if(d=u.mover,p=d.getElement(),!u.isGroupperFirst){e.next=37;break}if(!(f=u.groupper)||f.isActive(!0)){e.next=36;break}h=null===(o=f.getElement())||void 0===o?void 0:o.parentElement;case 28:if(!h||h===p){e.next=34;break}if(!(null===(a=null===(i=zi(l,h))||void 0===i?void 0:i.groupper)||void 0===a?void 0:a.isActive(!0))){e.next=31;break}return e.abrupt("return");case 31:h=h.parentElement,e.next=28;break;case 34:e.next=37;break;case 36:return e.abrupt("return");case 37:if(p){e.next=39;break}return e.abrupt("return");case 39:m=l.focusable,y=d.getProps(),b=y.direction||Mi.Both,g=(v=b===Mi.Both)||b===Mi.Vertical,O=v||b===Mi.Horizontal,x=(w=b===Mi.GridLinear)||b===Mi.Grid,C=y.cyclic,j=0,k=0,x&&(T=c.getBoundingClientRect(),j=Math.ceil(T.left),k=Math.floor(T.right)),u.isRtl&&(s===Ia?s=Ea:s===Ea&&(s=Ia)),s===Ra&&g||s===Ia&&(O||x)?(S=m.findNext({currentElement:c,container:p,useActiveModalizer:!0}))&&x?(P=Math.ceil(S.getBoundingClientRect().left),!w&&k>P&&(S=void 0)):!S&&C&&(S=m.findFirst({container:p,ignoreUncontrolled:!0,useActiveModalizer:!0})):s===_a&&g||s===Ea&&(O||x)?(S=m.findPrev({currentElement:c,container:p,useActiveModalizer:!0}))&&x?(E=Math.floor(S.getBoundingClientRect().right),!w&&E>j&&(S=void 0)):!S&&C&&(S=m.findLast({container:p,ignoreUncontrolled:!0,useActiveModalizer:!0})):s===Pa?x?m.findElement({container:p,currentElement:c,ignoreUncontrolled:!0,useActiveModalizer:!0,isBackward:!0,acceptCondition:function(e){var t;if(!m.isFocusable(e))return!1;var r=Math.ceil(null!==(t=e.getBoundingClientRect().left)&&void 0!==t?t:0);return e!==c&&j<=r||(S=e,!1)}}):S=m.findFirst({container:p,ignoreUncontrolled:!0,useActiveModalizer:!0}):s===ka?x?m.findElement({container:p,currentElement:c,ignoreUncontrolled:!0,useActiveModalizer:!0,acceptCondition:function(e){var t;if(!m.isFocusable(e))return!1;var r=Math.ceil(null!==(t=e.getBoundingClientRect().left)&&void 0!==t?t:0);return e!==c&&j>=r||(S=e,!1)}}):S=m.findLast({container:p,ignoreUncontrolled:!0,useActiveModalizer:!0}):s===Ta?(m.findElement({currentElement:c,container:p,useActiveModalizer:!0,isBackward:!0,acceptCondition:function(e){return!!m.isFocusable(e)&&(!$i(n._win,e,d.visibilityTolerance)||(S=e,!1))}}),x&&S&&(_=Math.ceil(S.getBoundingClientRect().left),m.findElement({currentElement:S,container:p,useActiveModalizer:!0,acceptCondition:function(e){if(!m.isFocusable(e))return!1;var t=Math.ceil(e.getBoundingClientRect().left);return j<t||_>=t||(S=e,!1)}})),S&&Ji(n._win,S,!1)):s===ja?(m.findElement({currentElement:c,container:p,useActiveModalizer:!0,acceptCondition:function(e){return!!m.isFocusable(e)&&(!$i(n._win,e,d.visibilityTolerance)||(S=e,!1))}}),x&&S&&(I=Math.ceil(S.getBoundingClientRect().left),m.findElement({currentElement:S,container:p,useActiveModalizer:!0,isBackward:!0,acceptCondition:function(e){if(!m.isFocusable(e))return!1;var t=Math.ceil(e.getBoundingClientRect().left);return j>t||I<=t||(S=e,!1)}})),S&&Ji(n._win,S,!0)):x&&(R=s===_a,A=j,D=Math.ceil(T.top),B=k,M=Math.floor(T.bottom),F=0,m.findAll({container:p,currentElement:c,isBackward:R,onElement:function(e){var t=e.getBoundingClientRect(),r=Math.ceil(t.left),n=Math.ceil(t.top),o=Math.floor(t.right),i=Math.floor(t.bottom);if(R&&D<i||!R&&M>n)return!0;var a=Math.ceil(Math.min(B,o))-Math.floor(Math.max(A,r)),s=Math.ceil(Math.min(B-A,o-r));if(a>0&&s>=a){var l=a/s;l>F&&(N=e,F=l)}else if(0===F){var c=La(A,D,B,M,r,n,o,i);(void 0===L||c<L)&&(L=c,N=e)}else if(F>0)return!1;return!0}}),S=N),S&&(t.preventDefault(),t.stopImmediatePropagation(),Object(li.d)(S));case 54:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this._tabster=t,this._win=r,this._movers={},t.queueInit(this._init)}return ki(e,[{key:"dispose",value:function(){var e,t=this,r=this._win();this._tabster.focusedElement.unsubscribe(this._onFocus),null===(e=this._ignoredInputResolve)||void 0===e||e.call(this,!1),this._ignoredInputTimer&&(r.clearTimeout(this._ignoredInputTimer),delete this._ignoredInputTimer),r.removeEventListener("keydown",this._onKeyDown,!0),Object.keys(this._movers).forEach((function(e){t._movers[e]&&(t._movers[e].dispose(),delete t._movers[e])}))}},{key:"createMover",value:function(e,t,r){var n=new Na(this._tabster,e,this._onMoverDispose,t,r);return this._movers[n.id]=n,n}},{key:"_isIgnoredInput",value:function(){var e=fi(di().mark((function e(t,r){var n,o,i,a,s,l,c,u,d,p,f,h=this;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("true"!==t.getAttribute("aria-expanded")){e.next=2;break}return e.abrupt("return",!0);case 2:if(!oa(t,Ba)){e.next=46;break}if(o=0,i=0,a=0,"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName){e.next=32;break}if(l=t.type,c=t.value,a=(c||"").length,"email"!==l&&"number"!==l){e.next=25;break}if(!a){e.next=23;break}if(!(u=null===(n=t.ownerDocument.defaultView)||void 0===n?void 0:n.getSelection())){e.next=23;break}if(d=u.toString().length,p=r===Ea||r===_a,u.modify("extend",p?"backward":"forward","character"),d===u.toString().length){e.next=22;break}return u.modify("extend",p?"forward":"backward","character"),e.abrupt("return",!0);case 22:a=0;case 23:e.next=30;break;case 25:if(null!==(f=t.selectionStart)){e.next=28;break}return e.abrupt("return","hidden"===l);case 28:o=f||0,i=t.selectionEnd||0;case 30:e.next=33;break;case 32:"true"===t.contentEditable&&(s=new(ia(this._win))((function(e){h._ignoredInputResolve=function(t){delete h._ignoredInputResolve,e(t)};var r=h._win();h._ignoredInputTimer&&r.clearTimeout(h._ignoredInputTimer);var n=r.getSelection()||{},s=n.anchorNode,l=n.focusNode,c=n.anchorOffset,u=n.focusOffset;h._ignoredInputTimer=r.setTimeout((function(){var e,n,d;delete h._ignoredInputTimer;var p=r.getSelection()||{},f=p.anchorNode,m=p.focusNode,y=p.anchorOffset,b=p.focusOffset;if(f===s&&m===l&&y===c&&b===u){if(o=y||0,i=b||0,a=(null===(n=t.textContent)||void 0===n?void 0:n.length)||0,f&&m&&t.contains(f)&&t.contains(m)&&f!==t){var v=!1;!function e(t){if(t===f)v=!0;else if(t===m)return!0;var r=t.textContent;if(r&&!t.firstChild){var n=r.length;v?m!==f&&(i+=n):(o+=n,i+=n)}for(var a=!1,s=t.firstChild;s&&!a;s=s.nextSibling)a=e(s);return a}(t)}null===(d=h._ignoredInputResolve)||void 0===d||d.call(h,!0)}else null===(e=h._ignoredInputResolve)||void 0===e||e.call(h,!1)}),0)})));case 33:if(e.t0=s,!e.t0){e.next=38;break}return e.next=37,s;case 37:e.t0=!e.sent;case 38:if(!e.t0){e.next=40;break}return e.abrupt("return",!0);case 40:if(o===i){e.next=42;break}return e.abrupt("return",!0);case 42:if(!(o>0)||r!==Ea&&r!==_a&&r!==Pa){e.next=44;break}return e.abrupt("return",!0);case 44:if(!(o<a)||r!==Ia&&r!==Ra&&r!==ka){e.next=46;break}return e.abrupt("return",!0);case 46:return e.abrupt("return",!1);case 47:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()}]),e}();var za=ki((function e(){Ei(this,e)})),Ha="restorer:restorefocus",Ua=function(e){hi(r,e);var t=yi(r);function r(e,n,o){var i,a;if(Ei(this,r),(i=t.call(this,e,n,o))._hasFocus=!1,i._onFocusOut=function(e){var t,r=null===(t=i._element)||void 0===t?void 0:t.get();r&&null===e.relatedTarget&&r.dispatchEvent(new Event(Ha,{bubbles:!0})),r&&!r.contains(e.relatedTarget)&&(i._hasFocus=!1)},i._onFocusIn=function(){i._hasFocus=!0},i._props.type===Bi.Source){var s=null===(a=i._element)||void 0===a?void 0:a.get();null==s||s.addEventListener("focusout",i._onFocusOut),null==s||s.addEventListener("focusin",i._onFocusIn)}return i}return ki(r,[{key:"dispose",value:function(){var e,t;if(this._props.type===Bi.Source){var r=null===(e=this._element)||void 0===e?void 0:e.get();if(null==r||r.removeEventListener("focusout",this._onFocusOut),null==r||r.removeEventListener("focusin",this._onFocusIn),this._hasFocus)null===(t=this._tabster.getWindow().document.body)||void 0===t||t.dispatchEvent(new Event(Ha,{bubbles:!0}))}}}]),r}(sa),Wa=function(){function e(t){var r=this;Ei(this,e),this._history=[],this._restoreFocusTimeout=0,this._onRestoreFocus=function(e){var t=r._getWindow();r._restoreFocusTimeout&&t.clearTimeout(r._restoreFocusTimeout),r._restoreFocusTimeout=t.setTimeout((function(){return r._restoreFocus(e.target)}))},this._onFocusIn=function(e){var t;if(e){var n=zi(r._tabster,e);(null===(t=null==n?void 0:n.restorer)||void 0===t?void 0:t.getProps().type)===Bi.Target&&r._addToHistory(e)}},this._restoreFocus=function(e){var t,n,o,i=r._getWindow().document;if(i.activeElement===i.body&&(r._keyboardNavState.isNavigatingWithKeyboard()||!i.body.contains(e))){for(var a=r._history.pop();a&&!i.body.contains(null!==(n=null===(t=a.deref())||void 0===t?void 0:t.parentElement)&&void 0!==n?n:null);)a=r._history.pop();null===(o=null==a?void 0:a.deref())||void 0===o||o.focus()}},this._tabster=t,this._getWindow=t.getWindow,this._getWindow().addEventListener(Ha,this._onRestoreFocus),this._keyboardNavState=t.keyboardNavigation,this._focusedElementState=t.focusedElement,this._focusedElementState.subscribe(this._onFocusIn)}return ki(e,[{key:"dispose",value:function(){var e=this._getWindow();this._focusedElementState.unsubscribe(this._onFocusIn),e.removeEventListener(Ha,this._onRestoreFocus),this._restoreFocusTimeout&&e.clearTimeout(this._restoreFocusTimeout)}},{key:"_addToHistory",value:function(e){var t;(null===(t=this._history[this._history.length-1])||void 0===t?void 0:t.deref())!==e&&(this._history.length>10&&this._history.shift(),this._history.push(new WeakRef(e)))}},{key:"createRestorer",value:function(e,t){var r=new Ua(this._tabster,e,t);return t.type===Bi.Target&&e.ownerDocument.activeElement===e&&this._addToHistory(e),r}}]),e}(),qa=ki((function e(t){Ei(this,e),this.keyboardNavigation=t.keyboardNavigation,this.focusedElement=t.focusedElement,this.focusable=t.focusable,this.root=t.root,this.uncontrolled=t.uncontrolled,this.core=t})),Va=function(){function e(t,r){var n,o,i=this;Ei(this,e),this._forgetMemorizedElements=[],this._wrappers=new Set,this._initQueue=[],this._version="4.9.0",this._noop=!1,this.getWindow=function(){if(!i._win)throw new Error("Using disposed Tabster.");return i._win},this._storage=function(e){var t=e.__tabsterInstanceContext;return new((null==t?void 0:t.basics.WeakMap)||WeakMap)}(t),this._win=t;var a=this.getWindow;this.keyboardNavigation=new Da(a),this.focusedElement=new Aa(this,a),this.focusable=new Ca(this),this.root=new Oa(this,null==r?void 0:r.autoRoot),this.uncontrolled=new za,this.controlTab=null===(n=null==r?void 0:r.controlTab)||void 0===n||n,this.rootDummyInputs=!!(null==r?void 0:r.rootDummyInputs),this._dummyObserver=new pa(a),this.getParent=null!==(o=null==r?void 0:r.getParent)&&void 0!==o?o:function(e){return e.parentElement},this.internal={stopObserver:function(){i._unobserve&&(i._unobserve(),delete i._unobserve)},resumeObserver:function(e){if(!i._unobserve){var t=a().document;i._unobserve=function(e,t,r,n){if("undefined"==typeof MutationObserver)return function(){};var o,i=t.getWindow;function a(t,r){o||(o=qi(i).elementByUId),s(t,r);var n=Qi(e,t,(function(e){return s(e,r)}));if(n)for(;n.nextNode(););}function s(e,n){var a;if(!e.getAttribute)return NodeFilter.FILTER_SKIP;var s=e.__tabsterElementUID;return s&&o&&(n?delete o[s]:null!==(a=o[s])&&void 0!==a||(o[s]=new Ki(i,e))),(zi(t,e)||e.hasAttribute("data-tabster"))&&r(t,e,n),NodeFilter.FILTER_SKIP}var l=new MutationObserver((function(e){var n,o,i,s,l,c,u=Oi(e);try{for(u.s();!(c=u.n()).done;){var d=c.value,p=d.target,f=d.removedNodes,h=d.addedNodes;if("attributes"===d.type)"data-tabster"===d.attributeName&&r(t,p);else{for(var m=0;m<f.length;m++)a(f[m],!0),null===(o=(n=t._dummyObserver).domChanged)||void 0===o||o.call(n,p);for(var y=0;y<h.length;y++)a(h[y]),null===(s=(i=t._dummyObserver).domChanged)||void 0===s||s.call(i,p)}}}catch(e){u.e(e)}finally{u.f()}null===(l=t.modalizer)||void 0===l||l.hiddenUpdate()}));return n&&a(i().document.body),l.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-tabster"]}),function(){l.disconnect()}}(t,i,Hi,e)}}},function e(t){var r=qi(t);r.fakeWeakRefsStarted||(r.fakeWeakRefsStarted=!0,r.WeakRef=function(e){return e.basics.WeakRef}(r)),r.fakeWeakRefsTimer||(r.fakeWeakRefsTimer=t().setTimeout((function(){r.fakeWeakRefsTimer=void 0,Gi(t),e(t)}),12e4))}(a),this.queueInit((function(){i.internal.resumeObserver(!0)}))}return ki(e,[{key:"_mergeProps",value:function(e){var t;e&&(this.getParent=null!==(t=e.getParent)&&void 0!==t?t:this.getParent)}},{key:"createTabster",value:function(e,t){var r=new qa(this);return e||this._wrappers.add(r),this._mergeProps(t),r}},{key:"disposeTabster",value:function(e,t){t?this._wrappers.clear():this._wrappers.delete(e),0===this._wrappers.size&&this.dispose()}},{key:"dispose",value:function(){var e,t,r,n,o,i,a,s;this.internal.stopObserver();var l=this._win;null==l||l.clearTimeout(this._initTimer),delete this._initTimer,this._initQueue=[],this._forgetMemorizedElements=[],l&&this._forgetMemorizedTimer&&(l.clearTimeout(this._forgetMemorizedTimer),delete this._forgetMemorizedTimer),null===(e=this.outline)||void 0===e||e.dispose(),null===(t=this.crossOrigin)||void 0===t||t.dispose(),null===(r=this.deloser)||void 0===r||r.dispose(),null===(n=this.groupper)||void 0===n||n.dispose(),null===(o=this.mover)||void 0===o||o.dispose(),null===(i=this.modalizer)||void 0===i||i.dispose(),null===(a=this.observedElement)||void 0===a||a.dispose(),null===(s=this.restorer)||void 0===s||s.dispose(),this.keyboardNavigation.dispose(),this.focusable.dispose(),this.focusedElement.dispose(),this.root.dispose(),this._dummyObserver.dispose(),function(e){var t=qi(e);t.fakeWeakRefsStarted=!1,t.fakeWeakRefsTimer&&(e().clearTimeout(t.fakeWeakRefsTimer),t.fakeWeakRefsTimer=void 0,t.fakeWeakRefs=[])}(this.getWindow),ra(this.getWindow),this._storage=new WeakMap,this._wrappers.clear(),l&&(!function(e){var t=e.__tabsterInstanceContext;t&&(t.elementByUId={},delete t.WeakRef,t.containerBoundingRectCache={},t.containerBoundingRectCacheTimer&&e.clearTimeout(t.containerBoundingRectCacheTimer),t.fakeWeakRefsTimer&&e.clearTimeout(t.fakeWeakRefsTimer),t.fakeWeakRefs=[],delete e.__tabsterInstanceContext)}(l),delete l.__tabsterInstance,delete this._win)}},{key:"storageEntry",value:function(e,t){var r=this._storage,n=r.get(e);return n?!1===t&&0===Object.keys(n).length&&r.delete(e):!0===t&&(n={},r.set(e,n)),n}},{key:"forceCleanup",value:function(){var e=this;this._win&&(this._forgetMemorizedElements.push(this._win.document.body),this._forgetMemorizedTimer||(this._forgetMemorizedTimer=this._win.setTimeout((function(){delete e._forgetMemorizedTimer;for(var t=e._forgetMemorizedElements.shift();t;t=e._forgetMemorizedElements.shift())ra(e.getWindow,t),Aa.forgetMemorized(e.focusedElement,t)}),0),Gi(this.getWindow,!0)))}},{key:"queueInit",value:function(e){var t,r=this;this._win&&(this._initQueue.push(e),this._initTimer||(this._initTimer=null===(t=this._win)||void 0===t?void 0:t.setTimeout((function(){delete r._initTimer,r.drainInitQueue()}),0)))}},{key:"drainInitQueue",value:function(){if(this._win){var e=this._initQueue;this._initQueue=[],e.forEach((function(e){return e()}))}}}]),e}();function Ka(e){var t=e.core;return t.mover||(t.mover=new Fa(t,t.getWindow)),t.mover}function Ga(e){var t=e.core;return t.restorer||(t.restorer=new Wa(t)),t.restorer}function Qa(e){return e.__tabsterInstance}var Ya=function(){var e=Object(yt.b)().targetDocument,t=(null==e?void 0:e.defaultView)||void 0,r=n.useMemo((function(){return t?function(e,t){var r=Qa(e);return r?r.createTabster(!1,t):(r=new Va(e,t),e.__tabsterInstance=r,r.createTabster())}(t,{autoRoot:{},controlTab:!1,getParent:ai}):null}),[t]);return Object(rt.a)((function(){return function(){r&&function(e,t){e.core.disposeTabster(e,t)}(r)}}),[r]),r},$a=function(){var e=Ya(),t=Object(yt.b)().targetDocument;return{findAllFocusable:n.useCallback((function(t,r){return(null==e?void 0:e.focusable.findAll({container:t,acceptCondition:r}))||[]}),[e]),findFirstFocusable:n.useCallback((function(t){return null==e?void 0:e.focusable.findFirst({container:t})}),[e]),findLastFocusable:n.useCallback((function(t){return null==e?void 0:e.focusable.findLast({container:t})}),[e]),findNextFocusable:n.useCallback((function(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e||!t)return null;var o=n.container,i=void 0===o?t.body:o;return e.focusable.findNext({currentElement:r,container:i})}),[e,t]),findPrevFocusable:n.useCallback((function(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e||!t)return null;var o=n.container,i=void 0===o?t.body:o;return e.focusable.findPrev({currentElement:r,container:i})}),[e,t])}};function Ja(e){var t=n.useContext(e);return!!t.version&&-1!==t.version.current}function Xa(){var e=_t((function(e){return e.isSubmenu})),t=Ja(ct);return e||t}function Za(e){return(Za="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function es(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ts(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?es(Object(r),!0).forEach((function(t){rs(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):es(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function rs(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Za(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Za(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Za(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ns(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return os(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return os(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function os(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var is=["after","after-bottom","before-top","before","before-bottom","above"],as=function(e){var t=Xa(),r=e.hoverDelay,o=void 0===r?500:r,i=e.inline,a=void 0!==i&&i,s=e.hasCheckmarks,l=void 0!==s&&s,c=e.hasIcons,u=void 0!==c&&c,d=e.closeOnScroll,p=void 0!==d&&d,f=e.openOnContext,h=void 0!==f&&f,m=e.persistOnItemClick,y=void 0!==m&&m,b=e.openOnHover,v=void 0===b?t:b,g=e.defaultCheckedValues,O=e.mountNode,w=void 0===O?null:O,x=Object($o.a)("menu"),C=ns(function(e){var t=wr(n.useState(e),2),r=t[0],o=t[1];return[r,function(e){if(null!=e){var t;t=e instanceof MouseEvent?e:e.nativeEvent,MouseEvent;var r=function(e){var t=e.clientX,r=e.clientY,n=t+1,o=r+1;return{getBoundingClientRect:function(){return{left:t,top:r,right:n,bottom:o,x:t,y:r,height:1,width:1}}}}(t);o(r)}else o(void 0)}]}(),2),S=C[0],T=C[1],j=ts({position:t?"after":"below",align:t?"top":"start",target:e.openOnContext?S:void 0,fallbackPositions:t?is:void 0},Sr(e.positioning)),k=n.Children.toArray(e.children);var P=void 0,E=void 0;2===k.length?(P=k[0],E=k[1]):1===k.length&&(E=k[0]);var _=Yo(j),I=_.targetRef,R=_.containerRef,A=ns(ls({hoverDelay:o,isSubmenu:t,setContextTarget:T,closeOnScroll:p,menuPopoverRef:R,triggerRef:I,open:e.open,defaultOpen:e.defaultOpen,onOpenChange:e.onOpenChange,openOnContext:h}),2),D=A[0],B=A[1],M=ns(ss({checkedValues:e.checkedValues,defaultCheckedValues:g,onCheckedValueChange:e.onCheckedValueChange}),2);return{inline:a,hoverDelay:o,triggerId:x,isSubmenu:t,openOnHover:v,contextTarget:S,setContextTarget:T,hasCheckmarks:l,hasIcons:u,closeOnScroll:p,menuTrigger:P,menuPopover:E,mountNode:w,triggerRef:I,menuPopoverRef:R,components:{},openOnContext:h,open:D,setOpen:B,checkedValues:M[0],onCheckedValueChange:M[1],persistOnItemClick:y}},ss=function(e){var t=ns(Zo({state:e.checkedValues,defaultState:e.defaultCheckedValues,initialState:{}}),2),r=t[0],n=t[1];return[r,mt((function(t,r){var o,i=r.name,a=r.checkedItems;null===(o=e.onCheckedValueChange)||void 0===o||o.call(e,t,{name:i,checkedItems:a}),n((function(e){return ts(ts({},e),{},rs({},i,a))}))}))]},ls=function(e){var t=Object(yt.b)().targetDocument,r=_t((function(e){return e.setOpen})),o=mt((function(t,r){var n;return null===(n=e.onOpenChange)||void 0===n?void 0:n.call(e,t,r)})),i=n.useRef(0),a=n.useRef(!1),s=ns(Zo({state:e.open,defaultState:e.defaultOpen,initialState:!1}),2),l=s[0],c=s[1],u=mt((function(t,n){var i=t instanceof CustomEvent&&"fuimenuenter"===t.type?t.detail.nativeEvent:t;null==o||o(i,ts({},n)),n.open&&"contextmenu"===t.type&&e.setContextTarget(t),n.open||e.setContextTarget(void 0),n.bubble&&r(t,ts({},n)),c(n.open)})),d=mt((function(t,r){var n;(clearTimeout(i.current),t instanceof Event||!t.persist||t.persist(),"mouseleave"===t.type||"mouseenter"===t.type||"mousemove"===t.type||"fuimenuenter"===t.type)?((null===(n=e.triggerRef.current)||void 0===n?void 0:n.contains(t.target))&&(a.current="mouseenter"===t.type||"mousemove"===t.type),i.current=setTimeout((function(){return u(t,r)}),e.hoverDelay)):u(t,r)}));!function(e){var t=e.refs,r=e.callback,o=e.element,i=e.disabled,a=e.disabledFocusOnIframe,s=e.contains,l=void 0===s?ri:s,c=n.useRef(void 0);oi({element:o,disabled:a||i,callback:r,refs:t,contains:l});var u=n.useRef(!1),d=mt((function(e){if(u.current)u.current=!1;else{var n=e.composedPath()[0];t.every((function(e){return!l(e.current||null,n)}))&&!i&&r(e)}})),p=mt((function(e){u.current=t.some((function(t){return l(t.current||null,e.target)}))}));n.useEffect((function(){if(!i){var e=ni(window),t=function(t){t!==e?d(t):e=void 0};return null==o||o.addEventListener("click",t,!0),null==o||o.addEventListener("touchstart",t,!0),null==o||o.addEventListener("contextmenu",t,!0),null==o||o.addEventListener("mousedown",p,!0),c.current=window.setTimeout((function(){e=void 0}),1),function(){null==o||o.removeEventListener("click",t,!0),null==o||o.removeEventListener("touchstart",t,!0),null==o||o.removeEventListener("contextmenu",t,!0),null==o||o.removeEventListener("mousedown",p,!0),clearTimeout(c.current),e=void 0}}}),[d,o,i,p])}({contains:si,disabled:!l,element:t,refs:[e.menuPopoverRef,!e.openOnContext&&e.triggerRef].filter(Boolean),callback:function(e){return d(e,{open:!1,type:"clickOutside",event:e})}});var p=e.openOnContext||e.closeOnScroll;!function(e){var t=e.refs,r=e.callback,o=e.element,i=e.disabled,a=e.contains,s=mt((function(e){var n=a||function(e,t){return!!(null==e?void 0:e.contains(t))},o=e.composedPath()[0];t.every((function(e){return!n(e.current||null,o)}))&&!i&&r(e)}));n.useEffect((function(){if(!i)return null==o||o.addEventListener("wheel",s),null==o||o.addEventListener("touchmove",s),function(){null==o||o.removeEventListener("wheel",s),null==o||o.removeEventListener("touchmove",s)}}),[s,o,i])}({contains:si,element:t,callback:function(e){return d(e,{open:!1,type:"scrollOutside",event:e})},refs:[e.menuPopoverRef,!e.openOnContext&&e.triggerRef].filter(Boolean),disabled:!l||!p}),function(e){var t=e.refs,r=e.callback,o=e.element,i=e.disabled,a=mt((function(e){var n,o=t[0],a=e.target;!si(null!==(n=o.current)&&void 0!==n?n:null,a)&&!i&&r(e)}));n.useEffect((function(){if(null!=o)return i||o.addEventListener("fuimenuenter",a),function(){o.removeEventListener("fuimenuenter",a)}}),[a,o,i])}({element:t,callback:function(e){a.current||d(e,{open:!1,type:"menuMouseEnter",event:e})},disabled:!l,refs:[e.menuPopoverRef]}),n.useEffect((function(){return function(){clearTimeout(i.current)}}),[]);var f=$a().findFirstFocusable,h=n.useCallback((function(){var t=f(e.menuPopoverRef.current);null==t||t.focus()}),[f,e.menuPopoverRef]);return n.useEffect((function(){l&&h()}),[l,h]),[l,d]};var cs=function(e){var t=as(e);return function(e,t){return n.createElement(Et,{value:t.menu},e.menuTrigger,e.open&&e.menuPopover)}(t,function(e){return{menu:{checkedValues:e.checkedValues,hasCheckmarks:e.hasCheckmarks,hasIcons:e.hasIcons,inline:e.inline,isSubmenu:e.isSubmenu,menuPopoverRef:e.menuPopoverRef,mountNode:e.mountNode,onCheckedValueChange:e.onCheckedValueChange,open:e.open,openOnContext:e.openOnContext,openOnHover:e.openOnHover,persistOnItemClick:e.persistOnItemClick,setOpen:e.setOpen,triggerId:e.triggerId,triggerRef:e.triggerRef}}}(t))};function us(e){return Boolean(e.type.isFluentTriggerComponent)}function ds(e,t){return function(){null==e||e.apply(void 0,arguments),null==t||t.apply(void 0,arguments)}}function ps(e,t){return"function"==typeof e?e(t):e?function e(t,r){if(!n.isValidElement(t)||t.type===n.Fragment)throw new Error("A trigger element must be a single element for this component. Please ensure that you're not using React Fragments.");if(us(t)){var o=e(t.props.children,r);return n.cloneElement(t,void 0,o)}return n.cloneElement(t,r)}(e,t):e||null}function fs(e){return(fs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ms(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?hs(Object(r),!0).forEach((function(t){ys(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hs(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ys(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==fs(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==fs(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===fs(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}cs.displayName="Menu";var bs=function(e){var t=e.children,r=e.disableButtonEnhancement,o=void 0!==r&&r,i=_t((function(e){return e.triggerRef})),a=_t((function(e){return e.menuPopoverRef})),s=_t((function(e){return e.setOpen})),l=_t((function(e){return e.open})),c=_t((function(e){return e.triggerId})),u=_t((function(e){return e.openOnHover})),d=_t((function(e){return e.openOnContext})),p=function(){var e=Ya();return e&&Ga(e),ya({restorer:{type:Fi.RestorerTypes.Target}})}(),f=Xa(),h=$a().findFirstFocusable,m=n.useCallback((function(){var e=h(a.current);null==e||e.focus()}),[h,a]),y=n.useRef(!1),b=n.useRef(!1),v="ltr"===Object(yt.b)().dir?"ArrowRight":"ArrowLeft",g=function e(t){return n.isValidElement(t)?us(t)?e(t.props.children):t:null}(t),O=ms(ms(ms({id:c},null==g?void 0:g.props),{},{ref:Object(ht.a)(i,null==g?void 0:g.ref)},p),{},{onMouseEnter:mt(ds(null==g?void 0:g.props.onMouseEnter,(function(e){vs(e)||u&&b.current&&s(e,{open:!0,keyboard:!1,type:"menuTriggerMouseEnter",event:e})}))),onMouseLeave:mt(ds(null==g?void 0:g.props.onMouseLeave,(function(e){vs(e)||u&&s(e,{open:!1,keyboard:!1,type:"menuTriggerMouseLeave",event:e})}))),onContextMenu:mt(ds(null==g?void 0:g.props.onContextMenu,(function(e){vs(e)||e.isDefaultPrevented()||d&&(e.preventDefault(),s(e,{open:!0,keyboard:!1,type:"menuTriggerContextMenu",event:e}))}))),onMouseMove:mt(ds(null==g?void 0:g.props.onMouseMove,(function(e){vs(e)||u&&!b.current&&(s(e,{open:!0,keyboard:!1,type:"menuTriggerMouseMove",event:e}),b.current=!0)})))}),w=ms(ms({"aria-haspopup":"menu","aria-expanded":l||f?l:void 0},O),{},{onClick:mt(ds(null==g?void 0:g.props.onClick,(function(e){vs(e)||d||(s(e,{open:!l,keyboard:y.current,type:"menuTriggerClick",event:e}),y.current=!1)}))),onKeyDown:mt(ds(null==g?void 0:g.props.onKeyDown,(function(e){if(!vs(e)){var t=e.key;!d&&(f&&t===v||!f&&"ArrowDown"===t)&&s(e,{open:!0,keyboard:!0,type:"menuTriggerKeyDown",event:e}),"Escape"!==t||f||s(e,{open:!1,keyboard:!0,type:"menuTriggerKeyDown",event:e}),l&&t===v&&f&&m()}})))}),x=Nt("button"===(null==g?void 0:g.type)||"a"===(null==g?void 0:g.type)?g.type:"div",w);return{isSubmenu:f,children:ps(t,d?O:o?w:x)}},vs=function(e){var t=function(e){return e.hasAttribute("disabled")||e.hasAttribute("aria-disabled")&&"true"===e.getAttribute("aria-disabled")};return!(!Object(Wo.a)(e.target)||!t(e.target))||Object(Wo.a)(e.currentTarget)&&t(e.currentTarget)},gs=function(e){return function(e){return n.createElement(vt,{value:e.isSubmenu},e.children)}(bs(e))};gs.displayName="MenuTrigger",gs.isFluentTriggerComponent=!0;var Os=r(732),ws=function(e,t){var r,n=Object(Os.a)(e,t),o=Nt(null!==(r=null==n?void 0:n.as)&&void 0!==r?r:"button",n);return n&&o},xs=n.createContext(void 0),Cs={},Ss=(xs.Provider,function(e,t){var r=function(){var e;return null!==(e=n.useContext(xs))&&void 0!==e?e:Cs}().size,o=e.appearance,i=void 0===o?"secondary":o,a=e.as,s=void 0===a?"button":a,l=e.disabled,c=void 0!==l&&l,u=e.disabledFocusable,d=void 0!==u&&u,p=e.icon,f=e.iconPosition,h=void 0===f?"before":f,m=e.shape,y=void 0===m?"rounded":m,b=e.size,v=void 0===b?null!=r?r:"medium":b,g=_e.a.optional(p,{elementType:"span"});return{appearance:i,disabled:c,disabledFocusable:d,iconPosition:h,shape:y,size:v,iconOnly:Boolean((null==g?void 0:g.children)&&!e.children),components:{root:"button",icon:"span"},root:_e.a.always(Object(ft.a)(s,ws(e,{required:!0,defaultProps:{ref:t,type:"button"}})),{elementType:"button"}),icon:g}}),Ts="fui-Button",js="fui-Button__icon",ks=("calc(".concat("var(--strokeWidthThin)"," + 0.25px)"),er("r1alrhcs",null,{r:[".r1alrhcs{align-items:center;box-sizing:border-box;display:inline-flex;justify-content:center;text-decoration-line:none;vertical-align:middle;margin:0;overflow:hidden;background-color:var(--colorNeutralBackground1);color:var(--colorNeutralForeground1);border:var(--strokeWidthThin) solid var(--colorNeutralStroke1);font-family:var(--fontFamilyBase);outline-style:none;padding:5px var(--spacingHorizontalM);min-width:96px;border-radius:var(--borderRadiusMedium);font-size:var(--fontSizeBase300);font-weight:var(--fontWeightSemibold);line-height:var(--lineHeightBase300);transition-duration:var(--durationFaster);transition-property:background,border,color;transition-timing-function:var(--curveEasyEase);}",".r1alrhcs:hover{background-color:var(--colorNeutralBackground1Hover);border-color:var(--colorNeutralStroke1Hover);color:var(--colorNeutralForeground1Hover);cursor:pointer;}",".r1alrhcs:hover:active{background-color:var(--colorNeutralBackground1Pressed);border-color:var(--colorNeutralStroke1Pressed);color:var(--colorNeutralForeground1Pressed);outline-style:none;}",".r1alrhcs[data-fui-focus-visible]{border-color:var(--colorStrokeFocus2);border-radius:var(--borderRadiusMedium);border-width:1px;outline:var(--strokeWidthThick) solid var(--colorTransparentStroke);box-shadow:0 0 0 var(--strokeWidthThin) var(--colorStrokeFocus2) inset;z-index:1;}"],s:["@media screen and (prefers-reduced-motion: reduce){.r1alrhcs{transition-duration:0.01ms;}}","@media (forced-colors: active){.r1alrhcs:focus{border-color:ButtonText;}.r1alrhcs:hover{background-color:HighlightText;border-color:Highlight;color:Highlight;forced-color-adjust:none;}.r1alrhcs:hover:active{background-color:HighlightText;border-color:Highlight;color:Highlight;forced-color-adjust:none;}}","@supports (-moz-appearance:button){.r1alrhcs[data-fui-focus-visible]{box-shadow:0 0 0 calc(var(--strokeWidthThin) + 0.25px) var(--colorStrokeFocus2) inset;}}"]})),Ps=er("rywnvv2",null,[".rywnvv2{align-items:center;display:inline-flex;justify-content:center;font-size:20px;height:20px;width:20px;--fui-Button__icon--spacing:var(--spacingHorizontalSNudge);}"]),Es=Le({outline:{De3pzq:"f1c21dwh",Jwef8y:"fjxutwb",iro3zm:"fwiml72"},primary:{De3pzq:"ffp7eso",g2u3we:"f1p3nwhy",h3c5rm:["f11589ue","f1pdflbu"],B9xav0g:"f1q5o8ev",zhjwy3:["f1pdflbu","f11589ue"],sj55zd:"f1phragk",Jwef8y:"f15wkkf3",Bgoe8wy:"f1s2uweq",Bwzppfd:["fr80ssc","fecsdlb"],oetu4i:"f1ukrpxl",gg5e9n:["fecsdlb","fr80ssc"],Bi91k9c:"f1rq72xc",iro3zm:"fnp9lpt",b661bw:"f1h0usnq",Bk6r4ia:["fs4ktlq","fx2bmrt"],B9zn80p:"f16h9ulv",Bpld233:["fx2bmrt","fs4ktlq"],B2d53fq:"f1d6v5y2",Bsw6fvg:"f1rirnrt",Bjwas2f:"f1uu00uk",Bn1d65q:["fkvaka8","f9a0qzu"],Bxeuatn:"f1ux7til",n51gp8:["f9a0qzu","fkvaka8"],Bbusuzp:"f1lkg8j3",ycbfsm:"fkc42ay",Bqrx1nm:"fq7113v",pgvf35:"ff1wgvm",Bh7lczh:["fiob0tu","f1x4h75k"],dpv3f4:"f1j6scgf",Bpnjhaq:["f1x4h75k","fiob0tu"],ze5xyy:"f4xjyn1",g2kj27:"fbgcvur",Bf756sw:"f1ks1yx8",Bow2dr7:["f1o6qegi","fmxjhhp"],Bvhedfk:"fcnxywj",Gye4lf:["fmxjhhp","f1o6qegi"],pc6evw:"f9ddjv3"},secondary:{},subtle:{De3pzq:"fhovq9v",g2u3we:"f1p3nwhy",h3c5rm:["f11589ue","f1pdflbu"],B9xav0g:"f1q5o8ev",zhjwy3:["f1pdflbu","f11589ue"],sj55zd:"fkfq4zb",Jwef8y:"f1t94bn6",Bgoe8wy:"f1s2uweq",Bwzppfd:["fr80ssc","fecsdlb"],oetu4i:"f1ukrpxl",gg5e9n:["fecsdlb","fr80ssc"],Bi91k9c:"fnwyq0v",Bk3fhr4:"ft1hn21",Bmfj8id:"fuxngvv",Bbdnnc7:"fy5bs14",iro3zm:"fsv2rcd",b661bw:"f1h0usnq",Bk6r4ia:["fs4ktlq","fx2bmrt"],B9zn80p:"f16h9ulv",Bpld233:["fx2bmrt","fs4ktlq"],B2d53fq:"f1omzyqd",em6i61:"f1dfjoow",vm6p8p:"f1j98vj9",x3br3k:"fj8yq94",ze5xyy:"f4xjyn1",Bx3q9su:"f1et0tmh",pc6evw:"f9ddjv3",xd2cci:"f1wi8ngl"},transparent:{De3pzq:"f1c21dwh",g2u3we:"f1p3nwhy",h3c5rm:["f11589ue","f1pdflbu"],B9xav0g:"f1q5o8ev",zhjwy3:["f1pdflbu","f11589ue"],sj55zd:"fkfq4zb",Jwef8y:"fjxutwb",Bgoe8wy:"f1s2uweq",Bwzppfd:["fr80ssc","fecsdlb"],oetu4i:"f1ukrpxl",gg5e9n:["fecsdlb","fr80ssc"],Bi91k9c:"f139oj5f",Bk3fhr4:"ft1hn21",Bmfj8id:"fuxngvv",iro3zm:"fwiml72",b661bw:"f1h0usnq",Bk6r4ia:["fs4ktlq","fx2bmrt"],B9zn80p:"f16h9ulv",Bpld233:["fx2bmrt","fs4ktlq"],B2d53fq:"f1fg1p5m",em6i61:"f1dfjoow",vm6p8p:"f1j98vj9",Bqrx1nm:"f1tme0vf",ze5xyy:"f4xjyn1",g2kj27:"f18onu3q",pc6evw:"f9ddjv3"},circular:{Bbmb7ep:["f8fbkgy","f1nfllo7"],Beyfa6y:["f1nfllo7","f8fbkgy"],B7oj6ja:["f1djnp8u","f1s8kh49"],Btl43ni:["f1s8kh49","f1djnp8u"]},rounded:{},square:{Bbmb7ep:["fzi6hpg","fyowgf4"],Beyfa6y:["fyowgf4","fzi6hpg"],B7oj6ja:["f3fg2lr","f13av6d4"],Btl43ni:["f13av6d4","f3fg2lr"]},small:{Bf4jedk:"fh7ncta",z8tnut:"f1khb0e9",z189sj:["f1vdfbxk","f1f5gg8d"],Byoj8tv:"f1jnq6q7",uwmqm3:["f1f5gg8d","f1vdfbxk"],Bbmb7ep:["f1aa9q02","f16jpd5f"],Beyfa6y:["f16jpd5f","f1aa9q02"],B7oj6ja:["f1jar5jt","fyu767a"],Btl43ni:["fyu767a","f1jar5jt"],Be2twd7:"fy9rknc",Bhrd7zp:"figsok6",Bg96gwp:"fwrc4pm"},smallWithIcon:{Byoj8tv:"f1brlhvm",z8tnut:"f1sl3k7w"},medium:{},large:{Bf4jedk:"f14es27b",z8tnut:"fp9bwmr",z189sj:["fjodcmx","fhx4nu"],Byoj8tv:"f150uoa4",uwmqm3:["fhx4nu","fjodcmx"],Bbmb7ep:["f1aa9q02","f16jpd5f"],Beyfa6y:["f16jpd5f","f1aa9q02"],B7oj6ja:["f1jar5jt","fyu767a"],Btl43ni:["fyu767a","f1jar5jt"],Be2twd7:"fod5ikn",Bhrd7zp:"fl43uef",Bg96gwp:"faaz57k"},largeWithIcon:{Byoj8tv:"fy7v416",z8tnut:"f1a1bwwz"}},{d:[".f1c21dwh{background-color:var(--colorTransparentBackground);}",".ffp7eso{background-color:var(--colorBrandBackground);}",".f1p3nwhy{border-top-color:transparent;}",".f11589ue{border-right-color:transparent;}",".f1pdflbu{border-left-color:transparent;}",".f1q5o8ev{border-bottom-color:transparent;}",".f1phragk{color:var(--colorNeutralForegroundOnBrand);}",".fhovq9v{background-color:var(--colorSubtleBackground);}",".fkfq4zb{color:var(--colorNeutralForeground2);}",".f8fbkgy{border-bottom-right-radius:var(--borderRadiusCircular);}",".f1nfllo7{border-bottom-left-radius:var(--borderRadiusCircular);}",".f1djnp8u{border-top-right-radius:var(--borderRadiusCircular);}",".f1s8kh49{border-top-left-radius:var(--borderRadiusCircular);}",".fzi6hpg{border-bottom-right-radius:var(--borderRadiusNone);}",".fyowgf4{border-bottom-left-radius:var(--borderRadiusNone);}",".f3fg2lr{border-top-right-radius:var(--borderRadiusNone);}",".f13av6d4{border-top-left-radius:var(--borderRadiusNone);}",".fh7ncta{min-width:64px;}",".f1khb0e9{padding-top:3px;}",".f1vdfbxk{padding-right:var(--spacingHorizontalS);}",".f1f5gg8d{padding-left:var(--spacingHorizontalS);}",".f1jnq6q7{padding-bottom:3px;}",".f1aa9q02{border-bottom-right-radius:var(--borderRadiusMedium);}",".f16jpd5f{border-bottom-left-radius:var(--borderRadiusMedium);}",".f1jar5jt{border-top-right-radius:var(--borderRadiusMedium);}",".fyu767a{border-top-left-radius:var(--borderRadiusMedium);}",".fy9rknc{font-size:var(--fontSizeBase200);}",".figsok6{font-weight:var(--fontWeightRegular);}",".fwrc4pm{line-height:var(--lineHeightBase200);}",".f1brlhvm{padding-bottom:1px;}",".f1sl3k7w{padding-top:1px;}",".f14es27b{min-width:96px;}",".fp9bwmr{padding-top:8px;}",".fjodcmx{padding-right:var(--spacingHorizontalL);}",".fhx4nu{padding-left:var(--spacingHorizontalL);}",".f150uoa4{padding-bottom:8px;}",".fod5ikn{font-size:var(--fontSizeBase400);}",".fl43uef{font-weight:var(--fontWeightSemibold);}",".faaz57k{line-height:var(--lineHeightBase400);}",".fy7v416{padding-bottom:7px;}",".f1a1bwwz{padding-top:7px;}"],h:[".fjxutwb:hover{background-color:var(--colorTransparentBackgroundHover);}",".fwiml72:hover:active{background-color:var(--colorTransparentBackgroundPressed);}",".f15wkkf3:hover{background-color:var(--colorBrandBackgroundHover);}",".f1s2uweq:hover{border-top-color:transparent;}",".fr80ssc:hover{border-right-color:transparent;}",".fecsdlb:hover{border-left-color:transparent;}",".f1ukrpxl:hover{border-bottom-color:transparent;}",".f1rq72xc:hover{color:var(--colorNeutralForegroundOnBrand);}",".fnp9lpt:hover:active{background-color:var(--colorBrandBackgroundPressed);}",".f1h0usnq:hover:active{border-top-color:transparent;}",".fs4ktlq:hover:active{border-right-color:transparent;}",".fx2bmrt:hover:active{border-left-color:transparent;}",".f16h9ulv:hover:active{border-bottom-color:transparent;}",".f1d6v5y2:hover:active{color:var(--colorNeutralForegroundOnBrand);}",".f1t94bn6:hover{background-color:var(--colorSubtleBackgroundHover);}",".fnwyq0v:hover{color:var(--colorNeutralForeground2Hover);}",".ft1hn21:hover .fui-Icon-filled{display:inline;}",".fuxngvv:hover .fui-Icon-regular{display:none;}",".fy5bs14:hover .fui-Button__icon{color:var(--colorNeutralForeground2BrandHover);}",".fsv2rcd:hover:active{background-color:var(--colorSubtleBackgroundPressed);}",".f1omzyqd:hover:active{color:var(--colorNeutralForeground2Pressed);}",".f1dfjoow:hover:active .fui-Icon-filled{display:inline;}",".f1j98vj9:hover:active .fui-Icon-regular{display:none;}",".fj8yq94:hover:active .fui-Button__icon{color:var(--colorNeutralForeground2BrandPressed);}",".f139oj5f:hover{color:var(--colorNeutralForeground2BrandHover);}",".f1fg1p5m:hover:active{color:var(--colorNeutralForeground2BrandPressed);}"],m:[["@media (forced-colors: active){.f1rirnrt{background-color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1uu00uk{border-top-color:HighlightText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f9a0qzu{border-left-color:HighlightText;}.fkvaka8{border-right-color:HighlightText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1ux7til{border-bottom-color:HighlightText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1lkg8j3{color:HighlightText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fkc42ay{forced-color-adjust:none;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fq7113v:hover{background-color:HighlightText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.ff1wgvm:hover{border-top-color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1x4h75k:hover{border-left-color:Highlight;}.fiob0tu:hover{border-right-color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1j6scgf:hover{border-bottom-color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f4xjyn1:hover{color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fbgcvur:hover:active{background-color:HighlightText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1ks1yx8:hover:active{border-top-color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1o6qegi:hover:active{border-right-color:Highlight;}.fmxjhhp:hover:active{border-left-color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fcnxywj:hover:active{border-bottom-color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f9ddjv3:hover:active{color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1et0tmh:hover .fui-Button__icon{color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1wi8ngl:hover:active .fui-Button__icon{color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1tme0vf:hover{background-color:var(--colorTransparentBackground);}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f18onu3q:hover:active{background-color:var(--colorTransparentBackground);}}",{m:"(forced-colors: active)"}]]}),_s=Le({base:{De3pzq:"f1bg9a2p",g2u3we:"f1jj8ep1",h3c5rm:["f15xbau","fy0fskl"],B9xav0g:"f4ikngz",zhjwy3:["fy0fskl","f15xbau"],sj55zd:"f1s2aq7o",Bceei9c:"fdrzuqr",Bfinmwp:"f15x8b5r",Jwef8y:"f1falr9n",Bgoe8wy:"f12mpcsy",Bwzppfd:["f1gwvigk","f18rmfxp"],oetu4i:"f1jnshp0",gg5e9n:["f18rmfxp","f1gwvigk"],Bi91k9c:"fvgxktp",eoavqd:"fphbwmw",Bk3fhr4:"f19vpps7",Bmfj8id:"fv5swzo",Bbdnnc7:"f1al02dq",iro3zm:"f1t6o4dc",b661bw:"f10ztigi",Bk6r4ia:["f1ft5sdu","f1gzf82w"],B9zn80p:"f12zbtn2",Bpld233:["f1gzf82w","f1ft5sdu"],B2d53fq:"fcvwxyo",c3iz72:"f8w4c43",em6i61:"f1ol4fw6",vm6p8p:"f1q1lw4e",x3br3k:"f1dwjv2g"},highContrast:{Bsw6fvg:"f4lkoma",Bjwas2f:"fg455y9",Bn1d65q:["f1rvyvqg","f14g86mu"],Bxeuatn:"f1cwzwz",n51gp8:["f14g86mu","f1rvyvqg"],Bbusuzp:"f1dcs8yz",G867l3:"fjwq6ea",gdbnj:["f1lr3nhc","f1mbxvi6"],mxns5l:"fn5gmvv",o3nasb:["f1mbxvi6","f1lr3nhc"],Bqrx1nm:"f1vmkb5g",pgvf35:"f53ppgq",Bh7lczh:["f1663y11","f80fkiy"],dpv3f4:"f18v5270",Bpnjhaq:["f80fkiy","f1663y11"],ze5xyy:"f1kc2mi9",g2kj27:"f1y0svfh",Bf756sw:"fihuait",Bow2dr7:["fnxhupq","fyd6l6x"],Bvhedfk:"fx507ft",Gye4lf:["fyd6l6x","fnxhupq"],pc6evw:"fb3rf2x"},outline:{De3pzq:"f1c21dwh",Jwef8y:"f9ql6rf",iro3zm:"f3h1zc4"},primary:{g2u3we:"f1p3nwhy",h3c5rm:["f11589ue","f1pdflbu"],B9xav0g:"f1q5o8ev",zhjwy3:["f1pdflbu","f11589ue"],Bgoe8wy:"f1s2uweq",Bwzppfd:["fr80ssc","fecsdlb"],oetu4i:"f1ukrpxl",gg5e9n:["fecsdlb","fr80ssc"],b661bw:"f1h0usnq",Bk6r4ia:["fs4ktlq","fx2bmrt"],B9zn80p:"f16h9ulv",Bpld233:["fx2bmrt","fs4ktlq"]},secondary:{},subtle:{De3pzq:"f1c21dwh",g2u3we:"f1p3nwhy",h3c5rm:["f11589ue","f1pdflbu"],B9xav0g:"f1q5o8ev",zhjwy3:["f1pdflbu","f11589ue"],Jwef8y:"f9ql6rf",Bgoe8wy:"f1s2uweq",Bwzppfd:["fr80ssc","fecsdlb"],oetu4i:"f1ukrpxl",gg5e9n:["fecsdlb","fr80ssc"],iro3zm:"f3h1zc4",b661bw:"f1h0usnq",Bk6r4ia:["fs4ktlq","fx2bmrt"],B9zn80p:"f16h9ulv",Bpld233:["fx2bmrt","fs4ktlq"]},transparent:{De3pzq:"f1c21dwh",g2u3we:"f1p3nwhy",h3c5rm:["f11589ue","f1pdflbu"],B9xav0g:"f1q5o8ev",zhjwy3:["f1pdflbu","f11589ue"],Jwef8y:"f9ql6rf",Bgoe8wy:"f1s2uweq",Bwzppfd:["fr80ssc","fecsdlb"],oetu4i:"f1ukrpxl",gg5e9n:["fecsdlb","fr80ssc"],iro3zm:"f3h1zc4",b661bw:"f1h0usnq",Bk6r4ia:["fs4ktlq","fx2bmrt"],B9zn80p:"f16h9ulv",Bpld233:["fx2bmrt","fs4ktlq"]}},{d:[".f1bg9a2p{background-color:var(--colorNeutralBackgroundDisabled);}",".f1jj8ep1{border-top-color:var(--colorNeutralStrokeDisabled);}",".f15xbau{border-right-color:var(--colorNeutralStrokeDisabled);}",".fy0fskl{border-left-color:var(--colorNeutralStrokeDisabled);}",".f4ikngz{border-bottom-color:var(--colorNeutralStrokeDisabled);}",".f1s2aq7o{color:var(--colorNeutralForegroundDisabled);}",".fdrzuqr{cursor:not-allowed;}",".f15x8b5r .fui-Button__icon{color:var(--colorNeutralForegroundDisabled);}",".f1c21dwh{background-color:var(--colorTransparentBackground);}",".f1p3nwhy{border-top-color:transparent;}",".f11589ue{border-right-color:transparent;}",".f1pdflbu{border-left-color:transparent;}",".f1q5o8ev{border-bottom-color:transparent;}"],h:[".f1falr9n:hover{background-color:var(--colorNeutralBackgroundDisabled);}",".f12mpcsy:hover{border-top-color:var(--colorNeutralStrokeDisabled);}",".f1gwvigk:hover{border-right-color:var(--colorNeutralStrokeDisabled);}",".f18rmfxp:hover{border-left-color:var(--colorNeutralStrokeDisabled);}",".f1jnshp0:hover{border-bottom-color:var(--colorNeutralStrokeDisabled);}",".fvgxktp:hover{color:var(--colorNeutralForegroundDisabled);}",".fphbwmw:hover{cursor:not-allowed;}",".f19vpps7:hover .fui-Icon-filled{display:none;}",".fv5swzo:hover .fui-Icon-regular{display:inline;}",".f1al02dq:hover .fui-Button__icon{color:var(--colorNeutralForegroundDisabled);}",".f1t6o4dc:hover:active{background-color:var(--colorNeutralBackgroundDisabled);}",".f10ztigi:hover:active{border-top-color:var(--colorNeutralStrokeDisabled);}",".f1ft5sdu:hover:active{border-right-color:var(--colorNeutralStrokeDisabled);}",".f1gzf82w:hover:active{border-left-color:var(--colorNeutralStrokeDisabled);}",".f12zbtn2:hover:active{border-bottom-color:var(--colorNeutralStrokeDisabled);}",".fcvwxyo:hover:active{color:var(--colorNeutralForegroundDisabled);}",".f8w4c43:hover:active{cursor:not-allowed;}",".f1ol4fw6:hover:active .fui-Icon-filled{display:none;}",".f1q1lw4e:hover:active .fui-Icon-regular{display:inline;}",".f1dwjv2g:hover:active .fui-Button__icon{color:var(--colorNeutralForegroundDisabled);}",".f9ql6rf:hover{background-color:var(--colorTransparentBackground);}",".f3h1zc4:hover:active{background-color:var(--colorTransparentBackground);}",".f1s2uweq:hover{border-top-color:transparent;}",".fr80ssc:hover{border-right-color:transparent;}",".fecsdlb:hover{border-left-color:transparent;}",".f1ukrpxl:hover{border-bottom-color:transparent;}",".f1h0usnq:hover:active{border-top-color:transparent;}",".fs4ktlq:hover:active{border-right-color:transparent;}",".fx2bmrt:hover:active{border-left-color:transparent;}",".f16h9ulv:hover:active{border-bottom-color:transparent;}"],m:[["@media (forced-colors: active){.f4lkoma{background-color:ButtonFace;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fg455y9{border-top-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f14g86mu{border-left-color:GrayText;}.f1rvyvqg{border-right-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1cwzwz{border-bottom-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1dcs8yz{color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fjwq6ea:focus{border-top-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1lr3nhc:focus{border-right-color:GrayText;}.f1mbxvi6:focus{border-left-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fn5gmvv:focus{border-bottom-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1vmkb5g:hover{background-color:ButtonFace;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f53ppgq:hover{border-top-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1663y11:hover{border-right-color:GrayText;}.f80fkiy:hover{border-left-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f18v5270:hover{border-bottom-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1kc2mi9:hover{color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1y0svfh:hover:active{background-color:ButtonFace;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fihuait:hover:active{border-top-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fnxhupq:hover:active{border-right-color:GrayText;}.fyd6l6x:hover:active{border-left-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fx507ft:hover:active{border-bottom-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fb3rf2x:hover:active{color:GrayText;}}",{m:"(forced-colors: active)"}]]}),Is=Le({circular:{kdpuga:["fanj13w","f1gou5sz"],Bw81rd7:["f1gou5sz","fanj13w"],B6xbmo0:["fulf6x3","foeb2x"],dm238s:["foeb2x","fulf6x3"]},rounded:{},square:{kdpuga:["f1ndz5i7","f1co4qro"],Bw81rd7:["f1co4qro","f1ndz5i7"],B6xbmo0:["f146y5a9","f1k2ftg"],dm238s:["f1k2ftg","f146y5a9"]},primary:{B8q5s1w:"f17t0x8g",Bci5o5g:["f194v5ow","fk7jm04"],n8qw10:"f1qgg65p",Bdrgwmp:["fk7jm04","f194v5ow"],j6ew2k:["fhgccpy","fjo7pq6"],he4mth:"f32wu9k",Byr4aka:"fu5nqqq",lks7q5:["f13prjl2","f1nl83rv"],Bnan3qt:"f1czftr5",k1dn9:["f1nl83rv","f13prjl2"],Boium3a:["f12k37oa","fdnykm2"],tm8e47:"fr96u23"},small:{kdpuga:["fg3gtdo","fwii5mg"],Bw81rd7:["fwii5mg","fg3gtdo"],B6xbmo0:["f1palphq","f12nxie7"],dm238s:["f12nxie7","f1palphq"]},medium:{},large:{kdpuga:["ft3lys4","f1la4x2g"],Bw81rd7:["f1la4x2g","ft3lys4"],B6xbmo0:["f156y0zm","fakimq4"],dm238s:["fakimq4","f156y0zm"]}},{d:[".fanj13w[data-fui-focus-visible]{border-bottom-right-radius:var(--borderRadiusCircular);}",".f1gou5sz[data-fui-focus-visible]{border-bottom-left-radius:var(--borderRadiusCircular);}",".fulf6x3[data-fui-focus-visible]{border-top-right-radius:var(--borderRadiusCircular);}",".foeb2x[data-fui-focus-visible]{border-top-left-radius:var(--borderRadiusCircular);}",".f1ndz5i7[data-fui-focus-visible]{border-bottom-right-radius:var(--borderRadiusNone);}",".f1co4qro[data-fui-focus-visible]{border-bottom-left-radius:var(--borderRadiusNone);}",".f146y5a9[data-fui-focus-visible]{border-top-right-radius:var(--borderRadiusNone);}",".f1k2ftg[data-fui-focus-visible]{border-top-left-radius:var(--borderRadiusNone);}",".f17t0x8g[data-fui-focus-visible]{border-top-color:var(--colorStrokeFocus2);}",".f194v5ow[data-fui-focus-visible]{border-right-color:var(--colorStrokeFocus2);}",".fk7jm04[data-fui-focus-visible]{border-left-color:var(--colorStrokeFocus2);}",".f1qgg65p[data-fui-focus-visible]{border-bottom-color:var(--colorStrokeFocus2);}",".fhgccpy[data-fui-focus-visible]{box-shadow:var(--shadow2),0 0 0 var(--strokeWidthThin) var(--colorStrokeFocus2) inset,0 0 0 var(--strokeWidthThick) var(--colorNeutralForegroundOnBrand) inset;}",".fjo7pq6[data-fui-focus-visible]{box-shadow:var(--shadow2),0 0 0 var(--strokeWidthThin) var(--colorStrokeFocus2) inset,0 0 0 var(--strokeWidthThick) var(--colorNeutralForegroundOnBrand) inset;}",".f32wu9k[data-fui-focus-visible]:hover{box-shadow:var(--shadow2),0 0 0 var(--strokeWidthThin) var(--colorStrokeFocus2) inset;}",".fu5nqqq[data-fui-focus-visible]:hover{border-top-color:var(--colorStrokeFocus2);}",".f13prjl2[data-fui-focus-visible]:hover{border-right-color:var(--colorStrokeFocus2);}",".f1nl83rv[data-fui-focus-visible]:hover{border-left-color:var(--colorStrokeFocus2);}",".f1czftr5[data-fui-focus-visible]:hover{border-bottom-color:var(--colorStrokeFocus2);}",".fg3gtdo[data-fui-focus-visible]{border-bottom-right-radius:var(--borderRadiusSmall);}",".fwii5mg[data-fui-focus-visible]{border-bottom-left-radius:var(--borderRadiusSmall);}",".f1palphq[data-fui-focus-visible]{border-top-right-radius:var(--borderRadiusSmall);}",".f12nxie7[data-fui-focus-visible]{border-top-left-radius:var(--borderRadiusSmall);}",".ft3lys4[data-fui-focus-visible]{border-bottom-right-radius:var(--borderRadiusLarge);}",".f1la4x2g[data-fui-focus-visible]{border-bottom-left-radius:var(--borderRadiusLarge);}",".f156y0zm[data-fui-focus-visible]{border-top-right-radius:var(--borderRadiusLarge);}",".fakimq4[data-fui-focus-visible]{border-top-left-radius:var(--borderRadiusLarge);}"],t:["@supports (-moz-appearance:button){.f12k37oa[data-fui-focus-visible]{box-shadow:var(--shadow2),0 0 0 calc(var(--strokeWidthThin) + 0.25px) var(--colorStrokeFocus2) inset,0 0 0 var(--strokeWidthThick) var(--colorNeutralForegroundOnBrand) inset;}.fdnykm2[data-fui-focus-visible]{box-shadow:var(--shadow2),0 0 0 calc(var(--strokeWidthThin) + 0.25px) var(--colorStrokeFocus2) inset,0 0 0 var(--strokeWidthThick) var(--colorNeutralForegroundOnBrand) inset;}}","@supports (-moz-appearance:button){.fr96u23[data-fui-focus-visible]:hover{box-shadow:var(--shadow2),0 0 0 calc(var(--strokeWidthThin) + 0.25px) var(--colorStrokeFocus2) inset;}}"]}),Rs=Le({small:{z8tnut:"f1sl3k7w",z189sj:["f136y8j8","f10xn8zz"],Byoj8tv:"f1brlhvm",uwmqm3:["f10xn8zz","f136y8j8"],Bf4jedk:"f17fgpbq",B2u0y6b:"f1jt17bm"},medium:{z8tnut:"f1sbtcvk",z189sj:["fwiuce9","f15vdbe4"],Byoj8tv:"fdghr9",uwmqm3:["f15vdbe4","fwiuce9"],Bf4jedk:"fwbmr0d",B2u0y6b:"f44c6la"},large:{z8tnut:"f1a1bwwz",z189sj:["f18k1jr3","f1rtp3s9"],Byoj8tv:"fy7v416",uwmqm3:["f1rtp3s9","f18k1jr3"],Bf4jedk:"f12clzc2",B2u0y6b:"fjy1crr"}},{d:[".f1sl3k7w{padding-top:1px;}",".f136y8j8{padding-right:1px;}",".f10xn8zz{padding-left:1px;}",".f1brlhvm{padding-bottom:1px;}",".f17fgpbq{min-width:24px;}",".f1jt17bm{max-width:24px;}",".f1sbtcvk{padding-top:5px;}",".fwiuce9{padding-right:5px;}",".f15vdbe4{padding-left:5px;}",".fdghr9{padding-bottom:5px;}",".fwbmr0d{min-width:32px;}",".f44c6la{max-width:32px;}",".f1a1bwwz{padding-top:7px;}",".f18k1jr3{padding-right:7px;}",".f1rtp3s9{padding-left:7px;}",".fy7v416{padding-bottom:7px;}",".f12clzc2{min-width:40px;}",".fjy1crr{max-width:40px;}"]}),As=Le({small:{Be2twd7:"fe5j1ua",Bqenvij:"fjamq6b",a9b677:"f64fuq3",Bqrlyyl:"fbaiahx"},medium:{},large:{Be2twd7:"f1rt2boy",Bqenvij:"frvgh55",a9b677:"fq4mcun",Bqrlyyl:"f1exjqw5"},before:{t21cq0:["f1nizpg2","f1a695kz"]},after:{Frg6f3:["f1a695kz","f1nizpg2"]}},{d:[".fe5j1ua{font-size:20px;}",".fjamq6b{height:20px;}",".f64fuq3{width:20px;}",".fbaiahx{--fui-Button__icon--spacing:var(--spacingHorizontalXS);}",".f1rt2boy{font-size:24px;}",".frvgh55{height:24px;}",".fq4mcun{width:24px;}",".f1exjqw5{--fui-Button__icon--spacing:var(--spacingHorizontalSNudge);}",".f1nizpg2{margin-right:var(--fui-Button__icon--spacing);}",".f1a695kz{margin-left:var(--fui-Button__icon--spacing);}"]}),Ds=n.forwardRef((function(e,t){var r=Ss(e,t);return function(e){var t=ks(),r=Ps(),n=Es(),o=_s(),i=Is(),a=Rs(),s=As(),l=e.appearance,c=e.disabled,u=e.disabledFocusable,d=e.icon,p=e.iconOnly,f=e.iconPosition,h=e.shape,m=e.size;e.root.className=Object(Fe.a)(Ts,t,l&&n[l],n[m],d&&"small"===m&&n.smallWithIcon,d&&"large"===m&&n.largeWithIcon,n[h],(c||u)&&o.base,(c||u)&&o.highContrast,l&&(c||u)&&o[l],"primary"===l&&i.primary,i[m],i[h],p&&a[m],e.root.className),e.icon&&(e.icon.className=Object(Fe.a)(js,r,!!e.root.children&&s[f],s[m],e.icon.className))}(r),Object(gr.c)("useButtonStyles_unstable")(r),function(e){Object($t.a)(e);var t=e.iconOnly,r=e.iconPosition;return Object(Yt.b)(e.root,{children:["after"!==r&&e.icon&&Object(Yt.a)(e.icon,{}),!t&&e.root.children,"after"===r&&e.icon&&Object(Yt.a)(e.icon,{})]})}(r)}));function Bs(e){return(Bs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ms(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ns(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ms(Object(r),!0).forEach((function(t){Ls(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ms(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ls(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Bs(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Bs(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Bs(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Ds.displayName="Button";var Fs=function(e,t){var r,o=_t((function(e){return e.menuPopoverRef})),i=_t((function(e){return e.setOpen})),a=_t((function(e){return e.open})),s=_t((function(e){return e.openOnHover})),l=_t((function(e){return e.triggerRef})),c=Xa(),u=n.useRef(!0),d=n.useRef(0),p=function(){var e=Ya();return e&&Ga(e),ya({restorer:{type:Fi.RestorerTypes.Source}})}(),f="ltr"===Object(yt.b)().dir?"ArrowLeft":"ArrowRight",h=n.useCallback((function(e){e&&e.addEventListener("mouseover",(function(e){u.current&&(u.current=!1,function(e,t){e.dispatchEvent(new CustomEvent("fuimenuenter",{bubbles:!0,detail:{nativeEvent:t}}))}(o.current,e),d.current=setTimeout((function(){return u.current=!0}),250))}))}),[o,d]);n.useEffect((function(){}),[]);var m=null!==(r=_t((function(e){return e.inline})))&&void 0!==r&&r,y=_t((function(e){return e.mountNode})),b=_e.a.always(Object(ft.a)("div",Ns(Ns(Ns({role:"presentation"},p),e),{},{ref:Object(ht.a)(t,o,h)})),{elementType:"div"}),v=b.onMouseEnter,g=b.onKeyDown;return b.onMouseEnter=mt((function(e){s&&i(e,{open:!0,keyboard:!1,type:"menuPopoverMouseEnter",event:e}),null==v||v(e)})),b.onKeyDown=mt((function(e){var t,r,n=e.key;("Escape"===n||c&&n===f)&&(a&&(null===(t=o.current)||void 0===t?void 0:t.contains(e.target))&&!e.isDefaultPrevented()&&(i(e,{open:!1,keyboard:!0,type:"menuPopoverKeyDown",event:e}),e.preventDefault()));"Tab"===n&&(i(e,{open:!1,keyboard:!0,type:"menuPopoverKeyDown",event:e}),c||null===(r=l.current)||void 0===r||r.focus());null==g||g(e)})),{inline:m,mountNode:y,components:{root:"div"},root:b}},zs="fui-MenuPopover",Hs=Le({root:{Bbmb7ep:["f1aa9q02","f16jpd5f"],Beyfa6y:["f16jpd5f","f1aa9q02"],B7oj6ja:["f1jar5jt","fyu767a"],Btl43ni:["fyu767a","f1jar5jt"],De3pzq:"fxugw4r",sj55zd:"f19n0e5",B7ck84d:"f1ewtqcl",Bf4jedk:"fl8fusi",B2u0y6b:"f1kaai3v",B68tc82:"f1p9o1ba",a9b677:"f1ahpp82",E5pizo:"f1hg901r",z8tnut:"f10ra9hq",z189sj:["f8wuabp","fycuoez"],Byoj8tv:"f1y2xyjm",uwmqm3:["fycuoez","f8wuabp"],B4j52fo:"f5ogflp",Bekrc4i:["f1hqa2wf","finvdd3"],Bn0qgzm:"f1f09k3d",ibv6hh:["finvdd3","f1hqa2wf"],icvyot:"fzkkow9",vrafjx:["fcdblym","fjik90z"],oivjwe:"fg706s2",wvpqe5:["fjik90z","fcdblym"],g2u3we:"fghlq4f",h3c5rm:["f1gn591s","fjscplz"],B9xav0g:"fb073pr",zhjwy3:["fjscplz","f1gn591s"],Bahqtrf:"fk6fouc",Be2twd7:"fkhj508",Bhrd7zp:"figsok6",Bg96gwp:"f1i3iumi",B93otf3:"f18k4bn6",vin17d:"fo1kyvf",Ezkn3b:"fetxo7e",ex8oj8:"fmm77a6",Bksk4gw:"f12t24nk",Bc5phfd:"f1babd7",cbiifc:"f1jgo889",fyiq5g:"f1ij1pew",Bqc19t1:"f1gu8pa9",Eet2gb:"fhfnl4n",Bhl7k63:"fk8tkmz",Bv12yb3:"f3n0535",z0t1cu:"fi19xcv",Bks05zx:"f1mzajhk",Bvtglag:"fjp4h9y"}},{d:[".f1aa9q02{border-bottom-right-radius:var(--borderRadiusMedium);}",".f16jpd5f{border-bottom-left-radius:var(--borderRadiusMedium);}",".f1jar5jt{border-top-right-radius:var(--borderRadiusMedium);}",".fyu767a{border-top-left-radius:var(--borderRadiusMedium);}",".fxugw4r{background-color:var(--colorNeutralBackground1);}",".f19n0e5{color:var(--colorNeutralForeground1);}",".f1ewtqcl{box-sizing:border-box;}",".fl8fusi{min-width:138px;}",".f1kaai3v{max-width:300px;}",".f1p9o1ba{overflow-x:hidden;}",".f1ahpp82{width:max-content;}",".f1hg901r{box-shadow:var(--shadow16);}",".f10ra9hq{padding-top:4px;}",".f8wuabp{padding-right:4px;}",".fycuoez{padding-left:4px;}",".f1y2xyjm{padding-bottom:4px;}",".f5ogflp{border-top-width:1px;}",".f1hqa2wf{border-right-width:1px;}",".finvdd3{border-left-width:1px;}",".f1f09k3d{border-bottom-width:1px;}",".fzkkow9{border-top-style:solid;}",".fcdblym{border-right-style:solid;}",".fjik90z{border-left-style:solid;}",".fg706s2{border-bottom-style:solid;}",".fghlq4f{border-top-color:var(--colorTransparentStroke);}",".f1gn591s{border-right-color:var(--colorTransparentStroke);}",".fjscplz{border-left-color:var(--colorTransparentStroke);}",".fb073pr{border-bottom-color:var(--colorTransparentStroke);}",".fk6fouc{font-family:var(--fontFamilyBase);}",".fkhj508{font-size:var(--fontSizeBase300);}",".figsok6{font-weight:var(--fontWeightRegular);}",".f1i3iumi{line-height:var(--lineHeightBase300);}",".f18k4bn6{animation-composition:accumulate;}",".fo1kyvf{animation-duration:var(--durationSlower);}",".fetxo7e{animation-timing-function:var(--curveDecelerateMid);}",".fmm77a6{--slide-distance-x:0px;}",".f12t24nk{--slide-distance-y:10px;}",".f1babd7[data-popper-placement^=right]{--slide-distance-x:-10px;}",".f1jgo889[data-popper-placement^=right]{--slide-distance-y:0px;}",".f1ij1pew[data-popper-placement^=bottom]{--slide-distance-x:0px;}",".f1gu8pa9[data-popper-placement^=bottom]{--slide-distance-y:-10px;}",".fhfnl4n[data-popper-placement^=left]{--slide-distance-x:10px;}",".fk8tkmz[data-popper-placement^=left]{--slide-distance-y:0px;}",".f3n0535{animation-name:f5j8bii,fld5wjx;}"],k:["@keyframes f5j8bii{from{opacity:0;}to{opacity:1;}}","@keyframes fld5wjx{from{transform:translate(var(--slide-distance-x), var(--slide-distance-y));}}"],m:[["@media (prefers-reduced-motion){.fi19xcv[data-popper-placement]{animation-duration:1ms;}}",{m:"(prefers-reduced-motion)"}],["@media (prefers-reduced-motion){.f1mzajhk[data-popper-placement]{animation-name:f5j8bii;}}",{m:"(prefers-reduced-motion)"}]],t:["@supports not (animation-composition: accumulate){.fjp4h9y[data-popper-placement]{animation-name:f5j8bii;}}"]});function Us(e,t){if(e){var r=e;r._virtual||(r._virtual={}),r._virtual.parent=t}}var Ws=n.createContext(void 0);Ws.Provider;var qs=r(966),Vs=r(999);function Ks(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Gs(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gs(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gs(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Qs=function(){return n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner.current},Ys=new WeakSet;function $s(e,t){var r=Qs();n.useEffect((function(){return Ys.has(r)?e():(Ys.add(r),void e())}),t)}var Js=new WeakSet;function Xs(e,t){return n.useMemo((function(){var t=Qs();return Js.has(t)?e():(Js.add(t),null)}),t)}var Zs=Le({root:{qhf8xq:"f1euv43f",Bhzewxz:"f15twtuk",oyh7mz:["f1vgc2s3","f1e31b4d"],j35jbq:["f1e31b4d","f1vgc2s3"],Bj3rh1h:"f494woh"}},{d:[".f1euv43f{position:absolute;}",".f15twtuk{top:0;}",".f1vgc2s3{left:0;}",".f1e31b4d{right:0;}",".f494woh{z-index:1000000;}"]});function el(e){return function(e){if(Array.isArray(e))return tl(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return tl(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tl(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tl(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var rl=n.useInsertionEffect,nl=function(e){var t=Object(yt.b)(),r=t.targetDocument,o=t.dir,i=function(){return n.useContext(Ws)}(),a=Object(Vs.a)(),s=Zs(),l=Object(qs.b)(),c=Object(Fe.a)(l,s.root,e.className),u=null!=i?i:null==r?void 0:r.body,d=function(e,t){var r,o=function(){return!1}()&&!1,i=o?Xs:n.useMemo,a=o?$s:n.useEffect,s=Ks(null!=(r=i((function(){return e()}),t))?r:[null,function(){return null}],2),l=s[0],c=s[1];return a((function(){return c}),t),l}((function(){if(void 0===u||e.disabled)return[null,function(){return null}];var t=u.ownerDocument.createElement("div");return u.appendChild(t),[t,function(){return t.remove()}]}),[u]);return rl?rl((function(){var e;if(d){var t=c.split(" ").filter(Boolean);return(e=d.classList).add.apply(e,el(t)),d.setAttribute("dir",o),a.current=d,function(){var e;(e=d.classList).remove.apply(e,el(t)),d.removeAttribute("dir")}}}),[c,o,d,a]):n.useMemo((function(){d&&(d.className=c,d.setAttribute("dir",o),a.current=d)}),[c,o,d,a]),d};function ol(e){return(ol="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var il=function(e){var t=function(e){return Object(Wo.a)(e)?{element:e}:"object"===ol(e)?null===e?{element:null}:e:{}}(e.mountNode),r=t.element,o=t.className,i=n.useRef(null),a=nl({disabled:!!r,className:o}),s={children:e.children,mountNode:null!=r?r:a,virtualParentRootRef:i};return n.useEffect((function(){return s.virtualParentRootRef.current&&s.mountNode&&Us(s.mountNode,s.virtualParentRootRef.current),function(){s.mountNode&&Us(s.mountNode,void 0)}}),[s.virtualParentRootRef,s.mountNode]),s},al=r(130),sl=function(e){return function(e){return n.createElement("span",{hidden:!0,ref:e.virtualParentRootRef},e.mountNode&&al.createPortal(e.children,e.mountNode))}(il(e))};sl.displayName="Portal";var ll=n.forwardRef((function(e,t){var r=Fs(e,t);return function(e){var t=Hs();e.root.className=Object(Fe.a)(zs,t.root,e.root.className)}(r),Object(gr.c)("useMenuPopoverStyles_unstable")(r),function(e){return Object($t.a)(e),e.inline?Object(Yt.a)(e.root,{}):Object(Yt.a)(sl,{mountNode:e.mountNode,children:Object(Yt.a)(e.root,{})})}(r)}));ll.displayName="MenuPopover";var cl=function(e){return Ya(),ya(e)};function ul(e){return(ul="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function pl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dl(Object(r),!0).forEach((function(t){fl(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function fl(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==ul(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==ul(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ul(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hl(e){switch(e){case"horizontal":return Fi.MoverDirections.Horizontal;case"grid":return Fi.MoverDirections.Grid;case"grid-linear":return Fi.MoverDirections.GridLinear;case"both":return Fi.MoverDirections.Both;case"vertical":default:return Fi.MoverDirections.Vertical}}function ml(e){return(ml="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function bl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?yl(Object(r),!0).forEach((function(t){vl(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function vl(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==ml(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==ml(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ml(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gl(e){return function(e){if(Array.isArray(e))return xl(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||wl(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ol(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||wl(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wl(e,t){if(e){if("string"==typeof e)return xl(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?xl(e,t):void 0}}function xl(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Cl=function(e,t){var r=$a().findAllFocusable,o=Sl(),i=Ja(kt),a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.circular,r=e.axis,n=e.memorizeCurrent,o=e.tabbable,i=e.ignoreDefaultKeydown,a=e.unstable_hasDefault,s=Ya();return s&&Ka(s),cl(pl({mover:{cyclic:!!t,direction:hl(null!=r?r:"vertical"),memorizeCurrent:n,tabbable:o,hasDefault:a}},i&&{focusable:{ignoreKeydown:i}}))}({circular:!0,ignoreDefaultKeydown:{Tab:i}});Tl(e,o,i)&&console.warn("You are using both MenuList and Menu props, we recommend you to use Menu props when available");var s,l,c=n.useRef(null),u=n.useCallback((function(e,t){var n=["menuitem","menuitemcheckbox","menuitemradio"];if(c.current){var o=r(c.current,(function(e){return e.hasAttribute("role")&&-1!==n.indexOf(e.getAttribute("role"))})),i=o.indexOf(t)+1;i===o.length&&(i=0);var a=o.map((function(e){var t;return null===(t=e.textContent)||void 0===t?void 0:t.charAt(0).toLowerCase()})),s=e.key.toLowerCase(),l=function(e,t){for(var r=e;r<a.length;r++)if(s===a[r])return r;return-1},u=l(i);-1===u&&(u=l(0)),u>-1&&o[u].focus()}}),[r]),d=Ol(Zo({state:null!==(s=e.checkedValues)&&void 0!==s?s:i?o.checkedValues:void 0,defaultState:e.defaultCheckedValues,initialState:{}}),2),p=d[0],f=d[1],h=null!==(l=e.onCheckedValueChange)&&void 0!==l?l:i?o.onCheckedValueChange:void 0,m=mt((function(e,t,r,n){var o=gl((null==p?void 0:p[t])||[]);n?o.splice(o.indexOf(r),1):o.push(r),null==h||h(e,{name:t,checkedItems:o}),f((function(e){return bl(bl({},e),{},vl({},t,o))}))})),y=mt((function(e,t,r){var n=[r];f((function(e){return bl(bl({},e),{},vl({},t,n))})),null==h||h(e,{name:t,checkedItems:n})}));return{components:{root:"div"},root:_e.a.always(Object(ft.a)("div",bl(bl({ref:Object(ht.a)(t,c),role:"menu","aria-labelledby":o.triggerId},a),e)),{elementType:"div"}),hasIcons:o.hasIcons||!1,hasCheckmarks:o.hasCheckmarks||!1,checkedValues:p,hasMenuContext:i,setFocusByFirstCharacter:u,selectRadio:y,toggleCheckbox:m}},Sl=function(){return{checkedValues:_t((function(e){return e.checkedValues})),onCheckedValueChange:_t((function(e){return e.onCheckedValueChange})),triggerId:_t((function(e){return e.triggerId})),hasIcons:_t((function(e){return e.hasIcons})),hasCheckmarks:_t((function(e){return e.hasCheckmarks}))}},Tl=function(e,t,r){var n=!1;for(var o in t)e[o]&&(n=!0);return r&&n};var jl="fui-MenuList",kl=Le({root:{mc9l5x:"f22iagw",Beiy3e4:"f1vx9l62",i8kkvl:"f16mnhsx",Belr9w4:"fbi42co"},hasMenuContext:{Bqenvij:"f1l02sjl"}},{d:[".f22iagw{display:flex;}",".f1vx9l62{flex-direction:column;}",".f16mnhsx{column-gap:2px;}",".fbi42co{row-gap:2px;}",".f1l02sjl{height:100%;}"]}),Pl=n.forwardRef((function(e,t){var r=Cl(e,t),n=function(e){return{menuList:{checkedValues:e.checkedValues,hasCheckmarks:e.hasCheckmarks,hasIcons:e.hasIcons,selectRadio:e.selectRadio,setFocusByFirstCharacter:e.setFocusByFirstCharacter,toggleCheckbox:e.toggleCheckbox}}}(r);return function(e){var t=kl();e.root.className=Object(Fe.a)(jl,t.root,e.hasMenuContext&&t.hasMenuContext,e.root.className)}(r),Object(gr.c)("useMenuListStyles_unstable")(r),function(e,t){return Object($t.a)(e),Object(Yt.a)(dt,{value:t.menuList,children:Object(Yt.a)(e.root,{})})}(r,n)}));Pl.displayName="MenuList";var El=n.forwardRef((function(e,t){var r=qt(e,t);return fr(r),Object(gr.c)("useMenuItemStyles_unstable")(r),function(e){return Object($t.a)(e),Object(Yt.b)(e.root,{children:[e.checkmark&&Object(Yt.a)(e.checkmark,{}),e.icon&&Object(Yt.a)(e.icon,{}),e.content&&Object(Yt.a)(e.content,{}),e.secondaryContent&&Object(Yt.a)(e.secondaryContent,{}),e.submenuIndicator&&Object(Yt.a)(e.submenuIndicator,{})]})}(r)}));function _l(e){return(_l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Il(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Rl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Il(Object(r),!0).forEach((function(t){Al(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Il(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Al(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==_l(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==_l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===_l(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}El.displayName="MenuItem";var Dl="fui-MenuDivider",Bl=Le({root:{B6of3ja:"fvjh0tl",t21cq0:["f1rnx978","f1q7jvqi"],jrapky:"fd1gkq",Frg6f3:["f1q7jvqi","f1rnx978"],a9b677:"f14z66ap",Bn0qgzm:"f1vxd6vx",oivjwe:"fg706s2",B9xav0g:"frpde29"}},{d:[".fvjh0tl{margin-top:4px;}",".f1rnx978{margin-right:-5px;}",".f1q7jvqi{margin-left:-5px;}",".fd1gkq{margin-bottom:4px;}",".f14z66ap{width:auto;}",".f1vxd6vx{border-bottom-width:var(--strokeWidthThin);}",".fg706s2{border-bottom-style:solid;}",".frpde29{border-bottom-color:var(--colorNeutralStroke2);}"]}),Ml=n.forwardRef((function(e,t){var r=function(e,t){return{components:{root:"div"},root:_e.a.always(Object(ft.a)("div",Rl(Rl({role:"presentation","aria-hidden":!0},e),{},{ref:t})),{elementType:"div"})}}(e,t);return function(e){var t=Bl();e.root.className=Object(Fe.a)(Dl,t.root,e.root.className)}(r),Object(gr.c)("useMenuDividerStyles_unstable")(r),function(e){return Object($t.a)(e),Object(Yt.a)(e.root,{})}(r)}));function Nl(e){return(Nl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ll(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Fl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ll(Object(r),!0).forEach((function(t){zl(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ll(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function zl(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Nl(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Nl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Nl(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Ml.displayName="MenuDivider";var Hl=n.createContext(void 0),Ul={headerId:""},Wl=Hl.Provider;var ql="fui-MenuGroup",Vl=n.forwardRef((function(e,t){var r=function(e,t){var r=Object($o.a)("menu-group");return{components:{root:"div"},root:_e.a.always(Object(ft.a)("div",Fl({ref:t,"aria-labelledby":r,role:"group"},e)),{elementType:"div"}),headerId:r}}(e,t),o=function(e){var t=e.headerId;return{menuGroup:n.useMemo((function(){return{headerId:t}}),[t])}}(r);return function(e){e.root.className=Object(Fe.a)(ql,e.root.className)}(r),Object(gr.c)("useMenuGroupStyles_unstable")(r),function(e,t){return Object($t.a)(e),Object(Yt.a)(Wl,{value:t.menuGroup,children:Object(Yt.a)(e.root,{})})}(r,o)}));function Kl(e){return(Kl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ql(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Gl(Object(r),!0).forEach((function(t){Yl(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Yl(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Kl(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Kl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Kl(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $l(e,t){var r=function(){var e;return null!==(e=n.useContext(Hl))&&void 0!==e?e:Ul}().headerId;return{components:{root:"div"},root:_e.a.always(Object(ft.a)("div",Ql({ref:t,id:r},e)),{elementType:"div"})}}Vl.displayName="MenuGroup";var Jl="fui-MenuGroupHeader",Xl=Le({root:{Be2twd7:"fy9rknc",sj55zd:"f11d4kpn",uwmqm3:["fjlbh76","f11qrl6u"],z189sj:["f11qrl6u","fjlbh76"],Bhrd7zp:"fl43uef",Bqenvij:"f1d2rq10",mc9l5x:"f22iagw",Bt984gj:"f122n59"}},{d:[".fy9rknc{font-size:var(--fontSizeBase200);}",".f11d4kpn{color:var(--colorNeutralForeground3);}",".fjlbh76{padding-left:12px;}",".f11qrl6u{padding-right:12px;}",".fl43uef{font-weight:var(--fontWeightSemibold);}",".f1d2rq10{height:32px;}",".f22iagw{display:flex;}",".f122n59{align-items:center;}"]}),Zl=n.forwardRef((function(e,t){var r=$l(e,t);return function(e){var t=Xl();e.root.className=Object(Fe.a)(Jl,t.root,e.root.className)}(r),Object(gr.c)("useMenuGroupHeaderStyles_unstable")(r),function(e){return Object($t.a)(e),Object(Yt.a)(e.root,{})}(r)}));Zl.displayName="MenuGroupHeader";var ec=Ze("Filter16Regular","16",["M2 3.5c0-.28.22-.5.5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5Zm2 4c0-.28.22-.5.5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5Zm2 4c0-.28.22-.5.5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5Z"]),tc=Ze("FilterDismiss16Regular","16",["M6.26 9c.31.38.67.72 1.08 1H3.5a.5.5 0 0 1 0-1h2.76ZM5.02 5a5.57 5.57 0 0 0 0 1H1.5a.5.5 0 0 1 0-1h3.52Zm.48 8a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1h-3Zm5-3a4.5 4.5 0 1 0 0-9 4.5 4.5 0 0 0 0 9Zm1.85-6.35c.2.2.2.5 0 .7L11.21 5.5l1.14 1.15a.5.5 0 0 1-.7.7L10.5 6.21 9.35 7.35a.5.5 0 1 1-.7-.7L9.79 5.5 8.65 4.35a.5.5 0 1 1 .7-.7l1.15 1.14 1.15-1.14c.2-.2.5-.2.7 0Z"]),rc=r(1051),nc=r(1034),oc=r(1028),ic=n.createContext(void 0);function ac(e){var t,r,o,i=e.currentFilter,a=e.createOrUpdateFilter,s=function(){return n.useContext(ic)}();Object(w.k)().assertConditionTag(!!s,"FilterCapabilities should be defined in order for ContentFilter to render. Falling back to default.",527443842);var l=n.useMemo((function(){return null!=s?s:{supportedContentTypes:oc.b.CommentThread}}),[s]),c=Object(b.f)(n.useState(l.supportsMentionToMeFilter?i.mentionsToCurrentUser:void 0),2),u=c[0],d=c[1],p=Object(b.f)(n.useState(null!==(r=null===(t=i.CommentThread)||void 0===t?void 0:t.resolutionStatus)&&void 0!==r?r:Ee.a.All),2),f=p[0],h=p[1],m=Object(b.f)(n.useState(l.contentOrderSupport?null!==(o=i.contentOrder)&&void 0!==o?o:Ee.c.HostDefaultOrder:void 0),2),y=m[0],v=m[1],g=Object(b.f)(n.useState(),2),O=g[0],x=g[1];return n.useEffect((function(){var e,t,r;d(l.supportsMentionToMeFilter?i.mentionsToCurrentUser:void 0),h(null!==(t=null===(e=i.CommentThread)||void 0===e?void 0:e.resolutionStatus)&&void 0!==t?t:Ee.a.All),v(l.contentOrderSupport?null!==(r=i.contentOrder)&&void 0!==r?r:Ee.c.HostDefaultOrder:void 0),x(function(){var e;return i.mentionsToCurrentUser===q.a.mentionsToCurrentUser&&i.contentOrder===q.a.contentOrder&&(null===(e=i.CommentThread)||void 0===e?void 0:e.resolutionStatus)===q.a.CommentThread.resolutionStatus}())}),[i,l]),n.useEffect((function(){a({mentionsToCurrentUser:!!u,contentOrder:y,CommentThread:{resolutionStatus:f}})}),[u,f,y,a]),{filterCapabilities:l,atMentionToMe:u,setAtMentionToMe:d,resolutionStatus:f,setResolutionStatus:h,order:y,setOrder:v,isUsingDefaultFilter:O,resetAll:function(){O||(d(q.a.mentionsToCurrentUser),h(q.a.CommentThread.resolutionStatus))},getNumberOfFiltersApplied:function(){var e;if(!O){var t=0;return i.mentionsToCurrentUser!==q.a.mentionsToCurrentUser&&t++,void 0!==(null===(e=i.CommentThread)||void 0===e?void 0:e.resolutionStatus)&&i.CommentThread.resolutionStatus!==q.a.CommentThread.resolutionStatus&&t++,t>0?"".concat(t):void 0}}}}var sc=r(416);function lc(e){return(lc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cc(e){return e.reduce((function(e,t){var r=t[0],n=t[1];return e[r]=n,e[n]=r,e}),{})}function uc(e){return"number"==typeof e}function dc(e,t){return-1!==e.indexOf(t)}function pc(e,t,r,n){return t+function(e){return 0===parseFloat(e)?e:"-"===e[0]?e.slice(1):"-"+e}(r)+n}function fc(e){return e.replace(/ +/g," ").split(" ").map((function(e){return e.trim()})).filter(Boolean).reduce((function(e,t){var r=e.list,n=e.state,o=(t.match(/\(/g)||[]).length,i=(t.match(/\)/g)||[]).length;return n.parensDepth>0?r[r.length-1]=r[r.length-1]+" "+t:r.push(t),n.parensDepth+=o-i,{list:r,state:n}}),{list:[],state:{parensDepth:0}}).list}function hc(e){var t=fc(e);if(t.length<=3||t.length>4)return e;var r=t[0],n=t[1],o=t[2];return[r,t[3],o,n].join(" ")}var mc={padding:function(e){var t=e.value;return uc(t)?t:hc(t)},textShadow:function(e){return function(e){for(var t=[],r=0,n=0,o=!1;n<e.length;)o||","!==e[n]?"("===e[n]?(o=!0,n++):")"===e[n]?(o=!1,n++):n++:(t.push(e.substring(r,n).trim()),r=++n);return r!=n&&t.push(e.substring(r,n+1)),t}(e.value).map((function(e){return e.replace(/(^|\s)(-*)([.|\d]+)/,(function(e,t,r,n){return"0"===n?e:""+t+(""===r?"-":"")+n}))})).join(",")},borderColor:function(e){return hc(e.value)},borderRadius:function(e){var t=e.value;if(uc(t))return t;if(dc(t,"/")){var r=t.split("/"),n=r[0],o=r[1];return mc.borderRadius({value:n.trim()})+" / "+mc.borderRadius({value:o.trim()})}var i=fc(t);switch(i.length){case 2:return i.reverse().join(" ");case 4:var a=i[0],s=i[1],l=i[2];return[s,a,i[3],l].join(" ");default:return t}},background:function(e){var t=e.value,r=e.valuesToConvert,n=e.isRtl,o=e.bgImgDirectionRegex,i=e.bgPosDirectionRegex;if(uc(t))return t;var a=t.replace(/(url\(.*?\))|(rgba?\(.*?\))|(hsl\(.*?\))|(#[a-fA-F0-9]+)|((^| )(\D)+( |$))/g,"").trim();return t=t.replace(a,mc.backgroundPosition({value:a,valuesToConvert:r,isRtl:n,bgPosDirectionRegex:i})),mc.backgroundImage({value:t,valuesToConvert:r,bgImgDirectionRegex:o})},backgroundImage:function(e){var t=e.value,r=e.valuesToConvert,n=e.bgImgDirectionRegex;return dc(t,"url(")||dc(t,"linear-gradient(")?t.replace(n,(function(e,t,n){return e.replace(n,r[n])})):t},backgroundPosition:function(e){var t=e.value,r=e.valuesToConvert,n=e.isRtl,o=e.bgPosDirectionRegex;return t.replace(n?/^((-|\d|\.)+%)/:null,(function(e,t){return function(e){var t=e.indexOf(".");if(-1===t)e=100-parseFloat(e)+"%";else{var r=e.length-t-2;e=(e=100-parseFloat(e)).toFixed(r)+"%"}return e}(t)})).replace(o,(function(e){return r[e]}))},backgroundPositionX:function(e){var t=e.value,r=e.valuesToConvert,n=e.isRtl,o=e.bgPosDirectionRegex;return uc(t)?t:mc.backgroundPosition({value:t,valuesToConvert:r,isRtl:n,bgPosDirectionRegex:o})},transition:function(e){var t=e.value,r=e.propertiesToConvert;return t.split(/,\s*/g).map((function(e){var t=e.split(" ");return t[0]=r[t[0]]||t[0],t.join(" ")})).join(", ")},transitionProperty:function(e){var t=e.value,r=e.propertiesToConvert;return t.split(/,\s*/g).map((function(e){return r[e]||e})).join(", ")},transform:function(e){var t=e.value,r="(?:(?:(?:\\[0-9a-f]{1,6})(?:\\r\\n|\\s)?)|\\\\[^\\r\\n\\f0-9a-f])",n="((?:-?(?:[0-9]*\\.[0-9]+|[0-9]+)(?:\\s*(?:em|ex|px|cm|mm|in|pt|pc|deg|rad|grad|ms|s|hz|khz|%)|-?(?:[_a-z]|[^\\u0020-\\u007e]|"+r+")(?:[_a-z0-9-]|[^\\u0020-\\u007e]|"+r+")*)?)|(?:inherit|auto))",o=new RegExp("(translateX\\s*\\(\\s*)"+n+"(\\s*\\))","gi"),i=new RegExp("(translate\\s*\\(\\s*)"+n+"((?:\\s*,\\s*"+n+"){0,1}\\s*\\))","gi"),a=new RegExp("(translate3d\\s*\\(\\s*)"+n+"((?:\\s*,\\s*"+n+"){0,2}\\s*\\))","gi"),s=new RegExp("(rotate[ZY]?\\s*\\(\\s*)"+n+"(\\s*\\))","gi");return t.replace(o,pc).replace(i,pc).replace(a,pc).replace(s,pc)}};mc.objectPosition=mc.backgroundPosition,mc.margin=mc.padding,mc.borderWidth=mc.padding,mc.boxShadow=mc.textShadow,mc.webkitBoxShadow=mc.boxShadow,mc.mozBoxShadow=mc.boxShadow,mc.WebkitBoxShadow=mc.boxShadow,mc.MozBoxShadow=mc.boxShadow,mc.borderStyle=mc.borderColor,mc.webkitTransform=mc.transform,mc.mozTransform=mc.transform,mc.WebkitTransform=mc.transform,mc.MozTransform=mc.transform,mc.transformOrigin=mc.backgroundPosition,mc.webkitTransformOrigin=mc.transformOrigin,mc.mozTransformOrigin=mc.transformOrigin,mc.WebkitTransformOrigin=mc.transformOrigin,mc.MozTransformOrigin=mc.transformOrigin,mc.webkitTransition=mc.transition,mc.mozTransition=mc.transition,mc.WebkitTransition=mc.transition,mc.MozTransition=mc.transition,mc.webkitTransitionProperty=mc.transitionProperty,mc.mozTransitionProperty=mc.transitionProperty,mc.WebkitTransitionProperty=mc.transitionProperty,mc.MozTransitionProperty=mc.transitionProperty,mc["text-shadow"]=mc.textShadow,mc["border-color"]=mc.borderColor,mc["border-radius"]=mc.borderRadius,mc["background-image"]=mc.backgroundImage,mc["background-position"]=mc.backgroundPosition,mc["background-position-x"]=mc.backgroundPositionX,mc["object-position"]=mc.objectPosition,mc["border-width"]=mc.padding,mc["box-shadow"]=mc.textShadow,mc["-webkit-box-shadow"]=mc.textShadow,mc["-moz-box-shadow"]=mc.textShadow,mc["border-style"]=mc.borderColor,mc["-webkit-transform"]=mc.transform,mc["-moz-transform"]=mc.transform,mc["transform-origin"]=mc.transformOrigin,mc["-webkit-transform-origin"]=mc.transformOrigin,mc["-moz-transform-origin"]=mc.transformOrigin,mc["-webkit-transition"]=mc.transition,mc["-moz-transition"]=mc.transition,mc["transition-property"]=mc.transitionProperty,mc["-webkit-transition-property"]=mc.transitionProperty,mc["-moz-transition-property"]=mc.transitionProperty;var yc=cc([["paddingLeft","paddingRight"],["marginLeft","marginRight"],["left","right"],["borderLeft","borderRight"],["borderLeftColor","borderRightColor"],["borderLeftStyle","borderRightStyle"],["borderLeftWidth","borderRightWidth"],["borderTopLeftRadius","borderTopRightRadius"],["borderBottomLeftRadius","borderBottomRightRadius"],["padding-left","padding-right"],["margin-left","margin-right"],["border-left","border-right"],["border-left-color","border-right-color"],["border-left-style","border-right-style"],["border-left-width","border-right-width"],["border-top-left-radius","border-top-right-radius"],["border-bottom-left-radius","border-bottom-right-radius"]]),bc=["content"],vc=cc([["ltr","rtl"],["left","right"],["w-resize","e-resize"],["sw-resize","se-resize"],["nw-resize","ne-resize"]]),gc=new RegExp("(^|\\W|_)((ltr)|(rtl)|(left)|(right))(\\W|_|$)","g"),Oc=new RegExp("(left)|(right)");function wc(e){return Object.keys(e).reduce((function(t,r){var n=e[r];if(function(e){return"string"==typeof e}(n)&&(n=n.trim()),dc(bc,r))return t[r]=n,t;var o=xc(r,n),i=o.key,a=o.value;return t[i]=a,t}),Array.isArray(e)?[]:{})}function xc(e,t){var r=/\/\*\s?@noflip\s?\*\//.test(t),n=r?e:function(e){return yc[e]||e}(e);return{key:n,value:r?t:function(e,t){if(!function(e){return!function(e){return"boolean"==typeof e}(e)&&!function(e){return null==e}(e)}(t))return t;if(function(e){return e&&"object"===lc(e)}(t))return wc(t);var r,n=uc(t),o=function(e){return"function"==typeof e}(t),i=n||o?t:t.replace(/ !important.*?$/,""),a=!n&&i.length!==t.length,s=mc[e];r=s?s({value:i,valuesToConvert:vc,propertiesToConvert:yc,isRtl:!0,bgImgDirectionRegex:gc,bgPosDirectionRegex:Oc}):vc[i]||i;if(a)return r+" !important";return r}(n,t)}}var Cc=r(79),Sc=/[A-Z]/g,Tc=/^ms-/,jc={};function kc(e){return"-"+e.toLowerCase()}function Pc(e){if(Object.prototype.hasOwnProperty.call(jc,e))return jc[e];if("--"===e.substr(0,2))return e;var t=e.replace(Sc,kc);return jc[e]=Tc.test(t)?"-"+t:t}function Ec(e){return"&"===e.charAt(0)?e.slice(1):e}var _c="-moz-",Ic="-webkit-",Rc="comm",Ac="rule",Dc="decl",Bc="@keyframes",Mc="@layer",Nc=Math.abs,Lc=String.fromCharCode,Fc=Object.assign;function zc(e,t){return 45^Vc(e,0)?(((t<<2^Vc(e,0))<<2^Vc(e,1))<<2^Vc(e,2))<<2^Vc(e,3):0}function Hc(e){return e.trim()}function Uc(e,t){return(e=t.exec(e))?e[0]:e}function Wc(e,t,r){return e.replace(t,r)}function qc(e,t){return e.indexOf(t)}function Vc(e,t){return 0|e.charCodeAt(t)}function Kc(e,t,r){return e.slice(t,r)}function Gc(e){return e.length}function Qc(e){return e.length}function Yc(e,t){return t.push(e),e}function $c(e,t){return e.map(t).join("")}var Jc=1,Xc=1,Zc=0,eu=0,tu=0,ru="";function nu(e,t,r,n,o,i,a,s){return{value:e,root:t,parent:r,type:n,props:o,children:i,line:Jc,column:Xc,length:a,return:"",siblings:s}}function ou(e,t){return Fc(nu("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function iu(){return tu=eu>0?Vc(ru,--eu):0,Xc--,10===tu&&(Xc=1,Jc--),tu}function au(){return tu=eu<Zc?Vc(ru,eu++):0,Xc++,10===tu&&(Xc=1,Jc++),tu}function su(){return Vc(ru,eu)}function lu(){return eu}function cu(e,t){return Kc(ru,e,t)}function uu(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function du(e){return Jc=Xc=1,Zc=Gc(ru=e),eu=0,[]}function pu(e){return ru="",e}function fu(e){return Hc(cu(eu-1,function e(t){for(;au();)switch(tu){case t:return eu;case 34:case 39:34!==t&&39!==t&&e(tu);break;case 40:41===t&&e(t);break;case 92:au()}return eu}(91===e?e+2:40===e?e+1:e)))}function hu(e){return pu(function(e){for(;au();)switch(uu(tu)){case 0:Yc(vu(eu-1),e);break;case 2:Yc(fu(tu),e);break;default:Yc(Lc(tu),e)}return e}(du(e)))}function mu(e){for(;(tu=su())&&tu<33;)au();return uu(e)>2||uu(tu)>3?"":" "}function yu(e,t){for(;--t&&au()&&!(tu<48||tu>102||tu>57&&tu<65||tu>70&&tu<97););return cu(e,lu()+(t<6&&32==su()&&32==au()))}function bu(e,t){for(;au()&&e+tu!==57&&(e+tu!==84||47!==su()););return"/*"+cu(t,eu-1)+"*"+Lc(47===e?e:au())}function vu(e){for(;!uu(su());)au();return cu(e,eu)}function gu(e){return pu(function e(t,r,n,o,i,a,s,l,c){var u=0,d=0,p=s,f=0,h=0,m=0,y=1,b=1,v=1,g=0,O="",w=i,x=a,C=o,S=O;for(;b;)switch(m=g,g=au()){case 40:if(108!=m&&58==Vc(S,p-1)){-1!=qc(S+=Wc(fu(g),"&","&\f"),"&\f")&&(v=-1);break}case 34:case 39:case 91:S+=fu(g);break;case 9:case 10:case 13:case 32:S+=mu(m);break;case 92:S+=yu(lu()-1,7);continue;case 47:switch(su()){case 42:case 47:Yc(wu(bu(au(),lu()),r,n,c),c);break;default:S+="/"}break;case 123*y:l[u++]=Gc(S)*v;case 125*y:case 59:case 0:switch(g){case 0:case 125:b=0;case 59+d:-1==v&&(S=Wc(S,/\f/g,"")),h>0&&Gc(S)-p&&Yc(h>32?xu(S+";",o,n,p-1,c):xu(Wc(S," ","")+";",o,n,p-2,c),c);break;case 59:S+=";";default:if(Yc(C=Ou(S,r,n,u,d,i,l,O,w=[],x=[],p,a),a),123===g)if(0===d)e(S,r,C,C,w,a,p,l,x);else switch(99===f&&110===Vc(S,3)?100:f){case 100:case 108:case 109:case 115:e(t,C,C,o&&Yc(Ou(t,C,C,0,0,i,l,O,i,w=[],p,x),x),i,x,p,l,o?w:x);break;default:e(S,C,C,C,[""],x,0,l,x)}}u=d=h=0,y=v=1,O=S="",p=s;break;case 58:p=1+Gc(S),h=m;default:if(y<1)if(123==g)--y;else if(125==g&&0==y++&&125==iu())continue;switch(S+=Lc(g),g*y){case 38:v=d>0?1:(S+="\f",-1);break;case 44:l[u++]=(Gc(S)-1)*v,v=1;break;case 64:45===su()&&(S+=fu(au())),f=su(),d=p=Gc(O=S+=vu(lu())),g++;break;case 45:45===m&&2==Gc(S)&&(y=0)}}return a}("",null,null,null,[""],e=du(e),0,[0],e))}function Ou(e,t,r,n,o,i,a,s,l,c,u,d){for(var p=o-1,f=0===o?i:[""],h=Qc(f),m=0,y=0,b=0;m<n;++m)for(var v=0,g=Kc(e,p+1,p=Nc(y=a[m])),O=e;v<h;++v)(O=Hc(y>0?f[v]+" "+g:Wc(g,/&\f/g,f[v])))&&(l[b++]=O);return nu(e,t,r,0===o?Ac:s,l,c,u,d)}function wu(e,t,r,n){return nu(e,t,r,Rc,Lc(function(){return tu}()),Kc(e,2,-2),0,n)}function xu(e,t,r,n,o){return nu(e,t,r,Dc,Kc(e,0,n),Kc(e,n+1,-1),n,o)}function Cu(e,t){for(var r="",n=0;n<e.length;n++)r+=t(e[n],n,e,t)||"";return r}function Su(e,t,r,n){switch(e.type){case Mc:if(e.children.length)break;case"@import":case Dc:return e.return=e.return||e.value;case Rc:return"";case Bc:return e.return=e.value+"{"+Cu(e.children,n)+"}";case Ac:if(!Gc(e.value=e.props.join(",")))return""}return Gc(r=Cu(e.children,n))?e.return=e.value+"{"+r+"}":""}function Tu(e){var t=Qc(e);return function(r,n,o,i){for(var a="",s=0;s<t;s++)a+=e[s](r,n,o,i)||"";return a}}function ju(e){return function(t){t.root||(t=t.return)&&e(t)}}var ku=function(e){switch(e.type){case Ac:if("string"==typeof e.props)return void 0;e.props=e.props.map((function(e){return-1===e.indexOf(":global(")?e:hu(e).reduce((function(e,t,r,n){if(""===t)return e;if(":"===t&&"global"===n[r+1]){var o=n[r+2].slice(1,-1)+" ";return e.unshift(o),n[r+1]="",n[r+2]="",e}return e.push(t),e}),[]).join("")}))}};function Pu(e,t,r,n){if(e.length>-1&&!e.return)switch(e.type){case Dc:return void(e.return=function e(t,r,n){switch(zc(t,r)){case 5103:return Ic+"print-"+t+t;case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:return Ic+t+t;case 4789:return _c+t+t;case 5349:case 4246:case 6968:return Ic+t+_c+t+"-ms-"+t+t;case 6187:if(!Uc(t,/grab/))return Wc(Wc(Wc(t,/(zoom-|grab)/,Ic+"$1"),/(image-set)/,Ic+"$1"),t,"")+t;case 5495:case 3959:return Wc(t,/(image-set\([^]*)/,Ic+"$1$`$1");case 4095:case 3583:case 4068:case 2532:return Wc(t,/(.+)-inline(.+)/,Ic+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Gc(t)-1-r>6)switch(Vc(t,r+1)){case 102:if(108===Vc(t,r+3))return Wc(t,/(.+:)(.+)-([^]+)/,"$1"+Ic+"$2-$3$1"+_c+(108==Vc(t,r+3)?"$3":"$2-$3"))+t;case 115:return~qc(t,"stretch")?e(Wc(t,"stretch","fill-available"),r)+t:t}}return t}(e.value,e.length));case Ac:if(e.length)return $c(e.props,(function(t){switch(Uc(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Cu([ou(e,{props:[Wc(t,/:(read-\w+)/,":-moz-$1")]})],n);case"::placeholder":return Cu([ou(e,{props:[Wc(t,/:(plac\w+)/,":"+Ic+"input-$1")]}),ou(e,{props:[Wc(t,/:(plac\w+)/,":-moz-$1")]}),ou(e,{props:[Wc(t,/:(plac\w+)/,"-ms-input-$1")]})],n)}return""}))}}var Eu=function(e){(function(e){switch(e.type){case"@container":case"@media":case"@supports":case Mc:return!0}return!1})(e)&&Array.isArray(e.children)&&e.children.sort((function(e,t){return e.props[0]>t.props[0]?1:-1}))};function _u(){}var Iu=/,( *[^ &])/g;function Ru(e,t,r){var n=t;return r.length>0&&(n=r.reduceRight((function(e,t){return"".concat(function(e){return"&"+Ec(e.replace(Iu,",&$1"))}(t)," { ").concat(e," }")}),t)),"".concat(e,"{").concat(n,"}")}function Au(e){var t=e.className,r=e.media,n=e.layer,o=e.selectors,i=e.support,a=e.property,s=e.rtlClassName,l=e.rtlProperty,c=e.rtlValue,u=e.value,d=e.container,p=Ru(".".concat(t),Array.isArray(u)?"".concat(u.map((function(e){return"".concat(Pc(a),": ").concat(e)})).join(";"),";"):"".concat(Pc(a),": ").concat(u,";"),o);l&&s&&(p+=Ru(".".concat(s),Array.isArray(c)?"".concat(c.map((function(e){return"".concat(Pc(l),": ").concat(e)})).join(";"),";"):"".concat(Pc(l),": ").concat(c,";"),o));return r&&(p="@media ".concat(r," { ").concat(p," }")),n&&(p="@layer ".concat(n," { ").concat(p," }")),i&&(p="@supports ".concat(i," { ").concat(p," }")),d&&(p="@container ".concat(d," { ").concat(p," }")),function(e,t){var r=[];return Cu(gu(e),Tu([ku,t?Eu:_u,Pu,Su,ju((function(e){return r.push(e)}))])),r}(p,!0)}function Du(e){var t="";for(var r in e){var n=e[r];"string"!=typeof n&&"number"!=typeof n||(t+=Pc(r)+":"+n+";")}return t}function Bu(e){var t="";for(var r in e)t+="".concat(r,"{").concat(Du(e[r]),"}");return t}function Mu(e,t){var r="@keyframes ".concat(e," {").concat(t,"}"),n=[];return Cu(gu(r),Tu([Su,Pu,ju((function(e){return n.push(e)}))])),n}function Nu(e,t){return 0===e.length?t:"".concat(e," and ").concat(t)}function Lu(e){return"@media"===e.substr(0,6)}function Fu(e){return"@layer"===e.substr(0,6)}var zu=/^(:|\[|>|&)/;function Hu(e){return zu.test(e)}function Uu(e){return"@supports"===e.substr(0,9)}function Wu(e){return"@container"===e.substring(0,10)}function qu(e){return(qu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vu(e){return null!=e&&"object"===qu(e)&&!1===Array.isArray(e)}var Ku={"us-w":"w","us-v":"i",nk:"l",si:"v",cu:"f",ve:"h",ti:"a"};function Gu(e,t,r,n,o){if(r)return"m";if(t||n)return"t";if(o)return"c";if(e.length>0){var i=e[0].trim();if(58===i.charCodeAt(0))return Ku[i.slice(4,8)]||Ku[i.slice(3,5)]||"d"}return"d"}function Qu(e){var t=e.container,r=e.media,n=e.layer,o=e.property,i=e.selector,a=e.support,s=e.value,l=Object(sc.a)(i+t+r+n+a+o+s.trim());return Cc.d+l}function Yu(e,t,r,n,o){var i=e+t+r+n+o,a=Object(sc.a)(i),s=a.charCodeAt(0);return s>=48&&s<=57?String.fromCharCode(s+17)+a.slice(1):a}function $u(e){return e.replace(/>\s+/g,">")}function Ju(e,t){var r=JSON.stringify(t,null,2),n=["@griffel/react: A rule was not resolved to CSS properly. Please check your `makeStyles` or `makeResetStyles` calls for following:"," ".repeat(2)+"makeStyles({"," ".repeat(4)+"[slot]: {"," ".repeat(6)+'"'.concat(e,'": ').concat(r.split("\n").map((function(e,t){return" ".repeat(0===t?0:6)+e})).join("\n"))," ".repeat(4)+"}"," ".repeat(2)+"})",""];-1===e.indexOf("&")?(n.push("It looks that you're are using a nested selector, but it is missing an ampersand placeholder where the generated class name should be injected."),n.push('Try to update a property to include it i.e "'.concat(e,'" => "&').concat(e,'".'))):(n.push(""),n.push("If it's not obvious what triggers a problem, please report an issue at https://github.com/microsoft/griffel/issues")),n.join("\n")}function Xu(e,t){['@griffel/react: You are using unsupported shorthand CSS property "'.concat(e,'". ')+'Please check your "makeStyles" calls, there *should not* be following:'," ".repeat(2)+"makeStyles({"," ".repeat(4)+"[slot]: { ".concat(e,': "').concat(t,'" }')," ".repeat(2)+"})","","Learn why CSS shorthands are not supported: https://aka.ms/griffel-css-shorthands"].join("\n")}function Zu(e){return(Zu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ed(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=id(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function td(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function rd(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?td(Object(r),!0).forEach((function(t){nd(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):td(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function nd(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Zu(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Zu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Zu(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function od(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||id(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function id(e,t){if(e){if("string"==typeof e)return ad(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ad(e,t):void 0}}function ad(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sd(e,t,r,n){e[t]=n?[r,n]:r}function ld(e,t){return t?[e,t]:e}function cd(e,t,r,n,o){var i,a;"m"===t&&o&&(a={m:o}),null!==(i=e[t])&&void 0!==i||(e[t]=[]),r&&e[t].push(ld(r,a)),n&&e[t].push(ld(n,a))}function ud(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return dd(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dd(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dd(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function pd(e){var t={},r={},n=function(){var n=ud(function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},c=arguments.length>8?arguments[8]:void 0,u=function(u){if(Cc.j.hasOwnProperty(u))return Xu(u,t[u]),0;var d=t[u];if(null==d)return 0;if("string"==typeof d||"number"==typeof d){var p=$u(r.join("")),f=Yu(p,a,n,i,u),h=Qu({container:a,media:n,layer:o,value:d.toString(),support:i,selector:p,property:u}),m=c&&{key:u,value:c}||xc(u,d),y=m.key!==u||m.value!==d,b=y?Qu({container:a,value:m.value.toString(),property:m.key,selector:p,media:n,layer:o,support:i}):void 0,v=y?{rtlClassName:b,rtlProperty:m.key,rtlValue:m.value}:void 0,g=Gu(r,o,n,i,a),O=od(Au(rd({className:h,media:n,layer:o,selectors:r,property:u,support:i,container:a,value:d},v)),2),w=O[0],x=O[1];sd(s,f,h,b),cd(l,g,w,x,n)}else if("animationName"===u){var C,S=[],T=[],j=ed(Array.isArray(d)?d:[d]);try{for(j.s();!(C=j.n()).done;){var k=C.value,P=Bu(k),E=Bu(wc(k)),_=Cc.d+Object(sc.a)(P),I=void 0,R=Mu(_,P),A=[];P===E?I=_:A=Mu(I=Cc.d+Object(sc.a)(E),E);for(var D=0;D<R.length;D++)cd(l,"k",R[D],A[D],n);S.push(_),T.push(I)}}catch(e){j.e(e)}finally{j.f()}e({animationName:S.join(", ")},r,n,o,i,a,s,l,T.join(", "))}else if(Array.isArray(d)){if(0===d.length)return 0;var B=$u(r.join("")),M=Yu(B,a,n,i,u),N=Qu({container:a,media:n,layer:o,value:d.map((function(e){return(null!=e?e:"").toString()})).join(";"),support:i,selector:B,property:u}),L=d.map((function(e){return xc(u,e)}));if(!!L.some((function(e){return e.key!==L[0].key})))return 0;var F=L[0].key!==u||L.some((function(e,t){return e.value!==d[t]})),z=F?Qu({container:a,value:L.map((function(e){var t;return(null!==(t=null==e?void 0:e.value)&&void 0!==t?t:"").toString()})).join(";"),property:L[0].key,selector:B,layer:o,media:n,support:i}):void 0,H=F?{rtlClassName:z,rtlProperty:L[0].key,rtlValue:L.map((function(e){return e.value}))}:void 0,U=Gu(r,o,n,i,a),W=od(Au(rd({className:N,media:n,layer:o,selectors:r,property:u,support:i,container:a,value:d},H)),2),q=W[0],V=W[1];sd(s,M,N,z),cd(l,U,q,V,n)}else if(Vu(d))if(Hu(u))e(d,r.concat(Ec(u)),n,o,i,a,s,l);else if(Lu(u)){var K=Nu(n,u.slice(6).trim());e(d,r,K,o,i,a,s,l)}else if(Fu(u)){var G=(o?"".concat(o,"."):"")+u.slice(6).trim();e(d,r,n,G,i,a,s,l)}else if(Uu(u)){var Q=Nu(i,u.slice(9).trim());e(d,r,n,o,Q,a,s,l)}else if(Wu(u)){var Y=u.slice(10).trim();e(d,r,n,o,i,Y,s,l)}else Ju(u,d)};for(var d in t)u(d);return[s,l]}(e[o]),2),i=n[0],a=n[1];t[o]=i,Object.keys(a).forEach((function(e){r[e]=(r[e]||[]).concat(a[e])}))};for(var o in e)n();return[t,r]}var fd=r(383);function hd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return md(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return md(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function md(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var yd=function(e){var t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Zt.a,r=t(),n=null,o=null,i=null,a=null;function s(t){var s=t.dir,l=t.renderer;if(null===n){var c=hd(pd(e),2);n=c[0],o=c[1]}var u="ltr"===s;return u?null===i&&(i=Object(fd.b)(n,s)):null===a&&(a=Object(fd.b)(n,s)),r(l,o),u?i:a}return s}(e,Be);return function(){var e=Object(Ne.b)(),r=Object(Me.a)();return t({dir:e,renderer:r})}}({menuTriggerButton:{minWidth:"60px",marginTop:"1px"},filterCountLabel:{fontSize:"12px",marginInlineEnd:"6px"},menu:{minWidth:"224px"},menuItem:{height:"24px",fontSize:"12px",paddingInlineStart:"5px"},resetAll:{justifyContent:"flex-start"},resetAllIcon:{marginInlineEnd:"5px"}}),bd=n.memo((function(e){var t,r=e.localizationAPI,o=ac(e),i=o.atMentionToMe,a=o.setAtMentionToMe,s=o.resolutionStatus,l=o.setResolutionStatus,c=o.isUsingDefaultFilter,u=o.resetAll,d=o.getNumberOfFiltersApplied,p=Object(b.f)(n.useState(((t={}).atMention=i?[r.getString(249)]:[],t.resolutionStatus=s===Ee.a.All?[]:[Object(nc.n)(r,s)],t)),2),f=p[0],h=p[1],m=yd(),y=function(e,t){return function(r){e(),t()}},v=n.useCallback((function(){h({}),u()}),[u]),g=function(e,t,r){return n.createElement(Or,{"aria-label":t,className:m.menuItem,key:t,name:e,onClick:r,value:t},t)},O=c?void 0:"(".concat(d(),")");return n.createElement(cs,{persistOnItemClick:!0},n.createElement(gs,null,n.createElement(Ds,{"aria-label":r.getString(254),className:m.menuTriggerButton,icon:n.createElement(ec,null)},O&&n.createElement("span",{className:m.filterCountLabel},O),n.createElement(tt,null))),n.createElement(ll,{className:m.menu},n.createElement(Pl,{checkedValues:f},n.createElement(El,{"aria-label":r.getString(262),className:Object(Fe.a)(m.menuItem,m.resetAll),disabled:c,onClick:v},n.createElement(tc,{className:m.resetAllIcon}),r.getString(262)),n.createElement(Ml,null),n.createElement(Vl,null,n.createElement(Zl,{className:m.menuItem},r.getString(261)),function(){var e=r.getString(249),t=!i;return g("atMention",e,y((function(){var r;return h(Object(b.a)(Object(b.a)({},f),((r={}).atMention=t?[e]:[],r)))}),(function(){return a(t)})))}()),n.createElement(Ml,null),n.createElement(Vl,null,function(){return rc.d.map((function(e){var t=Object(nc.n)(r,e);return g("resolutionStatus",t,y((function(){var e,r;return h(Object(b.a)(Object(b.a)({},f),((e={}).resolutionStatus=(null===(r=f.resolutionStatus)||void 0===r?void 0:r.includes(t))?[]:[t],e)))}),(function(){return l(s===e?Ee.a.All:e)})))}))}()))))})),vd=r(1555),gd=r(1044);function Od(e){var t=e.personaIconPropertiesMap,r=e.allReviewers,o=Object(b.f)(n.useState(!1),2),i=o[0],a=o[1],s=Object(b.f)(n.useState(r),2),l=s[0],c=s[1],u=function(){return{entry:Object(x.mergeStyles)({marginLeft:"16px"}),innerContent:Object(x.mergeStyles)({display:"flex",margin:"4px"}),label:Object(x.mergeStyles)({textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",width:"160px"}),persona:Object(x.mergeStyles)({marginRight:"4px"}),checkBox:{checkbox:{height:"15px",width:"15px"}},reviewerBox:Object(x.mergeStyles)({maxHeight:"250px",overflowY:"scroll",overflowX:"hidden"})}}(),d=n.useCallback((function(e,t){if(t){var n=r.filter((function(e){var r;return null===(r=e.DisplayName)||void 0===r?void 0:r.toLowerCase().startsWith(t.toLowerCase())}));c(n)}else c(r)}),[r]),p=function(e){return function(){var r=null==t?void 0:t[e.UserId],o={text:e.DisplayName,coinSize:20,initialsColor:null==r?void 0:r.authorColor,hidePersonaDetails:!0,imageShouldStartVisible:!0,imageUrl:null==r?void 0:r.authorImageURL,showInitialsUntilImageLoads:!0};return n.createElement("span",{className:u.innerContent},n.createElement("div",{className:u.persona},n.createElement(x.PersonaCoin,Object(b.a)({},o))),n.createElement("div",{className:u.label},e.DisplayName))}},f=n.useCallback((function(){a(!i)}),[i]);return n.createElement("div",null,"Reviewers",n.createElement(x.IconButton,{iconProps:{iconName:i?"ChevronUp":"ChevronDown"},onClick:f}),function(){return i?null:n.createElement("div",null,n.createElement(x.SearchBox,{onChange:d}),n.createElement("div",{className:u.reviewerBox},function(){return l.map((function(e){return n.createElement("div",{key:e.UserId,className:u.entry},n.createElement(x.Checkbox,{styles:u.checkBox,onRenderLabel:p(e)}))}))}()))}())}var wd=Object(x.memoizeFunction)((function(e){var t,r,n,o,i,s,l,c;return{commandBarButtonDefault:{padding:"0px",height:"32px",backgroundColor:null!==(t=null==e?void 0:e.DefaultFilterButtonBackground)&&void 0!==t?t:x.NeutralColors.gray30},commandBarButton:{padding:"0px",height:"32px",backgroundColor:null!==(r=null==e?void 0:e.FilterButtonBackground)&&void 0!==r?r:"transparent",color:a.i()?null!==(n=null==e?void 0:e.FilterButtonIconAndTextColor)&&void 0!==n?n:"#313131":void 0,borderRadius:"3px"},filterIcon:{color:a.i()&&null!==(o=null==e?void 0:e.FilterButtonIconAndTextColor)&&void 0!==o?o:"#313131"},contextMenu:{container:{width:"240px",borderRadius:"5px",boxShadow:"3px"},root:{borderRadius:"5px",paddingTop:"7px",paddingBottom:"7px"}},menuHeader:{display:"flex",flexDirection:"row",justifyContent:"end",alignItems:"center"},resetButton:Object(x.mergeStyleSets)({icon:{width:"16px"},root:{borderStyle:"none",boxShadow:"none",fontFamily:'"Segoe UI", "Segoe UI Web", Arial, Verdana, sans-serif',fontSize:"12px",fontWeight:"400",margin:"12px",marginTop:"10px",marginBottom:"10px",height:"26px",backgroundColor:null!==(i=null==e?void 0:e.ResetFilterButtonBackground)&&void 0!==i?i:x.NeutralColors.white,color:null!==(s=null==e?void 0:e.ResetFilterButtonText)&&void 0!==s?s:x.SharedColors.cyanBlue10,cursor:"pointer"}}),resetButtonDefault:Object(x.mergeStyleSets)({icon:{width:"16px"},root:{borderStyle:"none",boxShadow:"none",fontFamily:'"Segoe UI", "Segoe UI Web", Arial, Verdana, sans-serif',fontSize:"12px",fontWeight:"400",margin:"12px",marginTop:"10px",marginBottom:"10px",height:"26px",backgroundColor:null!==(l=null==e?void 0:e.ResetFilterButtonBackgroundDisabled)&&void 0!==l?l:x.NeutralColors.white,color:null!==(c=null==e?void 0:e.ResetFilterButtonTextDisabled)&&void 0!==c?c:x.NeutralColors.gray70,cursor:"default"}}),divider:{padding:"6px"},menuItem:{label:{fontSize:"12px",fontWeight:"400",fontFamily:'"Segoe UI", "Segoe UI Web", Arial, Verdana, sans-serif',height:"30px",display:"flex",flexDirection:"column",justifyContent:"center"},root:{margin:"0px",height:"30px"},iconChecked:{fontSize:"12px",width:"12px"},checkmarkIcon:{fontSize:"12px",width:"12px",fontWeight:"600"}}}})),xd=n.memo((function(e){var t=e.currentFilter,r=e.personaIconPropertiesMap,o=e.localizationAPI,i=ac(e),a=i.filterCapabilities,s=i.atMentionToMe,l=i.setAtMentionToMe,c=i.resolutionStatus,u=i.setResolutionStatus,d=(i.order,i.setOrder,i.isUsingDefaultFilter),p=i.resetAll,f=i.getNumberOfFiltersApplied,h=wd(),m=function(e,t,r){return{key:e,text:e,canCheck:!0,isChecked:t,itemProps:{styles:h.menuItem},onClick:r}},y=function(e){return function(t){e(),t&&t.preventDefault()}},v=function(){return void 0===s?[]:[m(o.getString(249),s,y((function(){return l(!s)})))]},g=function(){return rc.d.map((function(e){return m(Object(nc.n)(o,e),c===e,y((function(){return u(c===e?Ee.a.All:e)})))}))},O=function(e){var t=o.getString(e),r=h.resetButton,i=28;return d&&(r=h.resetButtonDefault,i=29),[{key:t,onRender:function(){return n.createElement("div",{className:"menu-header",style:h.menuHeader},n.createElement(x.ActionButton,{className:"FilterResetAll".concat(d?" disabled":""),iconProps:{iconName:Object(gd.b)(i)},text:t,onClick:p,disabled:d,styles:r}))}}]},w=function(e,t){return Object(vd.a)(e.map((function(r,n){return 0===r.length?[]:n===e.length-1?[r]:[r,{key:"filterDivider_".concat(t,"_").concat(n),itemType:x.ContextualMenuItemType.Divider,styles:h.divider}]})))},C=function(e,t,r){if(0===e.length)throw new Error("Unexpected empty item list");return[{key:r,itemType:x.ContextualMenuItemType.Section,sectionProps:{topDivider:!0,bottomDivider:!1,title:o.getString(t),items:w(e,r)}}]},S=function(e,t){return n.createElement(n.Fragment,null,t&&t(e),T())},T=n.useCallback((function(){if(null==a?void 0:a.supportsFilterByUser){var e={personaIconPropertiesMap:r,allReviewers:[],filteredReviewers:t.userFilter,localizationAPI:o};return n.createElement(Od,Object(b.a)({},e))}}),[r,o,t,a]),j=d?void 0:f(),k=d?h.commandBarButtonDefault:h.commandBarButton;return n.createElement(x.CommandBarButton,{iconProps:{iconName:"Filter",style:h.filterIcon},menuProps:function(){var e=[O(262),C([v(),g()],261,"filterBy")];return{shouldFocusOnMount:!0,directionalHint:x.DirectionalHint.bottomLeftEdge,styles:h.contextMenu,onRenderMenuList:S,items:Object(vd.a)([e]),ariaLabel:o.getString(255)}}(),style:k,text:j,ariaLabel:o.getString(254)})})),Cd=r(1141),Sd=o.a.memo((function(e){var t=Object(Cd.b)(),r=function(){return{itemCount:Object(x.mergeStyles)(a.O()?{margin:"9px auto",width:"35%"}:{margin:"auto",marginBottom:"22px",width:"35%"})}}();return o.a.createElement(x.Text,{variant:"small",className:r.itemCount},Object(nc.i)(t,e.itemCount))})),Td=Object(g.c)({},Object(x.memoizeFunction)((function(e,t){return{labelContainer:Object(x.mergeStyles)({display:"flex",color:he.a.GRAY_E,opacity:"100%",fontFamily:"inherit",fontSize:"12px",lineHeight:"1.3",justifyContent:"center",width:t,marginTop:"7px",marginBottom:"10px",minHeight:"20px",forcedColorAdjust:"auto"}),cardContainer:Object(x.mergeStyles)({display:"flex",flexDirection:"column",width:t,cursor:"pointer",marginTop:"20px",marginRight:"8px",marginLeft:"8px",backgroundColor:"transparent",flexGrow:0,transition:"ease-in-out",transitionProperty:"margin-top,max-height,min-height",transitionDuration:"0.20s",minHeight:"70px",maxHeight:"70px",border:"1px solid transparent",selectors:{":hover":Object(x.mergeStyles)({marginTop:"5px",minHeight:"85px",maxHeight:"85px"},ye.l),":focus":Object(x.mergeStyles)({color:"#333333",outline:"none",border:"1px dotted"},ye.k)}}),ghostCardContainer:Object(x.mergeStyles)({width:t,overflow:"hidden"}),svgStyle:Object(x.mergeStyles)({width:t},e&&{transform:"scaleX(-1)"})}})),(function(){return[Object(fe.a)()]})),jd=function(e){function t(t){var r=e.call(this,t)||this;return r.invokeHandler=r.invokeHandler.bind(r),r.keyDownHandler=r.keyDownHandler.bind(r),r}return Object(b.c)(t,e),t.prototype.invokeHandler=function(e){var t,r;null===(r=(t=this.props).onClick)||void 0===r||r.call(t),e.stopPropagation()},t.prototype.keyDownHandler=function(e){Object(C.f)(e.key)!==C.b.Enter&&Object(C.f)(e.key)!==C.b.Space||this.invokeHandler(e)},t.prototype.render=function(){var e=r(1538),t=Object(x.getRTL)(),o=Td(t);return n.createElement("div",{"aria-label":this.props.accessibilityLabel,id:oe.A(),className:o.cardContainer,role:"button",onClick:this.invokeHandler,onKeyDown:this.keyDownHandler,tabIndex:0},n.createElement("span",{className:o.labelContainer},this.props.ghostCommentString),n.createElement("span",{className:o.ghostCardContainer},n.createElement(e,{className:o.svgStyle})))},t}(n.PureComponent),kd=r(1045),Pd=r(1062),Ed=function(e){return Object(x.mergeStyles)({display:"flex",flexDirection:a.T()?"row":"row-reverse",direction:"inherit",flexWrap:"nowrap",width:e,flex:"1",minHeight:"41px",marginBottom:"5px",paddingLeft:a.T()?"13px":"10px",paddingBottom:0,backgroundColor:"transparent",outline:"none"})},_d=function(e,t){var r,n,o,i,s,l,c,u,d,p,f,h,m,y;return Object(x.mergeStyleSets)({root:{margin:0,padding:0,backgroundColor:null!==(o=null==e?void 0:e.NewCommentButton)&&void 0!==o?o:he.a.WHITE,border:"1px solid",borderRadius:ye.c,borderColor:null!==(i=null==e?void 0:e.CommonControlBorder)&&void 0!==i?i:he.a.GRAY_C,boxShadow:null!==(s=null==t?void 0:t.DefaultButtonBoxShadow)&&void 0!==s?s:"0 2px 4px -.75px rgba(0,0,0,0.1)",selectors:{".ms-Fabric--isFocusVisible &:focus::after":ye.m,".ms-Button-flexContainer":{position:"relative"}}},icon:{width:"16px",padding:"8px",paddingLeft:"12px",margin:0,marginBottom:"16px",marginTop:"16px",color:null!==(l=null==e?void 0:e.PrimaryButton)&&void 0!==l?l:Object(Pd.a)().primary},label:{color:null==e?void 0:e.DefaultButtonIcon,fontSize:"14px",textAlign:"right",fontFamily:"inherit",padding:"8px",paddingRight:"12px",paddingLeft:0,margin:0,marginBottom:"16px",marginTop:"16px"},rootHovered:Object(x.mergeStyles)({color:Object(a.P)()?void 0:ye.b.BUTTON_HOVER,backgroundColor:null==e?void 0:e.NewCommentButtonHovered},ye.l),rootPressed:{color:Object(a.P)()?void 0:ye.b.BUTTON_DOWN,backgroundColor:null==e?void 0:e.NewCommentButtonPressed},rootFocused:Object(x.mergeStyles)({boxShadow:null!==(c=null==t?void 0:t.FocusedButtonBoxShadow)&&void 0!==c?c:"inset 0px 0px 0px 1px white",backgroundColor:null!==(u=null==e?void 0:e.DefaultButton)&&void 0!==u?u:ye.b.BUTTON_SELECT,borderColor:null!==(d=null==e?void 0:e.NewCommentButtonBorderFocused)&&void 0!==d?d:he.a.BLACK,selectors:(r={},r[x.HighContrastSelector]={" .ms-Button-label":{color:"HighlightText"}},r)},ye.k),rootDisabled:{boxShadow:null!==(p=null==t?void 0:t.DisabledButtonBoxShadow)&&void 0!==p?p:"inset 0px 0px 0px 1px #F3F2F1",backgroundColor:null!==(f=null==e?void 0:e.NewCommentButtonDisabled)&&void 0!==f?f:ye.b.BUTTON_DISABLED},iconHovered:{color:null!==(h=null==e?void 0:e.NewCommentButtonIconHoveredPressed)&&void 0!==h?h:he.a.GRAY_J},iconPressed:{color:null!==(m=null==e?void 0:e.NewCommentButtonIconHoveredPressed)&&void 0!==m?m:he.a.GRAY_J},labelHovered:{color:null!==(y=null==e?void 0:e.DefaultButtonIcon)&&void 0!==y?y:he.a.GRAY_J,selectors:(n={},n[x.HighContrastSelector]={color:"HighlightText"},n)}})},Id=Object(x.memoizeFunction)((function(e,t,r){return{newCommentButtonContainer:Ed(r),newCommentButton:_d(e,t)}})),Rd=Object(g.c)({},(function(e,t,r){return Id(e,t,r)}),(function(){return[Object(fe.a)()]})),Ad={iconName:"NewComment"},Dd=n.memo((function(e){var t=Object(P.b)(),r=Rd(null==t?void 0:t.colors,null==t?void 0:t.styles);return n.createElement("div",{className:r.newCommentButtonContainer},n.createElement(x.TooltipHost,{content:e.localizationAPI.getString(177),directionalHint:x.DirectionalHint.leftCenter,tooltipProps:kd.a},n.createElement(x.DefaultButton,{id:Object(oe.D)(),styles:r.newCommentButton,text:e.localizationAPI.getString(91),ariaLabel:e.localizationAPI.getString(177),iconProps:Ad,onClick:e.onClick,onKeyDown:e.onKeyDown,disabled:e.disabled,allowDisabledFocus:!0,tabIndex:e.disabled?-1:0})))})),Bd=r(1194),Md=r(1038),Nd=r(1192),Ld=r(1068),Fd={cardTabbingMode:Bd.a.ExpandedCardOrFirstCardTabbable,postTabbingMode:Bd.b.ExpandedCardRootPostTabbable},zd=function(e){function t(t){var r=e.call(this,t)||this;return r.paneRootRef=null,r.onPaneResize=function(e){Object(w.k)().assertConditionTag(e.length<=1,"Unexpected number of elements: ".concat(e.length),592232640),e.forEach((function(e){e.target===r.paneRootRef&&(r.props.selectedComment&&r.prevContentRect&&r.prevContentRect.height!==e.contentRect.height&&r.scrollToThreadById(r.props.selectedComment.selectedCardId),r.prevContentRect=e.contentRect)}))},r.onRenderCell=function(e,t){if(e)return r.renderCommentThread(t||0,e);Object(w.k)().assertConditionTag(!1,"Trying to render non-existent item",577066524)},r.onCardLayout=void 0,r.renderWithContexts=function(e,t){var o=r.paneContainerKeyDownHandler.onKeyDown;r.styles=Pe(null==e?void 0:e.colors);var i=null;i=r.isReadyToRender()?r.isPaneEmpty()?r.renderEmptyPaneMessage():n.createElement("div",{"data-is-scrollable":"true",id:oe.p(),className:r.styles.listContainer,onKeyDown:r.commentContentsKeyDownHandler.onKeyDown},n.createElement(x.List,{ref:r.onReceiveListRef,className:r.styles.commentList,items:r.state.allRenderableItemThreads,role:"tree",onRenderPage:r.onRenderPage,onRenderCell:r.onRenderCell,"aria-label":r.props.localizationAPI.getString(32),getKey:r.getListItemKey}),r.shouldShowGhostComment()?n.createElement(jd,Object(b.a)({},r.getGhostCommentProps())):void 0):n.createElement(x.DelayedRender,{delay:ye.f},n.createElement(x.Spinner,{size:x.SpinnerSize.large,className:r.styles.spinnerStyles}));var s={ref:r.setPaneRootDivRef,id:oe.z(),"aria-label":r.props.localizationAPI.getString(31),className:r.styles.paneContainer,onKeyDown:o,tabIndex:-1,onFocus:r.paneFocusHandler,onContextMenu:Nd.a};return a.L()?n.createElement("div",Object(b.a)({},s),r.renderContentFilterAndNewCommentButtonWrapper(t),i):n.createElement(x.FocusTrapZone,{className:r.styles.focusTrapZone,isClickableOutsideFocusTrap:!0,ignoreExternalFocusing:!0,forceFocusInsideTrap:!1,disableFirstFocus:!0},n.createElement("div",Object(b.a)({},s),r.renderCommentPaneHeader_deprecated(),r.renderNewCommentButton(),i))},r.onRenderPage=r.onRenderPage.bind(r),r.scrollToThreadById=r.scrollToThreadById.bind(r),r.closePaneButtonClickHandler_deprecated=r.closePaneButtonClickHandler_deprecated.bind(r),r.closePaneButtonKeyDownHandler_deprecated=r.closePaneButtonKeyDownHandler_deprecated.bind(r),r.onReceiveListRef=r.onReceiveListRef.bind(r),r.paneFocusHandler=r.paneFocusHandler.bind(r),r.setPaneRootDivRef=r.setPaneRootDivRef.bind(r),r.newCommentButtonClickHandler=r.newCommentButtonClickHandler.bind(r),r.newCommentButtonKeyDownHandler=r.newCommentButtonKeyDownHandler.bind(r),r.getMentionableCommentEditorProps=Object(g.a)(r.getMentionableCommentEditorProps.bind(r)),r.getAuthToken=r.getAuthToken.bind(r),r.state=r.getInitialState(t),r.resizeObserver=new S.a(r.onPaneResize),r}return Object(b.c)(t,e),t.prototype.onReceiveListRef=function(e){this.listRef=e},t.prototype.isPaneEmpty=function(){var e=this.props.nextPopulatedContextDetails===k.a.NoComments;return e&&Object(w.k)().assertConditionTag(!this.props.dataItems.length,"CommentData length should be 0 if NextPopulatedContextDetails is NoComments.",595182560),e&&!this.props.dataItems.length&&(a.W()||!this.props.createdCommentLie)},t.prototype.scrollToThreadById=function(e){var t=this;if(!this.listRef)return!1;var r=this.state.allRenderableItemThreads,n=Math.max(r.findIndex((function(t){return ce.h(t).commentId===e})),0);return this.listRef.scrollToIndex(n,(function(e){return t.getCardScrollHeight(e,r)})),!0},t.prototype.paneFocusHandler=function(e){e.target===this.paneRootRef&&this.props.focusManager.focusCommentPaneCommand(this.props.componentTree)},t.prototype.setPaneRootDivRef=function(e){this.paneRootRef=e},t.prototype.closePaneButtonClickHandler_deprecated=function(e){this.closePane(),e.stopPropagation()},t.prototype.closePaneButtonKeyDownHandler_deprecated=function(e){Object(C.f)(e.key)===C.b.Enter&&(this.closePane(),e.preventDefault(),e.stopPropagation())},t.prototype.newCommentButtonClickHandler=function(e){this.startNewCommentSession(),e.stopPropagation()},t.prototype.newCommentButtonKeyDownHandler=function(e){Object(C.f)(e.key)===C.b.Enter&&(this.startNewCommentSession(),e.stopPropagation(),e.preventDefault())},t.prototype.getGhostCommentProps=function(){var e=nc.j(this.props.localizationAPI,this.props.nextPopulatedContextDetails);return{onClick:this.onGhostCommentClicked,ghostCommentString:e,accessibilityLabel:e}},t.prototype.onContextChanged=function(){},t.prototype.getAuthToken=function(){return this.props.peopleAPI.getAuthToken(O.c.Loki)},t.prototype.renderCommentPaneHeader_deprecated=function(){return n.createElement("div",{className:this.styles.paneHeader},n.createElement("h2",{className:this.styles.paneTitle},this.props.localizationAPI.getString(18)),n.createElement(x.TooltipHost,{content:this.props.localizationAPI.getString(19),directionalHint:x.DirectionalHint.leftCenter,tooltipProps:kd.a},this.renderCloseButton_deprecated()))},t.prototype.renderCloseButton_deprecated=function(){return n.createElement(x.IconButton,{id:oe.l(),styles:this.styles.iconClosePane,onClick:this.closePaneButtonClickHandler_deprecated,onKeyDown:this.closePaneButtonKeyDownHandler_deprecated,iconProps:{iconName:"CancelGlyph_TaskPane"},title:void 0,ariaLabel:this.props.localizationAPI.getString(19),tabIndex:0})},t.prototype.isNewCommentButtonDisabled=function(){return!this.props.modelCapabilities.newThread||this.props.readOnly},t.prototype.renderContentFilterAndNewCommentButtonWrapper=function(e){return a.T()?n.createElement("div",{className:this.styles.topWrapper},this.renderNewCommentButton(),e?n.createElement("div",{className:this.styles.filterRegion},n.createElement(Sd,{itemCount:this.props.filterItemCount}),a.O()?n.createElement(bd,Object(b.a)({},this.getContentFilterProps())):n.createElement(xd,Object(b.a)({},this.getContentFilterProps()))):null):n.createElement("div",{className:this.styles.topWrapper},e?n.createElement("div",{className:this.styles.filterRegion},a.O()?n.createElement(bd,Object(b.a)({},this.getContentFilterProps())):n.createElement(xd,Object(b.a)({},this.getContentFilterProps())),n.createElement(Sd,{itemCount:this.props.filterItemCount})):null,this.renderNewCommentButton())},t.prototype.renderNewCommentButton=function(){return a.E()?n.createElement(Dd,{disabled:this.isNewCommentButtonDisabled(),localizationAPI:this.props.localizationAPI,onClick:this.newCommentButtonClickHandler,onKeyDown:this.newCommentButtonKeyDownHandler}):null},t.prototype.renderEmptyPaneMessage=function(){return n.createElement("div",{className:this.styles.emptyPaneMessage,"aria-label":this.props.localizationAPI.getString(13)},this.props.localizationAPI.getString(13))},t.prototype.onRenderPage=function(e,t){if((null==e?void 0:e.page.items)&&this.props.modelCapabilities.virtualized){var r=function(e,t){var r,n,o=[];try{for(var i=Object(b.i)(e),a=i.next();!a.done;a=i.next()){var s=t(a.value);void 0!==s&&o.push(s)}}catch(e){r={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return o}(e.page.items,(function(e){if(Object(Ld.a)(e[0]))return Object(T.j)(e[0].commentModel);Object(w.k)().assertConditionTag(!1,"First item in thread is not a comment model!",595632604)}));r.length&&this.onRequestLoadThreads(r)}return Object(w.k)().assertConditionTag(!!e,"Trying to render with non-existent pageProps!",577066525),t?t(e):null},t.prototype.getCreateCommentInitialHeight=function(){return 0},t.prototype.getKeyboardingOptions=function(){return Fd},t.prototype.componentDidUpdate=function(t,r){var n,o,i=null===(n=t.selectedComment)||void 0===n?void 0:n.selectedCardId,a=null===(o=this.props.selectedComment)||void 0===o?void 0:o.selectedCardId,s=i!==a,l=de(t),c=de(this.props);s?a&&this.scrollToThreadById(a):!this.props.selectedComment&&l!==c&&c&&this.scrollToThreadById(c),!this.listRef||this.props.selectedComment===t.selectedComment&&this.props.expandedComments===t.expandedComments&&this.props.cardViewStates===t.cardViewStates&&this.props.postViewStates===t.postViewStates&&this.props.highlightedCommentId===t.highlightedCommentId&&this.props.modelCapabilities===t.modelCapabilities&&this.props.readOnly===t.readOnly&&this.props.draftState===t.draftState||this.listRef.forceUpdate(),e.prototype.componentDidUpdate.call(this,t,r)},t.prototype.componentDidMount=function(){e.prototype.componentDidMount.call(this),this.paneRootRef&&this.resizeObserver.observe(this.paneRootRef)},t.prototype.componentWillUnmount=function(){e.prototype.componentWillUnmount.call(this),this.resizeObserver&&this.resizeObserver.disconnect(),this.prevContentRect=void 0},t.prototype.UNSAFE_componentWillReceiveProps=function(e){var t=this.getUpdatedItemThreads(e);this.setState({allRenderableItemThreads:t})},t.prototype.getCardScrollHeight=function(e,t){return Object(w.k)().assertConditionTag(void 0!==t[e],"No comment thread in the given index: '".concat(e,"'. Thread length: '").concat(t.length,"'"),595182561),t[e]&&1===t[e].length?160:t[e]&&2===t[e].length?206:235},t.prototype.invokeModalDialog=function(e,t,r){var n=Object(w.k)().createActivityObject("InvokeModalDialog",this.props.telemetryVisitor,Object(w.j)());switch(n.addDataField("ModalDialogMode",e,w.d.SystemMetadata),e){case E.a.ClosePaneDraft:var o,i=nc.f(this.props.localizationAPI),a=new Promise((function(e){o=e}));return this.props.requestModalConfirmation({renderContextType:this.props.componentTree.componentTreeId.renderContextType,trackback:v.d.reserveTag(595928218),telemetryVisitor:this.props.telemetryVisitor},(function(){return o(t())}),(function(){return o(r())}),i),n.successTag(595182562),a;default:return Object(w.k)().assertConditionTag(!1,"ModalDialogMode ".concat(e," not implemented for web"),595182563),n.failTag(595182592,-2130957557),Promise.resolve(j.a.Unhandled)}},t.prototype.getMentionableCommentEditorProps=function(e,t){if(e===T.b.Enabled)return{onMentionCreated:this.onMentionCreated,onMentioneesStillInDraftUpdated:this.onMentioneesStillInDraftUpdated,getAuthToken:this.getAuthToken,correlationId:this.props.correlationId,suggestionsDetails:t}},t.prototype.getContentsPreventDefaultKeyDownBehavior=function(){},t.prototype.getContentExtraPaddingLeft=function(){},t.prototype.getContentExtraPaddingRight=function(){},t.prototype.getAvailableScreenHeight=function(){},t.prototype.getMaxDraftHeight=function(){},t.prototype.getCommentCardStyle=function(){},t.prototype.getContentBackgroundColor=function(e,t){},t.prototype.getPinnedCardIndex_deprecated=function(){},t.prototype.renderInner=function(){return a.P()?Object(Md.a)(this.renderWithContexts,P.a,ic):this.renderWithContexts()},t}(pe);var Hd=Object(s.connect)((function(){var e=f.y();return function(t){var r=f.f(t),n=d.c(t),o={cardViewStates:f.c(t),dataItems:e(t),tasks:h.b(t),personaIconPropertiesMap:f.r(t),createdCommentLie:f.g(t,!0,n.componentTreeId.renderContextType),nextPopulatedContextDetails:r.nextPopulatedContextDetails,pendingCommentLoad:f.q(t),postViewStates:f.s(t),historyRecordViewStates:h.a(t),componentTree:n,commentThreadCountsContextDetails:r.commentThreadCounts,selectedThreadIdBeforeCommentSession:f.u(t),readOnly:f.o(t),highlightedCommentId:f.n(t),lastContextChangeIncrement:r.lastContextChangeIncrement,initializationStatus:t.paneState.initializationStatus,draftState:f.h(t),modelCapabilities:f.p(t),selectedComment:f.t(t),expandedComments:f.j(t),suggestionsDetails:f.w(t),foldableLayoutState:d.d(t).foldableLayoutState,displayConfigurationState:t.paneState.viewContainerDisplayConfiguration,currentFilter:u.b(t),filterItemCount:u.c(t),DoNotUse_isFilteringEnabled:!!u.g(t)},i=f.x(t);if(i){var a=f.k(t),s=Object(m.f)(a)?a.findIndex((function(e){return e===i})):a.filter(p.a).findIndex((function(e){return e.commentId===i}));s>-1&&(o.topVisibleThread={cardId:i,index:s})}return o}}),y.b,void 0,{forwardRef:!0})(zd),Ud=r(1286),Wd=n.memo((function(e){var t=l((function(t){return Object(c.c)(t,e.extensionRenderMode)})),r=l(d.e)!==i.a.Visible,o=l(u.g);if(t||r)return null;var s=n.createElement(Hd,{commentAPI:e.commentAPI,peopleAPI:e.peopleAPI,localizationAPI:e.localizationAPI,focusManager:e.focusManager,selectionManager:e.selectionManager,initializationReason:e.initializationReason,registerComponentUIActionListener:e.registerComponentUIActionListener,unregisterComponentUIActionListener:e.unregisterComponentUIActionListener,registerComponentInterruptableCommandListener:e.registerComponentInterruptableCommandListener,unregisterComponentInterruptableCommandListener:e.unregisterComponentInterruptableCommandListener,resource:e.resource,telemetryVisitor:e.telemetryVisitor,correlationId:e.correlationId,onInitialRender:e.onInitialRender,lppManager:e.lppManager,createOrUpdateFilter:e.createOrUpdateFilter,componentRef:e.componentRef,componentInstanceId:e.componentInstanceId});return a.P()&&(s=n.createElement(Ud.a,{api:e.themeAPI},s)),o&&(s=n.createElement(ic.Provider,{value:o},s)),s}))},1542:function(e,t,r){"use strict";r.r(t),r.d(t,"makeMapStateToProps",(function(){return k})),r.d(t,"HostableCommentCardRendererContainer",(function(){return P}));var n=r(1004),o=r(1005),i=r(1028),a=r(1086),s=r(1013),l=r(1085),c=r(1289),u=r(1012),d=r(307),p=r(1552),f=r(1553),h=r(1),m=r(1290),y=r(1276),b=r(1286),v={dataFieldVisitor:Object(o.l)(o.g.GlobalAPI)};function g(e){return{dataFieldVisitor:e}}var O,w,x,C,S,T=h.createContext(v),j=function(e){function t(t){var r=e.call(this,t)||this;return r.getDiagnosticDataFields=function(){return[Object(o.o)("IsResourceAvailable",r.props.isResourceAvailable,o.d.SystemMetadata),Object(o.o)("IsContentExtensionEnabled",r.props.isExtensionEnabled,o.d.SystemMetadata),Object(o.o)("RenderContextType",r.props.componentTree.componentTreeId.renderContextType,o.d.SystemMetadata)]},r.getUpdatedResource=Object(p.a)((function(e,t){return Object(d.a)(Object(d.a)({},e),{id:t})})),r.createTelemetryContext=Object(p.a)(g),r.getAccessibilitySetProperties=Object(p.b)((function(e){var t,r,n;return{accessibilityPositionInSet:null===(t=null==e?void 0:e.setItem)||void 0===t?void 0:t.positionInSet,accessibilitySetSize:null===(r=null==e?void 0:e.setItem)||void 0===r?void 0:r.setSize,accessibilityLevel:null===(n=null==e?void 0:e.setItem)||void 0===n?void 0:n.level}}),(function(){return[r.props.accessibilityMetadata]})),r.state={keyIter_deprecated:0},r}return Object(d.c)(t,e),t.prototype.componentDidUpdate=function(e){var t,r;e.isResourceAvailable!==this.props.isResourceAvailable&&(null===(r=(t=Object(o.k)()).logDiagnosticTrace)||void 0===r||r.call.apply(r,Object(d.h)([t,Object(f.a)(O||(O=Object(d.e)(["HostableComponentResourceAvailabilityUpdated"],["HostableComponentResourceAvailabilityUpdated"]))),n.d.reserveTag(554717322),o.h.Info,o.c.ProductServiceUsage,this.props.telemetryVisitor],Object(d.f)(this.getDiagnosticDataFields()),!1)))},t.prototype.componentDidMount=function(){var e,t;null===(t=(e=Object(o.k)()).logDiagnosticTrace)||void 0===t||t.call.apply(t,Object(d.h)([e,Object(f.a)(w||(w=Object(d.e)(["HostableComponentMount"],["HostableComponentMount"]))),n.d.reserveTag(554717323),o.h.Info,o.c.ProductServiceUsage,this.props.telemetryVisitor],Object(d.f)(this.getDiagnosticDataFields()),!1))},t.prototype.componentWillUnmount=function(){var e,t;null===(t=(e=Object(o.k)()).logDiagnosticTrace)||void 0===t||t.call.apply(t,Object(d.h)([e,Object(f.a)(x||(x=Object(d.e)(["HostableComponentUnmount"],["HostableComponentUnmount"]))),n.d.reserveTag(554717324),o.h.Info,o.c.ProductServiceUsage,this.props.telemetryVisitor],Object(d.f)(this.getDiagnosticDataFields()),!1))},t.prototype.render=function(){var e,t,r,i;if(!this.props.isResourceAvailable||!this.props.resource||!this.props.threadId)return null===(t=(e=Object(o.k)()).logDiagnosticTrace)||void 0===t||t.call.apply(t,Object(d.h)([e,Object(f.a)(C||(C=Object(d.e)(["HostableComponentRenderFailed"],["HostableComponentRenderFailed"]))),n.d.reserveTag(524100997),o.h.Info,o.c.ProductServiceUsage,this.props.telemetryVisitor],Object(d.f)(this.getDiagnosticDataFields()),!1)),null;if(!this.props.isExtensionEnabled)return n.a?h.createElement(y.a,{textStylePolyester:"MediumBold"},"Debug Error: This comment card's extension is disabled."):(null===(i=(r=Object(o.k)()).logDiagnosticTrace)||void 0===i||i.call.apply(i,Object(d.h)([r,Object(f.a)(S||(S=Object(d.e)(["HostableComponentRenderFailedExtensionDisabled"],["HostableComponentRenderFailedExtensionDisabled"]))),n.d.reserveTag(524100998),o.h.Info,o.c.ProductServiceUsage,this.props.telemetryVisitor],Object(d.f)(this.getDiagnosticDataFields()),!1)),null);var a=this.getUpdatedResource(this.props.resource,this.props.threadId),s=this.getAccessibilitySetProperties(),l=h.createElement(b.a,{api:this.props.themeAPI},h.createElement(m.a,Object(d.a)({commentAPI:this.props.commentAPI,focusManager:this.props.focusManager,localizationAPI:this.props.localizationAPI,peopleAPI:this.props.peopleAPI,resource:a,telemetryVisitor:this.props.telemetryVisitor,componentRef:this.props.componentRef,componentTree:this.props.componentTree,maximumDimensions:this.props.maximumDimensions,onInitialRender:this.props.onInitialRender,setComponentRef:this.props.setComponentRef,isVirtualized:this.props.isVirtualized,componentInstanceId:this.props.componentInstanceId,correlationId:this.props.correlationId,lppManager:this.props.lppManager,accessibilityMetadata:this.props.accessibilityMetadata},s)));return h.createElement(T.Provider,{value:this.createTelemetryContext(this.props.telemetryVisitor)},l)},t}(h.PureComponent),k=function(){var e=c.e(),t=c.c(),r=c.m((function(e){return s.g(e,!0)}),(function(e){return s.i(e,!0)}),e,t),a=c.a(),d=c.g(),p=c.d(r,a),f=c.n(p);return function(e,t){var a,c=r(e,t),p=c.thread.length?c.thread[0].commentId:null===(a=t.resource)||void 0===a?void 0:a.id,h=t.componentTree.componentTreeId.renderContextType,m=void 0;switch(h){case u.a.FullPane:m={renderMode:i.e.TaskPaneItem};break;case u.a.DiscreteIntegrated:m={renderMode:i.e.Integrated};break;case u.a.DiscreteIsolated:p&&(m={renderMode:i.e.Isolated,threadId:p});break;case u.a.HalfPane:case u.a.None:Object(o.k)().assertConditionTag(!1,"Invalid RenderContextType for HostableComponent received.",593822914);break;default:Object(n.m)(h)}var y=l.d(e,m);return{isResourceAvailable:f(e,t),modelCapabilities:s.p(e),isDraftThread:d(e,t),isExtensionEnabled:y,threadId:p}}},P=Object(a.connect)(k)(j)},1557:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(307);function o(e){return null==e?"9FA40DC1-775B-46F7-B124-3E10E131B835":e}function i(e,t,r){void 0===t&&(t=100);var i=new Map,a=0;return function(){for(var s,l,c=[],u=0;u<arguments.length;u++)c[u]=arguments[u];if(0===c.length){var d=e.apply(void 0,Object(n.h)([],Object(n.f)(c),!1));return d}a>t&&(i.clear(),a=0,null==r||r());var p=o(c[0]),f=null!==(s=i.get(p))&&void 0!==s?s:{nextArgMap:new Map};i.has(p)||i.set(p,f);for(var h=1;h<c.length;h++){var m=o(c[h]),y=null!==(l=f.nextArgMap.get(m))&&void 0!==l?l:{nextArgMap:new Map};f.nextArgMap.has(y)||f.nextArgMap.set(m,y),f=y}return void 0!==f.value||(a++,f.value={storedResult:e.apply(void 0,Object(n.h)([],Object(n.f)(c),!1))}),f.value.storedResult}}},732:function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var n=r(589);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===o(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l=function(e,t){return n.optional(e,a(a({},t),{},{renderByDefault:null==t?void 0:t.required,elementType:void 0}))}}}]);