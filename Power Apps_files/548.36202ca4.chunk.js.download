(window.webpackJsonp=window.webpackJsonp||[]).push([[548],{19506:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t.IsNullOrWhiteSpace=function(t){try{return null==t||"undefined"==t||t.toString().replace(/\s/g,"").length<1}catch(e){return console.log(e),!1}},t.Join=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];try{var i=n[0];if(Array.isArray(i)||i instanceof Array){for(var o=t.Empty,a=0;a<i.length;a++){var s=i[a];a<i.length-1?o+=s+e:o+=s}return o}if("object"==typeof i){var u=t.Empty,l=i,c=Object.keys(i);return c.forEach((function(t){u+=l[t]+e})),u=u.slice(0,u.length-e.length)}var d=n;return t.join.apply(t,[e].concat(d))}catch(p){return console.log(p),t.Empty}},t.Format=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];try{return e.match(t.regexNumber)?t.format(t.regexNumber,e,n):e.match(t.regexObject)?t.format(t.regexObject,e,n,!0):e}catch(i){return console.log(i),t.Empty}},t.format=function(e,n,r,i){return void 0===i&&(i=!1),n.replace(e,(function(e,n){var o,a=e.split(":");return a.length>1&&(n=a[0].replace("{",""),e=a[1].replace("}","")),null==(o=i?r[0][n]:r[n])||null==o||e.match(/{\d+}/)||void 0!==(o=t.parsePattern(e,o))&&null!=o?o:t.Empty}))},t.parsePattern=function(e,n){switch(e){case"L":return n=n.toLowerCase();case"U":return n=n.toUpperCase();case"d":if("string"==typeof n)return t.getDisplayDateFromString(n);if(n instanceof Date)return t.Format("{0:00}.{1:00}.{2:0000}",n.getDate(),n.getMonth(),n.getFullYear());break;case"s":if("string"==typeof n)return t.getSortableDateFromString(n);if(n instanceof Date)return t.Format("{0:0000}-{1:00}-{2:00}",n.getFullYear(),n.getMonth(),n.getDate());break;case"n":"string"!=typeof n&&(n=n.toString());var r=n.replace(/,/g,".");if(isNaN(parseFloat(r))||r.length<=3)break;var i=r.split(/[^0-9]+/g),o=i;i.length>1&&(o=[t.join.apply(t,[""].concat(i.splice(0,i.length-1))),i[i.length-1]]);var a=o[0],s=a.length%3,u=s>0?a.substring(0,s):t.Empty,l=a.substring(s).match(/.{3}/g);return n=(u=u+"."+t.Join(".",l))+(o.length>1?","+o[1]:"")}return"number"!=typeof n&&isNaN(n)||isNaN(+e)||t.IsNullOrWhiteSpace(n)?n:t.formatNumber(n,e)},t.getDisplayDateFromString=function(t){var e;if((e=t.split("-")).length<=1)return t;var n=e[e.length-1],r=e[e.length-2],i=e[e.length-3];return(n=(n=n.split("T")[0]).split(" ")[0])+"."+r+"."+i},t.getSortableDateFromString=function(e){var n=e.replace(",","").split(".");if(n.length<=1)return e;var r=n[n.length-1].split(" "),i=t.Empty;r.length>1&&(i=r[r.length-1]);var o=n[n.length-1].split(" ")[0]+"-"+n[n.length-2]+"-"+n[n.length-3];return!t.IsNullOrWhiteSpace(i)&&i.length>1?o+="T"+i:o+="T00:00:00",o},t.formatNumber=function(t,e){var n=e.length,r=t.toString();if(n<=r.length)return r;var i=n-r.length;return new Array(i+=1).join("0")+r},t.join=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];for(var i=t.Empty,o=0;o<n.length;o++)if(!("string"==typeof n[o]&&t.IsNullOrWhiteSpace(n[o])||"number"!=typeof n[o]&&"string"!=typeof n[o])){var a=""+n[o];i+=a;for(var s=o+1;s<n.length;s++)if(!t.IsNullOrWhiteSpace(n[s])){i+=e,o=s-1;break}}return i},t.regexNumber=/{(\d+(:\w*)?)}/g,t.regexObject=/{(\w+(:\w*)?)}/g,t.Empty="",t}();e.String=r;var i=function(){function t(t){void 0===t&&(t=r.Empty),this.Values=[],this.Values=new Array(t)}return t.prototype.ToString=function(){return this.Values.join("")},t.prototype.Append=function(t){this.Values.push(t)},t.prototype.AppendFormat=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];this.Values.push(r.Format.apply(r,[t].concat(e)))},t.prototype.Clear=function(){this.Values=[]},t}();e.StringBuilder=i},23278:function(t,e,n){"use strict";n.d(e,"a",(function(){return g})),n.d(e,"b",(function(){return _}));var r,i=n(23279),o=(n(23055),n(23280)),a=(n(23282),r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},u=Object.defineProperty,l=(Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols),c=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,p=function(t,e,n){return e in t?u(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},h=function(t,e){for(var n in e||(e={}))c.call(e,n)&&p(t,n,e[n]);if(l)for(var r=0,i=l(e);r<i.length;r++){n=i[r];d.call(e,n)&&p(t,n,e[n])}return t};"undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__,"undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;!function(t){function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return Object.setPrototypeOf(i,e.prototype),i}a(e,t),Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.prototype.concat.apply(this,e)},e.prototype.prepend=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return 1===t.length&&Array.isArray(t[0])?new(e.bind.apply(e,s([void 0],t[0].concat(this)))):new(e.bind.apply(e,s([void 0],t.concat(this))))}}(Array);function g(t,e){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(e){var i=e.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return h(h({type:t,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:t,payload:n[0]}}return n.toString=function(){return""+t},n.type=t,n.match=function(e){return e.type===t},n}function f(t){var e,n={},r=[],i={addCase:function(t,e){var r="string"==typeof t?t:t.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=e,i},addMatcher:function(t,e){return r.push({matcher:t,reducer:e}),i},addDefaultCase:function(t){return e=t,i}};return t(i),[n,r,e]}function _(t,e,n,r){void 0===n&&(n=[]);var o,a="function"==typeof e?f(e):[e,n,r],u=a[0],l=a[1],c=a[2];if("function"==typeof t)o=function(){return Object(i.b)(t(),(function(){}))};else{var d=Object(i.b)(t,(function(){}));o=function(){return d}}function p(t,e){void 0===t&&(t=o());var n=s([u[e.type]],l.filter((function(t){return(0,t.matcher)(e)})).map((function(t){return t.reducer})));return 0===n.filter((function(t){return!!t})).length&&(n=[c]),n.reduce((function(t,n){if(n){var r;if(Object(i.d)(t))return void 0===(r=n(t,e))?t:r;if(Object(i.e)(t))return Object(i.b)(t,(function(t){return n(t,e)}));if(void 0===(r=n(t,e))){if(null===t)return t;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return t}),t)}return p.getInitialState=o,p}Object(i.c)()},23282:function(t,e,n){"use strict";function r(t){return function(e){var n=e.dispatch,r=e.getState;return function(e){return function(i){return"function"==typeof i?i(n,r,t):e(i)}}}}var i=r();i.withExtraArgument=r,e.a=i},23298:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=new(function(){function t(){}return t.prototype.initWithProvider=function(t){return!r._localizationProvider&&(r._localizationProvider=t,!0)},t.prototype.getLocalizedString=function(t,e){var n=this._localizationProvider?this._localizationProvider.getLocalizedString(t,e):"";return n&&n.length>0?n:""},t}())},23314:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(23315),i=function(){function t(){}return t.getDataSet=function(t,e){return new r.a(t,e).getDataSet()},t.createDataSetObjectWrapper=function(t,e,n){var i=new r.a(t,e,n);return null==n||n.destroy(),i},t}()},23315:function(t,e,n){"use strict";n.d(e,"a",(function(){return y}));var r,i=n(23316),o=n(23317),a=n(23322),s=n(23323),u=n(23324),l=n(23326),c=n(23327),d=n(23328),p=function(){return(p=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},h=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))},g=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(u){s=[6,u],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}},f={getCellImageInfo:"hasCellImageInfo"};!function(t){t[t.Available=0]="Available",t[t.Busy=1]="Busy",t[t.Error=2]="Error",t[t.Destroyed=3]="Destroyed"}(r||(r={}));var _=["lookup","customer","owner","regarding","partylist"],v=function(){function t(){this._cancelled=!1}return t.prototype.isCancelled=function(){return this._cancelled},t.prototype.cancel=function(){this._cancelled=!0},t}(),y=function(){function t(t,e,n){this._updatedProperties=[],this._columns=[],this._records={},this._sortedRecordIds=[],this._error=!1,this._errorMessage="",this._loading=!1,this._updateOnQueryId=-1,this._commandSelectionOnlySelection=[],this._additionalColumns=[],this._lastQueryColumns=[],this._usageCounter=new d.a("ModernDataSet"),this._dataProvider=t,this._configuration=e;var i=this._addUpdatedProperty.bind(this);this._linkingDetails=new u.a(i),this._groupingDetails=new l.a(i),this._aggregationDetails=new c.a(i),this._configuration.initQuery&&this._setupFromInitQuery(n),e.initializeCommanding&&(this._commandingIntialization=this._initializeCommanding(e)),this._dataProvider?this._moveToState({uniqueId:-1,state:r.Available}):this._moveToState({uniqueId:-1,state:r.Error,message:"Data source is not configured",errorCode:37158408})}return t.prototype.getDataSet=function(t){return void 0===t&&(t=!1),this._dataset&&!t||(this._dataset=this._generateDataset()),this._dataset},t.prototype.setControlReRender=function(t){this.requestRerender=t},t.prototype.requestRerender=function(t){},t.prototype.destroy=function(){this._moveToState({uniqueId:-1,state:r.Destroyed}),this.reportUsageCounters(),this._pagingDetails=null,this._filteringDetails=null,this._linkingDetails=null,this._groupingDetails=null,this._aggregationDetails=null,this._sortingDetails=null,this._configuration=null,this._updatedProperties=null,this._setColumns(null),this._records=null,this._sortedRecordIds=null,this._dataSetCommandManager&&(this._dataSetCommandManager.dispose(),this._dataSetCommandManager=null),this._dataSetRecordCommandManager&&(this._dataSetRecordCommandManager.dispose(),this._dataSetRecordCommandManager=null)},t.prototype.reportUsageCounters=function(){this._isReplaced||this._usageCounter.reportUsageCounters("PCF_dataset_usage")},t.prototype._addControlNameToTelemetry=function(t){return t||(t=[]),t.push({name:"controlName",value:"ModernDataSet"}),t},t.prototype._reportEventSuccess=function(t,e){o.a.reportEventSuccess(t,this._addControlNameToTelemetry(e))},t.prototype._reportEventFailure=function(t,e){o.a.reportEventFailure(t,this._addControlNameToTelemetry(e))},t.prototype._setupFromInitQuery=function(t){var e,n=this._configuration.initQuery,i=n.columns,o=n.sortDetails,a=n.pagingDetails,s=n.filters,u=n.linkingDetails,l=n.grouping,c=n.aggregation;this._setColumns(i),this._sortingDetails=o;var d=a||{},p=d.pageSize,h=d.pageNumber,g=d.firstPageNumber,f=d.lastPageNumber;this._pagingDetails={pageSize:p||25,firstPageNumber:g||h||1,lastPageNumber:f||g||h||1,totalResultCount:-1,hasNextPage:!1,hasPreviousPage:!1},this._filteringDetails={filterExpression:s},this._linkingDetails.addRange(u),this._groupingDetails.addRange(l),this._aggregationDetails.addRange(c),this.getDataSet(),t&&t._state!==r.Destroyed&&(this._updatedProperties=null!==(e=t._updatedProperties)&&void 0!==e?e:[],this._checkIfColumnsUpdatedAndAddToList(t._dataset.columns),this._checkIfSortingUpdatedAndAddToList(t._getSortingDetails()),this._checkIfFilteringUpdatedAndAddToList(t._filteringDetails.filterExpression),this._checkIfPagingUpdatedAndAddToList(t._pagingDetails),this._usageCounter=t._usageCounter,t._isReplaced=!0)},t.prototype.injectDummyRecord=function(t,e){return!this._records[t]&&(this._records[t]=e,this._sortedRecordIds.push(t),this.getDataSet(!0),!0)},t.prototype.removeDummyRecords=function(t){void 0===t&&(t="DUMMY0");var e=this._sortedRecordIds.indexOf(t);if(!(e<0)){for(var n=0,r=this._sortedRecordIds.splice(e);n<r.length;n++){var i=r[n];delete this._records[i]}this.getDataSet(!0)}},t.prototype._generateDataset=function(){var t,e,n,r,i,o,a,s=this,u=this._linkingDetails.asDataSetLinking();this._configuration.supportsNestedLinkedEntities&&(u=p(p({},u),{addLinkedEntity:function(t){var e,n,r,i=null!==(r=null===(n=(e=s._dataProvider).convertLinkEntityExpressionToDataSetLinkedEntityWrapper)||void 0===n?void 0:n.call(e,t))&&void 0!==r?r:t;s._linkingDetails.add(i)}}));var l=this._usageCounter.makeBuilder().withProperties({columns:JSON.parse(JSON.stringify(this._columns)),records:this._generateDataSetRecords(),sortedRecordIds:this._sortedRecordIds,error:this._error,loading:this._loading,errorMessage:this._errorMessage,errorCode:this._errorCode,sorting:this._getSortingDetails(!0),refresh:this.refresh,getSelectedRecordIds:this._getSelectedRecordIds,setSelectedRecordIds:this._setSelectedRecordIds,clearSelectedRecordIds:this._clearSelectedRecordIds,addColumn:this._addColumn,newRecord:this._newRecord,delete:this._delete,getDataSetCapabilities:this._getDataSetCapabilities,getTargetEntityType:this._getTargetEntityType,getTargetEntityDisplayName:this._getTargetEntityDisplayName,getRelatedDataSet:this._getRelatedDataSet,newDataSet:this._newDataSet,cloneDataSet:this._cloneDataSet,saveMultipleRecords:this._saveMultipleRecords,openDatasetItem:this._openDatasetItem,getCommands:this._getCommands,getViewId:function(){var t,e;return null===(e=null===(t=s._dataProvider)||void 0===t?void 0:t.getViewId)||void 0===e?void 0:e.call(t)},getTitle:function(){var t,e;return null===(e=null===(t=s._dataProvider)||void 0===t?void 0:t.getTitle)||void 0===e?void 0:e.call(t)}}).withNestedProperties("paging",{totalResultCount:null===(t=this._pagingDetails)||void 0===t?void 0:t.totalResultCount,firstPageNumber:null===(e=this._pagingDetails)||void 0===e?void 0:e.firstPageNumber,lastPageNumber:null===(n=this._pagingDetails)||void 0===n?void 0:n.lastPageNumber,pageSize:null===(r=this._pagingDetails)||void 0===r?void 0:r.pageSize,hasNextPage:null===(i=this._pagingDetails)||void 0===i?void 0:i.hasNextPage,hasPreviousPage:(null===(o=this._pagingDetails)||void 0===o?void 0:o.firstPageNumber)>1,loadExactPage:this._loadExactPage,loadNextPage:this._loadNextPage,loadPreviousPage:this._loadPreviousPage,setPageSize:this._setPageSize,reset:this._resetPaging,pageNumber:null===(a=this._pagingDetails)||void 0===a?void 0:a.firstPageNumber,loadPageRange:this._loadPageRange,getQueryCancellationToken:this._getQueryCancellationToken}).withNestedProperties("filtering",{setFilter:this._setFilter,getFilter:this._getFilter,clearFilter:this._clearFilter}).withNestedProperties("linking",u).withNestedProperties("grouping",this._groupingDetails.asDataSetGrouping()).withNestedProperties("aggregation",this._aggregationDetails.asDataSetAggregation()).withReceiver(this).build();return this._addDataProviderPrivateApisToDataSet(l),l},t.prototype._setColumns=function(t){var e;this._columns=t;var n=null==t?void 0:t.filter((function(t){var e=t.name,n=t.order;return e&&n>-1})).sort((function(t,e){return t.order-e.order}));this._defaultSortingColumnName=null===(e=null==n?void 0:n[0])||void 0===e?void 0:e.name},t.prototype._getSortingDetails=function(t){var e;return(null===(e=this._sortingDetails)||void 0===e?void 0:e.length)?t?JSON.parse(JSON.stringify(this._sortingDetails)):this._sortingDetails:this._defaultSortingColumnName&&!this._configuration.preventDefaultSort?[{name:this._defaultSortingColumnName,sortDirection:0}]:[]},t.prototype._addDataProviderPrivateApisToDataSet=function(t){var e=this._dataProvider,n=t;return(null==e?void 0:e.privateApis)&&(n.privateApis={},Object.keys(e.privateApis).forEach((function(t){n.privateApis[t]=e.privateApis[t]}))),n},t.prototype._commandsUpdated=function(){this._addUpdatedProperty(i.a.Commands),this._updateDataSet()},t.prototype._initializeCommanding=function(t){var e=t.createCommandManager;return h(this,void 0,void 0,(function(){var t,n,r,i,o,a,u,l=this;return g(this,(function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),null!=e||(e=s.a.Commanding.createCommandManager),e?(t={getEntityName:function(){return l._dataProvider.getEntityName()},getSelectedRecordIds:function(){return l._commandSelectionOnlySelection},getRecords:function(){return l._records},getRecordCount:function(){return l._pagingDetails.totalResultCount},refresh:function(){l.refresh()}},n={type:"HomePageGrid",provider:{getEntityName:function(){return l._dataProvider.getEntityName()},getSelectedRecordIds:function(){return l._getSelectedRecordIds()},getRecords:function(){return l._records},getRecordCount:function(){return l._pagingDetails.totalResultCount},refresh:function(){l.refresh()}},onExternalContextChange:this._commandsUpdated.bind(this)},r={type:"HomePageGrid",provider:t,onExternalContextChange:this._commandsUpdated.bind(this)},[4,Promise.all([e(n),e(r)])]):[2];case 1:return i=c.sent(),o=i[0],a=i[1],this._dataSetCommandManager=o,this._dataSetRecordCommandManager=a,[3,3];case 2:throw u=c.sent(),this._reportEventFailure("PCF_dataset_init_commanding",[{name:"message",value:u.message}]),u;case 3:return[2]}}))}))},t.prototype._getCommands=function(t,e){var n;return h(this,void 0,void 0,(function(){return g(this,(function(r){switch(r.label){case 0:if(void 0===this._commandingIntialization)throw new Error("Commanding is not initialized");return[4,this._commandingIntialization];case 1:return r.sent(),t?(this._commandSelectionOnlySelection=t,[2,this._dataSetRecordCommandManager.getCommands(e)]):[2,null===(n=this._dataSetCommandManager)||void 0===n?void 0:n.getCommands(e)]}}))}))},t.prototype._moveToState=function(t){switch(t.state){case r.Available:t.uniqueId&&this._updateOnQueryId===t.uniqueId&&(this._loading=!1,this._error=!1,this._errorMessage="",this._errorCode=void 0,this.getDataSet().loading=!1);break;case r.Busy:this._loading=!0,this._error=!1,this._errorMessage="",this._errorCode=void 0,this.getDataSet().loading=!0;break;case r.Error:case r.Destroyed:this._loading=!1,this._error=!0,this._errorMessage=t.message,this._errorCode=t.errorCode,this.getDataSet().error=!0,this.getDataSet().loading=!1,this.getDataSet().errorMessage=t.message,this.getDataSet().errorCode=t.errorCode}this._state=t.state},t.prototype._generateDataSetRecords=function(){var t={},e=this._usageCounter.makeBuilder();for(var n in this._records){var r=this._records[n];t[n]=this._generateDataSetRecordForDataSet(e,r)}return t},t.prototype._generateDataSetRecordForDataSet=function(t,e){return t.withProperties({getRecordId:e.getRecordId,getNamedReference:e.getNamedReference,getValue:e.getValue,getFormattedValue:e.getFormattedValue,getColumnInfo:e.getColumnInfo,setValue:e.setValue,isDirty:e.isDirty,isValid:e.isValid,save:e.save,getChanges:e.getChanges}).withReceiver(e),this._addOptionalRecordAPIs(t,e),t.build()},t.prototype._addOptionalRecordAPIs=function(t,e){var n=this,r=function(r){var i=r,o=f[i];t.withProperty(i,(function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var a=e[i];return n._throwIfNotSupported(i,a&&!!n._getDataSetCapabilities()[o]),a.apply(e,t)}))};for(var i in f)r(i)},t.prototype._runPreRefreshChecks=function(){if(this._ensureDataSetProviderAvailable("refresh"))if(this._state!==r.Destroyed)this._moveToState({state:r.Busy}),this._tryUpdateSorting(),this._tryUpdateColumns(),this._clearSelectedRecordIds(),this._updateOnQueryId=Math.random();else{this._reportEventFailure("PCF_dataset_refresh",[{name:"message",value:"Invoking function from a destroyed dataset"}])}},t.prototype._generateRefreshQuery=function(){var t=this,e=this._columns.filter((function(t){return!!t.name}));if(this._configuration.supportsNestedLinkedEntities){for(var n=[],r=function(e){var r=function(e){var i,o,a,s;n.push(e.alias);var u=null!==(o=null===(i=null==e?void 0:e.getColumns)||void 0===i?void 0:i.call(e))&&void 0!==o?o:[];null==u||u.forEach((function(n){t._addColumn("".concat(e.alias,".").concat(n),"".concat(e.alias,".").concat(n))})),null===(s=null===(a=e.linking)||void 0===a?void 0:a.getLinkedEntities)||void 0===s||s.call(a).forEach((function(t){return r(t)}))};r(e)},i=0,o=this._linkingDetails.get();i<o.length;i++){r(o[i])}e=m(this._columns,n),this._additionalColumns=m(this._additionalColumns,n)}return this._additionalColumns.forEach((function(t){e.find((function(e){return e.name===t.name&&e.alias===t.alias}))||e.push({name:t.name,displayName:null,dataType:null,alias:t.alias,order:-1,visualSizeFactor:0})})),this._lastQueryColumns=e,{queryId:this._updateOnQueryId,columns:e,sortDetails:this._getSortingDetails(),pagingDetails:this.getPagingQueryDetails(),filters:this._getFilter(),linkingDetails:this._linkingDetails.get(),grouping:this._groupingDetails.get(),aggregation:this._aggregationDetails.get()}},t.prototype.refresh=function(t){var e,n=this;void 0===t&&(t=!0),this._runPreRefreshChecks();var i=this._generateRefreshQuery();null===(e=this._queryCancellationToken)||void 0===e||e.cancel(),this._queryCancellationToken=new v;try{this._dataProvider.getRecords(i,t,this._queryCancellationToken).then((function(t){n._onGetRecordsSuccess(i.queryId,t,n._state!==r.Destroyed)})).catch((function(t){n._onGetRecordsFailure(t,i,n._state!==r.Destroyed)}))}catch(o){this._onGetRecordsFailure(o,i,!0)}},t.prototype.refreshWithAwait=function(t){return void 0===t&&(t=!0),h(this,void 0,void 0,(function(){var e,n,i,o;return g(this,(function(a){switch(a.label){case 0:this._runPreRefreshChecks(),e=this._generateRefreshQuery(),a.label=1;case 1:a.trys.push([1,6,,7]),a.label=2;case 2:return a.trys.push([2,4,,5]),[4,this._dataProvider.getRecords(e,t)];case 3:return n=a.sent(),this._onGetRecordsSuccess(e.queryId,n,this._state!==r.Destroyed),[2,this._dataset];case 4:return i=a.sent(),this._onGetRecordsFailure(i,e,this._state!==r.Destroyed),[3,5];case 5:return[3,7];case 6:return o=a.sent(),this._onGetRecordsFailure(o,e,!0),[3,7];case 7:return[2]}}))}))},t.prototype._onGetRecordsSuccess=function(t,e,n){n&&(this._processQueryResult(e),this._moveToState({uniqueId:e.queryId,state:r.Available}),this._onDataSetUpdated(t),this._reportEventSuccess("PCF_dataset_refresh"))},t.prototype._onGetRecordsFailure=function(t,e,n){var i=t.message||t.errorMessage||"Unknown error while fetching records";n&&(this._moveToState({uniqueId:e.queryId,state:r.Error,message:i,errorCode:t.errorCode}),this._onDataSetUpdated(e.queryId));var o=[{name:"message",value:i}];this._reportEventFailure("PCF_dataset_refresh",o)},t.prototype._onDataSetUpdated=function(t){t===this._updateOnQueryId&&(this._queryCancellationToken=void 0,this._updateDataSet())},t.prototype._updateDataSet=function(){var t,e;if(this._dataset=this._generateDataset(),null===(e=null===(t=this._configuration)||void 0===t?void 0:t.events)||void 0===e?void 0:e.dataSetUpdatedCallback){var n=Object.assign([],this._updatedProperties);this._reportEventSuccess("PCF_dataset_updatecallback_called"),this._configuration.events.dataSetUpdatedCallback(this._dataset,n)}this._updatedProperties=[]},t.prototype._processQueryResult=function(t){var e=this;this._addUpdatedProperty(i.a.Records),this._records=t.records,this._sortedRecordIds=[];var n=new Map;t.sortedRecordIds.forEach((function(t){n.has(t)||(e._sortedRecordIds.push(t),n.set(t,!0))})),this._pagingDetails.hasNextPage=t.hasNextPage,this._pagingDetails.totalResultCount=t.totalRecordCount,void 0!==t.lastPageIndexLoaded&&(this._pagingDetails.lastPageNumber=t.lastPageIndexLoaded),this._configuration.supportsNestedLinkedEntities?this._tryUpdateColumns(this._lastQueryColumns):this._tryUpdateColumns()},t.prototype._setSelectedRecordIds=function(t){var e,n;this._ensureDataSetProviderAvailable("setSelectedRecordIds")&&this._isNewSelection(t)&&((null===(n=null===(e=this._configuration)||void 0===e?void 0:e.events)||void 0===n?void 0:n.setSelectedRecordIdsCallback)?this._configuration.events.setSelectedRecordIdsCallback(t):this._dataProvider.setSelectedRecordIds(t))},t.prototype._getSelectedRecordIds=function(){var t,e;return this._ensureDataSetProviderAvailable("getSelectedRecordIds")?(null===(e=null===(t=this._configuration)||void 0===t?void 0:t.events)||void 0===e?void 0:e.getSelectedRecordIdsCallback)?this._configuration.events.getSelectedRecordIdsCallback():this._dataProvider.getSelectedRecordIds():[]},t.prototype._clearSelectedRecordIds=function(){this._ensureDataSetProviderAvailable("clearSelectedRecordIds")&&this._isNewSelection()&&this._dataProvider.clearSelectedRecordIds()},t.prototype._isNewSelection=function(t){var e;return void 0===t&&(t=[]),!1===Object(a.a)(null!==(e=this._getSelectedRecordIds())&&void 0!==e?e:[],t)},t.prototype._getTargetEntityType=function(){return this._ensureDataSetProviderAvailable("getTargetEntityType")?this._dataProvider.getEntityName():null},t.prototype._getTargetEntityDisplayName=function(){var t,e;return this._ensureDataSetProviderAvailable("getTargetEntityDisplayName")?null===(e=(t=this._dataProvider).getEntityDisplayName)||void 0===e?void 0:e.call(t):null},t.prototype._loadExactPage=function(t){this._loadPageRange(t,t,!0)},t.prototype._loadPreviousPage=function(t){var e=this._pagingDetails,n=e.firstPageNumber,r=e.lastPageNumber,i=n-1;t?this._loadPageRange(i,i,!0):this._loadPageRange(i,r)},t.prototype._loadNextPage=function(t){var e=this._pagingDetails,n=e.firstPageNumber,r=e.lastPageNumber+1;t?this._loadPageRange(r,r,!0):this._loadPageRange(n,r)},t.prototype._loadPageRange=function(t,e,n){var r;void 0===n&&(n=!1),(isNaN(t)||t<=0)&&(t=this._pagingDetails.firstPageNumber),(isNaN(e)||e<=0)&&(e=this._pagingDetails.lastPageNumber),t>e&&(t=(r=[e,t])[0],e=r[1]),this._pagingDetails.firstPageNumber=t,this._pagingDetails.lastPageNumber=e,this._addUpdatedProperty(i.a.Page),this.refresh(n)},t.prototype._setPageSize=function(t){t>0&&(this._pagingDetails.pageSize=t)},t.prototype._setFilter=function(t){this._filteringDetails?this._filteringDetails.filterExpression=t:this._filteringDetails={filterExpression:t},this._addUpdatedProperty(i.a.Filter)},t.prototype._getFilter=function(){var t;return null===(t=this._filteringDetails)||void 0===t?void 0:t.filterExpression},t.prototype._clearFilter=function(){this._setFilter(null)},t.prototype._getDataSetCapabilities=function(){return this._ensureDataSetProviderAvailable("getDataSetCapabilities")?this._dataProvider.getCapabilities():{isEditable:!1,isFilterable:!1,isSortable:!1,canPaginate:!1,canCreateNewRecords:!1,hasRecordNavigation:!1,hasCellImageInfo:!1}},t.prototype._saveMultipleRecords=function(t){return h(this,void 0,void 0,(function(){return g(this,(function(e){return this._throwIfNoDataProvider("saveMultipleRecords"),[2,this._dataProvider.saveMultipleRecords(t)]}))}))},t.prototype._addColumn=function(t,e){var n,r;void 0===e&&(e=null),this._configuration.supportsNestedLinkedEntities?t&&!this._additionalColumns.find((function(n){return n.alias===e&&n.name===t}))&&(e&&(1===(null===(r=(n={name:t,alias:e}).alias)||void 0===r?void 0:r.split(".").length)&&n.name!==n.alias)?this._additionalColumns.push({alias:"".concat(e,".").concat(t),name:"".concat(e,".").concat(t)}):this._additionalColumns.push({alias:e||t,name:t})):t&&!this._additionalColumns.find((function(n){return n.alias===e&&n.name===t}))&&this._additionalColumns.push({alias:e||t,name:t})},t.prototype._newRecord=function(){return h(this,void 0,void 0,(function(){var t,e=this;return g(this,(function(n){return this._throwIfNoDataProvider("newRecord"),t=this._columns.map((function(t){return t.name})),[2,this._dataProvider.newRecord(t).then((function(t){var n=e._generateDataSetRecordForDataSet(e._usageCounter.makeBuilder(),t);return e._reportEventSuccess("PCF_dataset_newrecord_created"),n}))]}))}))},t.prototype._delete=function(t){return h(this,void 0,void 0,(function(){var e;return g(this,(function(n){switch(n.label){case 0:return this._throwIfNoDataProvider("delete"),[4,this._dataProvider.delete(t)];case 1:return e=n.sent(),this._setSelectedRecordIds(this._getSelectedRecordIds().filter((function(e){return-1===t.indexOf(e)}))),[2,e]}}))}))},t.prototype._getRelatedDataSet=function(t,e,n){return h(this,void 0,void 0,(function(){var r;return g(this,(function(i){return this._ensureDataSetProviderAvailable("getRelatedDataSet")&&(r=this._columns.find((function(e){return e.name===t&&_.indexOf(e.dataType)>-1})))?[2,this._dataProvider.getRelatedDataSet(r,e,n).then((function(t){return t}))]:[2,null]}))}))},t.prototype._newDataSet=function(t,e){var n;return h(this,void 0,void 0,(function(){return g(this,(function(r){return this._throwIfNotSupported("newDataSet",null===(n=this._getDataSetCapabilities().dynamicDataSets)||void 0===n?void 0:n.canCreateDynamicDataSets),[2,this._dataProvider.newDataSet(t,e)]}))}))},t.prototype._cloneDataSet=function(t,e){var n;return h(this,void 0,void 0,(function(){var r;return g(this,(function(i){return this._throwIfNotSupported("cloneDataSet",null===(n=this._getDataSetCapabilities().dynamicDataSets)||void 0===n?void 0:n.canCreateDynamicDataSets),r=p(p({},this._generateRefreshQuery()),{queryId:Math.random(),viewId:this._dataProvider.getViewId()}),[2,this._newDataSet(t,e?p(p({},r),e):r)]}))}))},t.prototype._openDatasetItem=function(t){this._configuration.events.recordSelectedCallback(t)},t.prototype._ensureDataSetProviderAvailable=function(t){if(!this._dataProvider){var e=[{name:"message",value:"calling ".concat(t," without a data provider")}];return this._reportEventFailure("PCF_dataset_".concat(t),e),!1}return!0},t.prototype._throwIfNoDataProvider=function(t){if(!this._ensureDataSetProviderAvailable(t))throw{errorMessage:"Data source is not configured"}},t.prototype._throwIfNotSupported=function(t,e){if(this._throwIfNoDataProvider(t),!e)throw{errorMessage:"".concat(t," is not supported on this dataset")}},t.prototype.getPagingQueryDetails=function(){var t,e,n;return{pageNumber:this._pagingDetails.firstPageNumber,firstPageNumber:this._pagingDetails.firstPageNumber,lastPageNumber:this._pagingDetails.lastPageNumber,pageSize:this._pagingDetails.pageSize,retrieveTotalRecordCount:(null===(n=null===(e=null===(t=this._configuration)||void 0===t?void 0:t.initQuery)||void 0===e?void 0:e.pagingDetails)||void 0===n?void 0:n.retrieveTotalRecordCount)||!1}},t.prototype.getUpdatedProperties=function(){return this._updatedProperties},t.prototype._resetPaging=function(){this._pagingDetails.firstPageNumber=1,this._pagingDetails.lastPageNumber=1,this._loadExactPage(1)},t.prototype._tryUpdateColumns=function(t){this._configuration.supportsNestedLinkedEntities?this._checkIfColumnsUpdatedAndAddToList(0===(null==t?void 0:t.length)?void 0:t)&&this._setColumns(null!=t?t:this.getDataSet().columns):this._checkIfColumnsUpdatedAndAddToList()&&this._setColumns(this.getDataSet().columns)},t.prototype._checkIfColumnsUpdatedAndAddToList=function(t){return this._checkIfPropertyUpdatedAndAddToList(i.a.Columns,this._columns,t||this._dataset.columns)},t.prototype._tryUpdateSorting=function(){this._checkIfSortingUpdatedAndAddToList()&&(this._sortingDetails=this.getDataSet().sorting)},t.prototype._checkIfSortingUpdatedAndAddToList=function(t){return this._checkIfPropertyUpdatedAndAddToList(i.a.SortOrder,this._getSortingDetails(),t||this._dataset.sorting)},t.prototype._checkIfFilteringUpdatedAndAddToList=function(t){return this._checkIfPropertyUpdatedAndAddToList(i.a.Filter,this._filteringDetails.filterExpression,t)},t.prototype._checkIfPagingUpdatedAndAddToList=function(t){var e=t.firstPageNumber,n=t.lastPageNumber,r=this._pagingDetails,o=r.firstPageNumber,a=r.lastPageNumber;return(o!==e||a!==n)&&(this._addUpdatedProperty(i.a.Page),!0)},t.prototype._checkIfPropertyUpdatedAndAddToList=function(t,e,n){return JSON.stringify(e)!==JSON.stringify(n)&&(this._addUpdatedProperty(t),!0)},t.prototype._addUpdatedProperty=function(t){-1===this._updatedProperties.indexOf(t)&&this._updatedProperties.push(t)},t.prototype._getQueryCancellationToken=function(){return this._queryCancellationToken},t}();function m(t,e){return t.filter((function(t){var n,r=null===(n=t.alias)||void 0===n?void 0:n.split(".");return!((null==r?void 0:r.length)>1)||-1!==e.indexOf(r[0])}))}},23316:function(t,e,n){"use strict";var r;n.d(e,"a",(function(){return r})),function(t){t.Dataset="dataset",t.Records="records",t.DatasetRecordId="dataset_recordid",t.Columns="columns",t.SortOrder="sortorder",t.Page="page",t.Filter="filter",t.Commands="commands",t.Linking="linking",t.Grouping="grouping",t.Aggregation="aggregation",t.Refresh="refresh"}(r||(r={}))},23317:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(23318),i=n(23319),o=new(function(){function t(){this._telemetryProvider=new i.a}return t.prototype.initWithProvider=function(t){return(!o._telemetryProvider||o._telemetryProvider instanceof i.a)&&(o._telemetryProvider=t,!0)},t.prototype.reportEventSuccess=function(t,e){var n;null===(n=this._telemetryProvider)||void 0===n||n.report(t,r.b.Diagnostic,r.a.Success,e)},t.prototype.reportEventFailure=function(t,e){var n;null===(n=this._telemetryProvider)||void 0===n||n.report(t,r.b.Diagnostic,r.a.Failure,e)},t.prototype.reportUsage=function(t,e){var n;null===(n=this._telemetryProvider)||void 0===n||n.report(t,r.b.Usage,r.a.Success,e)},t}())},23318:function(t,e,n){"use strict";var r,i;n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return r})),function(t){t[t.Success=0]="Success",t[t.Failure=1]="Failure",t[t.Incomplete=2]="Incomplete"}(r||(r={})),function(t){t[t.Diagnostic=0]="Diagnostic",t[t.Usage=1]="Usage"}(i||(i={}))},23319:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(23320),i=n(23318),o=function(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))},a=function(){function t(){}return t.prototype.report=function(t,e,n,o){if(null===r.a||void 0===r.a?void 0:r.a.Reporting)if(e===i.b.Usage){if(!r.a.Reporting.reportEvent)return;!function(t,e){var n=s(e),i=function(t){for(var e={},n=0,r=t;n<r.length;n++){var i=r[n],o=i.name,a=i.value;e[o]=a}return e}(l(t,e)),o=[{name:"ControlName",value:n},{name:"EventContext",value:JSON.stringify(i)}];r.a.Reporting.reportEvent({eventName:"uci_controlframework_usage",eventParameters:o})}(t,o)}else if(e===i.b.Diagnostic)if(n===i.a.Success){if(!r.a.Reporting.reportSuccess)return;!function(t,e){var n=s(e),i=l(t,e);r.a.Reporting.reportSuccess(n,i)}(t,o)}else if(n===i.a.Failure){if(!r.a.Reporting.reportFailure)return;!function(t,e){var n=s(e),i=(a=e,u(a,"message")),o=l(t,e);var a;r.a.Reporting.reportFailure(n,new Error(i),null,o)}(t,o)}},t}();function s(t){return u(t,"controlName")||"UnknownPCFControl"}function u(t,e){var n=null==t?void 0:t.findIndex((function(t){return t.name===e}));return n>=0?t.splice(n,1)[0].value:""}function l(t,e){return o([{name:"APIName",value:t}],e||[],!0)}},23320:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(23321),i=new(function(){function t(){this._navigationContext={openAlertDialog:r.h,openErrorDialog:r.j,openConfirmDialog:r.i,openFile:null,openUrl:null,openWebResource:null,navigateTo:null,openDialog:null,openForm:null,openTaskFlow:null},this.UserSettings={userId:"{00000000-0000-0000-0000-000000000000}",getTimeZoneOffsetMinutes:r.f,isHighContrastEnabled:null,isRTL:!1,languageId:1033,locale:"en-US",userName:"",securityRoles:[],pagingLimit:null,formatInfoCultureName:"en-US",formatInfoCultureId:1033,aadObjectId:null},this.OrgSettings={languageId:null,uniqueName:null,isAutoSaveEnabled:null,attributes:null,tenantId:null},this.Utils={beginSecureSessionForResource:null,getEntityMetadata:null,getEntitiesMetadata:null,getResourceString:null,isFeatureEnabled:null,isDisruptiveFeatureEnabled:null,lookupObjects:null,getEntityName:null,getFormId:null,canOpenUrl:null,getUserSettings:null},this.Page={getClientUrl:null},this.Reporting={reportSuccess:null,reportFailure:null,reportEvent:null},this.Diagnostics={traceError:null,traceWarning:null,traceInfo:null,traceDebug:null,isInMonitorSession:null},this.IntelligenceApi={getPredictionSchemaAsync:null,predictAsync:null,getPreTrainedModelIdAsync:null,getLabelsForObjectDetectionModelAsync:null,invokeAiModelActionAsync:null,invokeGlobalOperationAsync:null,invokeCopilotActionAsync:null,hasOrganizationSettingsAsync:null,getOrganizationSettingsAsync:null},this.Client={getClient:r.a,getClientState:r.c,getFormFactor:r.e,isNetworkAvailable:r.g,getEnvironmentEndpoint:r.d,getClientInfo:r.b},this.GraphApi={sendRequest:null},this._applicationUI={addGlobalNotification:null,clearGlobalNotification:null,clearGlobalNotifications:null},this._webApiContext={online:{retrieveRecord:null,retrieveMultipleRecords:null,updateRecord:null,createRecord:null,deleteRecord:null,execute:null,executeMultiple:null},offline:{retrieveRecord:null,retrieveMultipleRecords:null,updateRecord:null,createRecord:null,deleteRecord:null,execute:null,executeMultiple:null}},this._unifiedWebApiContext=null,this.Initialized=!1}return t.prototype.setUserSettings=function(t){this.UserSettings=t},t.prototype.setOrgSettings=function(t){this.OrgSettings=t},t.prototype.setOffline=function(t){this.Offline=t},t.prototype.setUtils=function(t){var e,n=this;this.Utils=t,this.Utils.getUserSettings=null!==(e=this.Utils.getUserSettings)&&void 0!==e?e:function(){return Promise.resolve(n.UserSettings)}},t.prototype.setPage=function(t){this.Page=t},t.prototype.setReporting=function(t){this.Reporting=t},t.prototype.setIntelligenceApi=function(t){this.IntelligenceApi=t},t.prototype.setDiagnostics=function(t){this.Diagnostics=t},t.prototype.setClient=function(t){this.Client=t},t.prototype.setGraphApi=function(t){this.GraphApi=t},t.prototype.setNavigationContext=function(t){this._navigationContext=t},t.prototype.setDeviceContext=function(t){this._deviceContext=t},t.prototype.setExternalContext=function(t){this._externalContext=t},t.prototype.setApplicationUI=function(t){this._applicationUI=t},t.prototype.setWebApi=function(t){this._webApiContext=t},t.prototype.setWebApiUnified=function(t){this._unifiedWebApiContext=t},t.prototype.openForm=function(t,e,n){return this._navigationContext.openForm(t,e,n)},t.prototype.openUrl=function(t,e,n){return this._navigationContext.openUrl(t,e,n)},t.prototype.openFile=function(t,e,n){return this._navigationContext.openFile(t,e,n)},t.prototype.openAlertDialog=function(t,e,n){return this._navigationContext.openAlertDialog(t,e,n)},t.prototype.openConfirmDialog=function(t,e,n){return this._navigationContext.openConfirmDialog(t,e,n)},t.prototype.openDialog=function(t,e,n,r){return this._navigationContext.openDialog(t,e,n,r)},t.prototype.openErrorDialog=function(t,e){return this._navigationContext.openErrorDialog(t,e)},t.prototype.openTaskFlow=function(t,e,n,r){return this._navigationContext.openTaskFlow(t,e,n,r)},t.prototype.openWebResource=function(t,e,n,r){return this._navigationContext.openWebResource(t,e,n,r)},t.prototype.navigateTo=function(t,e,n){return this._navigationContext.navigateTo(t,e,n)},t.prototype.captureImage=function(t){return this._deviceContext.captureImage(t)},t.prototype.captureAudio=function(t){return this._deviceContext.captureAudio(t)},t.prototype.captureVideo=function(t){return this._deviceContext.captureVideo(t)},t.prototype.pickFile=function(t){return this._deviceContext.pickFile(t)},t.prototype.getBarcodeValue=function(){return this._deviceContext.getBarcodeValue()},t.prototype.getCurrentPosition=function(){return this._deviceContext.getCurrentPosition()},t.prototype.getAvailableExternalContexts=function(){return this._externalContext.getAvailableExternalContexts()},t.prototype.getExternalContextProperty=function(t,e,n){return this._externalContext.getExternalContextProperty(t,e,n)},t.prototype.invokeExternalContextAction=function(t,e,n){return this._externalContext.invokeExternalContextAction(t,e,n)},t.prototype.removeExternalContextPropertyListener=function(t,e,n){return this._externalContext.removeExternalContextPropertyListener(t,e,n)},t.prototype.addGlobalNotification=function(t,e,n,r,i,o){return this._applicationUI.addGlobalNotification(t,e,n,r,i,o)},t.prototype.clearGlobalNotification=function(t){return this._applicationUI.clearGlobalNotification(t)},t.prototype.clearGlobalNotifications=function(){return this._applicationUI.clearGlobalNotifications()},t.prototype._getWebApiContext=function(){return this._unifiedWebApiContext||("Offline"===this.Client.getClientState()?this._webApiContext.offline:this._webApiContext.online)},t.prototype.retrieveRecord=function(t,e,n){return this._getWebApiContext().retrieveRecord(t,e,n)},t.prototype.createRecord=function(t,e){return this._getWebApiContext().createRecord(t,e)},t.prototype.updateRecord=function(t,e,n){return this._getWebApiContext().updateRecord(t,e,n)},t.prototype.deleteRecord=function(t,e){return this._getWebApiContext().deleteRecord(t,e)},t.prototype.retrieveMultipleRecords=function(t,e,n,r){return this._getWebApiContext().retrieveMultipleRecords(t,e,n,r)},t.prototype.execute=function(t){return this._getWebApiContext().execute(t)},t.prototype.executeMultiple=function(t){var e=this._getWebApiContext();return e.executeMultiple?e.executeMultiple(t):Promise.resolve(null)},t.prototype.openARViewer=function(t){return this._deviceContext.openARViewer(t)},t.prototype.getMessageReceiver=function(t,e){return this._deviceContext.getMessageReceiver(t,e)},t}())},23321:function(t,e,n){"use strict";function r(t){return t?t.getTimezoneOffset():0}function i(){return""}function o(){return"Web"}function a(){return!0}function s(){return 1}function u(t,e){return null}function l(){return null}function c(t,e,n){return alert(t.text),Promise.resolve({})}function d(t,e,n){return alert((t.message||"")+(t.errorCode?" ("+t.errorCode+")\n\n":"\n\n")+(t.details||"")),Promise.resolve({})}function p(t,e,n){var r=confirm((t.title?t.title+"\n"+(t.subtitle?t.subtitle+"\n":"\n"):"")+t.text);return Promise.resolve({confirmed:r})}n.d(e,"f",(function(){return r})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return o})),n.d(e,"g",(function(){return a})),n.d(e,"e",(function(){return s})),n.d(e,"d",(function(){return u})),n.d(e,"b",(function(){return l})),n.d(e,"h",(function(){return c})),n.d(e,"j",(function(){return d})),n.d(e,"i",(function(){return p}))},23322:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=function(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))},i=function(t,e){if(t.length===e.length){var n=r([],t,!0).sort(),i=r([],e,!0).sort();return n.every((function(t,e){return t===i[Number(e)]}))}return!1}},23323:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=new(function(){function t(){this.IsAvailable=!1,this._proxy=window.RootAppServices,this._alwaysRenderedControls=new Set,this.IsAvailable=!!this._proxy,this.IsAvailable||(this._proxy={PCF:{forkPCFTree:!1,renderChildControl:function(){return null},rootPageId:"",updateAlwaysRenderState:function(){return null}},Commanding:{createCommandManager:null},Performance:{WorkBlockTracker:{trackWork:function(){return function(){return null}}},PerformanceOutput:{createEvent:function(){return null}}},Xrm:null}),!this._proxy.PCF&&this._proxy.renderChildControl&&(this._proxy.PCF={forkPCFTree:this._proxy.forkPCFTree,renderChildControl:this._proxy.renderChildControl,rootPageId:this._proxy.rootPageId,updateAlwaysRenderState:this._proxy.updateAlwaysRenderState})}return Object.defineProperty(t.prototype,"PCF",{get:function(){return this._proxy.PCF},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Performance",{get:function(){return this._proxy.Performance},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Commanding",{get:function(){return this._proxy.Commanding},enumerable:!1,configurable:!0}),t.prototype.requestAlwaysRender=function(t,e){var n=!!this._alwaysRenderedControls.size;e?this._alwaysRenderedControls.add(t):this._alwaysRenderedControls.delete(t),n!==!!this._alwaysRenderedControls.size&&this._proxy.PCF.updateAlwaysRenderState&&this._proxy.PCF.updateAlwaysRenderState(!!this._alwaysRenderedControls.size)},t}())},23324:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r,i=n(23316),o=n(23325),a=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t){function e(e){return t.call(this,u,i.a.Linking,e)||this}return a(e,t),e.prototype.asDataSetLinking=function(){return this.as("getLinkedEntities","addLinkedEntity","removeLinkedEntity","clear")},e}(o.a);function u(t){return function(e){return t.name===e.name&&t.from===e.from&&t.to===e.to&&t.linkType===e.linkType&&t.alias===e.alias&&t.columns===e.columns}}},23325:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(){function t(t,e,n){this._list=[],this._makeComparer=t,this._onUpdated=function(){return n(e)}}return t.prototype.get=function(){return this._list},t.prototype.add=function(t){this._addInternal(t),this._onUpdated()},t.prototype._addInternal=function(t){this._list.find(this._makeComparer(t))||this._list.push(t)},t.prototype.addRange=function(t){if(t)for(var e=0,n=t;e<n.length;e++){var r=n[e];this._addInternal(r)}},t.prototype.remove=function(t){var e=this._list.findIndex(this._makeComparer(t));-1!==e&&this._list.splice(e,1),this._onUpdated()},t.prototype.clear=function(){this._list=[],this._onUpdated()},t.prototype.as=function(t,e,n,r){var i;return(i={})[t]=this.get.bind(this),i[e]=this.add.bind(this),i[n]=this.remove.bind(this),i[r]=this.clear.bind(this),i},t}()},23326:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r,i=n(23316),o=n(23325),a=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t){function e(e){return t.call(this,u,i.a.Grouping,e)||this}return a(e,t),e.prototype.asDataSetGrouping=function(){return this.as("getGroupBys","addGroupBy","removeGroupBy","clear")},e}(o.a);function u(t){return function(e){return t.alias===e.alias&&t.columnName===e.columnName&&(l(t)&&t.dateGrouping)===(l(e)&&e.dateGrouping)}}function l(t){return!!t.dateGrouping}},23327:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r,i=n(23316),o=n(23325),a=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t){function e(e){return t.call(this,u,i.a.Aggregation,e)||this}return a(e,t),e.prototype.asDataSetAggregation=function(){return this.as("getAggregations","addAggregation","removeAggregation","clear")},e}(o.a);function u(t){return function(e){return t.alias===e.alias&&t.columnName===e.columnName&&t.aggregationFunction===e.aggregationFunction&&l(t)===l(e)}}function l(t){return"countcolumn"===t.aggregationFunction&&t.distinct}},23328:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(23317),i=function(){function t(t){this._counters={},this._controlName=t}return t.prototype.makeBuilder=function(){return new o(this._counters)},t.prototype.reportUsageCounters=function(t){Object.keys(this._counters).length&&(r.a.reportUsage(t,[{name:"controlName",value:this._controlName},{name:"message",value:JSON.stringify(this._counters)}]),this._counters={})},t}(),o=function(){function t(t){this._nestedProperties={},this._counters=t}return t.prototype.withProperties=function(t){if(this._obj)for(var e in t){var n=t[e];this._obj[e]=n}else this._obj=t;return this},t.prototype.withNestedProperties=function(t,e){return this._nestedProperties[t]=e,this},t.prototype.withProperty=function(t,e){return this._obj||(this._obj={}),this._obj[t]=e,this},t.prototype.withReceiver=function(t){var e;return null!==(e=this._receiver)&&void 0!==e||(this._receiver=t),this},t.prototype.build=function(){var t=this._buildInternal(this._obj);for(var e in this._nestedProperties)t[e]=this._buildInternal(this._nestedProperties[e],e);return this._obj=null,this._receiver=null,this._nestedProperties={},t},t.prototype._buildInternal=function(t,e){for(var n in t){var r=t[n];if("function"==typeof r){var i=e?"".concat(String(e),".").concat(n):n;t[n]=a(this._receiver,this._counters,i,r)}}return t},t}();function a(t,e,n,r){return function(){try{var i=r.apply(t,arguments);return s(e,n,"success"),i}catch(o){throw s(e,n,"failure"),o}}}function s(t,e,n){var r;(null!==(r=t[e])&&void 0!==r?r:t[e]={failure:0,success:0})[n]++}},24008:function(t,e,n){"use strict";function r(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}e.a=function(t,e){var n;void 0===e&&(e=r);var i,o=[],a=!1;return function(){for(var r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];return a&&n===this&&e(r,o)||(i=t.apply(this,r),a=!0,n=this,o=r),i}}},24012:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(24013),i=function(){function t(){}return t.getDataSet=function(t,e){return new r.a(t,e).getDataSet()},t.createDataSetObjectWrapper=function(t,e,n){var i=new r.a(t,e,n);return null==n||n.destroy(),i},t}()},24013:function(t,e,n){"use strict";n.d(e,"a",(function(){return y}));var r,i=n(24014),o=n(24015),a=n(24020),s=n(24021),u=n(24022),l=n(24024),c=n(24025),d=n(24026),p=function(){return(p=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},h=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))},g=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(u){s=[6,u],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}},f={getCellImageInfo:"hasCellImageInfo"};!function(t){t[t.Available=0]="Available",t[t.Busy=1]="Busy",t[t.Error=2]="Error",t[t.Destroyed=3]="Destroyed"}(r||(r={}));var _=["lookup","customer","owner","regarding","partylist"],v=function(){function t(){this._cancelled=!1}return t.prototype.isCancelled=function(){return this._cancelled},t.prototype.cancel=function(){this._cancelled=!0},t}(),y=function(){function t(t,e,n){this._updatedProperties=[],this._columns=[],this._records={},this._sortedRecordIds=[],this._error=!1,this._errorMessage="",this._loading=!1,this._updateOnQueryId=-1,this._commandSelectionOnlySelection=[],this._additionalColumns=[],this._lastQueryColumns=[],this._usageCounter=new d.a("ModernDataSet"),this._dataProvider=t,this._configuration=e;var i=this._addUpdatedProperty.bind(this);this._linkingDetails=new u.a(i),this._groupingDetails=new l.a(i),this._aggregationDetails=new c.a(i),this._configuration.initQuery&&this._setupFromInitQuery(n),e.initializeCommanding&&(this._commandingIntialization=this._initializeCommanding(e)),this._dataProvider?this._moveToState({uniqueId:-1,state:r.Available}):this._moveToState({uniqueId:-1,state:r.Error,message:"Data source is not configured",errorCode:37158408})}return t.prototype.getDataSet=function(t){return void 0===t&&(t=!1),this._dataset&&!t||(this._dataset=this._generateDataset()),this._dataset},t.prototype.setControlReRender=function(t){this.requestRerender=t},t.prototype.requestRerender=function(t){},t.prototype.destroy=function(){this._moveToState({uniqueId:-1,state:r.Destroyed}),this.reportUsageCounters(),this._pagingDetails=null,this._filteringDetails=null,this._linkingDetails=null,this._groupingDetails=null,this._aggregationDetails=null,this._sortingDetails=null,this._configuration=null,this._updatedProperties=null,this._setColumns(null),this._records=null,this._sortedRecordIds=null,this._dataSetCommandManager&&(this._dataSetCommandManager.dispose(),this._dataSetCommandManager=null),this._dataSetRecordCommandManager&&(this._dataSetRecordCommandManager.dispose(),this._dataSetRecordCommandManager=null)},t.prototype.reportUsageCounters=function(){this._isReplaced||this._usageCounter.reportUsageCounters("PCF_dataset_usage")},t.prototype._addControlNameToTelemetry=function(t){return t||(t=[]),t.push({name:"controlName",value:"ModernDataSet"}),t},t.prototype._reportEventSuccess=function(t,e){o.a.reportEventSuccess(t,this._addControlNameToTelemetry(e))},t.prototype._reportEventFailure=function(t,e){o.a.reportEventFailure(t,this._addControlNameToTelemetry(e))},t.prototype._setupFromInitQuery=function(t){var e,n=this._configuration.initQuery,i=n.columns,o=n.sortDetails,a=n.pagingDetails,s=n.filters,u=n.linkingDetails,l=n.grouping,c=n.aggregation;this._setColumns(i),this._sortingDetails=o;var d=a||{},p=d.pageSize,h=d.pageNumber,g=d.firstPageNumber,f=d.lastPageNumber;this._pagingDetails={pageSize:p||25,firstPageNumber:g||h||1,lastPageNumber:f||g||h||1,totalResultCount:-1,hasNextPage:!1,hasPreviousPage:!1},this._filteringDetails={filterExpression:s},this._linkingDetails.addRange(u),this._groupingDetails.addRange(l),this._aggregationDetails.addRange(c),this.getDataSet(),t&&t._state!==r.Destroyed&&(this._updatedProperties=null!==(e=t._updatedProperties)&&void 0!==e?e:[],this._checkIfColumnsUpdatedAndAddToList(t._dataset.columns),this._checkIfSortingUpdatedAndAddToList(t._getSortingDetails()),this._checkIfFilteringUpdatedAndAddToList(t._filteringDetails.filterExpression),this._checkIfPagingUpdatedAndAddToList(t._pagingDetails),this._usageCounter=t._usageCounter,t._isReplaced=!0)},t.prototype.injectDummyRecord=function(t,e){return!this._records[t]&&(this._records[t]=e,this._sortedRecordIds.push(t),this.getDataSet(!0),!0)},t.prototype.removeDummyRecords=function(t){void 0===t&&(t="DUMMY0");var e=this._sortedRecordIds.indexOf(t);if(!(e<0)){for(var n=0,r=this._sortedRecordIds.splice(e);n<r.length;n++){var i=r[n];delete this._records[i]}this.getDataSet(!0)}},t.prototype._generateDataset=function(){var t,e,n,r,i,o,a,s=this,u=this._linkingDetails.asDataSetLinking();this._configuration.supportsNestedLinkedEntities&&(u=p(p({},u),{addLinkedEntity:function(t){var e,n,r,i=null!==(r=null===(n=(e=s._dataProvider).convertLinkEntityExpressionToDataSetLinkedEntityWrapper)||void 0===n?void 0:n.call(e,t))&&void 0!==r?r:t;s._linkingDetails.add(i)}}));var l=this._usageCounter.makeBuilder().withProperties({columns:JSON.parse(JSON.stringify(this._columns)),records:this._generateDataSetRecords(),sortedRecordIds:this._sortedRecordIds,error:this._error,loading:this._loading,errorMessage:this._errorMessage,errorCode:this._errorCode,sorting:this._getSortingDetails(!0),refresh:this.refresh,getSelectedRecordIds:this._getSelectedRecordIds,setSelectedRecordIds:this._setSelectedRecordIds,clearSelectedRecordIds:this._clearSelectedRecordIds,addColumn:this._addColumn,newRecord:this._newRecord,delete:this._delete,getDataSetCapabilities:this._getDataSetCapabilities,getTargetEntityType:this._getTargetEntityType,getTargetEntityDisplayName:this._getTargetEntityDisplayName,getRelatedDataSet:this._getRelatedDataSet,newDataSet:this._newDataSet,cloneDataSet:this._cloneDataSet,saveMultipleRecords:this._saveMultipleRecords,openDatasetItem:this._openDatasetItem,getCommands:this._getCommands,getViewId:function(){var t,e;return null===(e=null===(t=s._dataProvider)||void 0===t?void 0:t.getViewId)||void 0===e?void 0:e.call(t)},getTitle:function(){var t,e;return null===(e=null===(t=s._dataProvider)||void 0===t?void 0:t.getTitle)||void 0===e?void 0:e.call(t)}}).withNestedProperties("paging",{totalResultCount:null===(t=this._pagingDetails)||void 0===t?void 0:t.totalResultCount,firstPageNumber:null===(e=this._pagingDetails)||void 0===e?void 0:e.firstPageNumber,lastPageNumber:null===(n=this._pagingDetails)||void 0===n?void 0:n.lastPageNumber,pageSize:null===(r=this._pagingDetails)||void 0===r?void 0:r.pageSize,hasNextPage:null===(i=this._pagingDetails)||void 0===i?void 0:i.hasNextPage,hasPreviousPage:(null===(o=this._pagingDetails)||void 0===o?void 0:o.firstPageNumber)>1,loadExactPage:this._loadExactPage,loadNextPage:this._loadNextPage,loadPreviousPage:this._loadPreviousPage,setPageSize:this._setPageSize,reset:this._resetPaging,pageNumber:null===(a=this._pagingDetails)||void 0===a?void 0:a.firstPageNumber,loadPageRange:this._loadPageRange,getQueryCancellationToken:this._getQueryCancellationToken}).withNestedProperties("filtering",{setFilter:this._setFilter,getFilter:this._getFilter,clearFilter:this._clearFilter}).withNestedProperties("linking",u).withNestedProperties("grouping",this._groupingDetails.asDataSetGrouping()).withNestedProperties("aggregation",this._aggregationDetails.asDataSetAggregation()).withReceiver(this).build();return this._addDataProviderPrivateApisToDataSet(l),l},t.prototype._setColumns=function(t){var e;this._columns=t;var n=null==t?void 0:t.filter((function(t){var e=t.name,n=t.order;return e&&n>-1})).sort((function(t,e){return t.order-e.order}));this._defaultSortingColumnName=null===(e=null==n?void 0:n[0])||void 0===e?void 0:e.name},t.prototype._getSortingDetails=function(t){var e;return(null===(e=this._sortingDetails)||void 0===e?void 0:e.length)?t?JSON.parse(JSON.stringify(this._sortingDetails)):this._sortingDetails:this._defaultSortingColumnName&&!this._configuration.preventDefaultSort?[{name:this._defaultSortingColumnName,sortDirection:0}]:[]},t.prototype._addDataProviderPrivateApisToDataSet=function(t){var e=this._dataProvider,n=t;return(null==e?void 0:e.privateApis)&&(n.privateApis={},Object.keys(e.privateApis).forEach((function(t){n.privateApis[t]=e.privateApis[t]}))),n},t.prototype._commandsUpdated=function(){this._addUpdatedProperty(i.a.Commands),this._updateDataSet()},t.prototype._initializeCommanding=function(t){var e=t.createCommandManager;return h(this,void 0,void 0,(function(){var t,n,r,i,o,a,u,l=this;return g(this,(function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),null!=e||(e=s.a.Commanding.createCommandManager),e?(t={getEntityName:function(){return l._dataProvider.getEntityName()},getSelectedRecordIds:function(){return l._commandSelectionOnlySelection},getRecords:function(){return l._records},getRecordCount:function(){return l._pagingDetails.totalResultCount},refresh:function(){l.refresh()}},n={type:"HomePageGrid",provider:{getEntityName:function(){return l._dataProvider.getEntityName()},getSelectedRecordIds:function(){return l._getSelectedRecordIds()},getRecords:function(){return l._records},getRecordCount:function(){return l._pagingDetails.totalResultCount},refresh:function(){l.refresh()}},onExternalContextChange:this._commandsUpdated.bind(this)},r={type:"HomePageGrid",provider:t,onExternalContextChange:this._commandsUpdated.bind(this)},[4,Promise.all([e(n),e(r)])]):[2];case 1:return i=c.sent(),o=i[0],a=i[1],this._dataSetCommandManager=o,this._dataSetRecordCommandManager=a,[3,3];case 2:throw u=c.sent(),this._reportEventFailure("PCF_dataset_init_commanding",[{name:"message",value:u.message}]),u;case 3:return[2]}}))}))},t.prototype._getCommands=function(t,e){var n;return h(this,void 0,void 0,(function(){return g(this,(function(r){switch(r.label){case 0:if(void 0===this._commandingIntialization)throw new Error("Commanding is not initialized");return[4,this._commandingIntialization];case 1:return r.sent(),t?(this._commandSelectionOnlySelection=t,[2,this._dataSetRecordCommandManager.getCommands(e)]):[2,null===(n=this._dataSetCommandManager)||void 0===n?void 0:n.getCommands(e)]}}))}))},t.prototype._moveToState=function(t){switch(t.state){case r.Available:t.uniqueId&&this._updateOnQueryId===t.uniqueId&&(this._loading=!1,this._error=!1,this._errorMessage="",this._errorCode=void 0,this.getDataSet().loading=!1);break;case r.Busy:this._loading=!0,this._error=!1,this._errorMessage="",this._errorCode=void 0,this.getDataSet().loading=!0;break;case r.Error:case r.Destroyed:this._loading=!1,this._error=!0,this._errorMessage=t.message,this._errorCode=t.errorCode,this.getDataSet().error=!0,this.getDataSet().loading=!1,this.getDataSet().errorMessage=t.message,this.getDataSet().errorCode=t.errorCode}this._state=t.state},t.prototype._generateDataSetRecords=function(){var t={},e=this._usageCounter.makeBuilder();for(var n in this._records){var r=this._records[n];t[n]=this._generateDataSetRecordForDataSet(e,r)}return t},t.prototype._generateDataSetRecordForDataSet=function(t,e){return t.withProperties({getRecordId:e.getRecordId,getNamedReference:e.getNamedReference,getValue:e.getValue,getFormattedValue:e.getFormattedValue,getColumnInfo:e.getColumnInfo,setValue:e.setValue,isDirty:e.isDirty,isValid:e.isValid,save:e.save,getChanges:e.getChanges}).withReceiver(e),this._addOptionalRecordAPIs(t,e),t.build()},t.prototype._addOptionalRecordAPIs=function(t,e){var n=this,r=function(r){var i=r,o=f[i];t.withProperty(i,(function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var a=e[i];return n._throwIfNotSupported(i,a&&!!n._getDataSetCapabilities()[o]),a.apply(e,t)}))};for(var i in f)r(i)},t.prototype._runPreRefreshChecks=function(){if(this._ensureDataSetProviderAvailable("refresh"))if(this._state!==r.Destroyed)this._moveToState({state:r.Busy}),this._tryUpdateSorting(),this._tryUpdateColumns(),this._clearSelectedRecordIds(),this._updateOnQueryId=Math.random();else{this._reportEventFailure("PCF_dataset_refresh",[{name:"message",value:"Invoking function from a destroyed dataset"}])}},t.prototype._generateRefreshQuery=function(){var t=this,e=this._columns.filter((function(t){return!!t.name}));if(this._configuration.supportsNestedLinkedEntities){for(var n=[],r=function(e){var r=function(e){var i,o,a,s;n.push(e.alias);var u=null!==(o=null===(i=null==e?void 0:e.getColumns)||void 0===i?void 0:i.call(e))&&void 0!==o?o:[];null==u||u.forEach((function(n){t._addColumn("".concat(e.alias,".").concat(n),"".concat(e.alias,".").concat(n))})),null===(s=null===(a=e.linking)||void 0===a?void 0:a.getLinkedEntities)||void 0===s||s.call(a).forEach((function(t){return r(t)}))};r(e)},i=0,o=this._linkingDetails.get();i<o.length;i++){r(o[i])}e=m(this._columns,n),this._additionalColumns=m(this._additionalColumns,n)}return this._additionalColumns.forEach((function(t){e.find((function(e){return e.name===t.name&&e.alias===t.alias}))||e.push({name:t.name,displayName:null,dataType:null,alias:t.alias,order:-1,visualSizeFactor:0})})),this._lastQueryColumns=e,{queryId:this._updateOnQueryId,columns:e,sortDetails:this._getSortingDetails(),pagingDetails:this.getPagingQueryDetails(),filters:this._getFilter(),linkingDetails:this._linkingDetails.get(),grouping:this._groupingDetails.get(),aggregation:this._aggregationDetails.get()}},t.prototype.refresh=function(t){var e,n=this;void 0===t&&(t=!0),this._runPreRefreshChecks();var i=this._generateRefreshQuery();null===(e=this._queryCancellationToken)||void 0===e||e.cancel(),this._queryCancellationToken=new v;try{this._dataProvider.getRecords(i,t,this._queryCancellationToken).then((function(t){n._onGetRecordsSuccess(i.queryId,t,n._state!==r.Destroyed)})).catch((function(t){n._onGetRecordsFailure(t,i,n._state!==r.Destroyed)}))}catch(o){this._onGetRecordsFailure(o,i,!0)}},t.prototype.refreshWithAwait=function(t){return void 0===t&&(t=!0),h(this,void 0,void 0,(function(){var e,n,i,o;return g(this,(function(a){switch(a.label){case 0:this._runPreRefreshChecks(),e=this._generateRefreshQuery(),a.label=1;case 1:a.trys.push([1,6,,7]),a.label=2;case 2:return a.trys.push([2,4,,5]),[4,this._dataProvider.getRecords(e,t)];case 3:return n=a.sent(),this._onGetRecordsSuccess(e.queryId,n,this._state!==r.Destroyed),[2,this._dataset];case 4:return i=a.sent(),this._onGetRecordsFailure(i,e,this._state!==r.Destroyed),[3,5];case 5:return[3,7];case 6:return o=a.sent(),this._onGetRecordsFailure(o,e,!0),[3,7];case 7:return[2]}}))}))},t.prototype._onGetRecordsSuccess=function(t,e,n){n&&(this._processQueryResult(e),this._moveToState({uniqueId:e.queryId,state:r.Available}),this._onDataSetUpdated(t),this._reportEventSuccess("PCF_dataset_refresh"))},t.prototype._onGetRecordsFailure=function(t,e,n){var i=t.message||t.errorMessage||"Unknown error while fetching records";n&&(this._moveToState({uniqueId:e.queryId,state:r.Error,message:i,errorCode:t.errorCode}),this._onDataSetUpdated(e.queryId));var o=[{name:"message",value:i}];this._reportEventFailure("PCF_dataset_refresh",o)},t.prototype._onDataSetUpdated=function(t){t===this._updateOnQueryId&&(this._queryCancellationToken=void 0,this._updateDataSet())},t.prototype._updateDataSet=function(){var t,e;if(this._dataset=this._generateDataset(),null===(e=null===(t=this._configuration)||void 0===t?void 0:t.events)||void 0===e?void 0:e.dataSetUpdatedCallback){var n=Object.assign([],this._updatedProperties);this._reportEventSuccess("PCF_dataset_updatecallback_called"),this._configuration.events.dataSetUpdatedCallback(this._dataset,n)}this._updatedProperties=[]},t.prototype._processQueryResult=function(t){var e=this;this._addUpdatedProperty(i.a.Records),this._records=t.records,this._sortedRecordIds=[];var n=new Map;t.sortedRecordIds.forEach((function(t){n.has(t)||(e._sortedRecordIds.push(t),n.set(t,!0))})),this._pagingDetails.hasNextPage=t.hasNextPage,this._pagingDetails.totalResultCount=t.totalRecordCount,void 0!==t.lastPageIndexLoaded&&(this._pagingDetails.lastPageNumber=t.lastPageIndexLoaded),this._configuration.supportsNestedLinkedEntities?this._tryUpdateColumns(this._lastQueryColumns):this._tryUpdateColumns()},t.prototype._setSelectedRecordIds=function(t){var e,n;this._ensureDataSetProviderAvailable("setSelectedRecordIds")&&this._isNewSelection(t)&&((null===(n=null===(e=this._configuration)||void 0===e?void 0:e.events)||void 0===n?void 0:n.setSelectedRecordIdsCallback)?this._configuration.events.setSelectedRecordIdsCallback(t):this._dataProvider.setSelectedRecordIds(t))},t.prototype._getSelectedRecordIds=function(){var t,e;return this._ensureDataSetProviderAvailable("getSelectedRecordIds")?(null===(e=null===(t=this._configuration)||void 0===t?void 0:t.events)||void 0===e?void 0:e.getSelectedRecordIdsCallback)?this._configuration.events.getSelectedRecordIdsCallback():this._dataProvider.getSelectedRecordIds():[]},t.prototype._clearSelectedRecordIds=function(){this._ensureDataSetProviderAvailable("clearSelectedRecordIds")&&this._isNewSelection()&&this._dataProvider.clearSelectedRecordIds()},t.prototype._isNewSelection=function(t){var e;return void 0===t&&(t=[]),!1===Object(a.a)(null!==(e=this._getSelectedRecordIds())&&void 0!==e?e:[],t)},t.prototype._getTargetEntityType=function(){return this._ensureDataSetProviderAvailable("getTargetEntityType")?this._dataProvider.getEntityName():null},t.prototype._getTargetEntityDisplayName=function(){var t,e;return this._ensureDataSetProviderAvailable("getTargetEntityDisplayName")?null===(e=(t=this._dataProvider).getEntityDisplayName)||void 0===e?void 0:e.call(t):null},t.prototype._loadExactPage=function(t){this._loadPageRange(t,t,!0)},t.prototype._loadPreviousPage=function(t){var e=this._pagingDetails,n=e.firstPageNumber,r=e.lastPageNumber,i=n-1;t?this._loadPageRange(i,i,!0):this._loadPageRange(i,r)},t.prototype._loadNextPage=function(t){var e=this._pagingDetails,n=e.firstPageNumber,r=e.lastPageNumber+1;t?this._loadPageRange(r,r,!0):this._loadPageRange(n,r)},t.prototype._loadPageRange=function(t,e,n){var r;void 0===n&&(n=!1),(isNaN(t)||t<=0)&&(t=this._pagingDetails.firstPageNumber),(isNaN(e)||e<=0)&&(e=this._pagingDetails.lastPageNumber),t>e&&(t=(r=[e,t])[0],e=r[1]),this._pagingDetails.firstPageNumber=t,this._pagingDetails.lastPageNumber=e,this._addUpdatedProperty(i.a.Page),this.refresh(n)},t.prototype._setPageSize=function(t){t>0&&(this._pagingDetails.pageSize=t)},t.prototype._setFilter=function(t){this._filteringDetails?this._filteringDetails.filterExpression=t:this._filteringDetails={filterExpression:t},this._addUpdatedProperty(i.a.Filter)},t.prototype._getFilter=function(){var t;return null===(t=this._filteringDetails)||void 0===t?void 0:t.filterExpression},t.prototype._clearFilter=function(){this._setFilter(null)},t.prototype._getDataSetCapabilities=function(){return this._ensureDataSetProviderAvailable("getDataSetCapabilities")?this._dataProvider.getCapabilities():{isEditable:!1,isFilterable:!1,isSortable:!1,canPaginate:!1,canCreateNewRecords:!1,hasRecordNavigation:!1,hasCellImageInfo:!1}},t.prototype._saveMultipleRecords=function(t){return h(this,void 0,void 0,(function(){return g(this,(function(e){return this._throwIfNoDataProvider("saveMultipleRecords"),[2,this._dataProvider.saveMultipleRecords(t)]}))}))},t.prototype._addColumn=function(t,e){var n,r;void 0===e&&(e=null),this._configuration.supportsNestedLinkedEntities?t&&!this._additionalColumns.find((function(n){return n.alias===e&&n.name===t}))&&(e&&(1===(null===(r=(n={name:t,alias:e}).alias)||void 0===r?void 0:r.split(".").length)&&n.name!==n.alias)?this._additionalColumns.push({alias:"".concat(e,".").concat(t),name:"".concat(e,".").concat(t)}):this._additionalColumns.push({alias:e||t,name:t})):t&&!this._additionalColumns.find((function(n){return n.alias===e&&n.name===t}))&&this._additionalColumns.push({alias:e||t,name:t})},t.prototype._newRecord=function(){return h(this,void 0,void 0,(function(){var t,e=this;return g(this,(function(n){return this._throwIfNoDataProvider("newRecord"),t=this._columns.map((function(t){return t.name})),[2,this._dataProvider.newRecord(t).then((function(t){var n=e._generateDataSetRecordForDataSet(e._usageCounter.makeBuilder(),t);return e._reportEventSuccess("PCF_dataset_newrecord_created"),n}))]}))}))},t.prototype._delete=function(t){return h(this,void 0,void 0,(function(){var e;return g(this,(function(n){switch(n.label){case 0:return this._throwIfNoDataProvider("delete"),[4,this._dataProvider.delete(t)];case 1:return e=n.sent(),this._setSelectedRecordIds(this._getSelectedRecordIds().filter((function(e){return-1===t.indexOf(e)}))),[2,e]}}))}))},t.prototype._getRelatedDataSet=function(t,e,n){return h(this,void 0,void 0,(function(){var r;return g(this,(function(i){return this._ensureDataSetProviderAvailable("getRelatedDataSet")&&(r=this._columns.find((function(e){return e.name===t&&_.indexOf(e.dataType)>-1})))?[2,this._dataProvider.getRelatedDataSet(r,e,n).then((function(t){return t}))]:[2,null]}))}))},t.prototype._newDataSet=function(t,e){var n;return h(this,void 0,void 0,(function(){return g(this,(function(r){return this._throwIfNotSupported("newDataSet",null===(n=this._getDataSetCapabilities().dynamicDataSets)||void 0===n?void 0:n.canCreateDynamicDataSets),[2,this._dataProvider.newDataSet(t,e)]}))}))},t.prototype._cloneDataSet=function(t,e){var n;return h(this,void 0,void 0,(function(){var r;return g(this,(function(i){return this._throwIfNotSupported("cloneDataSet",null===(n=this._getDataSetCapabilities().dynamicDataSets)||void 0===n?void 0:n.canCreateDynamicDataSets),r=p(p({},this._generateRefreshQuery()),{queryId:Math.random(),viewId:this._dataProvider.getViewId()}),[2,this._newDataSet(t,e?p(p({},r),e):r)]}))}))},t.prototype._openDatasetItem=function(t){this._configuration.events.recordSelectedCallback(t)},t.prototype._ensureDataSetProviderAvailable=function(t){if(!this._dataProvider){var e=[{name:"message",value:"calling ".concat(t," without a data provider")}];return this._reportEventFailure("PCF_dataset_".concat(t),e),!1}return!0},t.prototype._throwIfNoDataProvider=function(t){if(!this._ensureDataSetProviderAvailable(t))throw{errorMessage:"Data source is not configured"}},t.prototype._throwIfNotSupported=function(t,e){if(this._throwIfNoDataProvider(t),!e)throw{errorMessage:"".concat(t," is not supported on this dataset")}},t.prototype.getPagingQueryDetails=function(){var t,e,n;return{pageNumber:this._pagingDetails.firstPageNumber,firstPageNumber:this._pagingDetails.firstPageNumber,lastPageNumber:this._pagingDetails.lastPageNumber,pageSize:this._pagingDetails.pageSize,retrieveTotalRecordCount:(null===(n=null===(e=null===(t=this._configuration)||void 0===t?void 0:t.initQuery)||void 0===e?void 0:e.pagingDetails)||void 0===n?void 0:n.retrieveTotalRecordCount)||!1}},t.prototype.getUpdatedProperties=function(){return this._updatedProperties},t.prototype._resetPaging=function(){this._pagingDetails.firstPageNumber=1,this._pagingDetails.lastPageNumber=1,this._loadExactPage(1)},t.prototype._tryUpdateColumns=function(t){this._configuration.supportsNestedLinkedEntities?this._checkIfColumnsUpdatedAndAddToList(0===(null==t?void 0:t.length)?void 0:t)&&this._setColumns(null!=t?t:this.getDataSet().columns):this._checkIfColumnsUpdatedAndAddToList()&&this._setColumns(this.getDataSet().columns)},t.prototype._checkIfColumnsUpdatedAndAddToList=function(t){return this._checkIfPropertyUpdatedAndAddToList(i.a.Columns,this._columns,t||this._dataset.columns)},t.prototype._tryUpdateSorting=function(){this._checkIfSortingUpdatedAndAddToList()&&(this._sortingDetails=this.getDataSet().sorting)},t.prototype._checkIfSortingUpdatedAndAddToList=function(t){return this._checkIfPropertyUpdatedAndAddToList(i.a.SortOrder,this._getSortingDetails(),t||this._dataset.sorting)},t.prototype._checkIfFilteringUpdatedAndAddToList=function(t){return this._checkIfPropertyUpdatedAndAddToList(i.a.Filter,this._filteringDetails.filterExpression,t)},t.prototype._checkIfPagingUpdatedAndAddToList=function(t){var e=t.firstPageNumber,n=t.lastPageNumber,r=this._pagingDetails,o=r.firstPageNumber,a=r.lastPageNumber;return(o!==e||a!==n)&&(this._addUpdatedProperty(i.a.Page),!0)},t.prototype._checkIfPropertyUpdatedAndAddToList=function(t,e,n){return JSON.stringify(e)!==JSON.stringify(n)&&(this._addUpdatedProperty(t),!0)},t.prototype._addUpdatedProperty=function(t){-1===this._updatedProperties.indexOf(t)&&this._updatedProperties.push(t)},t.prototype._getQueryCancellationToken=function(){return this._queryCancellationToken},t}();function m(t,e){return t.filter((function(t){var n,r=null===(n=t.alias)||void 0===n?void 0:n.split(".");return!((null==r?void 0:r.length)>1)||-1!==e.indexOf(r[0])}))}},24014:function(t,e,n){"use strict";var r;n.d(e,"a",(function(){return r})),function(t){t.Dataset="dataset",t.Records="records",t.DatasetRecordId="dataset_recordid",t.Columns="columns",t.SortOrder="sortorder",t.Page="page",t.Filter="filter",t.Commands="commands",t.Linking="linking",t.Grouping="grouping",t.Aggregation="aggregation",t.Refresh="refresh"}(r||(r={}))},24015:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(24016),i=n(24017),o=new(function(){function t(){this._telemetryProvider=new i.a}return t.prototype.initWithProvider=function(t){return(!o._telemetryProvider||o._telemetryProvider instanceof i.a)&&(o._telemetryProvider=t,!0)},t.prototype.reportEventSuccess=function(t,e){var n;null===(n=this._telemetryProvider)||void 0===n||n.report(t,r.b.Diagnostic,r.a.Success,e)},t.prototype.reportEventFailure=function(t,e){var n;null===(n=this._telemetryProvider)||void 0===n||n.report(t,r.b.Diagnostic,r.a.Failure,e)},t.prototype.reportUsage=function(t,e){var n;null===(n=this._telemetryProvider)||void 0===n||n.report(t,r.b.Usage,r.a.Success,e)},t}())},24016:function(t,e,n){"use strict";var r,i;n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return r})),function(t){t[t.Success=0]="Success",t[t.Failure=1]="Failure",t[t.Incomplete=2]="Incomplete"}(r||(r={})),function(t){t[t.Diagnostic=0]="Diagnostic",t[t.Usage=1]="Usage"}(i||(i={}))},24017:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(24018),i=n(24016),o=function(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))},a=function(){function t(){}return t.prototype.report=function(t,e,n,o){if(null===r.a||void 0===r.a?void 0:r.a.Reporting)if(e===i.b.Usage){if(!r.a.Reporting.reportEvent)return;!function(t,e){var n=s(e),i=function(t){for(var e={},n=0,r=t;n<r.length;n++){var i=r[n],o=i.name,a=i.value;e[o]=a}return e}(l(t,e)),o=[{name:"ControlName",value:n},{name:"EventContext",value:JSON.stringify(i)}];r.a.Reporting.reportEvent({eventName:"uci_controlframework_usage",eventParameters:o})}(t,o)}else if(e===i.b.Diagnostic)if(n===i.a.Success){if(!r.a.Reporting.reportSuccess)return;!function(t,e){var n=s(e),i=l(t,e);r.a.Reporting.reportSuccess(n,i)}(t,o)}else if(n===i.a.Failure){if(!r.a.Reporting.reportFailure)return;!function(t,e){var n=s(e),i=(a=e,u(a,"message")),o=l(t,e);var a;r.a.Reporting.reportFailure(n,new Error(i),null,o)}(t,o)}},t}();function s(t){return u(t,"controlName")||"UnknownPCFControl"}function u(t,e){var n=null==t?void 0:t.findIndex((function(t){return t.name===e}));return n>=0?t.splice(n,1)[0].value:""}function l(t,e){return o([{name:"APIName",value:t}],e||[],!0)}},24018:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(24019),i=new(function(){function t(){this._navigationContext={openAlertDialog:r.h,openErrorDialog:r.j,openConfirmDialog:r.i,openFile:null,openUrl:null,openWebResource:null,navigateTo:null,openDialog:null,openForm:null,openTaskFlow:null},this.UserSettings={userId:"{00000000-0000-0000-0000-000000000000}",getTimeZoneOffsetMinutes:r.f,isHighContrastEnabled:null,isRTL:!1,languageId:1033,locale:"en-US",userName:"",securityRoles:[],pagingLimit:null,formatInfoCultureName:"en-US",formatInfoCultureId:1033,aadObjectId:null},this.OrgSettings={languageId:null,uniqueName:null,isAutoSaveEnabled:null,attributes:null,tenantId:null},this.Utils={beginSecureSessionForResource:null,getEntityMetadata:null,getEntitiesMetadata:null,getResourceString:null,isFeatureEnabled:null,isDisruptiveFeatureEnabled:null,lookupObjects:null,getEntityName:null,getFormId:null,canOpenUrl:null,getUserSettings:null},this.Page={getClientUrl:null},this.Reporting={reportSuccess:null,reportFailure:null,reportEvent:null},this.Diagnostics={traceError:null,traceWarning:null,traceInfo:null,traceDebug:null,isInMonitorSession:null},this.IntelligenceApi={getPredictionSchemaAsync:null,predictAsync:null,getPreTrainedModelIdAsync:null,getLabelsForObjectDetectionModelAsync:null,invokeAiModelActionAsync:null,invokeGlobalOperationAsync:null,invokeCopilotActionAsync:null,hasOrganizationSettingsAsync:null,getOrganizationSettingsAsync:null},this.Client={getClient:r.a,getClientState:r.c,getFormFactor:r.e,isNetworkAvailable:r.g,getEnvironmentEndpoint:r.d,getClientInfo:r.b},this.GraphApi={sendRequest:null},this._applicationUI={addGlobalNotification:null,clearGlobalNotification:null,clearGlobalNotifications:null},this._webApiContext={online:{retrieveRecord:null,retrieveMultipleRecords:null,updateRecord:null,createRecord:null,deleteRecord:null,execute:null,executeMultiple:null},offline:{retrieveRecord:null,retrieveMultipleRecords:null,updateRecord:null,createRecord:null,deleteRecord:null,execute:null,executeMultiple:null}},this._unifiedWebApiContext=null,this.Initialized=!1}return t.prototype.setUserSettings=function(t){this.UserSettings=t},t.prototype.setOrgSettings=function(t){this.OrgSettings=t},t.prototype.setOffline=function(t){this.Offline=t},t.prototype.setUtils=function(t){var e,n=this;this.Utils=t,this.Utils.getUserSettings=null!==(e=this.Utils.getUserSettings)&&void 0!==e?e:function(){return Promise.resolve(n.UserSettings)}},t.prototype.setPage=function(t){this.Page=t},t.prototype.setReporting=function(t){this.Reporting=t},t.prototype.setIntelligenceApi=function(t){this.IntelligenceApi=t},t.prototype.setDiagnostics=function(t){this.Diagnostics=t},t.prototype.setClient=function(t){this.Client=t},t.prototype.setGraphApi=function(t){this.GraphApi=t},t.prototype.setNavigationContext=function(t){this._navigationContext=t},t.prototype.setDeviceContext=function(t){this._deviceContext=t},t.prototype.setExternalContext=function(t){this._externalContext=t},t.prototype.setApplicationUI=function(t){this._applicationUI=t},t.prototype.setWebApi=function(t){this._webApiContext=t},t.prototype.setWebApiUnified=function(t){this._unifiedWebApiContext=t},t.prototype.openForm=function(t,e,n){return this._navigationContext.openForm(t,e,n)},t.prototype.openUrl=function(t,e,n){return this._navigationContext.openUrl(t,e,n)},t.prototype.openFile=function(t,e,n){return this._navigationContext.openFile(t,e,n)},t.prototype.openAlertDialog=function(t,e,n){return this._navigationContext.openAlertDialog(t,e,n)},t.prototype.openConfirmDialog=function(t,e,n){return this._navigationContext.openConfirmDialog(t,e,n)},t.prototype.openDialog=function(t,e,n,r){return this._navigationContext.openDialog(t,e,n,r)},t.prototype.openErrorDialog=function(t,e){return this._navigationContext.openErrorDialog(t,e)},t.prototype.openTaskFlow=function(t,e,n,r){return this._navigationContext.openTaskFlow(t,e,n,r)},t.prototype.openWebResource=function(t,e,n,r){return this._navigationContext.openWebResource(t,e,n,r)},t.prototype.navigateTo=function(t,e,n){return this._navigationContext.navigateTo(t,e,n)},t.prototype.captureImage=function(t){return this._deviceContext.captureImage(t)},t.prototype.captureAudio=function(t){return this._deviceContext.captureAudio(t)},t.prototype.captureVideo=function(t){return this._deviceContext.captureVideo(t)},t.prototype.pickFile=function(t){return this._deviceContext.pickFile(t)},t.prototype.getBarcodeValue=function(){return this._deviceContext.getBarcodeValue()},t.prototype.getCurrentPosition=function(){return this._deviceContext.getCurrentPosition()},t.prototype.getAvailableExternalContexts=function(){return this._externalContext.getAvailableExternalContexts()},t.prototype.getExternalContextProperty=function(t,e,n){return this._externalContext.getExternalContextProperty(t,e,n)},t.prototype.invokeExternalContextAction=function(t,e,n){return this._externalContext.invokeExternalContextAction(t,e,n)},t.prototype.removeExternalContextPropertyListener=function(t,e,n){return this._externalContext.removeExternalContextPropertyListener(t,e,n)},t.prototype.addGlobalNotification=function(t,e,n,r,i,o){return this._applicationUI.addGlobalNotification(t,e,n,r,i,o)},t.prototype.clearGlobalNotification=function(t){return this._applicationUI.clearGlobalNotification(t)},t.prototype.clearGlobalNotifications=function(){return this._applicationUI.clearGlobalNotifications()},t.prototype._getWebApiContext=function(){return this._unifiedWebApiContext||("Offline"===this.Client.getClientState()?this._webApiContext.offline:this._webApiContext.online)},t.prototype.retrieveRecord=function(t,e,n){return this._getWebApiContext().retrieveRecord(t,e,n)},t.prototype.createRecord=function(t,e){return this._getWebApiContext().createRecord(t,e)},t.prototype.updateRecord=function(t,e,n){return this._getWebApiContext().updateRecord(t,e,n)},t.prototype.deleteRecord=function(t,e){return this._getWebApiContext().deleteRecord(t,e)},t.prototype.retrieveMultipleRecords=function(t,e,n,r){return this._getWebApiContext().retrieveMultipleRecords(t,e,n,r)},t.prototype.execute=function(t){return this._getWebApiContext().execute(t)},t.prototype.executeMultiple=function(t){var e=this._getWebApiContext();return e.executeMultiple?e.executeMultiple(t):Promise.resolve(null)},t.prototype.openARViewer=function(t){return this._deviceContext.openARViewer(t)},t.prototype.getMessageReceiver=function(t,e){return this._deviceContext.getMessageReceiver(t,e)},t}())},24019:function(t,e,n){"use strict";function r(t){return t?t.getTimezoneOffset():0}function i(){return""}function o(){return"Web"}function a(){return!0}function s(){return 1}function u(t,e){return null}function l(){return null}function c(t,e,n){return alert(t.text),Promise.resolve({})}function d(t,e,n){return alert((t.message||"")+(t.errorCode?" ("+t.errorCode+")\n\n":"\n\n")+(t.details||"")),Promise.resolve({})}function p(t,e,n){var r=confirm((t.title?t.title+"\n"+(t.subtitle?t.subtitle+"\n":"\n"):"")+t.text);return Promise.resolve({confirmed:r})}n.d(e,"f",(function(){return r})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return o})),n.d(e,"g",(function(){return a})),n.d(e,"e",(function(){return s})),n.d(e,"d",(function(){return u})),n.d(e,"b",(function(){return l})),n.d(e,"h",(function(){return c})),n.d(e,"j",(function(){return d})),n.d(e,"i",(function(){return p}))},24020:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=function(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))},i=function(t,e){if(t.length===e.length){var n=r([],t,!0).sort(),i=r([],e,!0).sort();return n.every((function(t,e){return t===i[Number(e)]}))}return!1}},24021:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=new(function(){function t(){this.IsAvailable=!1,this._proxy=window.RootAppServices,this._alwaysRenderedControls=new Set,this.IsAvailable=!!this._proxy,this.IsAvailable||(this._proxy={PCF:{forkPCFTree:!1,renderChildControl:function(){return null},rootPageId:"",updateAlwaysRenderState:function(){return null}},Commanding:{createCommandManager:null},Performance:{WorkBlockTracker:{trackWork:function(){return function(){return null}}},PerformanceOutput:{createEvent:function(){return null}}},Xrm:null}),!this._proxy.PCF&&this._proxy.renderChildControl&&(this._proxy.PCF={forkPCFTree:this._proxy.forkPCFTree,renderChildControl:this._proxy.renderChildControl,rootPageId:this._proxy.rootPageId,updateAlwaysRenderState:this._proxy.updateAlwaysRenderState})}return Object.defineProperty(t.prototype,"PCF",{get:function(){return this._proxy.PCF},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Performance",{get:function(){return this._proxy.Performance},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Commanding",{get:function(){return this._proxy.Commanding},enumerable:!1,configurable:!0}),t.prototype.requestAlwaysRender=function(t,e){var n=!!this._alwaysRenderedControls.size;e?this._alwaysRenderedControls.add(t):this._alwaysRenderedControls.delete(t),n!==!!this._alwaysRenderedControls.size&&this._proxy.PCF.updateAlwaysRenderState&&this._proxy.PCF.updateAlwaysRenderState(!!this._alwaysRenderedControls.size)},t}())},24022:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r,i=n(24014),o=n(24023),a=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t){function e(e){return t.call(this,u,i.a.Linking,e)||this}return a(e,t),e.prototype.asDataSetLinking=function(){return this.as("getLinkedEntities","addLinkedEntity","removeLinkedEntity","clear")},e}(o.a);function u(t){return function(e){return t.name===e.name&&t.from===e.from&&t.to===e.to&&t.linkType===e.linkType&&t.alias===e.alias&&t.columns===e.columns}}},24023:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(){function t(t,e,n){this._list=[],this._makeComparer=t,this._onUpdated=function(){return n(e)}}return t.prototype.get=function(){return this._list},t.prototype.add=function(t){this._addInternal(t),this._onUpdated()},t.prototype._addInternal=function(t){this._list.find(this._makeComparer(t))||this._list.push(t)},t.prototype.addRange=function(t){if(t)for(var e=0,n=t;e<n.length;e++){var r=n[e];this._addInternal(r)}},t.prototype.remove=function(t){var e=this._list.findIndex(this._makeComparer(t));-1!==e&&this._list.splice(e,1),this._onUpdated()},t.prototype.clear=function(){this._list=[],this._onUpdated()},t.prototype.as=function(t,e,n,r){var i;return(i={})[t]=this.get.bind(this),i[e]=this.add.bind(this),i[n]=this.remove.bind(this),i[r]=this.clear.bind(this),i},t}()},24024:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r,i=n(24014),o=n(24023),a=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t){function e(e){return t.call(this,u,i.a.Grouping,e)||this}return a(e,t),e.prototype.asDataSetGrouping=function(){return this.as("getGroupBys","addGroupBy","removeGroupBy","clear")},e}(o.a);function u(t){return function(e){return t.alias===e.alias&&t.columnName===e.columnName&&(l(t)&&t.dateGrouping)===(l(e)&&e.dateGrouping)}}function l(t){return!!t.dateGrouping}},24025:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r,i=n(24014),o=n(24023),a=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t){function e(e){return t.call(this,u,i.a.Aggregation,e)||this}return a(e,t),e.prototype.asDataSetAggregation=function(){return this.as("getAggregations","addAggregation","removeAggregation","clear")},e}(o.a);function u(t){return function(e){return t.alias===e.alias&&t.columnName===e.columnName&&t.aggregationFunction===e.aggregationFunction&&l(t)===l(e)}}function l(t){return"countcolumn"===t.aggregationFunction&&t.distinct}},24026:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(24015),i=function(){function t(t){this._counters={},this._controlName=t}return t.prototype.makeBuilder=function(){return new o(this._counters)},t.prototype.reportUsageCounters=function(t){Object.keys(this._counters).length&&(r.a.reportUsage(t,[{name:"controlName",value:this._controlName},{name:"message",value:JSON.stringify(this._counters)}]),this._counters={})},t}(),o=function(){function t(t){this._nestedProperties={},this._counters=t}return t.prototype.withProperties=function(t){if(this._obj)for(var e in t){var n=t[e];this._obj[e]=n}else this._obj=t;return this},t.prototype.withNestedProperties=function(t,e){return this._nestedProperties[t]=e,this},t.prototype.withProperty=function(t,e){return this._obj||(this._obj={}),this._obj[t]=e,this},t.prototype.withReceiver=function(t){var e;return null!==(e=this._receiver)&&void 0!==e||(this._receiver=t),this},t.prototype.build=function(){var t=this._buildInternal(this._obj);for(var e in this._nestedProperties)t[e]=this._buildInternal(this._nestedProperties[e],e);return this._obj=null,this._receiver=null,this._nestedProperties={},t},t.prototype._buildInternal=function(t,e){for(var n in t){var r=t[n];if("function"==typeof r){var i=e?"".concat(String(e),".").concat(n):n;t[n]=a(this._receiver,this._counters,i,r)}}return t},t}();function a(t,e,n,r){return function(){try{var i=r.apply(t,arguments);return s(e,n,"success"),i}catch(o){throw s(e,n,"failure"),o}}}function s(t,e,n){var r;(null!==(r=t[e])&&void 0!==r?r:t[e]={failure:0,success:0})[n]++}},24056:function(t,e,n){"use strict";var r=n(17480).compose;e.__esModule=!0,e.composeWithDevTools="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"==typeof arguments[0]?r:r.apply(null,arguments)},e.devToolsEnhancer="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__:function(){return function(t){return t}}}}]);