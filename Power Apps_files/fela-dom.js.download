var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},__spreadArray=this&&this.__spreadArray||function(to,from,pack){if(pack||2===arguments.length)for(var ar,i=0,l=from.length;i<l;i++)!ar&&i in from||((ar=ar||Array.prototype.slice.call(from,0,i))[i]=from[i]);return to.concat(ar||Array.prototype.slice.call(from))};!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("FelaDOM",[],t):"object"==typeof exports?exports.FelaDOM=t():e.FelaDOM=t()}(window,function(){return e=[function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){for(var n in e)r=t(r,e[n],n,e);return r}},,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){for(var n=0,o=e.length;n<o;++n)r=t(r,e[n],n,o,e);return r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){for(var r in e)t(e[r],r,e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){for(var r=0,n=e.length;r<n;++r)t(e[r],r,n,e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.replace(n,function(e){return e[1].toUpperCase()}).replace(o,"ms")};var n=/-([a-z])/g,o=/^Ms/g;e.exports=t.default},function(e,t,r){"use strict";r.r(t);var T=r(3),o=r.n(T);function u(e,t){return e+"{"+t+"}"}var T=r(0),i=r.n(T);function c(e,argument_1){var e=0<arguments.length&&void 0!==e?e:[],t=1<arguments.length&&void 0!==argument_1?argument_1:"";return 0===e.length||0===t.length?0:e.indexOf(e.find(function(e){return null!==t.match(e)}))+1}function l(e,t){return"@supports "+e+"{"+t+"}"}var T=r(2),p=r.n(T);function y(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h=(b(T={},"RULE",function(e,s){var r=s.selector,i=s.declaration,o=s.support,s=s.media,i=u(r,i);o?s?(e.supportMediaRules[s]||(e.supportMediaRules[s]={}),e.supportMediaRules[s][o]||(e.supportMediaRules[s][o]=""),e.supportMediaRules[s][o]+=i):(e.supportRules[o]||(e.supportRules[o]=""),e.supportRules[o]+=i):s?(e.mediaRules[s]||(e.mediaRules[s]=""),e.mediaRules[s]+=i):e.rules+=i}),b(T,"FONT",function(e,r){r=r.fontFace;e.fontFaces+=r}),b(T,"KEYFRAME",function(e,r){r=r.keyframe;e.keyframes+=r}),b(T,"STATIC",function(e,n){var r=n.css,n=n.selector;e.statics+=n?u(n,r):r}),T);function R(r,argument_1){var t=1<arguments.length&&void 0!==argument_1?argument_1:[],r=function(e,t){var r=i()(e,function(r,n,o){var u=function(e,t){for(var r=-1,n=0;n<e.length;n++)if(t(e[n])){r=n;break}return r}(r,function(r){return t(e[r],r)>t(n,o)});return-1!==u?function(e,t,r){return[].concat(y(e.slice(0,r)),[t],y(e.slice(r,e.length)))}(r,o,u):[].concat(function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(r),[o])},[]);return p()(r,function(t,r){return t[r]=e[r],t},{})}(r,function(e){return c(t,e.pseudo)});return i()(r,function(e,t){var r=h[t.type];return r&&r(e,t),e},{mediaRules:{},supportRules:{},supportMediaRules:{},fontFaces:"",statics:"",keyframes:"",rules:""})}var g={fontFaces:"FONT",statics:"STATIC",keyframes:"KEYFRAME",rules:"RULE"};function v(e){return i()(e,function(e,t,r){return 0<t.length&&(e+=l(r,t)),e},"")}var x=/^[a-z0-9_-]*$/gi;function A(e){return 0===e.selectorPrefix.length||null!==e.selectorPrefix.match(x)?e.uniqueRuleIdentifier:-1}function M(e){var t=R(e.cache,e.ruleOrder),r=A(e),n=i()(g,function(n,o,u){return 0<t[u].length&&n.push({css:t[u],rehydration:r,attributes:e.styleNodeAttributes,type:o}),n},[]),u=v(t.supportRules);u&&n.push({css:u,type:"RULE",rehydration:r,attributes:e.styleNodeAttributes,support:!0});u=Object.keys(__assign(__assign({},t.supportMediaRules),t.mediaRules)).sort(e.sortMediaQuery);return p()(u,function(n,o){var u_2;return t.mediaRules[o]&&0<t.mediaRules[o].length&&n.push({css:t.mediaRules[o],type:"RULE",rehydration:r,attributes:e.styleNodeAttributes,media:o}),t.supportMediaRules[o]&&0<(u_2=v(t.supportMediaRules[o])).length&&n.push({css:u_2,type:"RULE",rehydration:r,attributes:e.styleNodeAttributes,support:!0,media:o}),n},n)}function E(e,t){e.updateSubscription||(e.scoreIndex={},e.nodes={},e.updateSubscription=function(e,t){return void 0===t&&(t=document),function(r){if("CLEAR"===r.type)return o()(e.nodes,function(e){return e.parentNode.removeChild(e)}),e.nodes={},void(e.scoreIndex={});var n=function(e,t,o_1){void 0===o_1&&(o_1=document);var n=function(_c){var e=_c.type,t=_c.media,t=void 0===t?"":t,_c=_c.support;return e+t+(void 0===_c?"":_c)}(e);return t.nodes[n]||(o_1=function(u,n){var e=u.type,o=u.media,u=u.support;void 0===n&&(n=document);o=o?'[media="'.concat(o,'"]'):":not([media])",u=u?'[data-fela-support="true"]':':not([data-fela-support="true"])';return n.querySelector('[data-fela-type="'.concat(e,'"]').concat(u).concat(o))}(e,o_1)||function(e,t,c,n){void 0===t&&(t=document);var e_1,o=t.head||{},u=e.type,s=e.media,i=e.support,a=t.createElement("style");for(e_1 in a.setAttribute("data-fela-type",u),a.type="text/css",i&&a.setAttribute("data-fela-support","true"),s&&(a.media=s),n)a.setAttribute(e_1,n[e_1]);if(window.FelaConfig)for(var e_2 in window.FelaConfig.styleNodeAttributes)a.setAttribute(e_2,window.FelaConfig.styleNodeAttributes[e_2]);c=function(e,_a,o){var t=_a.type,r=_a.media,n=_a.support;switch(t){case"FONT":case"STATIC":case"KEYFRAME":return e[0];case"RULE":var t_2=e.map(function(e){return e.media}).filter(function(e){return 0!==e.length});if(r){var u_1=__spreadArray(__spreadArray([],t_2,!0),[r],!1).sort(o),s_1=u_1.indexOf(r)+1,i_1=u_1[s_1];if(i_1)return i_1===r&&n?e.find(function(e){return e.media===u_1[u_1.indexOf(r)+2]}):e.find(function(e){return e.media===i_1})}else{var r_1=t_2.sort(o)[0];if(!n){t_2=e.find(function(e){return void 0!==e.getAttribute("data-fela-support")&&""===e.media&&"RULE"===e.getAttribute("data-fela-type")});if(t_2)return t_2}if(r_1)return e.find(function(e){return e.media===r_1})}}}(__spreadArray([],o.querySelectorAll("[data-fela-type]"),!0),e,c);return c?o.insertBefore(a,c):o.appendChild(a),a}(e,o_1,t.sortMediaQuery,t.styleNodeAttributes),t.nodes[n]=o_1),t.nodes[n]}(r,e,t);switch(r.type){case"KEYFRAME":-1===n.textContent.indexOf(r.keyframe)&&(n.textContent+=r.keyframe);break;case"FONT":-1===n.textContent.indexOf(r.fontFace)&&(n.textContent+=r.fontFace);break;case"STATIC":var t_4=r.selector?u(r.selector,r.css):r.css;-1===n.textContent.indexOf(t_4)&&(n.textContent+=t_4);break;case"RULE":!function(_a,s,i){var e=_a.selector,t=_a.declaration,r=_a.support,n=_a.media,o=_a.pseudo,a=n+r;if(s.devMode)!function(t){var u=M(s),n=t.getAttribute("media")||void 0,o=!!t.getAttribute("data-fela-support")||void 0,u=u.find(function(e){return"RULE"===e.type&&e.media===n&&e.support===o});u&&(t.textContent=u.css)}(i);else try{var n_1=c(s.ruleOrder,o),d_1=i.sheet.cssRules,f_1=d_1.length;if(0===n_1)f_1=void 0===s.scoreIndex[a]?0:s.scoreIndex[a]+1;else for(var e_3=s.scoreIndex[a]||0,t_3=d_1.length;e_3<t_3;++e_3)if(d_1[e_3].score>n_1){f_1=e_3;break}var e_4,p_1=u(e,t);0<r.length?(e_4=l(r,p_1),i.sheet.insertRule(e_4,f_1)):i.sheet.insertRule(p_1,f_1),0===n_1&&(s.scoreIndex[a]=f_1),d_1[f_1].score=n_1}catch(e){}}(r,e,n)}}}(e,t),e.subscribe(e.updateSubscription),o()(e.cache,e._emitChange))}var T=r(4),_=r.n(T);var T=r(5),j=r.n(T);function S(e,t,r,n,o,u,s,i){return void 0===o&&(o=""),void 0===u&&(u=""),void 0===s&&(s=""),void 0===i&&(i=""),{type:e,className:t,selector:function(e,argument_1,argument_2){return(2<arguments.length&&void 0!==argument_2?argument_2:"")+"."+e+(1<arguments.length&&void 0!==argument_1?argument_1:"")}(t,o,i),declaration:r+":"+n,pseudo:o,media:u,support:s}}function w(e,t,r,n,o){void 0===t&&(t=""),void 0===r&&(r=""),void 0===n&&(n={}),void 0===o&&(o="");for(var s=new RegExp("".concat(o.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&"),"[.]([0-9a-z_-]+)([^{]+)?{([^:]+):([^}]+)}"),"gi");c_1=s.exec(e);){c_1[0];var s_2=c_1[1],i_2=c_1[2],a_1=c_1[3],c_1=c_1[4];n[function(e,t,argument_2,argument_3,argument_4){return(4<arguments.length&&void 0!==argument_4?argument_4:"")+(3<arguments.length&&void 0!==argument_3?argument_3:"")+(2<arguments.length&&void 0!==argument_2?argument_2:"")+j()(e)+t}(a_1,c_1,i_2,t,r)]=S("RULE",s_2,a_1,c_1,i_2,t,r,o)}return n}var L=/@supports[^{]+\{([\s\S]+?})\s*}/gi,I=/@(-webkit-|-moz-)?keyframes ([a-z_][a-z0-9-_]*)(\{.*?(?=}})}})/gi,P=/[.][a-z0-9_-]*/gi;function U(e,t){void 0===t&&(t=document),E(e,t),_()(t.querySelectorAll("[data-fela-type]"),function(t){var r_2,o_2,u_3,r_3,s_3=t.getAttribute("data-fela-rehydration")||-1,i_3=e.uniqueRuleIdentifier||parseInt(s_3,10);-1!==i_3&&(r_2=t.getAttribute("data-fela-type")||"",o_2=t.getAttribute("media")||"",u_3=t.getAttribute("data-fela-support")||"",s_3=t.textContent,e.uniqueRuleIdentifier=i_3,i_3=r_2+o_2+u_3,e.nodes[i_3]=t,"RULE"===r_2?(u_3?function(e,t,r,n){var o;for(void 0===t&&(t=""),void 0===r&&(r={}),void 0===n&&(n="");o=L.exec(e);){var e_6=o[0];w(o[1],t,e_6.split("{")[0].slice(9).trim(),r,n)}}(s_3,o_2,e.cache,e.specificityPrefix):w(s_3,o_2,"",e.cache,e.specificityPrefix),t.sheet&&t.sheet.cssRules&&(r_3=o_2+u_3,_()(t.sheet.cssRules,function(t,n){var u=(t.conditionText?t.cssRules[0]:t).selectorText,u=c(e.ruleOrder,u.split(P)[1]);0===u&&(e.scoreIndex[r_3]=n),t.score=u}))):"KEYFRAME"===r_2&&function(e,t){for(void 0===t&&(t={});u_5=I.exec(e);){var e_7=u_5[0],o_3=(u_5[1],u_5[2]),u_5=u_5[3];t[u_5]?t[u_5].keyframe+=e_7:t[u_5]={type:"KEYFRAME",keyframe:e_7,name:o_3}}}(s_3,e.cache))})}function $(e,t,r,n,o,u){return void 0===r&&(r=""),void 0===n&&(n=-1),void 0===o&&(o=!1),void 0===u&&(u={}),'<style type="text/css" data-fela-rehydration="'.concat(n,'" data-fela-type="').concat(t,'"').concat(o?' data-fela-support="true"':"").concat(0<r.length?' media="'.concat(r,'"'):"").concat(i()(u,function(e,t,r){return e+" "+r+'="'+t+'"'},""),">").concat(e,"</style>")}function z(e){var t=R(e.cache,e.ruleOrder),r=A(e),n=i()(g,function(n,o,u){return 0<t[u].length&&(n+=$(t[u],o,"",r,!1,e.styleNodeAttributes)),n},""),u=v(t.supportRules);u&&(n+=$(u,"RULE","",r,!0,e.styleNodeAttributes));u=Object.keys(__assign(__assign({},t.supportMediaRules),t.mediaRules)).sort(e.sortMediaQuery);return p()(u,function(n,o){var u_6;return t.mediaRules[o]&&0<t.mediaRules[o].length&&(n+=$(t.mediaRules[o],"RULE",o,r,!1,e.styleNodeAttributes)),t.supportMediaRules[o]&&0<(u_6=v(t.supportMediaRules[o])).length&&(n+=$(u_6,"RULE",o,r,!0,e.styleNodeAttributes)),n},n)}r.d(t,"render",function(){return E}),r.d(t,"rehydrate",function(){return U}),r.d(t,"renderToMarkup",function(){return z}),r.d(t,"renderToSheetList",function(){return M})}],t={},r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=6);function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}var e,t});